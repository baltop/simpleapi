(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0124":function(t,e,i){var r=i("0d63"),n=i("ab8c");r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},"012b":function(t,e,i){i("bdd5"),t.exports=i("a06f").Object.entries},"01a9e":function(t,e,i){"use strict";var r=i("0a36").EventEmitter,n=i("1499");function o(){var t=this;r.call(this),this.to=setTimeout((function(){t.emit("finish",200,"{}")}),o.timeout)}n(o,r),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,t.exports=o},"02d3":function(t,e,i){"use strict";var r=i("0d63"),n=i("42ee"),o=function(t){this._t=n(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i("60fa")(o,"Object",(function(){var t,e=this,i=e._k;do{if(e._i>=i.length)return{value:void 0,done:!0}}while(!((t=i[e._i++])in e._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},"0365":function(t,e,i){var r=i("0d63"),n=i("70be");r(r.G+r.F*(parseInt!=n),{parseInt:n})},"0370":function(t,e,i){var r=i("0d63");r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},"0451":function(t,e,i){i("933e")("Int16",2,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},"04e8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,i=t.width,r=t.height,n=4*i,o=r;do{var a=(o-1)*n,s=i;do{var h=a+4*(s-1),c=e[h],u=e[h+1],l=e[h+2];c>127&&(c=255-c),u>127&&(u=255-u),l>127&&(l=255-l),e[h]=c,e[h+1]=u,e[h+2]=l}while(--s)}while(--o)}},"05ac":function(t,e,i){"use strict";var r=i("3238"),n=i("0ead"),o=i("8efe"),a=256,s=-1,h=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:a,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=s?s:void 0!==r["p"]?r["p"]:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new o["a"](this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new o["a"](this.currentHitSize_,this.space_)]};h.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var i=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,i)},h.prototype.getInfo_=function(t,e){for(var i=0,r=t.length;i<r;++i){var n=t[i],o=n.get(e);if(o)return o}return null},h.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},h.prototype.add=function(t,e,i,r,o,a){if(e+this.space_>this.maxSize_||i+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,i,r,a);if(!s)return null;var h=void 0!==o?o:n["c"],c=this.add_(!0,t,e,i,h,a);return this.mergeInfos_(s,c)},h.prototype.add_=function(t,e,i,r,n,a){var s,h,c,u,l=t?this.hitAtlases_:this.atlases_;for(c=0,u=l.length;c<u;++c){if(s=l[c],h=s.add(e,i,r,n,a),h)return h;if(!h&&c===u-1){var f=void 0;t?(f=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=f):(f=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=f),s=new o["a"](f,this.space_),l.push(s),++u}}return null},e["a"]=h},"05af":function(t,e,i){var r=i("0d63"),n=i("51ac"),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){var e,i=[],r=arguments.length,a=0;while(r>a){if(e=+arguments[a++],n(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},"0612":function(t,e,i){"use strict";(function(e){var r=i("1499"),n=i("d1dd"),o=i("dd26"),a=i("6bd8"),s=i("5338"),h=i("1691");function c(t){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");n.call(this,t,"/xhr_streaming",o,a)}r(c,n),c.enabled=function(t){return!t.nullOrigin&&(!h.isOpera()&&a.enabled)},c.transportName="xhr-streaming",c.roundTrips=2,c.needBody=!!e.document,t.exports=c}).call(this,i("c8ba"))},"08fa":function(t,e,i){"use strict";var r=i("fd21"),n=i("81ae"),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(n["asString"])(t):this.checksum_=Object(r["c"])(this.color_):this.checksum_="f-"}return this.checksum_},e["a"]=o},"0985":function(t,e,i){"use strict";function r(t,e,i,r){for(var n=0,o=t[i-r],a=t[i-r+1];e<i;e+=r){var s=t[e],h=t[e+1];n+=a*s-o*h,o=s,a=h}return n/2}function n(t,e,i,n){for(var o=0,a=0,s=i.length;a<s;++a){var h=i[a];o+=r(t,e,h,n),e=h}return o}function o(t,e,i,r){for(var o=0,a=0,s=i.length;a<s;++a){var h=i[a];o+=n(t,e,h,r),e=h[h.length-1]}return o}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o}))},"09b5":function(t,e,i){"use strict";var r=function(){this.disposed_=!1};r.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},e["a"]=r},"09db":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var r=i("fd21"),n=i("f7bb"),o=i("d5b5"),a=i("64c1"),s=i("5f62"),h=i("dbf9"),c=i("8393"),u=i("79ff"),l=i("d96e"),f=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new n["a"](e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var a,s,h,c=!0,l=i.minX;l<=i.maxX;++l)for(var f=i.minY;f<=i.maxY;++f)s=Object(u["d"])(e,l,f),h=!1,n.containsKey(s)&&(a=n.get(s),h=a.getState()===o["a"].LOADED,h&&(h=!1!==r(a))),h||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,n,o){return Object(r["b"])()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Object(l["getForProjection"])(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(s["equivalent"])(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),n=this.getTilePixelRatio(e),o=Object(h["d"])(r.getTileSize(t),this.tmpSize);return 1==n?o:Object(h["c"])(o,n,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=Object(l["wrapX"])(r,t,i)),Object(u["g"])(t,r)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,i,r){},e}(c["a"]),d=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]);e["b"]=f},"0a06":function(t,e,i){"use strict";var r=i("c532"),n=i("30b5"),o=i("f6b4"),a=i("5270"),s=i("4a7b");function h(t){this.defaults=t,this.interceptors={request:new o,response:new o}}h.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=s(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],i=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)i=i.then(e.shift(),e.shift());return i},h.prototype.getUri=function(t){return t=s(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,i){return this.request(r.merge(i||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){h.prototype[t]=function(e,i,n){return this.request(r.merge(n||{},{method:t,url:e,data:i}))}})),t.exports=h},"0a36":function(t,e,i){"use strict";var r=i("1499"),n=i("f106");function o(){n.call(this)}r(o,n),o.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},o.prototype.once=function(t,e){var i=this,r=!1;function n(){i.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}this.on(t,n)},o.prototype.emit=function(){var t=arguments[0],e=this._listeners[t];if(e){for(var i=arguments.length,r=new Array(i-1),n=1;n<i;n++)r[n-1]=arguments[n];for(var o=0;o<e.length;o++)e[o].apply(this,r)}},o.prototype.on=o.prototype.addListener=n.prototype.addEventListener,o.prototype.removeListener=n.prototype.removeEventListener,t.exports.EventEmitter=o},"0a7d":function(t,e,i){var r=i("42ee"),n=i("7480"),o=i("9336")("species");t.exports=function(t,e){var i,a=r(t).constructor;return void 0===a||void 0==(i=r(a)[o])?e:n(i)}},"0acf":function(t,e,i){"use strict";i.r(e),i.d(e,"ObjectEvent",(function(){return h})),i.d(e,"getChangeEventType",(function(){return l}));var r=i("fd21"),n=i("9fa2"),o=i("7186"),a=i("64c1"),s=i("acdf"),h=function(t){function e(e,i,r){t.call(this,e),this.key=i,this.oldValue=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]),c=function(t){function e(e){t.call(this),Object(r["c"])(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(s["a"])({},this.values_)},e.prototype.notify=function(t,e){var i;i=l(t),this.dispatchEvent(new h(i,t,e)),i=n["a"].PROPERTYCHANGE,this.dispatchEvent(new h(i,t,e))},e.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},e}(o["default"]),u={};function l(t){return u.hasOwnProperty(t)?u[t]:u[t]="change:"+t}e["default"]=c},"0b25":function(t,e,i){"use strict";var r=i("1499"),n=i("0a36").EventEmitter,o=function(){};function a(t,e,i){o(e),n.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=i,this._scheduleReceiver()}r(a,n),a.prototype._scheduleReceiver=function(){o("_scheduleReceiver");var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",(function(e){o("message",e),t.emit("message",e)})),e.once("close",(function(i,r){o("close",i,r,t.pollIsClosing),t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",i||1006,r),t.removeAllListeners()))}))},a.prototype.abort=function(){o("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=a},"0ba7":function(t,e,i){"use strict";var r=i("fd21"),n=i("4a3a"),o=i("41ec"),a=i("81ae"),s=i("a273"),h=i("eee0"),c=i("fffd"),u=i("e53d"),l=i("e6f7"),f=i("e2ed"),d=function(t){function e(e){var i=e||{},s=void 0!==i.opacity?i.opacity:1,h=void 0!==i.rotation?i.rotation:0,f=void 0!==i.scale?i.scale:1,d=void 0!==i.rotateWithView&&i.rotateWithView;t.call(this,{opacity:s,rotation:h,scale:f,rotateWithView:d}),this.anchor_=void 0!==i.anchor?i.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:l["default"].TOP_LEFT,this.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:c["default"].FRACTION,this.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:c["default"].FRACTION,this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var p=void 0!==i.img?i.img:null,g=void 0!==i.imgSize?i.imgSize:null,v=i.src;Object(o["a"])(!(void 0!==v&&p),4),Object(o["a"])(!p||p&&g,5),void 0!==v&&0!==v.length||!p||(v=p.src||Object(r["c"])(p)),Object(o["a"])(void 0!==v&&v.length>0,6);var y=void 0!==i.src?n["a"].IDLE:n["a"].LOADED;this.color_=void 0!==i.color?Object(a["asArray"])(i.color):null,this.iconImage_=Object(u["b"])(p,v,g,this.crossOrigin_,y,this.color_),this.offset_=void 0!==i.offset?i.offset:[0,0],this.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:l["default"].TOP_LEFT,this.origin_=null,this.size_=void 0!==i.size?i.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==c["default"].FRACTION||this.anchorYUnits_==c["default"].FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==c["default"].FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==c["default"].FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=l["default"].TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=l["default"].TOP_RIGHT&&this.anchorOrigin_!=l["default"].BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=l["default"].BOTTOM_LEFT&&this.anchorOrigin_!=l["default"].BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=l["default"].TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=l["default"].TOP_RIGHT&&this.offsetOrigin_!=l["default"].BOTTOM_RIGHT||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=l["default"].BOTTOM_LEFT&&this.offsetOrigin_!=l["default"].BOTTOM_RIGHT||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return Object(s["listen"])(this.iconImage_,h["default"].CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){Object(s["unlisten"])(this.iconImage_,h["default"].CHANGE,t,e)},e}(f["a"]);e["a"]=d},"0c52":function(t,e,i){i("933e")("Float64",8,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},"0d63":function(t,e,i){var r=i("255a"),n=i("a06f"),o=i("c3fa"),a=i("bd47"),s=i("d401"),h="prototype",c=function(t,e,i){var u,l,f,d,p=t&c.F,g=t&c.G,v=t&c.S,y=t&c.P,m=t&c.B,_=g?r:v?r[e]||(r[e]={}):(r[e]||{})[h],b=g?n:n[e]||(n[e]={}),w=b[h]||(b[h]={});for(u in g&&(i=e),i)l=!p&&_&&void 0!==_[u],f=(l?_:i)[u],d=m&&l?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,_&&a(_,u,f,t&c.U),b[u]!=f&&o(b,u,d),y&&w[u]!=f&&(w[u]=f)};r.core=n,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"0dbd":function(t,e,i){"use strict";i.r(e);var r=i("8efe");i.d(e,"Atlas",(function(){return r["a"]}));var n=i("05ac");i.d(e,"AtlasManager",(function(){return n["a"]}));var o=i("5c7d");i.d(e,"Circle",(function(){return o["a"]}));var a=i("08fa");i.d(e,"Fill",(function(){return a["a"]}));var s=i("0ba7");i.d(e,"Icon",(function(){return s["a"]}));var h=i("e53d");i.d(e,"IconImage",(function(){return h["a"]}));var c=i("e2ed");i.d(e,"Image",(function(){return c["a"]}));var u=i("ba4e");i.d(e,"RegularShape",(function(){return u["a"]}));var l=i("abe5");i.d(e,"Stroke",(function(){return l["a"]}));var f=i("8a21");i.d(e,"Style",(function(){return f["c"]}));var d=i("6d02");i.d(e,"Text",(function(){return d["a"]}))},"0df6":function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"0ead":function(t,e,i){"use strict";function r(){return!0}function n(){return!1}function o(){}i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return o}))},"0ee3":function(t,e,i){"use strict";var r=i("fd21"),n=i("5537"),o=i("eee0"),a=function(t){function e(e,i,r,n){t.call(this),this.extent=e,this.pixelRatio_=r,this.resolution=i,this.state=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(o["default"].CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(r["b"])()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(r["b"])()},e}(n["a"]);e["a"]=a},"0f13":function(t,e,i){var r=i("cdf9"),n=i("bded").onFreeze;i("6397")("seal",(function(t){return function(e){return t&&r(e)?t(n(e)):e}}))},"0f26":function(t,e,i){var r=i("42ee"),n=i("ea28"),o=i("1bfb"),a=Object.defineProperty;e.f=i("6739")?Object.defineProperty:function(t,e,i){if(r(t),e=o(e,!0),r(i),n)try{return a(t,e,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},"0f6d":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i("3d22");function n(t,e,i,n){for(var o=[],a=Object(r["createEmpty"])(),s=0,h=i.length;s<h;++s){var c=i[s];a=Object(r["createOrUpdateFromFlatCoordinates"])(t,e,c[0],n),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=c[c.length-1]}return o}},"100a":function(t,e,i){"use strict";var r=i("fd21"),n=i("a6a2"),o=i("f82c"),a=i("d5b5"),s=i("3881"),h=i("5f6b"),c=i("3d22"),u=i("12ec"),l=i("d6b2"),f=function(t){function e(e,i){t.call(this,e),this.context=i?null:Object(h["a"])(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(c["createEmpty"])(),this.tmpTileRange_=new o["b"](0,0,0,0),this.imageTransform_=Object(l["c"])(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),r=e.getUseInterimTilesOnError();return i==a["a"].LOADED||i==a["a"].EMPTY||i==a["a"].ERROR&&!r},e.prototype.getTile=function(t,e,i,r,n){var o=this.getLayer(),s=o.getSource(),h=s.getTile(t,e,i,r,n);return h.getState()==a["a"].ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):h.setState(a["a"].LOADED)),this.isDrawableTile_(h)||(h=h.getInterimTile()),h},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,h=o.projection,u=o.resolution,f=o.center,d=this.getLayer(),p=d.getSource(),g=p.getRevision(),v=p.getTileGridForProjection(h),y=v.getZForResolution(u,this.zDirection),m=v.getResolution(y),_=Math.round(u/m)||1,b=t.extent;if(void 0!==e.extent&&(b=Object(c["getIntersection"])(b,e.extent)),Object(c["isEmpty"])(b))return!1;var w=v.getTileRangeForExtentAndZ(b,y),x=v.getTileRangeExtent(y,w),S=p.getTilePixelRatio(i),E={};E[y]={};var O,T,C,A=this.createLoadedTileFinder(p,h,E),L=t.viewHints,R=L[s["a"].ANIMATING]||L[s["a"].INTERACTING],M=this.tmpExtent,I=this.tmpTileRange_;for(this.newTiles_=!1,T=w.minX;T<=w.maxX;++T)for(C=w.minY;C<=w.maxY;++C)if(!(Date.now()-t.time>16&&R)){if(O=this.getTile(y,T,C,i,h),this.isDrawableTile_(O)){var P=Object(r["c"])(this);if(O.getState()==a["a"].LOADED){E[y][O.tileCoord.toString()]=O;var N=O.inTransition(P);this.newTiles_||!N&&-1!==this.renderedTiles.indexOf(O)||(this.newTiles_=!0)}if(1===O.getAlpha(P,t.time))continue}var F=v.getTileCoordChildTileRange(O.tileCoord,I,M),k=!1;F&&(k=A(y+1,F)),k||v.forEachTileCoordParentTileRange(O.tileCoord,A,null,I,M)}var j=m*i/S*_;if(!(this.renderedResolution&&Date.now()-t.time>16&&R)&&(this.newTiles_||!this.renderedExtent_||!Object(c["containsExtent"])(this.renderedExtent_,b)||this.renderedRevision!=g||_!=this.oversampling_||!R&&j!=this.renderedResolution)){var D=this.context;if(D){var G=p.getTilePixelSize(y,i,h),B=Math.round(w.getWidth()*G[0]/_),U=Math.round(w.getHeight()*G[1]/_),z=D.canvas;z.width!=B||z.height!=U?(this.oversampling_=_,z.width=B,z.height=U):((this.renderedExtent_&&!Object(c["equals"])(x,this.renderedExtent_)||this.renderedRevision!=g)&&D.clearRect(0,0,B,U),_=this.oversampling_)}this.renderedTiles.length=0;var q,V,H,W,Y,K,X,Z,$,J,Q,tt=Object.keys(E).map(Number);for(tt.sort((function(t,e){return t===y?1:e===y?-1:t>e?1:t<e?-1:0})),Y=0,K=tt.length;Y<K;++Y)for(var et in W=tt[Y],H=p.getTilePixelSize(W,i,h),q=v.getResolution(W),V=q/m,Z=S*p.getGutterForProjection(h),$=E[W],$)O=$[et],X=v.getTileCoordExtent(O.getTileCoord(),M),T=(X[0]-x[0])/m*S/_,C=(x[3]-X[3])/m*S/_,J=H[0]*V/_,Q=H[1]*V/_,this.drawTileImage(O,t,e,T,C,J,Q,Z,y===W),this.renderedTiles.push(O);this.renderedRevision=g,this.renderedResolution=m*i/S*_,this.renderedExtent_=x}var it=this.renderedResolution/u,rt=Object(l["b"])(this.imageTransform_,i*n[0]/2,i*n[1]/2,it,it,0,(this.renderedExtent_[0]-f[0])/this.renderedResolution*i,(f[1]-this.renderedExtent_[3])/this.renderedResolution*i);return Object(l["b"])(this.coordinateToCanvasPixelTransform,i*n[0]/2-rt[4],i*n[1]/2-rt[5],i/u,-i/u,0,-f[0],-f[1]),this.updateUsedTiles(t.usedTiles,p,y,w),this.manageTilePyramid(t,p,v,i,h,b,y,d.getPreload()),this.scheduleExpireCache(t,p),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,n,o,a,s,h,c){var u=this.getTileImage(t);if(u){var l=Object(r["c"])(this),f=c?t.getAlpha(l,e.time):1,d=this.getLayer(),p=d.getSource();1!==f||p.getOpaque(e.viewState.projection)||this.context.clearRect(n,o,a,s);var g=f!==this.context.globalAlpha;g&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(u,h,h,u.width-2*h,u.height-2*h,n,o,a,s),g&&this.context.restore(),1!==f?e.animate=!0:c&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(u["a"]);f["handles"]=function(t){return t.getType()===n["a"].TILE},f["create"]=function(t,e){return new f(e)},f.prototype.getLayer,e["a"]=f},1010:function(t,e,i){"use strict";var r=i("9734"),n=i("2524"),o=i("587a"),a=i("a273"),s=i("5537"),h=i("e289"),c=i("40f5"),u=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*r["b"]:r["b"],this.down_=null;var n=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new c["a"](n),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(a["listen"])(this.pointerEventHandler_,h["a"].POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(a["listen"])(this.pointerEventHandler_,h["a"].POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new o["a"](n["default"].CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new o["a"](n["default"].DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new o["a"](n["default"].SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==n["default"].POINTERUP||e.type==n["default"].POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==n["default"].POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new o["a"](n["default"].POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(a["unlistenByKey"]),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new o["a"](n["default"].POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new c["a"](document),this.dragListenerKeys_.push(Object(a["listen"])(this.documentPointerEventHandler_,n["default"].POINTERMOVE,this.handlePointerMove_,this),Object(a["listen"])(this.documentPointerEventHandler_,n["default"].POINTERUP,this.handlePointerUp_,this),Object(a["listen"])(this.pointerEventHandler_,n["default"].POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new o["a"](n["default"].POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new o["a"](t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(a["unlistenByKey"])(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(a["unlistenByKey"])(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(a["unlistenByKey"]),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(s["a"]);e["a"]=u},"10cf":function(t,e,i){var r=i("36ad");t.exports=function(t,e){return new(r(t))(e)}},"12c1":function(t,e,i){"use strict";var r=i("c669"),n=RegExp.prototype.exec,o=String.prototype.replace,a=n,s="lastIndex",h=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t[s]||0!==e[s]}(),c=void 0!==/()??/.exec("")[1],u=h||c;u&&(a=function(t){var e,i,a,u,l=this;return c&&(i=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),h&&(e=l[s]),a=n.call(l,t),h&&a&&(l[s]=l.global?a.index+a[0].length:e),c&&a&&a.length>1&&o.call(a[0],i,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a}),t.exports=a},"12ec":function(t,e,i){"use strict";var r=i("fd21"),n=i("4882"),o=i("5f6b"),a=i("3d22"),s=i("71bf"),h=i("d6b2"),c=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(h["c"])(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var r=this.getImage();if(r){var n=e.extent,o=void 0!==n&&!Object(a["containsExtent"])(n,t.extent)&&Object(a["intersects"])(n,t.extent);o&&this.clip(i,t,n);var s=this.getImageTransform(),h=i.globalAlpha;i.globalAlpha=e.opacity;var c=s[4],u=s[5],l=r.width*s[0],f=r.height*s[3];l>=.5&&f>=.5&&i.drawImage(r,0,0,+r.width,+r.height,Math.round(c),Math.round(u),Math.round(l),Math.round(f)),i.globalAlpha=h,o&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){return Object(r["b"])()},e.prototype.getImageTransform=function(){return Object(r["b"])()},e.prototype.forEachLayerAtCoordinate=function(t,e,i,r,a){if(this.getImage()){var s=Object(h["a"])(this.coordinateToCanvasPixelTransform,t.slice());Object(n["h"])(s,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(o["a"])(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),s[0],s[1],1,1,0,0,1,1);var c=this.hitCanvasContext_.getImageData(0,0,1,1).data;return c[3]>0?r.call(a,this.getLayer(),c):void 0}},e}(s["a"]);e["a"]=c},1346:function(t,e,i){"use strict";var r=i("5eee"),n=i("d5b5"),o=i("5f6b"),a=i("a273"),s=i("eee0"),h=function(t){function e(e,i,r,n,o,a){t.call(this,e,i,a),this.crossOrigin_=n,this.src_=r,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n["a"].LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),this.state=n["a"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=n["a"].ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=n["a"].LOADED:this.state=n["a"].EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==n["a"].ERROR&&(this.state=n["a"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n["a"].IDLE&&(this.state=n["a"].LOADING,this.changed(),this.imageListenerKeys_=[Object(a["listenOnce"])(this.image_,s["default"].ERROR,this.handleImageError_,this),Object(a["listenOnce"])(this.image_,s["default"].LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a["unlistenByKey"]),this.imageListenerKeys_=null},e}(r["a"]);function c(){var t=Object(o["a"])(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}e["a"]=h},"136c":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"e",(function(){return a})),i.d(e,"h",(function(){return s})),i.d(e,"g",(function(){return h})),i.d(e,"f",(function(){return c})),i.d(e,"i",(function(){return u})),i.d(e,"j",(function(){return l})),i.d(e,"d",(function(){return f})),i.d(e,"c",(function(){return d}));var r=i("41ec");function n(t,e,i){return Math.min(Math.max(t,e),i)}var o=function(){var t;return t="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},t}();function a(t){return Object(r["a"])(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function s(t,e,i,r,n,o){var a=n-i,s=o-r;if(0!==a||0!==s){var c=((t-i)*a+(e-r)*s)/(a*a+s*s);c>1?(i=n,r=o):c>0&&(i+=a*c,r+=s*c)}return h(t,e,i,r)}function h(t,e,i,r){var n=i-t,o=r-e;return n*n+o*o}function c(t){for(var e=t.length,i=0;i<e;i++){for(var r=i,n=Math.abs(t[i][i]),o=i+1;o<e;o++){var a=Math.abs(t[o][i]);a>n&&(n=a,r=o)}if(0===n)return null;var s=t[r];t[r]=t[i],t[i]=s;for(var h=i+1;h<e;h++)for(var c=-t[h][i]/t[i][i],u=i;u<e+1;u++)i==u?t[h][u]=0:t[h][u]+=c*t[i][u]}for(var l=new Array(e),f=e-1;f>=0;f--){l[f]=t[f][e]/t[f][f];for(var d=f-1;d>=0;d--)t[d][e]-=t[d][f]*l[f]}return l}function u(t){return 180*t/Math.PI}function l(t){return t*Math.PI/180}function f(t,e){var i=t%e;return i*e<0?i+e:i}function d(t,e,i){return t+i*(e-t)}},1455:function(t,e,i){i("2b7a"),t.exports=i("a06f").String.trimLeft},1499:function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}},"14ede":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("bd30"),n=new Map,o=void 0!==r.Konva._global["PointerEvent"];function a(t){return n.get(t)}function s(t){return{evt:t,pointerId:t.pointerId}}function h(t,e){return n.get(t)===e}function c(t,e){u(t);var i=e.getStage();i&&(n.set(t,e),o&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}function u(t,e){var i=n.get(t);if(i){var r=i.getStage();r&&r.content,n.delete(t),o&&i._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}}e.getCapturedShape=a,e.createEvent=s,e.hasPointerCapture=h,e.setPointerCapture=c,e.releaseCapture=u},"14fb":function(t,e,i){var r=i("1c23");r(r.G,{global:i("d38c")})},"154b":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"155f":function(t,e,i){"use strict";var r=i("1499"),n=i("a87f"),o=i("7f1c1"),a=i("0b25"),s=function(){};function h(t,e,i,r,h){var c=n.addPath(t,e);s(c);var u=this;o.call(this,t,i),this.poll=new a(r,c,h),this.poll.on("message",(function(t){s("poll message",t),u.emit("message",t)})),this.poll.once("close",(function(t,e){s("poll close",t,e),u.poll=null,u.emit("close",t,e),u.close()}))}r(h,o),h.prototype.close=function(){o.prototype.close.call(this),s("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=h},"157d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("c33e"),n=i("a0a2"),o="get",a="set";e.Factory={addGetterSetter:function(t,i,r,n,o){e.Factory.addGetter(t,i,r),e.Factory.addSetter(t,i,n,o),e.Factory.addOverloadedGetterSetter(t,i)},addGetter:function(t,e,i){var n=o+r.Util._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter:function(t,i,n,o){var s=a+r.Util._capitalize(i);t.prototype[s]||e.Factory.overWriteSetter(t,i,n,o)},overWriteSetter:function(t,e,i,n){var o=a+r.Util._capitalize(e);t.prototype[o]=function(t){return i&&void 0!==t&&null!==t&&(t=i.call(this,t,e)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter:function(t,i,s,h,c){var u,l,f=s.length,d=r.Util._capitalize,p=o+d(i),g=a+d(i);t.prototype[p]=function(){var t={};for(u=0;u<f;u++)l=s[u],t[l]=this.getAttr(i+d(l));return t};var v=n.getComponentValidator(s);t.prototype[g]=function(t){var e,r=this.attrs[i];for(e in h&&(t=h.call(this,t)),v&&v.call(this,t,i),t)t.hasOwnProperty(e)&&this._setAttr(i+d(e),t[e]);return this._fireChangeEvent(i,r,t),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(t,i)},addOverloadedGetterSetter:function(t,e){var i=r.Util._capitalize(e),n=a+i,s=o+i;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter:function(t,i,n,a){r.Util.error("Adding deprecated "+i);var s=o+r.Util._capitalize(i),h=i+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[s]=function(){r.Util.error(h);var t=this.attrs[i];return void 0===t?n:t},e.Factory.addSetter(t,i,a,(function(){r.Util.error(h)})),e.Factory.addOverloadedGetterSetter(t,i)},backCompat:function(t,e){r.Util.each(e,(function(e,i){var n=t.prototype[i],s=o+r.Util._capitalize(e),h=a+r.Util._capitalize(e);function c(){n.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}t.prototype[e]=c,t.prototype[s]=c,t.prototype[h]=c}))},afterSetFilter:function(){this._filterUpToDate=!1}}},1613:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("b9e3"),a=i("bd30"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&n.Util.throw("You may only add groups and shapes to groups.")},e}(o.Container);e.Group=s,s.prototype.nodeType="Group",a._registerNode(s),n.Collection.mapMethods(s)},1663:function(t,e,i){var r=i("0d63");r(r.P,"String",{repeat:i("6d89")})},1691:function(t,e,i){"use strict";(function(e){t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(t){return!1}}}}).call(this,i("c8ba"))},"169a":function(t,e,i){var r=i("cdf9"),n=i("dfa5"),o=i("9336")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"16d4":function(t,e,i){"use strict";var r=i("1721");function n(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new r(t),e(i.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t,e=new n((function(e){t=e}));return{token:e,cancel:t}},t.exports=n},"16ee":function(t,e,i){i("8267"),t.exports=i("a06f").String.trimRight},1714:function(t,e,i){"use strict";e["a"]={ACTIVE:"active"}},1721:function(t,e,i){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"17a5":function(t,e,i){(function(i){var r,n,o;(function(i,a){n=[],r=a,o="function"===typeof r?r.apply(e,n):r,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,i){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){s(r.response,e,i)},r.onerror=function(){console.error("could not download file")},r.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:void 0,s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,i){var s=a.URL||a.webkitURL,h=document.createElement("a");e=e||t.name||"download",h.download=e,h.rel="noopener","string"==typeof t?(h.href=t,h.origin===location.origin?o(h):n(h.href)?r(t,e,i):o(h,h.target="_blank")):(h.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(h.href)}),4e4),setTimeout((function(){o(h)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,a){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),i);else if(n(t))r(t,i,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){o(s)}))}}:function(t,e,i,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,i);var o="application/octet-stream"===t.type,s=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||o&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=h?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=t:location=t,n=null},c.readAsDataURL(t)}else{var u=a.URL||a.webkitURL,l=u.createObjectURL(t);n?n.location=l:location.href=l,n=null,setTimeout((function(){u.revokeObjectURL(l)}),4e4)}});a.saveAs=s.saveAs=s,t.exports=s}))}).call(this,i("c8ba"))},"17b2":function(t,e,i){var r=i("255a"),n=i("a06f"),o=i("3b77"),a=i("5a30"),s=i("0f26").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},1802:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("2939"),a=i("bd30"),s=function(t){function e(e){var i=t.call(this,e)||this;return i.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),i}return r(e,t),e}(o.Layer);e.FastLayer=s,s.prototype.nodeType="FastLayer",a._registerNode(s),n.Collection.mapMethods(s)},"18cb":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("a0a2"),h=i("bd30"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.closePath(),t.fillStrokeShape(this)},e.prototype._getPoints=function(){for(var t=this.attrs.sides,e=this.attrs.radius||0,i=[],r=0;r<t;r++)i.push({x:e*Math.sin(2*r*Math.PI/t),y:-1*e*Math.cos(2*r*Math.PI/t)});return i},e.prototype.getSelfRect=function(){var t=this._getPoints(),e=t[0].x,i=t[0].y,r=t[0].x,n=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),i=Math.max(i,t.x),r=Math.min(r,t.y),n=Math.max(n,t.y)})),{x:e,y:r,width:i-e,height:n-r}},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(a.Shape);e.RegularPolygon=c,c.prototype.className="RegularPolygon",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],h._registerNode(c),o.Factory.addGetterSetter(c,"radius",0,s.getNumberValidator()),o.Factory.addGetterSetter(c,"sides",0,s.getNumberValidator()),n.Collection.mapMethods(c)},"194e":function(t,e,i){"use strict";var r=i("fd21"),n=i("9cc9"),o=i("461e"),a=i("c5e9b"),s=i("1010"),h=i("2524"),c=i("7b84"),u=i("eafb"),l=i("ee8e"),f=i("9ee7"),d=i("0acf"),p=i("9fa2"),g=i("eefa"),v=i("7881"),y=i("3881"),m=i("41ec"),_=i("5f6b"),b=i("a273"),w=i("64c1"),x=i("eee0"),S=i("3d22"),E=i("0ead"),O=i("9734"),T=i("c768"),C=i("dbf9"),A=i("be21"),L=i("d6b2"),R=function(t){function e(e){t.call(this);var i=M(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:O["b"],this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(L["c"])(),this.pixelToCoordinateTransform_=Object(L["c"])(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(O["i"]?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var r=[x["default"].CLICK,x["default"].DBLCLICK,x["default"].MOUSEDOWN,x["default"].TOUCHSTART,x["default"].MSPOINTERDOWN,h["default"].POINTERDOWN,x["default"].MOUSEWHEEL,x["default"].WHEEL],a=0,c=r.length;a<c;++a)Object(b["listen"])(this.overlayContainerStopEvent_,r[a],w["b"]);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new s["a"](this,e.moveTolerance),h["default"])Object(b["listen"])(this.mapBrowserEventHandler_,h["default"][u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,Object(b["listen"])(this.viewport_,x["default"].CONTEXTMENU,this.handleBrowserEvent,this),Object(b["listen"])(this.viewport_,x["default"].WHEEL,this.handleBrowserEvent,this),Object(b["listen"])(this.viewport_,x["default"].MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new n["default"],this.interactions=i.interactions||new n["default"],this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new g["a"](this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(b["listen"])(this,Object(d["getChangeEventType"])(l["a"].LAYERGROUP),this.handleLayerGroupChanged_,this),Object(b["listen"])(this,Object(d["getChangeEventType"])(l["a"].VIEW),this.handleViewChanged_,this),Object(b["listen"])(this,Object(d["getChangeEventType"])(l["a"].SIZE),this.handleSizeChanged_,this),Object(b["listen"])(this,Object(d["getChangeEventType"])(l["a"].TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(b["listen"])(this.controls,o["a"].ADD,(function(t){t.element.setMap(this)}),this),Object(b["listen"])(this.controls,o["a"].REMOVE,(function(t){t.element.setMap(null)}),this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(b["listen"])(this.interactions,o["a"].ADD,(function(t){t.element.setMap(this)}),this),Object(b["listen"])(this.interactions,o["a"].REMOVE,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(b["listen"])(this.overlays_,o["a"].ADD,(function(t){this.addOverlayInternal_(t.element)}),this),Object(b["listen"])(this.overlays_,o["a"].REMOVE,(function(t){var e=t.element,i=e.getId();void 0!==i&&delete this.overlayIdIndex_[i.toString()],t.element.setMap(null)}),this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(b["unlisten"])(this.viewport_,x["default"].CONTEXTMENU,this.handleBrowserEvent,this),Object(b["unlisten"])(this.viewport_,x["default"].WHEEL,this.handleBrowserEvent,this),Object(b["unlisten"])(this.viewport_,x["default"].MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(x["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var r=this.getCoordinateFromPixel(t);i=void 0!==i?i:{};var n=void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==i.layerFilter?i.layerFilter:E["b"];return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,n,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,(function(t){i||(i=[]),i.push(t)}),e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var r=i||{},n=void 0!==r.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=r.layerFilter||E["b"];return this.renderer_.forEachLayerAtPixel(t,this.frameState_,n,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t);e=void 0!==e?e:{};var r=void 0!==e.layerFilter?e.layerFilter:E["b"],n=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,n,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(l["a"].TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(L["a"])(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(l["a"].LAYERGROUP)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(L["a"])(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(l["a"].SIZE)},e.prototype.getView=function(){return this.get(l["a"].VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,r){var n=this.frameState_;if(!n||!(e in n.wantedTiles))return A["a"];if(!n.wantedTiles[e][t.getKey()])return A["a"];var o=i[0]-n.focus[0],a=i[1]-n.focus[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,r=new a["a"](i,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.getActive()){var n=r.handleEvent(t);if(!n)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,r=i;if(t){var n=t.viewHints;n[y["a"].ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,r=2),n[y["a"].INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,r=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,r))}!t||!this.hasListener(f["a"].RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||I(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(f["a"].RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,a=0,s=o.length;a<s;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)Object(b["unlistenByKey"])(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(b["listen"])(r,x["default"].KEYDOWN,this.handleBrowserEvent,this),Object(b["listen"])(r,x["default"].KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(x["default"].RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(_["e"])(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(x["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(b["unlistenByKey"])(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(b["unlistenByKey"])(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(r["c"])(t)),this.viewPropertyListenerKey_=Object(b["listen"])(t,p["a"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(b["listen"])(t,x["default"].CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(b["unlistenByKey"]),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(b["listen"])(t,p["a"].PROPERTYCHANGE,this.render,this),Object(b["listen"])(t,x["default"].CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),n=this.getView(),o=Object(S["createEmpty"])(),a=this.frameState_,s=null;if(void 0!==i&&Object(C["b"])(i)&&n&&n.isDef()){for(var h=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=this.getLayerGroup().getLayerStatesArray(),f={},d=0,p=l.length;d<p;++d)f[Object(r["c"])(l[d].layer)]=l[d];e=n.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:f,layerStatesArray:l,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:h,wantedTiles:{}}}if(s&&(s.extent=Object(S["getForViewAndSize"])(e.center,e.resolution,e.rotation,s.size,o)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var g=!this.previousExtent_||!Object(S["isEmpty"])(this.previousExtent_)&&!Object(S["equals"])(s.extent,this.previousExtent_);g&&(this.dispatchEvent(new c["a"](u["a"].MOVESTART,this,a)),this.previousExtent_=Object(S["createOrUpdateEmpty"])(this.previousExtent_))}var v=this.previousExtent_&&!s.viewHints[y["a"].ANIMATING]&&!s.viewHints[y["a"].INTERACTING]&&!Object(S["equals"])(s.extent,this.previousExtent_);v&&(this.dispatchEvent(new c["a"](u["a"].MOVEEND,this,s)),Object(S["clone"])(s.extent,this.previousExtent_))}this.dispatchEvent(new c["a"](u["a"].POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(l["a"].LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(l["a"].SIZE,t)},e.prototype.setTarget=function(t){this.set(l["a"].TARGET,t)},e.prototype.setView=function(t){this.set(l["a"].VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(r["c"])(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e["borderLeftWidth"])-parseFloat(e["paddingLeft"])-parseFloat(e["paddingRight"])-parseFloat(e["borderRightWidth"]),t.offsetHeight-parseFloat(e["borderTopWidth"])-parseFloat(e["paddingTop"])-parseFloat(e["paddingBottom"])-parseFloat(e["borderBottomWidth"])])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(r["c"])(t)],this.render()},e}(d["default"]);function M(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,r,o,a={},s=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new T["default"]({layers:t.layers});return a[l["a"].LAYERGROUP]=s,a[l["a"].TARGET]=t.target,a[l["a"].VIEW]=void 0!==t.view?t.view:new v["a"],void 0!==t.controls&&(Array.isArray(t.controls)?i=new n["default"](t.controls.slice()):(Object(m["a"])("function"===typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new n["default"](t.interactions.slice()):(Object(m["a"])("function"===typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new n["default"](t.overlays.slice()):(Object(m["a"])("function"===typeof t.overlays.getArray,49),o=t.overlays):o=new n["default"],{controls:i,interactions:r,keyboardEventTarget:e,overlays:o,values:a}}function I(t){for(var e=0,i=t.length;e<i;++e){var r=t[e];if("function"===typeof r.getLayers)return I(r.getLayers().getArray());var n=r.getSource();if(n&&n.loading)return!0}return!1}e["a"]=R},"1a2d":function(t,e,i){"use strict";var r=i("cdf9"),n=i("ad06"),o=i("9336")("hasInstance"),a=Function.prototype;o in a||i("0f26").f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;while(t=n(t))if(this.prototype===t)return!0;return!1}})},"1a8b":function(t,e,i){"use strict";var r=i("1499"),n=i("d1dd"),o=i("dd26"),a=i("6bd8"),s=i("5338");function h(t){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");n.call(this,t,"/xhr",o,a)}r(h,n),h.enabled=function(t){return!t.nullOrigin&&(!(!s.enabled||!t.sameOrigin)||a.enabled)},h.transportName="xhr-polling",h.roundTrips=2,t.exports=h},"1ab2":function(t,e,i){"use strict";i("c7c1")("bold",(function(t){return function(){return t(this,"b","","")}}))},"1ab3":function(t,e,i){var r=i("0f26").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in n||i("6739")&&r(n,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"1b85":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"d",(function(){return d}));var r=i("9c7f"),n=1,o="mouse",a=25;function s(t){if(!this.isEventSimulatedFromTouch_(t)){n.toString()in this.pointerMap&&this.cancel(t);var e=d(t,this.dispatcher);this.pointerMap[n.toString()]=t,this.dispatcher.down(e,t)}}function h(t){if(!this.isEventSimulatedFromTouch_(t)){var e=d(t,this.dispatcher);this.dispatcher.move(e,t)}}function c(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[n.toString()];if(e&&e.button===t.button){var i=d(t,this.dispatcher);this.dispatcher.up(i,t),this.cleanupMouse()}}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=d(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=d(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var f=function(t){function e(e){var i={mousedown:s,mousemove:h,mouseup:c,mouseover:u,mouseout:l};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,r=t.clientY,n=0,o=e.length,s=void 0;n<o&&(s=e[n]);n++){var h=Math.abs(i-s[0]),c=Math.abs(r-s[1]);if(h<=a&&c<=a)return!0}return!1},e.prototype.cancel=function(t){var e=d(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[n.toString()]},e}(r["a"]);function d(t,e){var i=e.cloneEvent(t,t),r=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),r()},i.pointerId=n,i.isPrimary=!0,i.pointerType=o,i}e["c"]=f},"1bb8":function(t,e,i){"use strict";var r=i("0d63"),n=i("7480"),o=i("37ff"),a=i("b460"),s=[].sort,h=[1,2,3];r(r.P+r.F*(a((function(){h.sort(void 0)}))||!a((function(){h.sort(null)}))||!i("60a1")(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),n(t))}})},"1bfb":function(t,e,i){var r=i("cdf9");t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},"1c23":function(t,e,i){var r=i("d38c"),n=i("6f54"),o=i("e08c"),a=i("f8ce"),s=i("f026"),h="prototype",c=function(t,e,i){var u,l,f,d=t&c.F,p=t&c.G,g=t&c.S,v=t&c.P,y=t&c.B,m=t&c.W,_=p?n:n[e]||(n[e]={}),b=_[h],w=p?r:g?r[e]:(r[e]||{})[h];for(u in p&&(i=e),i)l=!d&&w&&void 0!==w[u],l&&s(_,u)||(f=l?w[u]:i[u],_[u]=p&&"function"!=typeof w[u]?i[u]:y&&l?o(f,r):m&&w[u]==f?function(t){var e=function(e,i,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,r)}return t.apply(this,arguments)};return e[h]=t[h],e}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((_.virtual||(_.virtual={}))[u]=f,t&c.R&&b&&!b[u]&&a(b,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"1cc3":function(t,e,i){"use strict";var r=i("0d63"),n=i("58d1"),o=i("f49a"),a="startsWith",s=""[a];r(r.P+r.F*i("9ec8")(a),"String",{startsWith:function(t){var e=o(this,t,a),i=n(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,i):e.slice(i,i+r.length)===r}})},"1d2b":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return t.apply(e,i)}}},"1d6e":function(t,e,i){var r=i("0d63");r(r.S,"Math",{fround:i("46a3")})},"1d76":function(t,e,i){"use strict";var r=i("1499"),n=i("d1dd"),o=i("dd26"),a=i("21b7");function s(t){if(!a.enabled)throw new Error("Transport created when disabled");n.call(this,t,"/xhr_streaming",o,a)}r(s,n),s.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(a.enabled&&t.sameScheme)},s.transportName="xdr-streaming",s.roundTrips=2,t.exports=s},"1d8e":function(t,e,i){"use strict";var r,n=i("255a"),o=i("9e2d")(0),a=i("bd47"),s=i("bded"),h=i("4dc6"),c=i("29cb"),u=i("cdf9"),l=i("388d"),f=i("388d"),d=!n.ActiveXObject&&"ActiveXObject"in n,p="WeakMap",g=s.getWeak,v=Object.isExtensible,y=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(u(t)){var e=g(t);return!0===e?y(l(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(l(this,p),t,e)}},b=t.exports=i("aef6")(p,m,_,c,!0,!0);f&&d&&(r=c.getConstructor(m,p),h(r.prototype,_),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=b.prototype,i=e[t];a(e,t,(function(e,n){if(u(e)&&!v(e)){this._f||(this._f=new r);var o=this._f[t](e,n);return"set"==t?this:o}return i.call(this,e,n)}))})))},"1d9f":function(t,e,i){i("14fb"),t.exports=i("6f54").global},"1da4":function(t,e,i){"use strict";(function(e){var i=e.WebSocket||e.MozWebSocket;t.exports=i?function(t){return new i(t)}:void 0}).call(this,i("c8ba"))},"1e27":function(t,e,i){"use strict";i.r(e),e["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},"1ea9":function(t,e,i){"use strict";i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return f}));var r=i("fd21"),n=i("3d22"),o=i("457a"),a=i("34f5"),s=i("faad"),h=i("acdf"),c=function(t){function e(){t.call(this),this.layout=a["a"].XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(n["createOrUpdateFromFlatCoordinates"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(r["b"])()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(h["b"])(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t),r=i.getFlatCoordinates();return r.length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=l(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(r["b"])()},e.prototype.setLayout=function(t,e,i){var r;if(t)r=l(t);else{for(var n=0;n<i;++n){if(0===e.length)return this.layout=a["a"].XY,void(this.stride=2);e=e[0]}r=e.length,t=u(r)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();Object(s["a"])(i,0,i.length,r,t,e,i),this.changed()}},e.prototype.scale=function(t,e,i){var r=e;void 0===r&&(r=t);var o=i;o||(o=Object(n["getCenter"])(this.getExtent()));var a=this.getFlatCoordinates();if(a){var h=this.getStride();Object(s["b"])(a,0,a.length,h,t,r,o,a),this.changed()}},e.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();Object(s["d"])(i,0,i.length,r,t,e,i),this.changed()}},e}(o["a"]);function u(t){var e;return 2==t?e=a["a"].XY:3==t?e=a["a"].XYZ:4==t&&(e=a["a"].XYZM),e}function l(t){var e;return t==a["a"].XY?e=2:t==a["a"].XYZ||t==a["a"].XYM?e=3:t==a["a"].XYZM&&(e=4),e}function f(t,e,i){var r=t.getFlatCoordinates();if(r){var n=t.getStride();return Object(s["c"])(r,0,r.length,n,e,i)}return null}e["a"]=c},"1ebb":function(t,e,i){"use strict";var r=i("6536"),n="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(t){for(var e=n.length,i=r.randomBytes(t),o=[],a=0;a<t;a++)o.push(n.substr(i[a]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,i=new Array(e+1).join("0");return(i+this.number(t)).slice(-e)}}},"1fd1":function(t,e,i){var r=i("993b"),n=i("e038"),o=i("42ee"),a=i("255a").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),i=n.f;return i?e.concat(i(t)):e}},2035:function(t,e,i){var r=i("0f26"),n=i("42ee"),o=i("b7e2");t.exports=i("6739")?Object.defineProperties:function(t,e){n(t);var i,a=o(e),s=a.length,h=0;while(s>h)r.f(t,i=a[h++],e[i]);return t}},"20e3":function(t,e,i){var r=i("f904");e.Processor=r},"20f9":function(t,e,i){var r=i("0d63"),n=Math.asinh;function o(t){return isFinite(t=+t)&&0!=t?t<0?-o(-t):Math.log(t+Math.sqrt(t*t+1)):t}r(r.S+r.F*!(n&&1/n(0)>0),"Math",{asinh:o})},2121:function(t,e,i){"use strict";i("c7c1")("strike",(function(t){return function(){return t(this,"strike","","")}}))},"213f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("c33e"),n=i("157d"),o=i("b5c4"),a=i("bd30"),s=i("d09a"),h=i("a0a2");e.ids={},e.names={};var c=function(t,i){i&&(e.ids[i]=t)};e._removeId=function(t,i){t&&e.ids[t]===i&&delete e.ids[t]},e._addName=function(t,i){i&&(e.names[i]||(e.names[i]=[]),e.names[i].push(t))},e._removeName=function(t,i){if(t){var r=e.names[t];if(r){for(var n=0;n<r.length;n++){var o=r[n];o._id===i&&r.splice(n,1)}0===r.length&&delete e.names[t]}}};var u="absoluteOpacity",l="allEventListeners",f="absoluteTransform",d="absoluteScale",p="canvas",g="Change",v="children",y="konva",m="listening",_="mouseenter",b="mouseleave",w="name",x="set",S="Shape",E=" ",O="stage",T="transform",C="Stage",A="visible",L=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(E),R=(["scaleXChange.konva","scaleYChange.konva"].join(E),new r.Collection),M=1,I=function(){function t(t){this._id=M++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=R,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return R},t.prototype._clearCache=function(t){t!==T&&t!==f||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0},t.prototype._getCache=function(t,e){var i=this._cache.get(t),r=t===T||t===f,n=void 0===i||r&&!0===i.dirty;return n&&(i=e.call(this),this._cache.set(t,i)),i},t.prototype._calculate=function(t,e,i){var r=this;if(!this._attachedDepsListeners.get(t)){var n=e.map((function(t){return t+"Change.konva"})).join(E);this.on(n,(function(){r._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)},t.prototype._getCanvasCache=function(){return this._cache.get(p)},t.prototype._clearSelfAndDescendantCache=function(t,e){this._clearCache(t),e&&t===f&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t,!0)}))},t.prototype.clearCache=function(){return this._cache.delete(p),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},i={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var n=Math.ceil(e.width||i.width),a=Math.ceil(e.height||i.height),s=e.pixelRatio,h=void 0===e.x?i.x:e.x,c=void 0===e.y?i.y:e.y,l=e.offset||0,f=e.drawBorder||!1;if(n&&a){n+=2*l,a+=2*l,h-=l,c-=l;var g=new o.SceneCanvas({pixelRatio:s,width:n,height:a}),v=new o.SceneCanvas({pixelRatio:s,width:0,height:0}),y=new o.HitCanvas({pixelRatio:1,width:n,height:a}),m=g.getContext(),_=y.getContext();return y.isCache=!0,g.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(g.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),m.save(),_.save(),m.translate(-h,-c),_.translate(-h,-c),this._isUnderCache=!0,this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(d),this.drawScene(g,this),this.drawHit(y,this),this._isUnderCache=!1,m.restore(),_.restore(),f&&(m.save(),m.beginPath(),m.rect(0,0,n,a),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(p,{scene:g,filter:v,hit:y,x:h,y:c}),this}r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var i,r,n,o,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return a.forEach((function(t){var e=s.point(t);void 0===i&&(i=n=e.x,r=o=e.y),i=Math.min(i,e.x),r=Math.min(r,e.y),n=Math.max(n,e.x),o=Math.max(o,e.y)})),{x:i,y:r,width:n-i,height:o-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),r=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/r,i.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,i,n,o=this.filters(),a=this._getCanvasCache(),s=a.scene,h=a.filter,c=h.getContext();if(o){if(!this._filterUpToDate){var u=s.pixelRatio;h.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(t=o.length,c.clear(),c.drawImage(s._canvas,0,0,s.getWidth()/u,s.getHeight()/u),e=c.getImageData(0,0,h.getWidth(),h.getHeight()),i=0;i<t;i++)n=o[i],"function"===typeof n?(n.call(this,e),c.putImageData(e,0,0)):r.Util.error("Filter should be type of function, but got "+typeof n+" instead. Please check correct filters")}catch(l){r.Util.error("Unable to apply filter. "+l.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return h}return s},t.prototype.on=function(t,e){if(this._cache&&this._cache.delete(l),3===arguments.length)return this._delegate.apply(this,arguments);var i,r,n,o,a,s=t.split(E),h=s.length;for(i=0;i<h;i++)r=s[i],n=r.split("."),o=n[0],a=n[1]||"",this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:a,handler:e});return this},t.prototype.off=function(t,e){var i,r,n,o,a,s,h=(t||"").split(E),c=h.length;if(this._cache&&this._cache.delete(l),!t)for(r in this.eventListeners)this._off(r);for(i=0;i<c;i++)if(n=h[i],o=n.split("."),a=o[0],s=o[1],a)this.eventListeners[a]&&this._off(a,s,e);else for(r in this.eventListeners)this._off(r,s,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,i){var n=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,n),a=0;a<o.length;a++)t=r.Util.cloneObject(t),t.currentTarget=o[a],i.call(o[a],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(O),this._clearSelfAndDescendantCache(A),this._clearSelfAndDescendantCache(m)},t.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){e._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),i=0;i<t.length;i++){var r=t[i];e._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+r.Util._capitalize(t);return r.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){var t=this.getParent(),e=new r.Collection;while(t)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e=this;return this._batchTransformChanges((function(){var i,n;if(!t)return e;for(i in t)i!==v&&(n=x+r.Util._capitalize(i),r.Util._isFunction(e[n])?e[n](t[i]):e._setAttr(i,t[i]))})),this},t.prototype.isListening=function(){return this._getCache(m,this._isListening)},t.prototype._isListening=function(t){var e=this.listening();if(!e)return!1;var i=this.getParent();return!i||i===t||this===t||i._isListening(t)},t.prototype.isVisible=function(){return this._getCache(A,this._isVisible)},t.prototype._isVisible=function(t){var e=this.visible();if(!e)return!1;var i=this.getParent();return!i||i===t||this===t||i._isVisible(t)},t.prototype.shouldDrawHit=function(t){if(t)return this._isVisible(t)&&this._isListening(t);var e=this.getLayer(),i=!1;s.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===e)&&(i=!0)}));var r=!a.Konva.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!r},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,i,r,n=this.getDepth(),o=this,a=0;function s(h){for(t=[],e=h.length,i=0;i<e;i++)r=h[i],a++,r.nodeType!==S&&(t=t.concat(r.getChildren().toArray())),r._id===o._id&&(i=e);t.length>0&&t[0].getDepth()<=n&&s(t)}return o.nodeType!==C&&s(o.getStage().getChildren()),a},t.prototype.getDepth=function(){var t=0,e=this.parent;while(e)t++,e=e.parent;return t},t.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(T),this._clearSelfAndDescendantCache(f,!0)),this._needClearTransformCache=!1},t.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges((function(){e.x(t.x),e.y(t.y)})),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){var e=!1,i=this.parent;while(i){if(i.isCached()){e=!0;break}i=i.parent}e&&!t&&(t=!0);var n=this.getAbsoluteTransform(t).getMatrix(),o=new r.Transform,a=this.offset();return o.m=n.slice(),o.translate(a.x,a.y),o.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(T);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(T),this._clearSelfAndDescendantCache(f),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e]},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},t.prototype.move=function(t){var e=t.x,i=t.y,r=this.x(),n=this.y();return void 0!==e&&(r+=e),void 0!==i&&(n+=i),this.setPosition({x:r,y:n}),this},t.prototype._eachAncestorReverse=function(t,e){var i,r,n=[],o=this.getParent();if(!e||e._id!==this._id){n.unshift(this);while(o&&(!e||o._id!==e._id))n.unshift(o),o=o.parent;for(i=n.length,r=0;r<i;r++)t(n[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,e=this.parent.getChildren().length;return t<e-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&r.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(u,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,i,n,o,a={},s=this.getAttrs();for(t in a.attrs={},s)e=s[t],o=r.Util.isObject(e)&&!r.Util._isPlainObject(e)&&!r.Util._isArray(e),o||(i="function"===typeof this[t]&&this[t],delete s[t],n=i?i.call(this):null,s[t]=e,n!==e&&(a.attrs[t]=e));return a.className=this.getClassName(),r.Util._prepareToStringify(a)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,i){var r=[];e&&this._isMatch(t)&&r.push(this);var n=this.parent;while(n){if(n===i)return r;n._isMatch(t)&&r.push(n),n=n.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,i){return this.findAncestors(t,e,i)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"===typeof t)return t(this);var e,i,n=t.replace(/ /g,"").split(","),o=n.length;for(e=0;e<o;e++)if(i=n[e],r.Util.isValidSelector(i)||(r.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===i.charAt(0)){if(this.id()===i.slice(1))return!0}else if("."===i.charAt(0)){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache(O,this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,i){return void 0===e&&(e={}),e.target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(f,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new r.Transform,this._eachAncestorReverse((function(t){var i=t.transformsEnabled();"all"===i?e.multiply(t.getTransform()):"position"===i&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(f)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var i=this.transformsEnabled();if("all"===i)e.multiply(this.getTransform());else if("position"===i){var n=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,s=this.attrs.offsetY||0;e.translate(n-a,o-s)}return e.dirty=!1,e},t.prototype.getAbsoluteScale=function(t){var e=this;while(e)e._isUnderCache&&(t=e),e=e.getParent();var i=this.getAbsoluteTransform(t),r=i.decompose();return{x:r.scaleX,y:r.scaleY}},t.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},t.prototype.getTransform=function(){return this._getCache(T,this._getTransform)},t.prototype._getTransform=function(){var t,e,i=this._cache.get(T)||new r.Transform;i.reset();var n=this.x(),o=this.y(),s=a.Konva.getAngle(this.rotation()),h=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,c=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,u=this.attrs.skewX||0,l=this.attrs.skewY||0,f=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return 0===n&&0===o||i.translate(n,o),0!==s&&i.rotate(s),0===u&&0===l||i.skew(u,l),1===h&&1===c||i.scale(h,c),0===f&&0===d||i.translate(-1*f,-1*d),i.dirty=!1,i},t.prototype.clone=function(t){var e,i,n,o,a,s=r.Util.cloneObject(this.attrs);for(e in t)s[e]=t[e];var h=new this.constructor(s);for(e in this.eventListeners)for(i=this.eventListeners[e],n=i.length,o=0;o<n;o++)a=i[o],a.name.indexOf(y)<0&&(h.eventListeners[e]||(h.eventListeners[e]=[]),h.eventListeners[e].push(a));return h},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),r=void 0!==t.x?t.x:e.x,n=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,s=new o.SceneCanvas({width:t.width||e.width||(i?i.width():0),height:t.height||e.height||(i?i.height():0),pixelRatio:a}),h=s.getContext();return h.save(),(r||n)&&h.translate(-1*r,-1*n),this.drawScene(s),h.restore(),s},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){t=t||{};var e=t.mimeType||null,i=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,r.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance},t.prototype._off=function(t,e,i){var r,n,o,a=this.eventListeners[t];for(r=0;r<a.length;r++)if(n=a[r].name,o=a[r].handler,("konva"!==n||"konva"===e)&&(!e||n===e)&&(!i||i===o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,i){this._fire(t+g,{oldVal:e,newVal:i})},t.prototype.setId=function(t){var i=this.id();return e._removeId(i,this),c(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var i,r,n=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(r=0;r<n.length;r++)i=n[r],-1===o.indexOf(i)&&i&&e._removeName(i,this._id);for(r=0;r<o.length;r++)i=o[r],-1===n.indexOf(i)&&i&&e._addName(this,i);return this._setAttr(w,t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),i=e?e+" "+t:t;this.setName(i)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();if(!e)return!1;var i=(e||"").split(/\s/g);return-1!==i.indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return-1!==i&&(e.splice(i,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var i=this[x+r.Util._capitalize(t)];return r.Util._isFunction(i)?i.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e,i){void 0===i&&(i=!1);var n=this.attrs[t];(n!==e||r.Util.isObject(e))&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e))},t.prototype._setComponentAttr=function(t,e,i){var r;void 0!==i&&(r=this.attrs[t],r||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,r,i))},t.prototype._fireAndBubble=function(t,e,i){e&&this.nodeType===S&&(e.target=this);var r=(t===_||t===b)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||"Stage"===this.nodeType&&!i);if(!r){this._fire(t,e);var n=(t===_||t===b)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!n&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._getProtoListeners=function(t){var e=this._cache.get(l);if(!e){e={};var i=Object.getPrototypeOf(this);while(i)if(i.eventListeners){for(var r in i.eventListeners){var n=i.eventListeners[r],o=e[r]||[];e[r]=n.concat(o)}i=Object.getPrototypeOf(i)}else i=Object.getPrototypeOf(i);this._cache.set(l,e)}return e[t]},t.prototype._fire=function(t,e){e=e||{},e.currentTarget=this,e.type=t;var i=this._getProtoListeners(t);if(i)for(var r=0;r<i.length;r++)i[r].handler.call(this,e);var n=this.eventListeners[t];if(n)for(r=0;r<n.length;r++)n[r].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,i=this.getStage(),r=this.getAbsolutePosition(),n=i._getPointerById(e)||i._changedPointerPositions[0]||r;s.DD._dragElements.set(this._id,{node:this,startPointerPos:n,offset:{x:n.x-r.x,y:n.y-r.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t,e){void 0===e&&(e=!0),s.DD._dragElements.has(this._id)||this._createDragElement(t);var i=s.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)},t.prototype._setDragPosition=function(t,e){var i=this.getStage()._getPointerById(e.pointerId);if(i){var n={x:i.x-e.offset.x,y:i.y-e.offset.y},o=this.dragBoundFunc();if(void 0!==o){var a=o.call(this,n,t);a?n=a:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===n.x&&this._lastPos.y===n.y||(this.setAbsolutePosition(n),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=n}},t.prototype.stopDrag=function(t){var e=s.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),s.DD._endDragBefore(t),s.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=s.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this,i=void 0!==t.evt["button"],r=!i||a.Konva.dragButtons.indexOf(t.evt["button"])>=0;if(r&&!this.isDragging()){var n=!1;s.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},t.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;var e=s.DD._dragElements.get(this._id),i=e&&"dragging"===e.dragStatus,r=e&&"ready"===e.dragStatus;i?this.stopDrag():r&&s.DD._dragElements.delete(this._id)}},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return r.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,i){var n,o,s,h=t.prototype.getClassName.call(e),c=e.children;i&&(e.attrs.container=i),a._NODES_REGISTRY[h]||(r.Util.warn('Can not find a node with class name "'+h+'". Fallback to "Shape".'),h="Shape");var u=a._NODES_REGISTRY[h];if(n=new u(e.attrs),c)for(o=c.length,s=0;s<o;s++)n.add(t._createNode(c[s]));return n},t}();e.Node=I,I.prototype.nodeType="Node",I.prototype._attrsAffectingSize=[],I.prototype.eventListeners={},I.prototype.on.call(I.prototype,L,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(T),this._clearSelfAndDescendantCache(f))})),I.prototype.on.call(I.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(A)})),I.prototype.on.call(I.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(m)})),I.prototype.on.call(I.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(u)}));var P=n.Factory.addGetterSetter;P(I,"zIndex"),P(I,"absolutePosition"),P(I,"position"),P(I,"x",0,h.getNumberValidator()),P(I,"y",0,h.getNumberValidator()),P(I,"globalCompositeOperation","source-over",h.getStringValidator()),P(I,"opacity",1,h.getNumberValidator()),P(I,"name","",h.getStringValidator()),P(I,"id","",h.getStringValidator()),P(I,"rotation",0,h.getNumberValidator()),n.Factory.addComponentsGetterSetter(I,"scale",["x","y"]),P(I,"scaleX",1,h.getNumberValidator()),P(I,"scaleY",1,h.getNumberValidator()),n.Factory.addComponentsGetterSetter(I,"skew",["x","y"]),P(I,"skewX",0,h.getNumberValidator()),P(I,"skewY",0,h.getNumberValidator()),n.Factory.addComponentsGetterSetter(I,"offset",["x","y"]),P(I,"offsetX",0,h.getNumberValidator()),P(I,"offsetY",0,h.getNumberValidator()),P(I,"dragDistance",null,h.getNumberValidator()),P(I,"width",0,h.getNumberValidator()),P(I,"height",0,h.getNumberValidator()),P(I,"listening",!0,h.getBooleanValidator()),P(I,"preventDefault",!0,h.getBooleanValidator()),P(I,"filters",null,(function(t){return this._filterUpToDate=!1,t})),P(I,"visible",!0,h.getBooleanValidator()),P(I,"transformsEnabled","all",h.getStringValidator()),P(I,"size"),P(I,"dragBoundFunc"),P(I,"draggable",!1,h.getBooleanValidator()),n.Factory.backCompat(I,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),r.Collection.mapMethods(I)},"21b7":function(t,e,i){"use strict";(function(e){var r=i("0a36").EventEmitter,n=i("1499"),o=i("4035"),a=i("1691"),s=i("a87f"),h=function(){};function c(t,e,i){h(t,e);var n=this;r.call(this),setTimeout((function(){n._start(t,e,i)}),0)}n(c,r),c.prototype._start=function(t,i,r){h("_start");var n=this,a=new e.XDomainRequest;i=s.addQuery(i,"t="+ +new Date),a.onerror=function(){h("onerror"),n._error()},a.ontimeout=function(){h("ontimeout"),n._error()},a.onprogress=function(){h("progress",a.responseText),n.emit("chunk",200,a.responseText)},a.onload=function(){h("load"),n.emit("finish",200,a.responseText),n._cleanup(!1)},this.xdr=a,this.unloadRef=o.unloadAdd((function(){n._cleanup(!0)}));try{this.xdr.open(t,i),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(c){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(t){if(h("cleanup",t),this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){h("close"),this._cleanup(!0)},c.enabled=!(!e.XDomainRequest||!a.hasDomain()),t.exports=c}).call(this,i("c8ba"))},"21ea":function(t,e,i){"use strict";(function(e){var r=i("94c2"),n=i("1ebb"),o=i("1691"),a=i("a87f"),s=i("1499"),h=i("0a36").EventEmitter,c=function(){};function u(t){c(t);var i=this;h.call(this),r.polluteGlobalNamespace(),this.id="a"+n.string(6);var o=a.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));e[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(o),this.timeoutId=setTimeout((function(){c("timeout"),i._abort(new Error("JSONP script loaded abnormally (timeout)"))}),u.timeout)}s(u,h),u.prototype.abort=function(){if(c("abort"),e[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},u.timeout=35e3,u.scriptErrorTimeout=1e3,u.prototype._callback=function(t){c("_callback",t),this._cleanup(),this.aborting||(t&&(c("message",t),this.emit("message",t)),this.emit("close",null,"network"),this.removeAllListeners())},u.prototype._abort=function(t){c("_abort",t),this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},u.prototype._cleanup=function(){if(c("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete e[r.WPrefix][this.id]},u.prototype._scriptError=function(){c("_scriptError");var t=this;this.errorTimer||(this.errorTimer=setTimeout((function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))}),u.scriptErrorTimeout))},u.prototype._createScript=function(t){c("_createScript",t);var i,r=this,a=this.script=e.document.createElement("script");if(a.id="a"+n.string(8),a.src=t,a.type="text/javascript",a.charset="UTF-8",a.onerror=this._scriptError.bind(this),a.onload=function(){c("onload"),r._abort(new Error("JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(c("onreadystatechange",a.readyState),/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){r.loadedOkay=!0;try{a.onclick()}catch(t){}}a&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"===typeof a.async&&e.document.attachEvent)if(o.isOpera())i=this.script2=e.document.createElement("script"),i.text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=i.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(h){}a.async=!0}"undefined"!==typeof a.async&&(a.async=!0);var s=e.document.getElementsByTagName("head")[0];s.insertBefore(a,s.firstChild),i&&s.insertBefore(i,s.firstChild)},t.exports=u}).call(this,i("c8ba"))},"221b":function(t,e,i){"use strict";var r=i("7671"),n=i("4e79"),o=i("8d2e"),a=i("ceb6");t.exports=i("8d33")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},2239:function(t,e,i){"use strict";i("c7c1")("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},2444:function(t,e,i){"use strict";(function(e){var r=i("c532"),n=i("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function s(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=i("b50d")),t}var h={adapter:s(),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){h.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){h.headers[t]=r.merge(o)})),t.exports=h}).call(this,i("4362"))},2524:function(t,e,i){"use strict";i.r(e);var r=i("eee0");e["default"]={SINGLECLICK:"singleclick",CLICK:r["default"].CLICK,DBLCLICK:r["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},2551:function(t,e,i){var r=i("cdf9"),n=i("255a").document,o=r(n)&&r(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},"255a":function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"255f":function(t,e,i){"use strict";e["a"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},2635:function(t,e,i){var r=i("dfa5");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"26aa":function(t,e,i){i("9825"),i("3e66"),i("8e8c"),t.exports=i("a06f")},"26f2":function(t,e,i){"use strict";var r=i("1499"),n=i("5db0"),o=i("0a36").EventEmitter,a=i("59ca"),s=i("a87f"),h=i("94c2"),c=i("4035"),u=i("1ebb"),l=function(){};function f(t,e,i){if(!f.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=s.getOrigin(i),this.baseUrl=i,this.transUrl=e,this.transport=t,this.windowId=u.string(8);var n=s.addPath(i,"/iframe.html")+"#"+this.windowId;l(t,e,n),this.iframeObj=h.createIframe(n,(function(t){l("err callback"),r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()})),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}r(f,o),f.prototype.close=function(){if(l("close"),this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},f.prototype._message=function(t){if(l("message",t.data),s.isOriginEqual(t.origin,this.origin)){var e;try{e=n.parse(t.data)}catch(r){return void l("bad json",t.data)}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",n.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var i;try{i=n.parse(e.data)}catch(r){return void l("bad json",e.data)}this.emit("close",i[0],i[1]),this.close();break}else l("mismatched window id",e.windowId,this.windowId)}else l("not same origin",t.origin,this.origin)},f.prototype.postMessage=function(t,e){l("postMessage",t,e),this.iframeObj.post(n.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},f.prototype.send=function(t){l("send",t),this.postMessage("m",t)},f.enabled=function(){return h.iframeEnabled},f.transportName="iframe",f.roundTrips=2,t.exports=f},"277c":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("a0a2"),h=i("bd30"),c=2*Math.PI,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,c,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),c,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);e.Ring=u,u.prototype.className="Ring",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],h._registerNode(u),o.Factory.addGetterSetter(u,"innerRadius",0,s.getNumberValidator()),o.Factory.addGetterSetter(u,"outerRadius",0,s.getNumberValidator()),n.Collection.mapMethods(u)},2877:function(t,e,i){"use strict";function r(t,e,i,r,n,o,a,s){var h,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=h):n&&(h=s?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),h)if(c.functional){c._injectStyles=h;var u=c.render;c.render=function(t,e){return h.call(e),u(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,h):[h]}return{exports:t,options:c}}i.d(e,"a",(function(){return r}))},2882:function(t,e,i){var r=i("ea05"),n=i("0d63"),o=i("42ee");n(n.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},2939:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("b9e3"),a=i("213f"),s=i("157d"),h=i("b5c4"),c=i("a0a2"),u=i("8a49"),l=i("bd30"),f="#",d="beforeDraw",p="draw",g=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=g.length,y=function(t){function e(e){var i=t.call(this,e)||this;return i.canvas=new h.SceneCanvas,i.hitCanvas=new h.HitCanvas({pixelRatio:1}),i._waitingForDraw=!1,i.on("visibleChange.konva",i._checkVisibility),i._checkVisibility(),i.on("imageSmoothingEnabledChange.konva",i._setSmoothEnabled),i._setSmoothEnabled(),i}return r(e,t),e.prototype.createPNGStream=function(){var t=this.canvas._canvas;return t.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var i=this.getStage();return i&&(i.content.removeChild(this.getCanvas()._canvas),e<i.children.length-1?i.content.insertBefore(this.getCanvas()._canvas,i.children[e+1].getCanvas()._canvas):i.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){a.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){var t=a.Node.prototype.moveUp.call(this);if(!t)return!1;var e=this.getStage();return!!e&&(e.content.removeChild(this.getCanvas()._canvas),this.index<e.children.length-1?e.content.insertBefore(this.getCanvas()._canvas,e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(a.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(a.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return a.Node.prototype.remove.call(this),t&&t.parentNode&&n.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,i=t.height;return this.canvas.setSize(e,i),this.hitCanvas.setSize(e,i),this._setSmoothEnabled(),this},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&n.Util.throw("You may only add groups and shapes to a layer.")},e.prototype._toKonvaCanvas=function(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),a.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype.getIntersection=function(t,e){if(!this.isListening()||!this.isVisible())return null;var i=1,r=!1;while(1){for(var n=0;n<v;n++){var o=g[n],a=this._getIntersection({x:t.x+o.x*i,y:t.y+o.y*i}),s=a.shape;if(s&&e)return s.findAncestor(e,!0);if(s)return s;if(r=!!a.antialiased,!a.antialiased)break}if(!r)return null;i+=1}},e.prototype._getIntersection=function(t){var e=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,r=i[3];if(255===r){var o=n.Util._rgbToHex(i[0],i[1],i[2]),a=u.shapes[f+o];return a?{shape:a}:{antialiased:!0}}return r>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire(d,{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),o.Container.prototype.drawScene.call(this,r,e),this._fire(p,{node:this}),this},e.prototype.drawHit=function(t,e){var i=this.getLayer(),r=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),o.Container.prototype.drawHit.call(this,r,e),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.setHitGraphEnabled=function(t){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)},e.prototype.getHitGraphEnabled=function(t){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent,e=!!this.hitCanvas._canvas.parentNode;e?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e}(o.Container);e.Layer=y,y.prototype.nodeType="Layer",l._registerNode(y),s.Factory.addGetterSetter(y,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(y,"clearBeforeDraw",!0),s.Factory.addGetterSetter(y,"hitGraphEnabled",!0,c.getBooleanValidator()),n.Collection.mapMethods(y)},2943:function(t,e,i){"use strict";var r=i("42ee"),n=i("4151"),o=i("e5bc");i("ebca")("search",1,(function(t,e,i,a){return[function(i){var r=t(this),n=void 0==i?void 0:i[e];return void 0!==n?n.call(i,r):new RegExp(i)[e](String(r))},function(t){var e=a(i,t,this);if(e.done)return e.value;var s=r(t),h=String(this),c=s.lastIndex;n(c,0)||(s.lastIndex=0);var u=o(s,h);return n(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},"29cb":function(t,e,i){"use strict";var r=i("e603"),n=i("bded").getWeak,o=i("42ee"),a=i("cdf9"),s=i("4b13"),h=i("3032"),c=i("9e2d"),u=i("7e33"),l=i("388d"),f=c(5),d=c(6),p=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},y=function(t,e){return f(t.a,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var i=y(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,o){var c=t((function(t,r){s(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=r&&h(r,i,t[o],t)}));return r(c.prototype,{delete:function(t){if(!a(t))return!1;var i=n(t);return!0===i?g(l(this,e))["delete"](t):i&&u(i,this._i)&&delete i[this._i]},has:function(t){if(!a(t))return!1;var i=n(t);return!0===i?g(l(this,e)).has(t):i&&u(i,this._i)}}),c},def:function(t,e,i){var r=n(o(e),!0);return!0===r?g(t).set(e,i):r[t._i]=i,t},ufstore:g}},"29ec":function(t,e,i){"use strict";i("c7c1")("blink",(function(t){return function(){return t(this,"blink","","")}}))},"2b0e":function(t,e,i){"use strict";(function(t){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function r(t){return void 0===t||null===t}function n(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function h(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function l(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return n(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var i=Object.create(null),r=t.split(","),n=0;n<r.length;n++)i[r[n]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}v("slot,component",!0);var y=v("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var _=Object.prototype.hasOwnProperty;function b(t,e){return _.call(t,e)}function w(t){var e=Object.create(null);return function(i){var r=e[i];return r||(e[i]=t(i))}}var x=/-(\w)/g,S=w((function(t){return t.replace(x,(function(t,e){return e?e.toUpperCase():""}))})),E=w((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),O=/\B([A-Z])/g,T=w((function(t){return t.replace(O,"-$1").toLowerCase()}));function C(t,e){function i(i){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function A(t,e){return t.bind(e)}var L=Function.prototype.bind?A:C;function R(t,e){e=e||0;var i=t.length-e,r=new Array(i);while(i--)r[i]=t[i+e];return r}function M(t,e){for(var i in e)t[i]=e[i];return t}function I(t){for(var e={},i=0;i<t.length;i++)t[i]&&M(e,t[i]);return e}function P(t,e,i){}var N=function(t,e,i){return!1},F=function(t){return t};function k(t,e){if(t===e)return!0;var i=h(t),r=h(e);if(!i||!r)return!i&&!r&&String(t)===String(e);try{var n=Array.isArray(t),o=Array.isArray(e);if(n&&o)return t.length===e.length&&t.every((function(t,i){return k(t,e[i])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(n||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(i){return k(t[i],e[i])}))}catch(c){return!1}}function j(t,e){for(var i=0;i<t.length;i++)if(k(t[i],e))return i;return-1}function D(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var G="data-server-rendered",B=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:N,isReservedAttr:N,isUnknownElement:N,getTagNamespace:P,parsePlatformTagName:F,mustUseProp:N,async:!0,_lifecycleHooks:U},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function H(t,e,i,r){Object.defineProperty(t,e,{value:i,enumerable:!!r,writable:!0,configurable:!0})}var W=new RegExp("[^"+q.source+".$_\\d]");function Y(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}var K,X="__proto__"in{},Z="undefined"!==typeof window,$="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=$&&WXEnvironment.platform.toLowerCase(),Q=Z&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,it=Q&&Q.indexOf("edge/")>0,rt=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===J),nt=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),ot={}.watch,at=!1;if(Z)try{var st={};Object.defineProperty(st,"passive",{get:function(){at=!0}}),window.addEventListener("test-passive",null,st)}catch(Sa){}var ht=function(){return void 0===K&&(K=!Z&&!$&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),K},ct=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var lt,ft="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);lt="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=P,pt=0,gt=function(){this.id=pt++,this.subs=[]};gt.prototype.addSub=function(t){this.subs.push(t)},gt.prototype.removeSub=function(t){m(this.subs,t)},gt.prototype.depend=function(){gt.target&&gt.target.addDep(this)},gt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,i=t.length;e<i;e++)t[e].update()},gt.target=null;var vt=[];function yt(t){vt.push(t),gt.target=t}function mt(){vt.pop(),gt.target=vt[vt.length-1]}var _t=function(t,e,i,r,n,o,a,s){this.tag=t,this.data=e,this.children=i,this.text=r,this.elm=n,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},bt={child:{configurable:!0}};bt.child.get=function(){return this.componentInstance},Object.defineProperties(_t.prototype,bt);var wt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function xt(t){return new _t(void 0,void 0,void 0,String(t))}function St(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Et=Array.prototype,Ot=Object.create(Et),Tt=["push","pop","shift","unshift","splice","sort","reverse"];Tt.forEach((function(t){var e=Et[t];H(Ot,t,(function(){var i=[],r=arguments.length;while(r--)i[r]=arguments[r];var n,o=e.apply(this,i),a=this.__ob__;switch(t){case"push":case"unshift":n=i;break;case"splice":n=i.slice(2);break}return n&&a.observeArray(n),a.dep.notify(),o}))}));var Ct=Object.getOwnPropertyNames(Ot),At=!0;function Lt(t){At=t}var Rt=function(t){this.value=t,this.dep=new gt,this.vmCount=0,H(t,"__ob__",this),Array.isArray(t)?(X?Mt(t,Ot):It(t,Ot,Ct),this.observeArray(t)):this.walk(t)};function Mt(t,e){t.__proto__=e}function It(t,e,i){for(var r=0,n=i.length;r<n;r++){var o=i[r];H(t,o,e[o])}}function Pt(t,e){var i;if(h(t)&&!(t instanceof _t))return b(t,"__ob__")&&t.__ob__ instanceof Rt?i=t.__ob__:At&&!ht()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new Rt(t)),e&&i&&i.vmCount++,i}function Nt(t,e,i,r,n){var o=new gt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,h=a&&a.set;s&&!h||2!==arguments.length||(i=t[e]);var c=!n&&Pt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):i;return gt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&jt(e))),e},set:function(e){var r=s?s.call(t):i;e===r||e!==e&&r!==r||s&&!h||(h?h.call(t,e):i=e,c=!n&&Pt(e),o.notify())}})}}function Ft(t,e,i){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var r=t.__ob__;return t._isVue||r&&r.vmCount?i:r?(Nt(r.value,e,i),r.dep.notify(),i):(t[e]=i,i)}function kt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||b(t,e)&&(delete t[e],i&&i.dep.notify())}}function jt(t){for(var e=void 0,i=0,r=t.length;i<r;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&jt(e)}Rt.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)Nt(t,e[i])},Rt.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Pt(t[e])};var Dt=z.optionMergeStrategies;function Gt(t,e){if(!e)return t;for(var i,r,n,o=ft?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)i=o[a],"__ob__"!==i&&(r=t[i],n=e[i],b(t,i)?r!==n&&u(r)&&u(n)&&Gt(r,n):Ft(t,i,n));return t}function Bt(t,e,i){return i?function(){var r="function"===typeof e?e.call(i,i):e,n="function"===typeof t?t.call(i,i):t;return r?Gt(r,n):n}:e?t?function(){return Gt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var i=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return i?zt(i):i}function zt(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}function qt(t,e,i,r){var n=Object.create(t||null);return e?M(n,e):n}Dt.data=function(t,e,i){return i?Bt(t,e,i):e&&"function"!==typeof e?t:Bt(t,e)},U.forEach((function(t){Dt[t]=Ut})),B.forEach((function(t){Dt[t+"s"]=qt})),Dt.watch=function(t,e,i,r){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};for(var o in M(n,t),e){var a=n[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),n[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return n},Dt.props=Dt.methods=Dt.inject=Dt.computed=function(t,e,i,r){if(!t)return e;var n=Object.create(null);return M(n,t),e&&M(n,e),n},Dt.provide=Bt;var Vt=function(t,e){return void 0===e?t:e};function Ht(t,e){var i=t.props;if(i){var r,n,o,a={};if(Array.isArray(i)){r=i.length;while(r--)n=i[r],"string"===typeof n&&(o=S(n),a[o]={type:null})}else if(u(i))for(var s in i)n=i[s],o=S(s),a[o]=u(n)?n:{type:n};else 0;t.props=a}}function Wt(t,e){var i=t.inject;if(i){var r=t.inject={};if(Array.isArray(i))for(var n=0;n<i.length;n++)r[i[n]]={from:i[n]};else if(u(i))for(var o in i){var a=i[o];r[o]=u(a)?M({from:o},a):{from:a}}else 0}}function Yt(t){var e=t.directives;if(e)for(var i in e){var r=e[i];"function"===typeof r&&(e[i]={bind:r,update:r})}}function Kt(t,e,i){if("function"===typeof e&&(e=e.options),Ht(e,i),Wt(e,i),Yt(e),!e._base&&(e.extends&&(t=Kt(t,e.extends,i)),e.mixins))for(var r=0,n=e.mixins.length;r<n;r++)t=Kt(t,e.mixins[r],i);var o,a={};for(o in t)s(o);for(o in e)b(t,o)||s(o);function s(r){var n=Dt[r]||Vt;a[r]=n(t[r],e[r],i,r)}return a}function Xt(t,e,i,r){if("string"===typeof i){var n=t[e];if(b(n,i))return n[i];var o=S(i);if(b(n,o))return n[o];var a=E(o);if(b(n,a))return n[a];var s=n[i]||n[o]||n[a];return s}}function Zt(t,e,i,r){var n=e[t],o=!b(i,t),a=i[t],s=te(Boolean,n.type);if(s>-1)if(o&&!b(n,"default"))a=!1;else if(""===a||a===T(t)){var h=te(String,n.type);(h<0||s<h)&&(a=!0)}if(void 0===a){a=$t(r,n,t);var c=At;Lt(!0),Pt(a),Lt(c)}return a}function $t(t,e,i){if(b(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"===typeof r&&"Function"!==Jt(e.type)?r.call(t):r}}function Jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Jt(t)===Jt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var i=0,r=e.length;i<r;i++)if(Qt(e[i],t))return i;return-1}function ee(t,e,i){yt();try{if(e){var r=e;while(r=r.$parent){var n=r.$options.errorCaptured;if(n)for(var o=0;o<n.length;o++)try{var a=!1===n[o].call(r,t,e,i);if(a)return}catch(Sa){re(Sa,r,"errorCaptured hook")}}}re(t,e,i)}finally{mt()}}function ie(t,e,i,r,n){var o;try{o=i?t.apply(e,i):t.call(e),o&&!o._isVue&&d(o)&&!o._handled&&(o.catch((function(t){return ee(t,r,n+" (Promise/async)")})),o._handled=!0)}catch(Sa){ee(Sa,r,n)}return o}function re(t,e,i){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,i)}catch(Sa){Sa!==t&&ne(Sa,null,"config.errorHandler")}ne(t,e,i)}function ne(t,e,i){if(!Z&&!$||"undefined"===typeof console)throw t;console.error(t)}var oe,ae=!1,se=[],he=!1;function ce(){he=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();oe=function(){ue.then(ce),rt&&setTimeout(P)},ae=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var le=1,fe=new MutationObserver(ce),de=document.createTextNode(String(le));fe.observe(de,{characterData:!0}),oe=function(){le=(le+1)%2,de.data=String(le)},ae=!0}function pe(t,e){var i;if(se.push((function(){if(t)try{t.call(e)}catch(Sa){ee(Sa,e,"nextTick")}else i&&i(e)})),he||(he=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){i=t}))}var ge=new lt;function ve(t){ye(t,ge),ge.clear()}function ye(t,e){var i,r,n=Array.isArray(t);if(!(!n&&!h(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(n){i=t.length;while(i--)ye(t[i],e)}else{r=Object.keys(t),i=r.length;while(i--)ye(t[r[i]],e)}}}var me=w((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:i,capture:r,passive:e}}));function _e(t,e){function i(){var t=arguments,r=i.fns;if(!Array.isArray(r))return ie(r,null,arguments,e,"v-on handler");for(var n=r.slice(),o=0;o<n.length;o++)ie(n[o],null,t,e,"v-on handler")}return i.fns=t,i}function be(t,e,i,n,a,s){var h,c,u,l;for(h in t)c=t[h],u=e[h],l=me(h),r(c)||(r(u)?(r(c.fns)&&(c=t[h]=_e(c,s)),o(l.once)&&(c=t[h]=a(l.name,c,l.capture)),i(l.name,c,l.capture,l.passive,l.params)):c!==u&&(u.fns=c,t[h]=u));for(h in e)r(t[h])&&(l=me(h),n(l.name,e[h],l.capture))}function we(t,e,i){var a;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function h(){i.apply(this,arguments),m(a.fns,h)}r(s)?a=_e([h]):n(s.fns)&&o(s.merged)?(a=s,a.fns.push(h)):a=_e([s,h]),a.merged=!0,t[e]=a}function xe(t,e,i){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,h=t.props;if(n(s)||n(h))for(var c in o){var u=T(c);Se(a,h,c,u,!0)||Se(a,s,c,u,!1)}return a}}function Se(t,e,i,r,o){if(n(e)){if(b(e,i))return t[i]=e[i],o||delete e[i],!0;if(b(e,r))return t[i]=e[r],o||delete e[r],!0}return!1}function Ee(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Oe(t){return s(t)?[xt(t)]:Array.isArray(t)?Ce(t):void 0}function Te(t){return n(t)&&n(t.text)&&a(t.isComment)}function Ce(t,e){var i,a,h,c,u=[];for(i=0;i<t.length;i++)a=t[i],r(a)||"boolean"===typeof a||(h=u.length-1,c=u[h],Array.isArray(a)?a.length>0&&(a=Ce(a,(e||"")+"_"+i),Te(a[0])&&Te(c)&&(u[h]=xt(c.text+a[0].text),a.shift()),u.push.apply(u,a)):s(a)?Te(c)?u[h]=xt(c.text+a):""!==a&&u.push(xt(a)):Te(a)&&Te(c)?u[h]=xt(c.text+a.text):(o(t._isVList)&&n(a.tag)&&r(a.key)&&n(e)&&(a.key="__vlist"+e+"_"+i+"__"),u.push(a)));return u}function Ae(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Le(t){var e=Re(t.$options.inject,t);e&&(Lt(!1),Object.keys(e).forEach((function(i){Nt(t,i,e[i])})),Lt(!0))}function Re(t,e){if(t){for(var i=Object.create(null),r=ft?Reflect.ownKeys(t):Object.keys(t),n=0;n<r.length;n++){var o=r[n];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&b(s._provided,a)){i[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var h=t[o].default;i[o]="function"===typeof h?h.call(e):h}else 0}}return i}}function Me(t,e){if(!t||!t.length)return{};for(var i={},r=0,n=t.length;r<n;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(i.default||(i.default=[])).push(o);else{var s=a.slot,h=i[s]||(i[s]=[]);"template"===o.tag?h.push.apply(h,o.children||[]):h.push(o)}}for(var c in i)i[c].every(Ie)&&delete i[c];return i}function Ie(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Pe(t,e,r){var n,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==i&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var h in n={},t)t[h]&&"$"!==h[0]&&(n[h]=Ne(e,h,t[h]))}else n={};for(var c in e)c in n||(n[c]=Fe(e,c));return t&&Object.isExtensible(t)&&(t._normalized=n),H(n,"$stable",a),H(n,"$key",s),H(n,"$hasNormal",o),n}function Ne(t,e,i){var r=function(){var t=arguments.length?i.apply(null,arguments):i({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Oe(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return i.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Fe(t,e){return function(){return t[e]}}function ke(t,e){var i,r,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(i=new Array(t.length),r=0,o=t.length;r<o;r++)i[r]=e(t[r],r);else if("number"===typeof t)for(i=new Array(t),r=0;r<t;r++)i[r]=e(r+1,r);else if(h(t))if(ft&&t[Symbol.iterator]){i=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)i.push(e(u.value,i.length)),u=c.next()}else for(a=Object.keys(t),i=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],i[r]=e(t[s],s,r);return n(i)||(i=[]),i._isVList=!0,i}function je(t,e,i,r){var n,o=this.$scopedSlots[t];o?(i=i||{},r&&(i=M(M({},r),i)),n=o(i)||e):n=this.$slots[t]||e;var a=i&&i.slot;return a?this.$createElement("template",{slot:a},n):n}function De(t){return Xt(this.$options,"filters",t,!0)||F}function Ge(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Be(t,e,i,r,n){var o=z.keyCodes[e]||i;return n&&r&&!z.keyCodes[e]?Ge(n,r):o?Ge(o,t):r?T(r)!==e:void 0}function Ue(t,e,i,r,n){if(i)if(h(i)){var o;Array.isArray(i)&&(i=I(i));var a=function(a){if("class"===a||"style"===a||y(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||z.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var h=S(a),c=T(a);if(!(h in o)&&!(c in o)&&(o[a]=i[a],n)){var u=t.on||(t.on={});u["update:"+a]=function(t){i[a]=t}}};for(var s in i)a(s)}else;return t}function ze(t,e){var i=this._staticTrees||(this._staticTrees=[]),r=i[t];return r&&!e||(r=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ve(r,"__static__"+t,!1)),r}function qe(t,e,i){return Ve(t,"__once__"+e+(i?"_"+i:""),!0),t}function Ve(t,e,i){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&He(t[r],e+"_"+r,i);else He(t,e,i)}function He(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function We(t,e){if(e)if(u(e)){var i=t.on=t.on?M({},t.on):{};for(var r in e){var n=i[r],o=e[r];i[r]=n?[].concat(n,o):o}}else;return t}function Ye(t,e,i,r){e=e||{$stable:!i};for(var n=0;n<t.length;n++){var o=t[n];Array.isArray(o)?Ye(o,e,i):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ke(t,e){for(var i=0;i<e.length;i+=2){var r=e[i];"string"===typeof r&&r&&(t[e[i]]=e[i+1])}return t}function Xe(t,e){return"string"===typeof t?e+t:t}function Ze(t){t._o=qe,t._n=g,t._s=p,t._l=ke,t._t=je,t._q=k,t._i=j,t._m=ze,t._f=De,t._k=Be,t._b=Ue,t._v=xt,t._e=wt,t._u=Ye,t._g=We,t._d=Ke,t._p=Xe}function $e(t,e,r,n,a){var s,h=this,c=a.options;b(n,"_uid")?(s=Object.create(n),s._original=n):(s=n,n=n._original);var u=o(c._compiled),l=!u;this.data=t,this.props=e,this.children=r,this.parent=n,this.listeners=t.on||i,this.injections=Re(c.inject,n),this.slots=function(){return h.$slots||Pe(t.scopedSlots,h.$slots=Me(r,n)),h.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pe(t.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Pe(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,i,r){var o=ui(s,t,e,i,r,l);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=n),o}:this._c=function(t,e,i,r){return ui(s,t,e,i,r,l)}}function Je(t,e,r,o,a){var s=t.options,h={},c=s.props;if(n(c))for(var u in c)h[u]=Zt(u,c,e||i);else n(r.attrs)&&ti(h,r.attrs),n(r.props)&&ti(h,r.props);var l=new $e(r,h,a,o,t),f=s.render.call(null,l._c,l);if(f instanceof _t)return Qe(f,r,l.parent,s,l);if(Array.isArray(f)){for(var d=Oe(f)||[],p=new Array(d.length),g=0;g<d.length;g++)p[g]=Qe(d[g],r,l.parent,s,l);return p}}function Qe(t,e,i,r,n){var o=St(t);return o.fnContext=i,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ti(t,e){for(var i in e)t[S(i)]=e[i]}Ze($e.prototype);var ei={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;ei.prepatch(i,i)}else{var r=t.componentInstance=ni(t,Li);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions,r=e.componentInstance=t.componentInstance;Ni(r,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Di(i,"mounted")),t.data.keepAlive&&(e._isMounted?$i(i):ki(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?ji(e,!0):e.$destroy())}},ii=Object.keys(ei);function ri(t,e,i,a,s){if(!r(t)){var c=i.$options._base;if(h(t)&&(t=c.extend(t)),"function"===typeof t){var u;if(r(t.cid)&&(u=t,t=bi(u,c),void 0===t))return _i(u,e,i,a,s);e=e||{},br(t),n(e.model)&&si(t.options,e);var l=xe(e,t,s);if(o(t.options.functional))return Je(t,l,e,i,a);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}oi(e);var p=t.options.name||s,g=new _t("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:l,listeners:f,tag:s,children:a},u);return g}}}function ni(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return n(r)&&(i.render=r.render,i.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(i)}function oi(t){for(var e=t.hook||(t.hook={}),i=0;i<ii.length;i++){var r=ii[i],n=e[r],o=ei[r];n===o||n&&n._merged||(e[r]=n?ai(o,n):o)}}function ai(t,e){var i=function(i,r){t(i,r),e(i,r)};return i._merged=!0,i}function si(t,e){var i=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;n(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}var hi=1,ci=2;function ui(t,e,i,r,n,a){return(Array.isArray(i)||s(i))&&(n=r,r=i,i=void 0),o(a)&&(n=ci),li(t,e,i,r,n)}function li(t,e,i,r,o){if(n(i)&&n(i.__ob__))return wt();if(n(i)&&n(i.is)&&(e=i.is),!e)return wt();var a,s,h;(Array.isArray(r)&&"function"===typeof r[0]&&(i=i||{},i.scopedSlots={default:r[0]},r.length=0),o===ci?r=Oe(r):o===hi&&(r=Ee(r)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||z.getTagNamespace(e),a=z.isReservedTag(e)?new _t(z.parsePlatformTagName(e),i,r,void 0,void 0,t):i&&i.pre||!n(h=Xt(t.$options,"components",e))?new _t(e,i,r,void 0,void 0,t):ri(h,i,t,r,e)):a=ri(e,i,t,r);return Array.isArray(a)?a:n(a)?(n(s)&&fi(a,s),n(i)&&di(i),a):wt()}function fi(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),n(t.children))for(var a=0,s=t.children.length;a<s;a++){var h=t.children[a];n(h.tag)&&(r(h.ns)||o(i)&&"svg"!==h.tag)&&fi(h,e,i)}}function di(t){h(t.style)&&ve(t.style),h(t.class)&&ve(t.class)}function pi(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,n=r&&r.context;t.$slots=Me(e._renderChildren,n),t.$scopedSlots=i,t._c=function(e,i,r,n){return ui(t,e,i,r,n,!1)},t.$createElement=function(e,i,r,n){return ui(t,e,i,r,n,!0)};var o=r&&r.data;Nt(t,"$attrs",o&&o.attrs||i,null,!0),Nt(t,"$listeners",e._parentListeners||i,null,!0)}var gi,vi=null;function yi(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,r=i.render,n=i._parentVnode;n&&(e.$scopedSlots=Pe(n.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=n;try{vi=e,t=r.call(e._renderProxy,e.$createElement)}catch(Sa){ee(Sa,e,"render"),t=e._vnode}finally{vi=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=wt()),t.parent=n,t}}function mi(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function _i(t,e,i,r,n){var o=wt();return o.asyncFactory=t,o.asyncMeta={data:e,context:i,children:r,tag:n},o}function bi(t,e){if(o(t.error)&&n(t.errorComp))return t.errorComp;if(n(t.resolved))return t.resolved;var i=vi;if(i&&n(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),o(t.loading)&&n(t.loadingComp))return t.loadingComp;if(i&&!n(t.owners)){var a=t.owners=[i],s=!0,c=null,u=null;i.$on("hook:destroyed",(function(){return m(a,i)}));var l=function(t){for(var e=0,i=a.length;e<i;e++)a[e].$forceUpdate();t&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},f=D((function(i){t.resolved=mi(i,e),s?a.length=0:l(!0)})),p=D((function(e){n(t.errorComp)&&(t.error=!0,l(!0))})),g=t(f,p);return h(g)&&(d(g)?r(t.resolved)&&g.then(f,p):d(g.component)&&(g.component.then(f,p),n(g.error)&&(t.errorComp=mi(g.error,e)),n(g.loading)&&(t.loadingComp=mi(g.loading,e),0===g.delay?t.loading=!0:c=setTimeout((function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,l(!1))}),g.delay||200)),n(g.timeout)&&(u=setTimeout((function(){u=null,r(t.resolved)&&p(null)}),g.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function wi(t){return t.isComment&&t.asyncFactory}function xi(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(n(i)&&(n(i.componentOptions)||wi(i)))return i}}function Si(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ci(t,e)}function Ei(t,e){gi.$on(t,e)}function Oi(t,e){gi.$off(t,e)}function Ti(t,e){var i=gi;return function r(){var n=e.apply(null,arguments);null!==n&&i.$off(t,r)}}function Ci(t,e,i){gi=t,be(e,i||{},Ei,Oi,Ti,t),gi=void 0}function Ai(t){var e=/^hook:/;t.prototype.$on=function(t,i){var r=this;if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)r.$on(t[n],i);else(r._events[t]||(r._events[t]=[])).push(i),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var i=this;function r(){i.$off(t,r),e.apply(i,arguments)}return r.fn=e,i.$on(t,r),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)i.$off(t[r],e);return i}var o,a=i._events[t];if(!a)return i;if(!e)return i._events[t]=null,i;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?R(i):i;for(var r=R(arguments,1),n='event handler for "'+t+'"',o=0,a=i.length;o<a;o++)ie(i[o],e,r,e,n)}return e}}var Li=null;function Ri(t){var e=Li;return Li=t,function(){Li=e}}function Mi(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ii(t){t.prototype._update=function(t,e){var i=this,r=i.$el,n=i._vnode,o=Ri(i);i._vnode=t,i.$el=n?i.__patch__(n,t):i.__patch__(i.$el,t,e,!1),o(),r&&(r.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Di(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();var i=t._watchers.length;while(i--)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Di(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pi(t,e,i){var r;return t.$el=e,t.$options.render||(t.$options.render=wt),Di(t,"beforeMount"),r=function(){t._update(t._render(),i)},new er(t,r,P,{before:function(){t._isMounted&&!t._isDestroyed&&Di(t,"beforeUpdate")}},!0),i=!1,null==t.$vnode&&(t._isMounted=!0,Di(t,"mounted")),t}function Ni(t,e,r,n,o){var a=n.data.scopedSlots,s=t.$scopedSlots,h=!!(a&&!a.$stable||s!==i&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||h);if(t.$options._parentVnode=n,t.$vnode=n,t._vnode&&(t._vnode.parent=n),t.$options._renderChildren=o,t.$attrs=n.data.attrs||i,t.$listeners=r||i,e&&t.$options.props){Lt(!1);for(var u=t._props,l=t.$options._propKeys||[],f=0;f<l.length;f++){var d=l[f],p=t.$options.props;u[d]=Zt(d,p,e,t)}Lt(!0),t.$options.propsData=e}r=r||i;var g=t.$options._parentListeners;t.$options._parentListeners=r,Ci(t,r,g),c&&(t.$slots=Me(o,n.context),t.$forceUpdate())}function Fi(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function ki(t,e){if(e){if(t._directInactive=!1,Fi(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)ki(t.$children[i]);Di(t,"activated")}}function ji(t,e){if((!e||(t._directInactive=!0,!Fi(t)))&&!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)ji(t.$children[i]);Di(t,"deactivated")}}function Di(t,e){yt();var i=t.$options[e],r=e+" hook";if(i)for(var n=0,o=i.length;n<o;n++)ie(i[n],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),mt()}var Gi=[],Bi=[],Ui={},zi=!1,qi=!1,Vi=0;function Hi(){Vi=Gi.length=Bi.length=0,Ui={},zi=qi=!1}var Wi=0,Yi=Date.now;if(Z&&!tt){var Ki=window.performance;Ki&&"function"===typeof Ki.now&&Yi()>document.createEvent("Event").timeStamp&&(Yi=function(){return Ki.now()})}function Xi(){var t,e;for(Wi=Yi(),qi=!0,Gi.sort((function(t,e){return t.id-e.id})),Vi=0;Vi<Gi.length;Vi++)t=Gi[Vi],t.before&&t.before(),e=t.id,Ui[e]=null,t.run();var i=Bi.slice(),r=Gi.slice();Hi(),Ji(i),Zi(r),ct&&z.devtools&&ct.emit("flush")}function Zi(t){var e=t.length;while(e--){var i=t[e],r=i.vm;r._watcher===i&&r._isMounted&&!r._isDestroyed&&Di(r,"updated")}}function $i(t){t._inactive=!1,Bi.push(t)}function Ji(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,ki(t[e],!0)}function Qi(t){var e=t.id;if(null==Ui[e]){if(Ui[e]=!0,qi){var i=Gi.length-1;while(i>Vi&&Gi[i].id>t.id)i--;Gi.splice(i+1,0,t)}else Gi.push(t);zi||(zi=!0,pe(Xi))}}var tr=0,er=function(t,e,i,r,n){this.vm=t,n&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression="","function"===typeof e?this.getter=e:(this.getter=Y(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};er.prototype.get=function(){var t;yt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Sa){if(!this.user)throw Sa;ee(Sa,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ve(t),mt(),this.cleanupDeps()}return t},er.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},er.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},er.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qi(this)},er.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Sa){ee(Sa,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},er.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},er.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},er.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ir={enumerable:!0,configurable:!0,get:P,set:P};function rr(t,e,i){ir.get=function(){return this[e][i]},ir.set=function(t){this[e][i]=t},Object.defineProperty(t,i,ir)}function nr(t){t._watchers=[];var e=t.$options;e.props&&or(t,e.props),e.methods&&dr(t,e.methods),e.data?ar(t):Pt(t._data={},!0),e.computed&&cr(t,e.computed),e.watch&&e.watch!==ot&&pr(t,e.watch)}function or(t,e){var i=t.$options.propsData||{},r=t._props={},n=t.$options._propKeys=[],o=!t.$parent;o||Lt(!1);var a=function(o){n.push(o);var a=Zt(o,e,i,t);Nt(r,o,a),o in t||rr(t,"_props",o)};for(var s in e)a(s);Lt(!0)}function ar(t){var e=t.$options.data;e=t._data="function"===typeof e?sr(e,t):e||{},u(e)||(e={});var i=Object.keys(e),r=t.$options.props,n=(t.$options.methods,i.length);while(n--){var o=i[n];0,r&&b(r,o)||V(o)||rr(t,"_data",o)}Pt(e,!0)}function sr(t,e){yt();try{return t.call(e,e)}catch(Sa){return ee(Sa,e,"data()"),{}}finally{mt()}}var hr={lazy:!0};function cr(t,e){var i=t._computedWatchers=Object.create(null),r=ht();for(var n in e){var o=e[n],a="function"===typeof o?o:o.get;0,r||(i[n]=new er(t,a||P,P,hr)),n in t||ur(t,n,o)}}function ur(t,e,i){var r=!ht();"function"===typeof i?(ir.get=r?lr(e):fr(i),ir.set=P):(ir.get=i.get?r&&!1!==i.cache?lr(e):fr(i.get):P,ir.set=i.set||P),Object.defineProperty(t,e,ir)}function lr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),gt.target&&e.depend(),e.value}}function fr(t){return function(){return t.call(this,this)}}function dr(t,e){t.$options.props;for(var i in e)t[i]="function"!==typeof e[i]?P:L(e[i],t)}function pr(t,e){for(var i in e){var r=e[i];if(Array.isArray(r))for(var n=0;n<r.length;n++)gr(t,i,r[n]);else gr(t,i,r)}}function gr(t,e,i,r){return u(i)&&(r=i,i=i.handler),"string"===typeof i&&(i=t[i]),t.$watch(e,i,r)}function vr(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=Ft,t.prototype.$delete=kt,t.prototype.$watch=function(t,e,i){var r=this;if(u(e))return gr(r,t,e,i);i=i||{},i.user=!0;var n=new er(r,t,e,i);if(i.immediate)try{e.call(r,n.value)}catch(o){ee(o,r,'callback for immediate watcher "'+n.expression+'"')}return function(){n.teardown()}}}var yr=0;function mr(t){t.prototype._init=function(t){var e=this;e._uid=yr++,e._isVue=!0,t&&t._isComponent?_r(e,t):e.$options=Kt(br(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Mi(e),Si(e),pi(e),Di(e,"beforeCreate"),Le(e),nr(e),Ae(e),Di(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function _r(t,e){var i=t.$options=Object.create(t.constructor.options),r=e._parentVnode;i.parent=e.parent,i._parentVnode=r;var n=r.componentOptions;i.propsData=n.propsData,i._parentListeners=n.listeners,i._renderChildren=n.children,i._componentTag=n.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function br(t){var e=t.options;if(t.super){var i=br(t.super),r=t.superOptions;if(i!==r){t.superOptions=i;var n=wr(t);n&&M(t.extendOptions,n),e=t.options=Kt(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function wr(t){var e,i=t.options,r=t.sealedOptions;for(var n in i)i[n]!==r[n]&&(e||(e={}),e[n]=i[n]);return e}function xr(t){this._init(t)}function Sr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=R(arguments,1);return i.unshift(this),"function"===typeof t.install?t.install.apply(t,i):"function"===typeof t&&t.apply(null,i),e.push(t),this}}function Er(t){t.mixin=function(t){return this.options=Kt(this.options,t),this}}function Or(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,r=i.cid,n=t._Ctor||(t._Ctor={});if(n[r])return n[r];var o=t.name||i.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Kt(i.options,t),a["super"]=i,a.options.props&&Tr(a),a.options.computed&&Cr(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,B.forEach((function(t){a[t]=i[t]})),o&&(a.options.components[o]=a),a.superOptions=i.options,a.extendOptions=t,a.sealedOptions=M({},a.options),n[r]=a,a}}function Tr(t){var e=t.options.props;for(var i in e)rr(t.prototype,"_props",i)}function Cr(t){var e=t.options.computed;for(var i in e)ur(t.prototype,i,e[i])}function Ar(t){B.forEach((function(e){t[e]=function(t,i){return i?("component"===e&&u(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"===typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}}))}function Lr(t){return t&&(t.Ctor.options.name||t.tag)}function Rr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function Mr(t,e){var i=t.cache,r=t.keys,n=t._vnode;for(var o in i){var a=i[o];if(a){var s=Lr(a.componentOptions);s&&!e(s)&&Ir(i,o,r,n)}}}function Ir(t,e,i,r){var n=t[e];!n||r&&n.tag===r.tag||n.componentInstance.$destroy(),t[e]=null,m(i,e)}mr(xr),vr(xr),Ai(xr),Ii(xr),yi(xr);var Pr=[String,RegExp,Array],Nr={name:"keep-alive",abstract:!0,props:{include:Pr,exclude:Pr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ir(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Mr(t,(function(t){return Rr(e,t)}))})),this.$watch("exclude",(function(e){Mr(t,(function(t){return!Rr(e,t)}))}))},render:function(){var t=this.$slots.default,e=xi(t),i=e&&e.componentOptions;if(i){var r=Lr(i),n=this,o=n.include,a=n.exclude;if(o&&(!r||!Rr(o,r))||a&&r&&Rr(a,r))return e;var s=this,h=s.cache,c=s.keys,u=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;h[u]?(e.componentInstance=h[u].componentInstance,m(c,u),c.push(u)):(h[u]=e,c.push(u),this.max&&c.length>parseInt(this.max)&&Ir(h,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Fr={KeepAlive:Nr};function kr(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:dt,extend:M,mergeOptions:Kt,defineReactive:Nt},t.set=Ft,t.delete=kt,t.nextTick=pe,t.observable=function(t){return Pt(t),t},t.options=Object.create(null),B.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,M(t.options.components,Fr),Sr(t),Er(t),Or(t),Ar(t)}kr(xr),Object.defineProperty(xr.prototype,"$isServer",{get:ht}),Object.defineProperty(xr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xr,"FunctionalRenderContext",{value:$e}),xr.version="2.6.11";var jr=v("style,class"),Dr=v("input,textarea,option,select,progress"),Gr=function(t,e,i){return"value"===i&&Dr(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},Br=v("contenteditable,draggable,spellcheck"),Ur=v("events,caret,typing,plaintext-only"),zr=function(t,e){return Yr(e)||"false"===e?"false":"contenteditable"===t&&Ur(e)?e:"true"},qr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Vr="http://www.w3.org/1999/xlink",Hr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Wr=function(t){return Hr(t)?t.slice(6,t.length):""},Yr=function(t){return null==t||!1===t};function Kr(t){var e=t.data,i=t,r=t;while(n(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Xr(r.data,e));while(n(i=i.parent))i&&i.data&&(e=Xr(e,i.data));return Zr(e.staticClass,e.class)}function Xr(t,e){return{staticClass:$r(t.staticClass,e.staticClass),class:n(t.class)?[t.class,e.class]:e.class}}function Zr(t,e){return n(t)||n(e)?$r(t,Jr(e)):""}function $r(t,e){return t?e?t+" "+e:t:e||""}function Jr(t){return Array.isArray(t)?Qr(t):h(t)?tn(t):"string"===typeof t?t:""}function Qr(t){for(var e,i="",r=0,o=t.length;r<o;r++)n(e=Jr(t[r]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function tn(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}var en={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},rn=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),nn=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),on=function(t){return rn(t)||nn(t)};function an(t){return nn(t)?"svg":"math"===t?"math":void 0}var sn=Object.create(null);function hn(t){if(!Z)return!0;if(on(t))return!1;if(t=t.toLowerCase(),null!=sn[t])return sn[t];var e=document.createElement(t);return t.indexOf("-")>-1?sn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:sn[t]=/HTMLUnknownElement/.test(e.toString())}var cn=v("text,number,password,search,email,tel,url");function un(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function ln(t,e){var i=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function fn(t,e){return document.createElementNS(en[t],e)}function dn(t){return document.createTextNode(t)}function pn(t){return document.createComment(t)}function gn(t,e,i){t.insertBefore(e,i)}function vn(t,e){t.removeChild(e)}function yn(t,e){t.appendChild(e)}function mn(t){return t.parentNode}function _n(t){return t.nextSibling}function bn(t){return t.tagName}function wn(t,e){t.textContent=e}function xn(t,e){t.setAttribute(e,"")}var Sn=Object.freeze({createElement:ln,createElementNS:fn,createTextNode:dn,createComment:pn,insertBefore:gn,removeChild:vn,appendChild:yn,parentNode:mn,nextSibling:_n,tagName:bn,setTextContent:wn,setStyleScope:xn}),En={create:function(t,e){On(e)},update:function(t,e){t.data.ref!==e.data.ref&&(On(t,!0),On(e))},destroy:function(t){On(t,!0)}};function On(t,e){var i=t.data.ref;if(n(i)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[i])?m(a[i],o):a[i]===o&&(a[i]=void 0):t.data.refInFor?Array.isArray(a[i])?a[i].indexOf(o)<0&&a[i].push(o):a[i]=[o]:a[i]=o}}var Tn=new _t("",{},[]),Cn=["create","activate","update","remove","destroy"];function An(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&n(t.data)===n(e.data)&&Ln(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Ln(t,e){if("input"!==t.tag)return!0;var i,r=n(i=t.data)&&n(i=i.attrs)&&i.type,o=n(i=e.data)&&n(i=i.attrs)&&i.type;return r===o||cn(r)&&cn(o)}function Rn(t,e,i){var r,o,a={};for(r=e;r<=i;++r)o=t[r].key,n(o)&&(a[o]=r);return a}function Mn(t){var e,i,a={},h=t.modules,c=t.nodeOps;for(e=0;e<Cn.length;++e)for(a[Cn[e]]=[],i=0;i<h.length;++i)n(h[i][Cn[e]])&&a[Cn[e]].push(h[i][Cn[e]]);function u(t){return new _t(c.tagName(t).toLowerCase(),{},[],void 0,t)}function l(t,e){function i(){0===--i.listeners&&f(t)}return i.listeners=e,i}function f(t){var e=c.parentNode(t);n(e)&&c.removeChild(e,t)}function d(t,e,i,r,a,s,h){if(n(t.elm)&&n(s)&&(t=s[h]=St(t)),t.isRootInsert=!a,!p(t,e,i,r)){var u=t.data,l=t.children,f=t.tag;n(f)?(t.elm=t.ns?c.createElementNS(t.ns,f):c.createElement(f,t),x(t),_(t,l,e),n(u)&&w(t,e),m(i,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),m(i,t.elm,r)):(t.elm=c.createTextNode(t.text),m(i,t.elm,r))}}function p(t,e,i,r){var a=t.data;if(n(a)){var s=n(t.componentInstance)&&a.keepAlive;if(n(a=a.hook)&&n(a=a.init)&&a(t,!1),n(t.componentInstance))return g(t,e),m(i,t.elm,r),o(s)&&y(t,e,i,r),!0}}function g(t,e){n(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(w(t,e),x(t)):(On(t),e.push(t))}function y(t,e,i,r){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,n(o=s.data)&&n(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Tn,s);e.push(s);break}m(i,t.elm,r)}function m(t,e,i){n(t)&&(n(i)?c.parentNode(i)===t&&c.insertBefore(t,e,i):c.appendChild(t,e))}function _(t,e,i){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],i,t.elm,null,!0,e,r)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return n(t.tag)}function w(t,i){for(var r=0;r<a.create.length;++r)a.create[r](Tn,t);e=t.data.hook,n(e)&&(n(e.create)&&e.create(Tn,t),n(e.insert)&&i.push(t))}function x(t){var e;if(n(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var i=t;while(i)n(e=i.context)&&n(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),i=i.parent}n(e=Li)&&e!==t.context&&e!==t.fnContext&&n(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function S(t,e,i,r,n,o){for(;r<=n;++r)d(i[r],o,t,e,!1,i,r)}function E(t){var e,i,r=t.data;if(n(r))for(n(e=r.hook)&&n(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(n(e=t.children))for(i=0;i<t.children.length;++i)E(t.children[i])}function O(t,e,i){for(;e<=i;++e){var r=t[e];n(r)&&(n(r.tag)?(T(r),E(r)):f(r.elm))}}function T(t,e){if(n(e)||n(t.data)){var i,r=a.remove.length+1;for(n(e)?e.listeners+=r:e=l(t.elm,r),n(i=t.componentInstance)&&n(i=i._vnode)&&n(i.data)&&T(i,e),i=0;i<a.remove.length;++i)a.remove[i](t,e);n(i=t.data.hook)&&n(i=i.remove)?i(t,e):e()}else f(t.elm)}function C(t,e,i,o,a){var s,h,u,l,f=0,p=0,g=e.length-1,v=e[0],y=e[g],m=i.length-1,_=i[0],b=i[m],w=!a;while(f<=g&&p<=m)r(v)?v=e[++f]:r(y)?y=e[--g]:An(v,_)?(L(v,_,o,i,p),v=e[++f],_=i[++p]):An(y,b)?(L(y,b,o,i,m),y=e[--g],b=i[--m]):An(v,b)?(L(v,b,o,i,m),w&&c.insertBefore(t,v.elm,c.nextSibling(y.elm)),v=e[++f],b=i[--m]):An(y,_)?(L(y,_,o,i,p),w&&c.insertBefore(t,y.elm,v.elm),y=e[--g],_=i[++p]):(r(s)&&(s=Rn(e,f,g)),h=n(_.key)?s[_.key]:A(_,e,f,g),r(h)?d(_,o,t,v.elm,!1,i,p):(u=e[h],An(u,_)?(L(u,_,o,i,p),e[h]=void 0,w&&c.insertBefore(t,u.elm,v.elm)):d(_,o,t,v.elm,!1,i,p)),_=i[++p]);f>g?(l=r(i[m+1])?null:i[m+1].elm,S(t,l,i,p,m,o)):p>m&&O(e,f,g)}function A(t,e,i,r){for(var o=i;o<r;o++){var a=e[o];if(n(a)&&An(t,a))return o}}function L(t,e,i,s,h,u){if(t!==e){n(e.elm)&&n(s)&&(e=s[h]=St(e));var l=e.elm=t.elm;if(o(t.isAsyncPlaceholder))n(e.asyncFactory.resolved)?I(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;n(d)&&n(f=d.hook)&&n(f=f.prepatch)&&f(t,e);var p=t.children,g=e.children;if(n(d)&&b(e)){for(f=0;f<a.update.length;++f)a.update[f](t,e);n(f=d.hook)&&n(f=f.update)&&f(t,e)}r(e.text)?n(p)&&n(g)?p!==g&&C(l,p,g,i,u):n(g)?(n(t.text)&&c.setTextContent(l,""),S(l,null,g,0,g.length-1,i)):n(p)?O(p,0,p.length-1):n(t.text)&&c.setTextContent(l,""):t.text!==e.text&&c.setTextContent(l,e.text),n(d)&&n(f=d.hook)&&n(f=f.postpatch)&&f(t,e)}}}function R(t,e,i){if(o(i)&&n(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var M=v("attrs,class,staticClass,staticStyle,key");function I(t,e,i,r){var a,s=e.tag,h=e.data,c=e.children;if(r=r||h&&h.pre,e.elm=t,o(e.isComment)&&n(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(n(h)&&(n(a=h.hook)&&n(a=a.init)&&a(e,!0),n(a=e.componentInstance)))return g(e,i),!0;if(n(s)){if(n(c))if(t.hasChildNodes())if(n(a=h)&&n(a=a.domProps)&&n(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var u=!0,l=t.firstChild,f=0;f<c.length;f++){if(!l||!I(l,c[f],i,r)){u=!1;break}l=l.nextSibling}if(!u||l)return!1}else _(e,c,i);if(n(h)){var d=!1;for(var p in h)if(!M(p)){d=!0,w(e,i);break}!d&&h["class"]&&ve(h["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,s){if(!r(e)){var h=!1,l=[];if(r(t))h=!0,d(e,l);else{var f=n(t.nodeType);if(!f&&An(t,e))L(t,e,l,null,null,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(G)&&(t.removeAttribute(G),i=!0),o(i)&&I(t,e,l))return R(e,l,!0),t;t=u(t)}var p=t.elm,g=c.parentNode(p);if(d(e,l,p._leaveCb?null:g,c.nextSibling(p)),n(e.parent)){var v=e.parent,y=b(e);while(v){for(var m=0;m<a.destroy.length;++m)a.destroy[m](v);if(v.elm=e.elm,y){for(var _=0;_<a.create.length;++_)a.create[_](Tn,v);var w=v.data.hook.insert;if(w.merged)for(var x=1;x<w.fns.length;x++)w.fns[x]()}else On(v);v=v.parent}}n(g)?O([t],0,0):n(t.tag)&&E(t)}}return R(e,l,h),e.elm}n(t)&&E(t)}}var In={create:Pn,update:Pn,destroy:function(t){Pn(t,Tn)}};function Pn(t,e){(t.data.directives||e.data.directives)&&Nn(t,e)}function Nn(t,e){var i,r,n,o=t===Tn,a=e===Tn,s=kn(t.data.directives,t.context),h=kn(e.data.directives,e.context),c=[],u=[];for(i in h)r=s[i],n=h[i],r?(n.oldValue=r.value,n.oldArg=r.arg,Dn(n,"update",e,t),n.def&&n.def.componentUpdated&&u.push(n)):(Dn(n,"bind",e,t),n.def&&n.def.inserted&&c.push(n));if(c.length){var l=function(){for(var i=0;i<c.length;i++)Dn(c[i],"inserted",e,t)};o?we(e,"insert",l):l()}if(u.length&&we(e,"postpatch",(function(){for(var i=0;i<u.length;i++)Dn(u[i],"componentUpdated",e,t)})),!o)for(i in s)h[i]||Dn(s[i],"unbind",t,t,a)}var Fn=Object.create(null);function kn(t,e){var i,r,n=Object.create(null);if(!t)return n;for(i=0;i<t.length;i++)r=t[i],r.modifiers||(r.modifiers=Fn),n[jn(r)]=r,r.def=Xt(e.$options,"directives",r.name,!0);return n}function jn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Dn(t,e,i,r,n){var o=t.def&&t.def[e];if(o)try{o(i.elm,t,i,r,n)}catch(Sa){ee(Sa,i.context,"directive "+t.name+" "+e+" hook")}}var Gn=[En,In];function Bn(t,e){var i=e.componentOptions;if((!n(i)||!1!==i.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var o,a,s,h=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(o in n(u.__ob__)&&(u=e.data.attrs=M({},u)),u)a=u[o],s=c[o],s!==a&&Un(h,o,a);for(o in(tt||it)&&u.value!==c.value&&Un(h,"value",u.value),c)r(u[o])&&(Hr(o)?h.removeAttributeNS(Vr,Wr(o)):Br(o)||h.removeAttribute(o))}}function Un(t,e,i){t.tagName.indexOf("-")>-1?zn(t,e,i):qr(e)?Yr(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):Br(e)?t.setAttribute(e,zr(e,i)):Hr(e)?Yr(i)?t.removeAttributeNS(Vr,Wr(e)):t.setAttributeNS(Vr,e,i):zn(t,e,i)}function zn(t,e,i){if(Yr(i))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==i&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,i)}}var qn={create:Bn,update:Bn};function Vn(t,e){var i=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Kr(e),h=i._transitionClasses;n(h)&&(s=$r(s,Jr(h))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}var Hn,Wn={create:Vn,update:Vn},Yn="__r",Kn="__c";function Xn(t){if(n(t[Yn])){var e=tt?"change":"input";t[e]=[].concat(t[Yn],t[e]||[]),delete t[Yn]}n(t[Kn])&&(t.change=[].concat(t[Kn],t.change||[]),delete t[Kn])}function Zn(t,e,i){var r=Hn;return function n(){var o=e.apply(null,arguments);null!==o&&Qn(t,n,i,r)}}var $n=ae&&!(nt&&Number(nt[1])<=53);function Jn(t,e,i,r){if($n){var n=Wi,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=n||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Hn.addEventListener(t,e,at?{capture:i,passive:r}:i)}function Qn(t,e,i,r){(r||Hn).removeEventListener(t,e._wrapper||e,i)}function to(t,e){if(!r(t.data.on)||!r(e.data.on)){var i=e.data.on||{},n=t.data.on||{};Hn=e.elm,Xn(i),be(i,n,Jn,Qn,Zn,e.context),Hn=void 0}}var eo,io={create:to,update:to};function ro(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var i,o,a=e.elm,s=t.data.domProps||{},h=e.data.domProps||{};for(i in n(h.__ob__)&&(h=e.data.domProps=M({},h)),s)i in h||(a[i]="");for(i in h){if(o=h[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),o===s[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i&&"PROGRESS"!==a.tagName){a._value=o;var c=r(o)?"":String(o);no(a,c)&&(a.value=c)}else if("innerHTML"===i&&nn(a.tagName)&&r(a.innerHTML)){eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+o+"</svg>";var u=eo.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(u.firstChild)a.appendChild(u.firstChild)}else if(o!==s[i])try{a[i]=o}catch(Sa){}}}}function no(t,e){return!t.composing&&("OPTION"===t.tagName||oo(t,e)||ao(t,e))}function oo(t,e){var i=!0;try{i=document.activeElement!==t}catch(Sa){}return i&&t.value!==e}function ao(t,e){var i=t.value,r=t._vModifiers;if(n(r)){if(r.number)return g(i)!==g(e);if(r.trim)return i.trim()!==e.trim()}return i!==e}var so={create:ro,update:ro},ho=w((function(t){var e={},i=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(i).forEach((function(t){if(t){var i=t.split(r);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function co(t){var e=uo(t.style);return t.staticStyle?M(t.staticStyle,e):e}function uo(t){return Array.isArray(t)?I(t):"string"===typeof t?ho(t):t}function lo(t,e){var i,r={};if(e){var n=t;while(n.componentInstance)n=n.componentInstance._vnode,n&&n.data&&(i=co(n.data))&&M(r,i)}(i=co(t.data))&&M(r,i);var o=t;while(o=o.parent)o.data&&(i=co(o.data))&&M(r,i);return r}var fo,po=/^--/,go=/\s*!important$/,vo=function(t,e,i){if(po.test(e))t.style.setProperty(e,i);else if(go.test(i))t.style.setProperty(T(e),i.replace(go,""),"important");else{var r=mo(e);if(Array.isArray(i))for(var n=0,o=i.length;n<o;n++)t.style[r]=i[n];else t.style[r]=i}},yo=["Webkit","Moz","ms"],mo=w((function(t){if(fo=fo||document.createElement("div").style,t=S(t),"filter"!==t&&t in fo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<yo.length;i++){var r=yo[i]+e;if(r in fo)return r}}));function _o(t,e){var i=e.data,o=t.data;if(!(r(i.staticStyle)&&r(i.style)&&r(o.staticStyle)&&r(o.style))){var a,s,h=e.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},l=c||u,f=uo(e.data.style)||{};e.data.normalizedStyle=n(f.__ob__)?M({},f):f;var d=lo(e,!0);for(s in l)r(d[s])&&vo(h,s,"");for(s in d)a=d[s],a!==l[s]&&vo(h,s,null==a?"":a)}}var bo={create:_o,update:_o},wo=/\s+/;function xo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(wo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function So(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(wo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var i=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(i.indexOf(r)>=0)i=i.replace(r," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function Eo(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&M(e,Oo(t.name||"v")),M(e,t),e}return"string"===typeof t?Oo(t):void 0}}var Oo=w((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),To=Z&&!et,Co="transition",Ao="animation",Lo="transition",Ro="transitionend",Mo="animation",Io="animationend";To&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Lo="WebkitTransition",Ro="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Mo="WebkitAnimation",Io="webkitAnimationEnd"));var Po=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function No(t){Po((function(){Po(t)}))}function Fo(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),xo(t,e))}function ko(t,e){t._transitionClasses&&m(t._transitionClasses,e),So(t,e)}function jo(t,e,i){var r=Go(t,e),n=r.type,o=r.timeout,a=r.propCount;if(!n)return i();var s=n===Co?Ro:Io,h=0,c=function(){t.removeEventListener(s,u),i()},u=function(e){e.target===t&&++h>=a&&c()};setTimeout((function(){h<a&&c()}),o+1),t.addEventListener(s,u)}var Do=/\b(transform|all)(,|$)/;function Go(t,e){var i,r=window.getComputedStyle(t),n=(r[Lo+"Delay"]||"").split(", "),o=(r[Lo+"Duration"]||"").split(", "),a=Bo(n,o),s=(r[Mo+"Delay"]||"").split(", "),h=(r[Mo+"Duration"]||"").split(", "),c=Bo(s,h),u=0,l=0;e===Co?a>0&&(i=Co,u=a,l=o.length):e===Ao?c>0&&(i=Ao,u=c,l=h.length):(u=Math.max(a,c),i=u>0?a>c?Co:Ao:null,l=i?i===Co?o.length:h.length:0);var f=i===Co&&Do.test(r[Lo+"Property"]);return{type:i,timeout:u,propCount:l,hasTransform:f}}function Bo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,i){return Uo(e)+Uo(t[i])})))}function Uo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function zo(t,e){var i=t.elm;n(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=Eo(t.data.transition);if(!r(o)&&!n(i._enterCb)&&1===i.nodeType){var a=o.css,s=o.type,c=o.enterClass,u=o.enterToClass,l=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,p=o.appearActiveClass,v=o.beforeEnter,y=o.enter,m=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,x=o.afterAppear,S=o.appearCancelled,E=o.duration,O=Li,T=Li.$vnode;while(T&&T.parent)O=T.context,T=T.parent;var C=!O._isMounted||!t.isRootInsert;if(!C||w||""===w){var A=C&&f?f:c,L=C&&p?p:l,R=C&&d?d:u,M=C&&b||v,I=C&&"function"===typeof w?w:y,P=C&&x||m,N=C&&S||_,F=g(h(E)?E.enter:E);0;var k=!1!==a&&!et,j=Ho(I),G=i._enterCb=D((function(){k&&(ko(i,R),ko(i,L)),G.cancelled?(k&&ko(i,A),N&&N(i)):P&&P(i),i._enterCb=null}));t.data.show||we(t,"insert",(function(){var e=i.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(i,G)})),M&&M(i),k&&(Fo(i,A),Fo(i,L),No((function(){ko(i,A),G.cancelled||(Fo(i,R),j||(Vo(F)?setTimeout(G,F):jo(i,s,G)))}))),t.data.show&&(e&&e(),I&&I(i,G)),k||j||G()}}}function qo(t,e){var i=t.elm;n(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var o=Eo(t.data.transition);if(r(o)||1!==i.nodeType)return e();if(!n(i._leaveCb)){var a=o.css,s=o.type,c=o.leaveClass,u=o.leaveToClass,l=o.leaveActiveClass,f=o.beforeLeave,d=o.leave,p=o.afterLeave,v=o.leaveCancelled,y=o.delayLeave,m=o.duration,_=!1!==a&&!et,b=Ho(d),w=g(h(m)?m.leave:m);0;var x=i._leaveCb=D((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),_&&(ko(i,u),ko(i,l)),x.cancelled?(_&&ko(i,c),v&&v(i)):(e(),p&&p(i)),i._leaveCb=null}));y?y(S):S()}function S(){x.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),f&&f(i),_&&(Fo(i,c),Fo(i,l),No((function(){ko(i,c),x.cancelled||(Fo(i,u),b||(Vo(w)?setTimeout(x,w):jo(i,s,x)))}))),d&&d(i,x),_||b||x())}}function Vo(t){return"number"===typeof t&&!isNaN(t)}function Ho(t){if(r(t))return!1;var e=t.fns;return n(e)?Ho(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Wo(t,e){!0!==e.data.show&&zo(e)}var Yo=Z?{create:Wo,activate:Wo,remove:function(t,e){!0!==t.data.show?qo(t,e):e()}}:{},Ko=[qn,Wn,io,so,bo,Yo],Xo=Ko.concat(Gn),Zo=Mn({nodeOps:Sn,modules:Xo});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&na(t,"input")}));var $o={inserted:function(t,e,i,r){"select"===i.tag?(r.elm&&!r.elm._vOptions?we(i,"postpatch",(function(){$o.componentUpdated(t,e,i)})):Jo(t,e,i.context),t._vOptions=[].map.call(t.options,ea)):("textarea"===i.tag||cn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ia),t.addEventListener("compositionend",ra),t.addEventListener("change",ra),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Jo(t,e,i.context);var r=t._vOptions,n=t._vOptions=[].map.call(t.options,ea);if(n.some((function(t,e){return!k(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return ta(t,n)})):e.value!==e.oldValue&&ta(e.value,n);o&&na(t,"change")}}}};function Jo(t,e,i){Qo(t,e,i),(tt||it)&&setTimeout((function(){Qo(t,e,i)}),0)}function Qo(t,e,i){var r=e.value,n=t.multiple;if(!n||Array.isArray(r)){for(var o,a,s=0,h=t.options.length;s<h;s++)if(a=t.options[s],n)o=j(r,ea(a))>-1,a.selected!==o&&(a.selected=o);else if(k(ea(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));n||(t.selectedIndex=-1)}}function ta(t,e){return e.every((function(e){return!k(e,t)}))}function ea(t){return"_value"in t?t._value:t.value}function ia(t){t.target.composing=!0}function ra(t){t.target.composing&&(t.target.composing=!1,na(t.target,"input"))}function na(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function oa(t){return!t.componentInstance||t.data&&t.data.transition?t:oa(t.componentInstance._vnode)}var aa={bind:function(t,e,i){var r=e.value;i=oa(i);var n=i.data&&i.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&n?(i.data.show=!0,zo(i,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,i){var r=e.value,n=e.oldValue;if(!r!==!n){i=oa(i);var o=i.data&&i.data.transition;o?(i.data.show=!0,r?zo(i,(function(){t.style.display=t.__vOriginalDisplay})):qo(i,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,i,r,n){n||(t.style.display=t.__vOriginalDisplay)}},sa={model:$o,show:aa},ha={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ca(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ca(xi(e.children)):t}function ua(t){var e={},i=t.$options;for(var r in i.propsData)e[r]=t[r];var n=i._parentListeners;for(var o in n)e[S(o)]=n[o];return e}function la(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function fa(t){while(t=t.parent)if(t.data.transition)return!0}function da(t,e){return e.key===t.key&&e.tag===t.tag}var pa=function(t){return t.tag||wi(t)},ga=function(t){return"show"===t.name},va={name:"transition",props:ha,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(pa),i.length)){0;var r=this.mode;0;var n=i[0];if(fa(this.$vnode))return n;var o=ca(n);if(!o)return n;if(this._leaving)return la(t,n);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var h=(o.data||(o.data={})).transition=ua(this),c=this._vnode,u=ca(c);if(o.data.directives&&o.data.directives.some(ga)&&(o.data.show=!0),u&&u.data&&!da(o,u)&&!wi(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var l=u.data.transition=M({},h);if("out-in"===r)return this._leaving=!0,we(l,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),la(t,n);if("in-out"===r){if(wi(o))return c;var f,d=function(){f()};we(h,"afterEnter",d),we(h,"enterCancelled",d),we(l,"delayLeave",(function(t){f=t}))}}return n}}},ya=M({tag:String,moveClass:String},ha);delete ya.mode;var ma={props:ya,beforeMount:function(){var t=this,e=this._update;this._update=function(i,r){var n=Ri(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,n(),e.call(t,i,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),r=this.prevChildren=this.children,n=this.$slots.default||[],o=this.children=[],a=ua(this),s=0;s<n.length;s++){var h=n[s];if(h.tag)if(null!=h.key&&0!==String(h.key).indexOf("__vlist"))o.push(h),i[h.key]=h,(h.data||(h.data={})).transition=a;else;}if(r){for(var c=[],u=[],l=0;l<r.length;l++){var f=r[l];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),i[f.key]?c.push(f):u.push(f)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(_a),t.forEach(ba),t.forEach(wa),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var i=t.elm,r=i.style;Fo(i,e),r.transform=r.WebkitTransform=r.transitionDuration="",i.addEventListener(Ro,i._moveCb=function t(r){r&&r.target!==i||r&&!/transform$/.test(r.propertyName)||(i.removeEventListener(Ro,t),i._moveCb=null,ko(i,e))})}})))},methods:{hasMove:function(t,e){if(!To)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){So(i,t)})),xo(i,e),i.style.display="none",this.$el.appendChild(i);var r=Go(i);return this.$el.removeChild(i),this._hasMove=r.hasTransform}}};function _a(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ba(t){t.data.newPos=t.elm.getBoundingClientRect()}function wa(t){var e=t.data.pos,i=t.data.newPos,r=e.left-i.left,n=e.top-i.top;if(r||n){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+n+"px)",o.transitionDuration="0s"}}var xa={Transition:va,TransitionGroup:ma};xr.config.mustUseProp=Gr,xr.config.isReservedTag=on,xr.config.isReservedAttr=jr,xr.config.getTagNamespace=an,xr.config.isUnknownElement=hn,M(xr.options.directives,sa),M(xr.options.components,xa),xr.prototype.__patch__=Z?Zo:P,xr.prototype.$mount=function(t,e){return t=t&&Z?un(t):void 0,Pi(this,t,e)},Z&&setTimeout((function(){z.devtools&&ct&&ct.emit("init",xr)}),0),e["a"]=xr}).call(this,i("c8ba"))},"2b7a":function(t,e,i){"use strict";i("b92f")("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},"2b9d":function(t,e,i){t.exports=i("f083")},"2cc6":function(t,e,i){"use strict";var r=i("64c1"),n=function(t){function e(e,i,r,n,o){t.call(this,e),this.vectorContext=i,this.frameState=r,this.context=n,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["a"]);e["a"]=n},"2cfb":function(t,e,i){"use strict";i.r(e);var r=i("a6a2"),n=i("3f2c"),o=i("41ff"),a=i("acdf"),s=i("8a21"),h={RENDER_ORDER:"renderOrder"},c=function(t){function e(e){var i=e||{},n=Object(a["a"])({},i);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,t.call(this,n),this.declutter_=void 0!==i.declutter&&i.declutter,this.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(i.style),this.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,this.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,this.renderMode_=i.renderMode||o["a"].VECTOR,this.type=r["a"].VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(h.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(h.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:s["a"],this.styleFunction_=null===t?void 0:Object(s["d"])(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(n["a"]);c.prototype.getSource,e["default"]=c},"2d3a":function(t,e,i){"use strict";var r=i("0d63"),n=i("f49a"),o="includes";r(r.P+r.F*i("9ec8")(o),"String",{includes:function(t){return!!~n(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"2d83":function(t,e,i){"use strict";var r=i("387f");t.exports=function(t,e,i,n,o){var a=new Error(t);return r(a,e,i,n,o)}},"2d8e":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=i("c33e"),a=i("157d"),s=i("213f"),h=i("8a49"),c=i("3c5d"),u=i("1613"),l=i("bd30"),f=i("a0a2"),d=i("bd30"),p="tr-konva",g=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+"."+p})).join(" "),v="nodesRect",y=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+"."+p})).join(" "),m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},_="ontouchstart"in l.Konva._global;function b(t,e){if("rotater"===t)return"crosshair";e+=o.Util._degToRad(m[t]||0);var i=(o.Util._radToDeg(e)%360+360)%360;return o.Util._inRange(i,337.5,360)||o.Util._inRange(i,0,22.5)?"ns-resize":o.Util._inRange(i,22.5,67.5)?"nesw-resize":o.Util._inRange(i,67.5,112.5)?"ew-resize":o.Util._inRange(i,112.5,157.5)?"nwse-resize":o.Util._inRange(i,157.5,202.5)?"ns-resize":o.Util._inRange(i,202.5,247.5)?"nesw-resize":o.Util._inRange(i,247.5,292.5)?"ew-resize":o.Util._inRange(i,292.5,337.5)?"nwse-resize":(o.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}var w=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],x=1e8;function S(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function E(t,e,i){var r=i.x+(t.x-i.x)*Math.cos(e)-(t.y-i.y)*Math.sin(e),o=i.y+(t.x-i.x)*Math.sin(e)+(t.y-i.y)*Math.cos(e);return n(n({},t),{rotation:t.rotation+e,x:r,y:o})}function O(t,e){var i=S(t);return E(t,e,i)}function T(t,e,i){for(var r=e,n=0;n<t.length;n++){var o=l.Konva.getAngle(t[n]),a=Math.abs(o-e)%(2*Math.PI),s=Math.min(a,2*Math.PI-a);s<i&&(r=o)}return r}var C=function(t){function e(e){var i=t.call(this,e)||this;return i._transforming=!1,i._createElements(),i._handleMouseMove=i._handleMouseMove.bind(i),i._handleMouseUp=i._handleMouseUp.bind(i),i.update=i.update.bind(i),i.on(g,i.update),i.getNode()&&i.update(),i}return r(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){return o.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},e.prototype.getNode=function(){return this._nodes&&this._nodes[0]},e.prototype.setNodes=function(t){var e=this;void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length?this.rotation(t[0].rotation()):this.rotation(0),this._nodes.forEach((function(t){var i=t._attrsAffectingSize.map((function(t){return t+"Change."+p})).join(" "),r=function(){1===e.nodes().length&&e.rotation(e.nodes()[0].rotation()),e._resetTransformCache(),e._transforming||e.isDragging()||e.update()};t.on(i,r),t.on(y,r),t.on("_clearTransformCache."+p,r),t.on("xChange."+p+" yChange."+p,r),e._proxyDrag(t)})),this._resetTransformCache();var i=!!this.findOne(".top-left");return i&&this.update(),this},e.prototype._proxyDrag=function(t){var e,i=this;t.on("dragstart."+p,(function(r){e=t.getAbsolutePosition(),i.isDragging()||t===i.findOne(".back")||i.startDrag(r,!1)})),t.on("dragmove."+p,(function(r){if(e){var n=t.getAbsolutePosition(),o=n.x-e.x,a=n.y-e.y;i.nodes().forEach((function(e){if(e!==t&&!e.isDragging()){var i=e.getAbsolutePosition();e.setAbsolutePosition({x:i.x+o,y:i.y+a}),e.startDrag(r)}})),e=null}}))},e.prototype.getNodes=function(){return this._nodes||[]},e.prototype.getActiveAnchor=function(){return this._movingAnchorName},e.prototype.detach=function(){this._nodes&&this._nodes.forEach((function(t){t.off("."+p)})),this._nodes=[],this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache(v),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache(v,this.__getNodeRect)},e.prototype.__getNodeShape=function(t,e,i){void 0===e&&(e=this.rotation());var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),n=t.getAbsoluteScale(i),o=t.getAbsolutePosition(i),a=r.x*n.x-t.offsetX()*n.x,s=r.y*n.y-t.offsetY()*n.y,h=(l.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI),c={x:o.x+a*Math.cos(h)+s*Math.sin(-h),y:o.y+s*Math.cos(h)+a*Math.sin(h),width:r.width*n.x,height:r.height*n.y,rotation:h};return E(c,-l.Konva.getAngle(e),{x:0,y:0})},e.prototype.__getNodeRect=function(){var t=this,e=this.getNode();if(!e)return{x:-x,y:-x,width:0,height:0,rotation:0};var i=[];this.nodes().map((function(e){var r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:t.ignoreStroke()}),n=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],o=e.getAbsoluteTransform();n.forEach((function(t){var e=o.point(t);i.push(e)}))}));var r,n,a,s,h=new o.Transform;h.rotate(-l.Konva.getAngle(this.rotation())),i.forEach((function(t){var e=h.point(t);void 0===r&&(r=a=e.x,n=s=e.y),r=Math.min(r,e.x),n=Math.min(n,e.y),a=Math.max(a,e.x),s=Math.max(s,e.y)})),h.invert();var c=h.point({x:r,y:n});return{x:c.x,y:c.y,width:a-r,height:s-n,rotation:l.Konva.getAngle(this.rotation())}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),w.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,i=new c.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:_?10:"auto"}),r=this;i.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),i.on("dragstart",(function(t){i.stopDrag(),t.cancelBubble=!0})),i.on("dragend",(function(t){t.cancelBubble=!0})),i.on("mouseenter",(function(){var r=l.Konva.getAngle(e.rotation()),n=b(t,r);i.getStage().content.style.cursor=n,e._cursorChange=!0})),i.on("mouseout",(function(){i.getStage().content.style.cursor="",e._cursorChange=!1})),this.add(i)},e.prototype._createBack=function(){var t=this,e=new h.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),i=e.padding();t.beginPath(),t.rect(-i,-i,this.width()+2*i,this.height()+2*i),t.moveTo(this.width()/2,-i),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*o.Util._sign(this.height())-i),t.fillStrokeShape(this)},hitFunc:function(e,i){if(t.shouldOverdrawWholeArea()){var r=t.padding();e.beginPath(),e.rect(-r,-r,i.width()+2*r,i.height()+2*r),e.fillStrokeShape(i)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(function(t){t.cancelBubble=!0})),e.on("dragmove",(function(t){t.cancelBubble=!0})),e.on("dragend",(function(t){t.cancelBubble=!0}))},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,r=e.height,n=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/n),this.cos=Math.abs(i/n),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;var o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((function(e){e._fire("transformstart",{evt:t,target:e})}))},e.prototype._handleMouseMove=function(t){var e,i,r,n=this.findOne("."+this._movingAnchorName),o=n.getStage();o.setPointersPositions(t);var a=o.getPointerPosition(),s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},h=n.getAbsolutePosition();n.setAbsolutePosition(s);var c=n.getAbsolutePosition();if(h.x!==c.x||h.y!==c.y)if("rotater"!==this._movingAnchorName){var u=this.keepRatio()||t.shiftKey,f=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(u){var d=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(d.x-n.x(),2)+Math.pow(d.y-n.y(),2));var p=this.findOne(".top-left").x()>d.x?-1:1,g=this.findOne(".top-left").y()>d.y?-1:1;e=r*this.cos*p,i=r*this.sin*g,this.findOne(".top-left").x(d.x-e),this.findOne(".top-left").y(d.y-i)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(n.y());else if("top-right"===this._movingAnchorName){if(u){d=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(n.x()-d.x,2)+Math.pow(d.y-n.y(),2));p=this.findOne(".top-right").x()<d.x?-1:1,g=this.findOne(".top-right").y()>d.y?-1:1;e=r*this.cos*p,i=r*this.sin*g,this.findOne(".top-right").x(d.x+e),this.findOne(".top-right").y(d.y-i)}var v=n.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(n.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(n.x());else if("bottom-left"===this._movingAnchorName){if(u){d=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(d.x-n.x(),2)+Math.pow(n.y()-d.y,2));p=d.x<n.x()?-1:1,g=n.y()<d.y?-1:1;e=r*this.cos*p,i=r*this.sin*g,n.x(d.x-e),n.y(d.y+i)}v=n.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(n.y());else if("bottom-right"===this._movingAnchorName){if(u){d=f?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(n.x()-d.x,2)+Math.pow(n.y()-d.y,2));p=this.findOne(".bottom-right").x()<d.x?-1:1,g=this.findOne(".bottom-right").y()<d.y?-1:1;e=r*this.cos*p,i=r*this.sin*g,this.findOne(".bottom-right").x(d.x+e),this.findOne(".bottom-right").y(d.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));f=this.centeredScaling()||t.altKey;if(f){var y=this.findOne(".top-left"),m=this.findOne(".bottom-right"),_=y.x(),b=y.y(),w=this.getWidth()-m.x(),x=this.getHeight()-m.y();m.move({x:-_,y:-b}),y.move({x:w,y:x})}var S=this.findOne(".top-left").getAbsolutePosition();e=S.x,i=S.y;var E=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:i,width:E,height:C,rotation:l.Konva.getAngle(this.rotation())},t)}else{var A=this._getNodeRect();e=n.x()-A.width/2,i=-n.y()+A.height/2;var L=Math.atan2(-i,e)+Math.PI/2;A.height<0&&(L-=Math.PI);var R=l.Konva.getAngle(this.rotation()),M=R+L,I=l.Konva.getAngle(this.rotationSnapTolerance()),P=T(this.rotationSnaps(),M,I),N=P-A.rotation,F=O(A,N);this._fitNodesInto(F,t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype.getAbsoluteTransform=function(){return this.getTransform()},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((function(e){e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}},e.prototype._fitNodesInto=function(t,e){var i=this,r=this._getNodeRect(),n=1;if(o.Util._inRange(t.width,2*-this.padding()-n,n))this.update();else if(o.Util._inRange(t.height,2*-this.padding()-n,n))this.update();else{var a=!0,s=new o.Transform;if(s.rotate(l.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){var h=s.point({x:2*-this.padding(),y:0});if(t.x+=h.x,t.y+=h.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,!a)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){h=s.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.width+=2*this.padding(),!a)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){h=s.point({x:0,y:2*-this.padding()});if(t.x+=h.x,t.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.height+=2*this.padding(),!a)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){h=s.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.height+=2*this.padding(),!a)return void this.update()}if(this.boundBoxFunc()){var c=this.boundBoxFunc()(r,t);c?t=c:o.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var u=1e7,f=new o.Transform;f.translate(r.x,r.y),f.rotate(r.rotation),f.scale(r.width/u,r.height/u);var d=new o.Transform;d.translate(t.x,t.y),d.rotate(t.rotation),d.scale(t.width/u,t.height/u);var p=d.multiply(f.invert());this._nodes.forEach((function(t){var r,n=t.getParent().getAbsoluteTransform(),a=t.getTransform().copy();a.translate(t.offsetX(),t.offsetY());var s=new o.Transform;s.multiply(n.copy().invert()).multiply(p).multiply(n).multiply(a);var h=s.decompose();t.setAttrs(h),i._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(r=t.getLayer())||void 0===r||r.batchDraw()})),this.rotation(o.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype._batchChangeChild=function(t,e){var i=this.findOne(t);i.setAttrs(e)},e.prototype.update=function(){var t,e=this,i=this._getNodeRect();this.rotation(o.Util._getRotation(i.rotation));var r=i.width,n=i.height,a=this.enabledAnchors(),s=this.resizeEnabled(),h=this.padding(),c=this.anchorSize();this.find("._anchor").each((function(t){t.setAttrs({width:c,height:c,offsetX:c/2,offsetY:c/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:c/2+h,offsetY:c/2+h,visible:s&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:c/2+h,visible:s&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:c/2-h,offsetY:c/2+h,visible:s&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:n/2,offsetX:c/2+h,visible:s&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:n/2,offsetX:c/2-h,visible:s&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:n,offsetX:c/2+h,offsetY:c/2-h,visible:s&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:n,offsetY:c/2-h,visible:s&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:n,offsetX:c/2-h,offsetY:c/2-h,visible:s&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*o.Util._sign(n)-h,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return s.Node.prototype.toObject.call(this)},e}(u.Group);function A(t){return t instanceof Array||o.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===w.indexOf(t)&&o.Util.warn("Unknown anchor name: "+t+". Available names are: "+w.join(", "))})),t||[]}e.Transformer=C,C.prototype.className="Transformer",d._registerNode(C),a.Factory.addGetterSetter(C,"enabledAnchors",w,A),a.Factory.addGetterSetter(C,"resizeEnabled",!0),a.Factory.addGetterSetter(C,"anchorSize",10,f.getNumberValidator()),a.Factory.addGetterSetter(C,"rotateEnabled",!0),a.Factory.addGetterSetter(C,"rotationSnaps",[]),a.Factory.addGetterSetter(C,"rotateAnchorOffset",50,f.getNumberValidator()),a.Factory.addGetterSetter(C,"rotationSnapTolerance",5,f.getNumberValidator()),a.Factory.addGetterSetter(C,"borderEnabled",!0),a.Factory.addGetterSetter(C,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(C,"anchorStrokeWidth",1,f.getNumberValidator()),a.Factory.addGetterSetter(C,"anchorFill","white"),a.Factory.addGetterSetter(C,"anchorCornerRadius",0,f.getNumberValidator()),a.Factory.addGetterSetter(C,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(C,"borderStrokeWidth",1,f.getNumberValidator()),a.Factory.addGetterSetter(C,"borderDash"),a.Factory.addGetterSetter(C,"keepRatio",!0),a.Factory.addGetterSetter(C,"centeredScaling",!1),a.Factory.addGetterSetter(C,"ignoreStroke",!1),a.Factory.addGetterSetter(C,"padding",0,f.getNumberValidator()),a.Factory.addGetterSetter(C,"node"),a.Factory.addGetterSetter(C,"nodes"),a.Factory.addGetterSetter(C,"boundBoxFunc"),a.Factory.addGetterSetter(C,"shouldOverdrawWholeArea",!1),a.Factory.backCompat(C,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),o.Collection.mapMethods(C)},"2e2b":function(t,e,i){i("933e")("Float32",4,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},"2e39":function(t,e,i){"use strict";i("b92f")("trim",(function(t){return function(){return t(this,3)}}))},"2e67":function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"2ed0":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s}));var r=i("6646"),n=i("136c");function o(t,e,i,o,a,s){var h=NaN,c=NaN,u=(i-e)/o;if(1===u)h=t[e],c=t[e+1];else if(2==u)h=(1-a)*t[e]+a*t[e+o],c=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==u){for(var l=t[e],f=t[e+1],d=0,p=[0],g=e+o;g<i;g+=o){var v=t[g],y=t[g+1];d+=Math.sqrt((v-l)*(v-l)+(y-f)*(y-f)),p.push(d),l=v,f=y}var m=a*d,_=Object(r["a"])(p,m);if(_<0){var b=(m-p[-_-2])/(p[-_-1]-p[-_-2]),w=e+(-_-2)*o;h=Object(n["c"])(t[w],t[w+o],b),c=Object(n["c"])(t[w+1],t[w+o+1],b)}else h=t[e+_*o],c=t[e+_*o+1]}return s?(s[0]=h,s[1]=c,s):[h,c]}function a(t,e,i,r,o,a){if(i==e)return null;var s;if(o<t[e+r-1])return a?(s=t.slice(e,e+r),s[r-1]=o,s):null;if(t[i-1]<o)return a?(s=t.slice(i-r,i),s[r-1]=o,s):null;if(o==t[e+r-1])return t.slice(e,e+r);var h=e/r,c=i/r;while(h<c){var u=h+c>>1;o<t[(u+1)*r-1]?c=u:h=u+1}var l=t[h*r-1];if(o==l)return t.slice((h-1)*r,(h-1)*r+r);var f=t[(h+1)*r-1],d=(o-l)/(f-l);s=[];for(var p=0;p<r-1;++p)s.push(Object(n["c"])(t[(h-1)*r+p],t[h*r+p],d));return s.push(o),s}function s(t,e,i,r,n,o,s){if(s)return a(t,e,i[i.length-1],r,n,o);var h;if(n<t[r-1])return o?(h=t.slice(0,r),h[r-1]=n,h):null;if(t[t.length-1]<n)return o?(h=t.slice(t.length-r),h[r-1]=n,h):null;for(var c=0,u=i.length;c<u;++c){var l=i[c];if(e!=l){if(n<t[e+r-1])return null;if(n<=t[l-1])return a(t,e,l,r,n,!1);e=l}}return null}},"2ee3":function(t,e,i){"use strict";var r=i("255a"),n=i("7e33"),o=i("dfa5"),a=i("887c"),s=i("1bfb"),h=i("b460"),c=i("993b").f,u=i("ea05").f,l=i("0f26").f,f=i("b92f").trim,d="Number",p=r[d],g=p,v=p.prototype,y=o(i("af33")(v))==d,m="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():f(e,3);var i,r,n,o=e.charCodeAt(0);if(43===o||45===o){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var a,h=e.slice(2),c=0,u=h.length;c<u;c++)if(a=h.charCodeAt(c),a<48||a>n)return NaN;return parseInt(h,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(y?h((function(){v.valueOf.call(i)})):o(i)!=d)?a(new g(_(e)),i,p):_(e)};for(var b,w=i("6739")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)n(g,b=w[x])&&!n(p,b)&&l(p,b,u(g,b));p.prototype=v,v.constructor=p,i("bd47")(r,d,p)}},"2eea":function(t,e,i){i("933e")("Uint8",1,(function(t){return function(e,i,r){return t(this,e,i,r)}}),!0)},3032:function(t,e,i){var r=i("d401"),n=i("6299"),o=i("3d01"),a=i("42ee"),s=i("58d1"),h=i("575f"),c={},u={};e=t.exports=function(t,e,i,l,f){var d,p,g,v,y=f?function(){return t}:h(t),m=r(i,l,e?2:1),_=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(d=s(t.length);d>_;_++)if(v=e?m(a(p=t[_])[0],p[1]):m(t[_]),v===c||v===u)return v}else for(g=y.call(t);!(p=g.next()).done;)if(v=n(g,m,p.value,e),v===c||v===u)return v};e.BREAK=c,e.RETURN=u},"30a6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){var e,i=t.data,r=i.length;for(e=0;e<r;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]}},"30b5":function(t,e,i){"use strict";var r=i("c532");function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(n(e)+"="+n(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},"30c9":function(t,e,i){var r=i("cdf9"),n=i("42ee"),o=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=i("d401")(Function.call,i("ea05").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:o}},3175:function(t,e,i){"use strict";var r=i("0ee3"),n=i("4a3a"),o=function(t){function e(e,i,r,o,a){var s=void 0!==a?n["a"].IDLE:n["a"].LOADED;t.call(this,e,i,r,s),this.loader_=void 0!==a?a:null,this.canvas_=o,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=n["a"].ERROR):this.state=n["a"].LOADED,this.changed()},e.prototype.load=function(){this.state==n["a"].IDLE&&(this.state=n["a"].LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(r["a"]);e["a"]=o},"31c3":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("bd30"),h=i("a0a2"),c=i("bd30"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,s.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(a.Shape);e.Wedge=u,u.prototype.className="Wedge",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],c._registerNode(u),o.Factory.addGetterSetter(u,"radius",0,h.getNumberValidator()),o.Factory.addGetterSetter(u,"angle",0,h.getNumberValidator()),o.Factory.addGetterSetter(u,"clockwise",!1),o.Factory.backCompat(u,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),n.Collection.mapMethods(u)},3206:function(t,e,i){"use strict";var r=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};r.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},r.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},r.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;var i=e-3;while(i>0&&this.points_[i+2]>t)i-=3;var r=this.points_[e+2]-this.points_[i+2];if(r<1e3/60)return!1;var n=this.points_[e]-this.points_[i],o=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(o,n),this.initialVelocity_=Math.sqrt(n*n+o*o)/r,this.initialVelocity_>this.minVelocity_},r.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},r.prototype.getAngle=function(){return this.angle_},e["a"]=r},3238:function(t,e,i){"use strict";i.d(e,"q",(function(){return r})),i.d(e,"u",(function(){return n})),i.d(e,"d",(function(){return o})),i.d(e,"e",(function(){return a})),i.d(e,"E",(function(){return s})),i.d(e,"F",(function(){return h})),i.d(e,"r",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"j",(function(){return l})),i.d(e,"x",(function(){return f})),i.d(e,"v",(function(){return d})),i.d(e,"i",(function(){return p})),i.d(e,"f",(function(){return g})),i.d(e,"b",(function(){return v})),i.d(e,"w",(function(){return y})),i.d(e,"h",(function(){return m})),i.d(e,"t",(function(){return _})),i.d(e,"G",(function(){return b})),i.d(e,"I",(function(){return w})),i.d(e,"H",(function(){return x})),i.d(e,"l",(function(){return S})),i.d(e,"s",(function(){return E})),i.d(e,"m",(function(){return O})),i.d(e,"J",(function(){return T})),i.d(e,"o",(function(){return C})),i.d(e,"A",(function(){return A})),i.d(e,"B",(function(){return L})),i.d(e,"C",(function(){return R})),i.d(e,"D",(function(){return M})),i.d(e,"z",(function(){return I})),i.d(e,"y",(function(){return P})),i.d(e,"c",(function(){return N})),i.d(e,"n",(function(){return F})),i.d(e,"K",(function(){return j})),i.d(e,"g",(function(){return B})),i.d(e,"p",(function(){return D})),i.d(e,"k",(function(){return G}));var r=1,n=770,o=36064,a=16384,s=4,h=5,c=771,u=34962,l=34963,f=35040,d=35044,p=35048,g=2884,v=3042,y=2960,m=2929,_=3089,b=5121,w=5123,x=5125,S=5126,E=6408,O=35632,T=35633,C=9729,A=10240,L=10241,R=10242,M=10243,I=3553,P=33984,N=33071,F=36160,k=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function j(t,e){for(var i=k.length,r=0;r<i;++r)try{var n=t.getContext(k[r],e);if(n)return n}catch(o){}return null}var D,G,B=!0;if("undefined"!==typeof window&&"WebGLRenderingContext"in window)try{var U=document.createElement("canvas"),z=j(U,{failIfMajorPerformanceCaveat:!0});z&&(!0,D=z.getParameter(z.MAX_TEXTURE_SIZE),G=z.getSupportedExtensions())}catch(q){}},3280:function(t,e,i){var r=i("0d63"),n=Math.abs;r(r.S,"Math",{hypot:function(t,e){var i,r,o=0,a=0,s=arguments.length,h=0;while(a<s)i=n(arguments[a++]),h<i?(r=h/i,o=o*r*r+1,h=i):i>0?(r=i/h,o+=r*r):o+=i;return h===1/0?1/0:h*Math.sqrt(o)}})},3309:function(t,e,i){"use strict";var r=i("a743")(!0);i("8d33")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=r(e,i),this._i+=t.length,{value:t,done:!1})}))},3319:function(t,e,i){"use strict";i.r(e),i.d(e,"Group",(function(){return r["default"]})),i.d(e,"Heatmap",(function(){return y})),i.d(e,"Image",(function(){return m["a"]})),i.d(e,"Layer",(function(){return _["a"]})),i.d(e,"Tile",(function(){return b["a"]})),i.d(e,"Vector",(function(){return s["default"]})),i.d(e,"VectorTile",(function(){return T}));var r=i("c768"),n=i("a273"),o=i("0acf"),a=i("5f6b"),s=i("2cfb"),h=i("136c"),c=i("acdf"),u=i("9ee7"),l=i("0ba7"),f=i("8a21"),d={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},p=["#00f","#0ff","#0f0","#ff0","#f00"],g=function(t){function e(e){var i=e||{},r=Object(c["a"])({},i);delete r.gradient,delete r.radius,delete r.blur,delete r.shadow,delete r.weight,t.call(this,r),this.gradient_=null,this.shadow_=void 0!==i.shadow?i.shadow:250,this.circleImage_=void 0,this.styleCache_=null,Object(n["listen"])(this,Object(o["getChangeEventType"])(d.GRADIENT),this.handleGradientChanged_,this),this.setGradient(i.gradient?i.gradient:p),this.setBlur(void 0!==i.blur?i.blur:15),this.setRadius(void 0!==i.radius?i.radius:8),Object(n["listen"])(this,Object(o["getChangeEventType"])(d.BLUR),this.handleStyleChanged_,this),Object(n["listen"])(this,Object(o["getChangeEventType"])(d.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var a,s=i.weight?i.weight:"weight";a="string"===typeof s?function(t){return t.get(s)}:s,this.setStyle(function(t,e){var i=a(t),r=void 0!==i?Object(h["a"])(i,0,1):1,n=255*r|0,o=this.styleCache_[n];return o||(o=[new f["c"]({image:new l["a"]({opacity:r,src:this.circleImage_})})],this.styleCache_[n]=o),o}.bind(this)),this.setRenderOrder(null),Object(n["listen"])(this,u["a"].RENDER,this.handleRender_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createCircle_=function(){var t=this.getRadius(),e=this.getBlur(),i=t+e+1,r=2*i,n=Object(a["a"])(r,r);n.shadowOffsetX=n.shadowOffsetY=this.shadow_,n.shadowBlur=e,n.shadowColor="#000",n.beginPath();var o=i-this.shadow_;return n.arc(o,o,t,0,2*Math.PI,!0),n.fill(),n.canvas.toDataURL()},e.prototype.getBlur=function(){return this.get(d.BLUR)},e.prototype.getGradient=function(){return this.get(d.GRADIENT)},e.prototype.getRadius=function(){return this.get(d.RADIUS)},e.prototype.handleGradientChanged_=function(){this.gradient_=v(this.getGradient())},e.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},e.prototype.handleRender_=function(t){for(var e=t.context,i=e.canvas,r=e.getImageData(0,0,i.width,i.height),n=r.data,o=0,a=n.length;o<a;o+=4){var s=4*n[o+3];s&&(n[o]=this.gradient_[s],n[o+1]=this.gradient_[s+1],n[o+2]=this.gradient_[s+2])}e.putImageData(r,0,0)},e.prototype.setBlur=function(t){this.set(d.BLUR,t)},e.prototype.setGradient=function(t){this.set(d.GRADIENT,t)},e.prototype.setRadius=function(t){this.set(d.RADIUS,t)},e}(s["default"]);function v(t){for(var e=1,i=256,r=Object(a["a"])(e,i),n=r.createLinearGradient(0,0,e,i),o=1/(t.length-1),s=0,h=t.length;s<h;++s)n.addColorStop(s*o,t[s]);return r.fillStyle=n,r.fillRect(0,0,e,i),r.getImageData(0,0,e,i).data}var y=g,m=i("9418"),_=i("3f2c"),b=i("e604"),w=i("a6a2"),x=i("41ec"),S=i("255f"),E=i("5768"),O=function(t){function e(e){var i=e||{},r=i.renderMode||E["default"].HYBRID;Object(x["a"])(void 0==r||r==E["default"].IMAGE||r==E["default"].HYBRID||r==E["default"].VECTOR,28),i.declutter&&r==E["default"].IMAGE&&(r=E["default"].HYBRID),i.renderMode=r;var n=Object(c["a"])({},i);delete n.preload,delete n.useInterimTilesOnError,t.call(this,n),this.setPreload(i.preload?i.preload:0),this.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),this.type=w["a"].VECTOR_TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(S["a"].PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(S["a"].USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(S["a"].PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(S["a"].USE_INTERIM_TILES_ON_ERROR,t)},e}(s["default"]);O.prototype.getSource;var T=O},"346e":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i("2524"),n=i("ec9a"),o=i("acdf"),a=function(t){function e(e){var i=e||{};t.call(this,i),i.handleDownEvent&&(this.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(this.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(this.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(this.handleUpEvent=i.handleUpEvent),i.stopDown&&(this.stopDown=i.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r["default"].POINTERDRAG)this.handleDragEvent(t);else if(t.type==r["default"].POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==r["default"].POINTERDOWN){var n=this.handleDownEvent(t);n&&t.preventDefault(),this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==r["default"].POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(h(t)){var e=t.pointerEvent,i=e.pointerId.toString();t.type==r["default"].POINTERUP?delete this.trackedPointers_[i]:(t.type==r["default"].POINTERDOWN||i in this.trackedPointers_)&&(this.trackedPointers_[i]=e),this.targetPointers=Object(o["c"])(this.trackedPointers_)}},e}(n["a"]);function s(t){for(var e=t.length,i=0,r=0,n=0;n<e;n++)i+=t[n].clientX,r+=t[n].clientY;return[i/e,r/e]}function h(t){var e=t.type;return e===r["default"].POINTERDOWN||e===r["default"].POINTERDRAG||e===r["default"].POINTERUP}e["b"]=a},"34f5":function(t,e,i){"use strict";e["a"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},3557:function(t,e,i){i("933e")("Uint32",4,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},3601:function(t,e,i){i("6739")&&"g"!=/./g.flags&&i("0f26").f(RegExp.prototype,"flags",{configurable:!0,get:i("c669")})},"36ad":function(t,e,i){var r=i("cdf9"),n=i("bc48"),o=i("9336")("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},"37a4":function(t,e,i){"use strict";var r=i("ae81");t.exports=function(t,e,i){var n=i.config.validateStatus;!n||n(i.status)?t(i):e(r("Request failed with status code "+i.status,i.config,null,i.request,i))}},"37ff":function(t,e,i){var r=i("6744");t.exports=function(t){return Object(r(t))}},"387f":function(t,e,i){"use strict";t.exports=function(t,e,i,r,n){return t.config=e,i&&(t.code=i),t.request=r,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},3881:function(t,e,i){"use strict";e["a"]={ANIMATING:0,INTERACTING:1}},"388d":function(t,e,i){var r=i("cdf9");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},"38ce":function(t,e,i){var r=i("9336")("toPrimitive"),n=Date.prototype;r in n||i("c3fa")(n,r,i("a83f"))},3934:function(t,e,i){"use strict";var r=i("c532");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var r=t;return e&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=r.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},"3a44":function(t,e,i){"undefined"!==typeof window&&function(e,i){t.exports=i()}(0,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function o(){}function a(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function s(t,e,i,r,o){if("function"!==typeof i)throw new TypeError("The listener must be a function");var s=new a(i,r||t,o),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],s]:t._events[h].push(s):(t._events[h]=s,t._eventsCount++),t}function h(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),c.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},c.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},c.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},c.prototype.emit=function(t,e,i,r,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var h,c,u=this._events[s],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,o),!0;case 6:return u.fn.call(u.context,e,i,r,o,a),!0}for(c=1,h=new Array(l-1);c<l;c++)h[c-1]=arguments[c];u.fn.apply(u.context,h)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,i);break;case 4:u[c].fn.call(u[c].context,e,i,r);break;default:if(!h)for(f=1,h=new Array(l-1);f<l;f++)h[f-1]=arguments[f];u[c].fn.apply(u[c].context,h)}}return!0},c.prototype.on=function(t,e,i){return s(this,t,e,i,!1)},c.prototype.once=function(t,e,i){return s(this,t,e,i,!0)},c.prototype.removeListener=function(t,e,i,r){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return h(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||h(this,o);else{for(var s=0,c=[],u=a.length;s<u;s++)(a[s].fn!==e||r&&!a[s].once||i&&a[s].context!==i)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:h(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){(function(e){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),e=e.trim(),!e){if(!i.alwaysNormalize)return t;var n=a.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=a.normalizePath(n.path),a.buildURLFromParts(n)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var h=r.exec(s.path);s.netLoc=h[1],s.path=h[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var u=s.path,l=u.substring(0,u.lastIndexOf("/")+1)+o.path;c.path=a.normalizePath(l)}else c.path=s.path,o.params||(c.params=s.params,o.query||(c.query=s.query));return null===c.path&&(c.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(c)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(n,"");while(t.length!==(t=t.replace(o,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a})()},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,i){function r(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var r=i(i.s=ENTRY_MODULE);return r.default||r}var n="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+n+").*?\\)";function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t){return!isNaN(1*t)}function h(t,e,r){var h={};h[r]=[];var c=e.toString(),u=c.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return h;var l,f=u[1],d=new RegExp("(\\\\n|\\W)"+a(f)+o,"g");while(l=d.exec(c))"dll-reference"!==l[3]&&h[r].push(l[3]);d=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+n+'))"\\)\\)'+o,"g");while(l=d.exec(c))t[l[2]]||(h[r].push(l[1]),t[l[2]]=i(l[1]).m),h[l[2]]=h[l[2]]||[],h[l[2]].push(l[4]);for(var p=Object.keys(h),g=0;g<p.length;g++)for(var v=0;v<h[p[g]].length;v++)s(h[p[g]][v])&&(h[p[g]][v]=1*h[p[g]][v]);return h}function c(t){var e=Object.keys(t);return e.reduce((function(e,i){return e||t[i].length>0}),!1)}function u(t,e){var i={main:[e]},r={main:[]},n={main:{}};while(c(i))for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=i[s],l=u.pop();if(n[s]=n[s]||{},!n[s][l]&&t[s][l]){n[s][l]=!0,r[s]=r[s]||[],r[s].push(l);for(var f=h(t,t[s][l],s),d=Object.keys(f),p=0;p<d.length;p++)i[d[p]]=i[d[p]]||[],i[d[p]]=i[d[p]].concat(f[d[p]])}}return r}t.exports=function(t,e){e=e||{};var n={main:i.m},o=e.all?{main:Object.keys(n.main)}:u(n,t),a="";Object.keys(o).filter((function(t){return"main"!==t})).forEach((function(t){var e=0;while(o[t][e])e++;o[t].push(e),n[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map((function(e){return JSON.stringify(e)+": "+n[t][e].toString()})).join(",")+"});\n"})),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map((function(t){return JSON.stringify(t)+": "+n.main[t].toString()})).join(",")+"}))(self);";var s=new window.Blob([a],{type:"text/javascript"});if(e.bare)return s;var h=window.URL||window.webkitURL||window.mozURL||window.msURL,c=h.createObjectURL(s),l=new window.Worker(c);return l.objectURL=c,l}},"./src/crypt/decrypter.js":
/*!********************************************!*\
  !*** ./src/crypt/decrypter.js + 3 modules ***!
  \********************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(t,e,i){"use strict";i.r(e);var r=function(){function t(t,e){this.subtle=t,this.aesIV=e}var e=t.prototype;return e.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),n=function(){function t(t,e){this.subtle=t,this.key=e}var e=t.prototype;return e.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),o=n;function a(t){var e=t.byteLength,i=e&&new DataView(t).getUint8(e-1);return i?t.slice(0,e-i):t}var s=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),i=new Uint32Array(4),r=0;r<4;r++)i[r]=e.getUint32(4*r);return i},e.initTable=function(){var t=this.sBox,e=this.invSBox,i=this.subMix,r=i[0],n=i[1],o=i[2],a=i[3],s=this.invSubMix,h=s[0],c=s[1],u=s[2],l=s[3],f=new Uint32Array(256),d=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[d]=v,e[v]=d;var y=f[d],m=f[y],_=f[m],b=257*f[v]^16843008*v;r[d]=b<<24|b>>>8,n[d]=b<<16|b>>>16,o[d]=b<<8|b>>>24,a[d]=b,b=16843009*_^65537*m^257*y^16843008*d,h[v]=b<<24|b>>>8,c[v]=b<<16|b>>>16,u[v]=b<<8|b>>>24,l[v]=b,d?(d=y^f[f[f[_^y]]],p^=f[f[p]]):d=p=1}},e.expandKey=function(t){var e=this.uint8ArrayToUint32Array_(t),i=!0,r=0;while(r<e.length&&i)i=e[r]===this.key[r],r++;if(!i){this.key=e;var n=this.keySize=e.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var o,a,s,h,c=this.ksRows=4*(n+6+1),u=this.keySchedule=new Uint32Array(c),l=this.invKeySchedule=new Uint32Array(c),f=this.sBox,d=this.rcon,p=this.invSubMix,g=p[0],v=p[1],y=p[2],m=p[3];for(o=0;o<c;o++)o<n?s=u[o]=e[o]:(h=s,o%n===0?(h=h<<8|h>>>24,h=f[h>>>24]<<24|f[h>>>16&255]<<16|f[h>>>8&255]<<8|f[255&h],h^=d[o/n|0]<<24):n>6&&o%n===4&&(h=f[h>>>24]<<24|f[h>>>16&255]<<16|f[h>>>8&255]<<8|f[255&h]),u[o]=s=(u[o-n]^h)>>>0);for(a=0;a<c;a++)o=c-a,h=3&a?u[o]:u[o-4],l[a]=a<4||o<=4?h:g[f[h>>>24]]^v[f[h>>>16&255]]^y[f[h>>>8&255]]^m[f[255&h]],l[a]=l[a]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,i,r){var n,o,s,h,c,u,l,f,d,p,g,v,y,m,_=this.keySize+6,b=this.invKeySchedule,w=this.invSBox,x=this.invSubMix,S=x[0],E=x[1],O=x[2],T=x[3],C=this.uint8ArrayToUint32Array_(i),A=C[0],L=C[1],R=C[2],M=C[3],I=new Int32Array(t),P=new Int32Array(I.length),N=this.networkToHostOrderSwap;while(e<I.length){for(d=N(I[e]),p=N(I[e+1]),g=N(I[e+2]),v=N(I[e+3]),c=d^b[0],u=v^b[1],l=g^b[2],f=p^b[3],y=4,m=1;m<_;m++)n=S[c>>>24]^E[u>>16&255]^O[l>>8&255]^T[255&f]^b[y],o=S[u>>>24]^E[l>>16&255]^O[f>>8&255]^T[255&c]^b[y+1],s=S[l>>>24]^E[f>>16&255]^O[c>>8&255]^T[255&u]^b[y+2],h=S[f>>>24]^E[c>>16&255]^O[u>>8&255]^T[255&l]^b[y+3],c=n,u=o,l=s,f=h,y+=4;n=w[c>>>24]<<24^w[u>>16&255]<<16^w[l>>8&255]<<8^w[255&f]^b[y],o=w[u>>>24]<<24^w[l>>16&255]<<16^w[f>>8&255]<<8^w[255&c]^b[y+1],s=w[l>>>24]<<24^w[f>>16&255]<<16^w[c>>8&255]<<8^w[255&u]^b[y+2],h=w[f>>>24]<<24^w[c>>16&255]<<16^w[u>>8&255]<<8^w[255&l]^b[y+3],y+=3,P[e]=N(n^A),P[e+1]=N(h^L),P[e+2]=N(s^R),P[e+3]=N(o^M),A=d,L=p,R=g,M=v,e+=4}return r?a(P.buffer):P.buffer},e.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),h=s,c=i("./src/errors.ts"),u=i("./src/utils/logger.js"),l=i("./src/events.js"),f=i("./src/utils/get-self-scope.js"),d=Object(f["getSelfScope"])(),p=function(){function t(t,e,i){var r=void 0===i?{}:i,n=r.removePKCS7Padding,o=void 0===n||n;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=o,o)try{var a=d.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(s){}this.disableWebCrypto=!this.subtle}var e=t.prototype;return e.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.decrypt=function(t,e,i,n){var a=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u["logger"].log("JS AES decrypt"),this.logEnabled=!1);var s=this.decryptor;s||(this.decryptor=s=new h),s.expandKey(e),n(s.decrypt(t,0,i,this.removePKCS7Padding))}else{this.logEnabled&&(u["logger"].log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new o(c,e)),this.fastAesKey.expandKey().then((function(o){var s=new r(c,i);s.decrypt(t,o).catch((function(r){a.onWebCryptoError(r,t,e,i,n)})).then((function(t){n(t)}))})).catch((function(r){a.onWebCryptoError(r,t,e,i,n)}))}},e.onWebCryptoError=function(t,e,i,r,n){this.config.enableSoftwareAES?(u["logger"].log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,i,r,n)):(u["logger"].error("decrypting error : "+t.message),this.observer.trigger(l["default"].ERROR,{type:c["ErrorTypes"].MEDIA_ERROR,details:c["ErrorDetails"].FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},e.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e["default"]=p},"./src/demux/demuxer-inline.js":
/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.js + 12 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(t,e,i){"use strict";i.r(e);var r=i("./src/events.js"),n=i("./src/errors.ts"),o=i("./src/crypt/decrypter.js"),a=i("./src/polyfills/number-isFinite.js"),s=i("./src/utils/logger.js"),h=i("./src/utils/get-self-scope.js");function c(t,e,i,o){var a,h,c,u,l,f=navigator.userAgent.toLowerCase(),d=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(a=1+((192&e[i+2])>>>6),h=(60&e[i+2])>>>2,!(h>p.length-1))return u=(1&e[i+2])<<2,u|=(192&e[i+3])>>>6,s["logger"].log("manifest codec:"+o+",ADTS data:type:"+a+",sampleingIndex:"+h+"["+p[h]+"Hz],channelConfig:"+u),/firefox/i.test(f)?h>=6?(a=5,l=new Array(4),c=h-3):(a=2,l=new Array(2),c=h):-1!==f.indexOf("android")?(a=2,l=new Array(2),c=h):(a=5,l=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&h>=6?c=h-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(h>=6&&1===u||/vivaldi/i.test(f))||!o&&1===u)&&(a=2,l=new Array(2)),c=h)),l[0]=a<<3,l[0]|=(14&h)>>1,l[1]|=(1&h)<<7,l[1]|=u<<3,5===a&&(l[1]|=(14&c)>>1,l[2]=(1&c)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:p[h],channelCount:u,codec:"mp4a.40."+a,manifestCodec:d};t.trigger(r["default"].ERROR,{type:n["ErrorTypes"].MEDIA_ERROR,details:n["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+h})}function u(t,e){return 255===t[e]&&240===(246&t[e+1])}function l(t,e){return 1&t[e+1]?7:9}function f(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function d(t,e){return!!(e+1<t.length&&u(t,e))}function p(t,e){if(d(t,e)){var i=l(t,e),r=i;e+5<t.length&&(r=f(t,e));var n=e+r;if(n===t.length||n+1<t.length&&u(t,n))return!0}return!1}function g(t,e,i,r,n){if(!t.samplerate){var o=c(e,i,r,n);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,s["logger"].log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function v(t){return 9216e4/t}function y(t,e,i,r,n){var o,a,s,h=t.length;if(o=l(t,e),a=f(t,e),a-=o,a>0&&e+o+a<=h)return s=i+r*n,{headerLength:o,frameLength:a,stamp:s}}function m(t,e,i,r,n){var o=v(t.samplerate),a=y(e,i,r,n,o);if(a){var s=a.stamp,h=a.headerLength,c=a.frameLength,u={unit:e.subarray(i+h,i+h+c),pts:s,dts:s};return t.samples.push(u),{sample:u,length:c+h}}}var _=i("./src/demux/id3.js"),b=function(){function t(t,e,i){this.observer=t,this.config=i,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,i,r){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=_["default"].getID3Data(t,0)||[],i=e.length,r=t.length;i<r;i++)if(p(t,i))return s["logger"].log("ADTS sync word found !"),!0;return!1},e.append=function(t,e,i,r){var n=this._audioTrack,o=_["default"].getID3Data(t,0)||[],h=_["default"].getTimeStamp(o),c=Object(a["isFiniteNumber"])(h)?90*h:9e4*e,u=0,l=c,f=t.length,p=o.length,v=[{pts:l,dts:l,data:o}];while(p<f-1)if(d(t,p)&&p+5<f){g(n,this.observer,t,p,n.manifestCodec);var y=m(n,t,p,c,u);if(!y){s["logger"].log("Unable to parse AAC frame");break}p+=y.length,l=y.sample.pts,u++}else _["default"].isHeader(t,p)?(o=_["default"].getID3Data(t,p),v.push({pts:l,dts:l,data:o}),p+=o.length):p++;this.remuxer.remux(n,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},e,i,r)},e.destroy=function(){},t}(),w=b,x=i("./src/demux/mp4demuxer.js"),S={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,i,r,n){if(!(i+24>e.length)){var o=this.parseHeader(e,i);if(o&&i+o.frameLength<=e.length){var a=9e4*o.samplesPerFrame/o.sampleRate,s=r+n*a,h={unit:e.subarray(i,i+o.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(h),{sample:h,length:o.frameLength}}}},parseHeader:function(t,e){var i=t[e+1]>>3&3,r=t[e+1]>>1&3,n=t[e+2]>>4&15,o=t[e+2]>>2&3,a=t[e+2]>>1&1;if(1!==i&&0!==n&&15!==n&&3!==o){var s=3===i?3-r:3===r?3:4,h=1e3*S.BitratesMap[14*s+n-1],c=3===i?0:2===i?1:2,u=S.SamplingRateMap[3*c+o],l=t[e+3]>>6===3?1:2,f=S.SamplesCoefficients[i][r],d=S.BytesInSlot[r],p=8*f*d,g=parseInt(f*h/u+a,10)*d;return{sampleRate:u,channelCount:l,frameLength:g,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var i=4,r=this.parseHeader(t,e),n=i;r&&r.frameLength&&(n=r.frameLength);var o=e+n;if(o===t.length||o+1<t.length&&this.isHeaderPattern(t,o))return!0}return!1}},E=S,O=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,i=t.byteLength-e,r=new Uint8Array(4),n=Math.min(4,e);if(0===n)throw new Error("no bytes available");r.set(t.subarray(i,i+n)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,e=t>>3,t-=e>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),i=this.word>>>32-e;return t>32&&s["logger"].error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),e=t-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){var e,i,r=8,n=8;for(e=0;e<t;e++)0!==n&&(i=this.readEG(),n=(r+i+256)%256),r=0===n?r:n},e.readSPS=function(){var t,e,i,r,n,o,a,s=0,h=0,c=0,u=0,l=this.readUByte.bind(this),f=this.readBits.bind(this),d=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(l(),t=l(),f(5),g(3),l(),y(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var _=d();if(3===_&&g(1),y(),y(),g(1),p())for(o=3!==_?8:12,a=0;a<o;a++)p()&&m(a<6?16:64)}y();var b=d();if(0===b)d();else if(1===b)for(g(1),v(),v(),e=d(),a=0;a<e;a++)v();y(),g(1),i=d(),r=d(),n=f(1),0===n&&g(1),g(1),p()&&(s=d(),h=d(),c=d(),u=d());var w=[1,1];if(p()&&p()){var x=l();switch(x){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil(16*(i+1)-2*s-2*h),height:(2-n)*(r+1)*16-(n?2:4)*(c+u),pixelRatio:w}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),T=O,C=function(){function t(t,e,i,r){this.decryptdata=i,this.discardEPB=r,this.decrypter=new o["default"](t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},e.decryptAacSample=function(t,e,i,r){var n=t[e].unit,o=n.subarray(16,n.length-n.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),n.set(o,16),r||s.decryptAacSamples(t,e+1,i)}))},e.decryptAacSamples=function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,i,r),!r)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Int8Array(e),r=0,n=32;n<=t.length-16;n+=160,r+=16)i.set(t.subarray(n,n+16),r);return i},e.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var i=0,r=32;r<=t.length-16;r+=160,i+=16)t.set(e.subarray(i,i+16),r);return t},e.decryptAvcSample=function(t,e,i,r,n,o){var a=this.discardEPB(n.data),s=this.getAvcEncryptedData(a),h=this;this.decryptBuffer(s.buffer,(function(s){n.data=h.getAvcDecryptedUnit(a,s),o||h.decryptAvcSamples(t,e,i+1,r)}))},e.decryptAvcSamples=function(t,e,i,r){for(;;e++,i=0){if(e>=t.length)return void r();for(var n=t[e].units;;i++){if(i>=n.length)break;var o=n[i];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,i,r,o,a),!a)return}}}},t}(),A=C,L={video:1,audio:2,id3:3,text:4},R=function(){function t(t,e,i,r){this.observer=t,this.config=i,this.typeSupported=r,this.remuxer=e,this.sampleAes=null}var e=t.prototype;return e.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new A(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var i=t._syncOffset(e);return!(i<0)&&(i&&s["logger"].warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),!0)},t._syncOffset=function(t){var e=Math.min(1e3,t.length-564),i=0;while(i<e){if(71===t[i]&&71===t[i+188]&&71===t[i+376])return i;i++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:L[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},e.resetInitSegment=function(e,i,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",n),this._audioTrack=t.createTrack("audio",n),this._id3Track=t.createTrack("id3",n),this._txtTrack=t.createTrack("text",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=r,this._duration=n},e.resetTimeStamp=function(){},e.append=function(e,i,o,a){var h,c,u,l,f,d,p=e.length,g=!1;this.contiguous=o;var v=this.pmtParsed,y=this._avcTrack,m=this._audioTrack,_=this._id3Track,b=y.pid,w=m.pid,x=_.pid,S=this._pmtId,E=y.pesData,O=m.pesData,T=_.pesData,C=this._parsePAT,A=this._parsePMT,L=this._parsePES,R=this._parseAVCPES.bind(this),M=this._parseAACPES.bind(this),I=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this),N=t._syncOffset(e);for(p-=(p+N)%188,h=N;h<p;h+=188)if(71===e[h]){if(c=!!(64&e[h+1]),u=((31&e[h+1])<<8)+e[h+2],l=(48&e[h+3])>>4,l>1){if(f=h+5+e[h+4],f===h+188)continue}else f=h+4;switch(u){case b:c&&(E&&(d=L(E))&&R(d,!1),E={data:[],size:0}),E&&(E.data.push(e.subarray(f,h+188)),E.size+=h+188-f);break;case w:c&&(O&&(d=L(O))&&(m.isAAC?M(d):I(d)),O={data:[],size:0}),O&&(O.data.push(e.subarray(f,h+188)),O.size+=h+188-f);break;case x:c&&(T&&(d=L(T))&&P(d),T={data:[],size:0}),T&&(T.data.push(e.subarray(f,h+188)),T.size+=h+188-f);break;case 0:c&&(f+=e[f]+1),S=this._pmtId=C(e,f);break;case S:c&&(f+=e[f]+1);var F=A(e,f,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);b=F.avc,b>0&&(y.pid=b),w=F.audio,w>0&&(m.pid=w,m.isAAC=F.isAAC),x=F.id3,x>0&&(_.pid=x),g&&!v&&(s["logger"].log("reparse from beginning"),g=!1,h=N-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=!0;break}}else this.observer.trigger(r["default"].ERROR,{type:n["ErrorTypes"].MEDIA_ERROR,details:n["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(d=L(E))?(R(d,!0),y.pesData=null):y.pesData=E,O&&(d=L(O))?(m.isAAC?M(d):I(d),m.pesData=null):(O&&O.size&&s["logger"].log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=O),T&&(d=L(T))?(P(d),_.pesData=null):_.pesData=T,null==this.sampleAes?this.remuxer.remux(m,y,_,this._txtTrack,i,o,a):this.decryptAndRemux(m,y,_,this._txtTrack,i,o,a)},e.decryptAndRemux=function(t,e,i,r,n,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,i,r,n,o,a)}))}else this.decryptAndRemuxAvc(t,e,i,r,n,o,a)},e.decryptAndRemuxAvc=function(t,e,i,r,n,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,i,r,n,o,a)}))}else this.remuxer.remux(t,e,i,r,n,o,a)},e.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},e._parsePMT=function(t,e,i,r){var n,o,a,h,c={audio:-1,avc:-1,id3:-1,isAAC:!0};n=(15&t[e+1])<<8|t[e+2],o=e+3+n-4,a=(15&t[e+10])<<8|t[e+11],e+=12+a;while(e<o){switch(h=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!r){s["logger"].log("unknown stream type:"+t[e]);break}case 15:-1===c.audio&&(c.audio=h);break;case 21:-1===c.id3&&(c.id3=h);break;case 219:if(!r){s["logger"].log("unknown stream type:"+t[e]);break}case 27:-1===c.avc&&(c.avc=h);break;case 3:case 4:i?-1===c.audio&&(c.audio=h,c.isAAC=!1):s["logger"].log("MPEG audio found, not supported in this browser for now");break;case 36:s["logger"].warn("HEVC stream type found, not supported for now");break;default:s["logger"].log("unknown stream type:"+t[e]);break}e+=5+((15&t[e+3])<<8|t[e+4])}return c},e._parsePES=function(t){var e,i,r,n,o,a,h,c,u,l=0,f=t.data;if(!t||0===t.size)return null;while(f[0].length<19&&f.length>1){var d=new Uint8Array(f[0].length+f[1].length);d.set(f[0]),d.set(f[1],f[0].length),f[0]=d,f.splice(1,1)}if(e=f[0],r=(e[0]<<16)+(e[1]<<8)+e[2],1===r){if(n=(e[4]<<8)+e[5],n&&n>t.size-6)return null;if(i=e[7],192&i&&(h=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,h>4294967295&&(h-=8589934592),64&i?(c=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,c>4294967295&&(c-=8589934592),h-c>54e5&&(s["logger"].warn(Math.round((h-c)/9e4)+"s delta between PTS and DTS, align them"),h=c)):c=h),o=e[8],u=o+9,t.size<=u)return null;t.size-=u,a=new Uint8Array(t.size);for(var p=0,g=f.length;p<g;p++){e=f[p];var v=e.byteLength;if(u){if(u>v){u-=v;continue}e=e.subarray(u),v-=u,u=0}a.set(e,l),l+=v}return n&&(n-=o+3),{data:a,pts:h,dts:c,len:n}}return null},e.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var i=e.samples,r=i.length;if(isNaN(t.pts)){if(!r)return void e.dropped++;var n=i[r-1];t.pts=n.pts,t.dts=n.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(r||this.contiguous)?(t.id=r,i.push(t)):e.dropped++}t.debug.length&&s["logger"].log(t.pts+"/"+t.dts+":"+t.debug)},e._parseAVCPES=function(t,e){var i,r,n,o=this,a=this._avcTrack,s=this._parseAVCNALu(t.data),h=!1,c=this.avcSample,u=!1,l=this.pushAccesUnit.bind(this),f=function(t,e,i,r){return{key:t,pts:e,dts:i,units:[],debug:r}};t.data=null,c&&s.length&&!a.audFound&&(l(c,a),c=this.avcSample=f(!1,t.pts,t.dts,"")),s.forEach((function(e){switch(e.type){case 1:r=!0,c||(c=o.avcSample=f(!0,t.pts,t.dts,"")),h&&(c.debug+="NDR "),c.frame=!0;var s=e.data;if(u&&s.length>4){var d=new T(s).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(c.key=!0)}break;case 5:r=!0,c||(c=o.avcSample=f(!0,t.pts,t.dts,"")),h&&(c.debug+="IDR "),c.key=!0,c.frame=!0;break;case 6:r=!0,h&&c&&(c.debug+="SEI "),i=new T(o.discardEPB(e.data)),i.readUByte();var p=0,g=0,v=!1,y=0;while(!v&&i.bytesAvailable>1){p=0;do{y=i.readUByte(),p+=y}while(255===y);g=0;do{y=i.readUByte(),g+=y}while(255===y);if(4===p&&0!==i.bytesAvailable){v=!0;var m=i.readUByte();if(181===m){var b=i.readUShort();if(49===b){var w=i.readUInt();if(1195456820===w){var x=i.readUByte();if(3===x){var S=i.readUByte(),E=i.readUByte(),O=31&S,C=[S,E];for(n=0;n<O;n++)C.push(i.readUByte()),C.push(i.readUByte()),C.push(i.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:C})}}}}}else if(5===p&&0!==i.bytesAvailable){if(v=!0,g>16){var A=[];for(n=0;n<16;n++)A.push(i.readUByte().toString(16)),3!==n&&5!==n&&7!==n&&9!==n||A.push("-");var L=g-16,R=new Uint8Array(L);for(n=0;n<L;n++)R[n]=i.readUByte();o._insertSampleInOrder(o._txtTrack.samples,{pts:t.pts,payloadType:p,uuid:A.join(""),userDataBytes:R,userData:Object(_["utf8ArrayToStr"])(R.buffer)})}}else if(g<i.bytesAvailable)for(n=0;n<g;n++)i.readUByte()}break;case 7:if(r=!0,u=!0,h&&c&&(c.debug+="SPS "),!a.sps){i=new T(e.data);var M=i.readSPS();a.width=M.width,a.height=M.height,a.pixelRatio=M.pixelRatio,a.sps=[e.data],a.duration=o._duration;var I=e.data.subarray(1,4),P="avc1.";for(n=0;n<3;n++){var N=I[n].toString(16);N.length<2&&(N="0"+N),P+=N}a.codec=P}break;case 8:r=!0,h&&c&&(c.debug+="PPS "),a.pps||(a.pps=[e.data]);break;case 9:r=!1,a.audFound=!0,c&&l(c,a),c=o.avcSample=f(!1,t.pts,t.dts,h?"AUD ":"");break;case 12:r=!1;break;default:r=!1,c&&(c.debug+="unknown NAL "+e.type+" ");break}if(c&&r){var F=c.units;F.push(e)}})),e&&c&&(l(c,a),this.avcSample=null)},e._insertSampleInOrder=function(t,e){var i=t.length;if(i>0){if(e.pts>=t[i-1].pts)t.push(e);else for(var r=i-1;r>=0;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)},e._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var i=this._avcTrack,r=i.samples;e=r[r.length-1]}if(e){var n=e.units;t=n[n.length-1]}return t},e._parseAVCNALu=function(t){var e,i,r,n,o,a=0,s=t.byteLength,h=this._avcTrack,c=h.naluState||0,u=c,l=[],f=-1;-1===c&&(f=0,o=31&t[0],c=0,a=1);while(a<s)if(e=t[a++],c)if(1!==c)if(e)if(1===e){if(f>=0)r={data:t.subarray(f,a-c-1),type:o},l.push(r);else{var d=this._getLastNalUnit();if(d&&(u&&a<=4-u&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-u)),i=a-c-1,i>0)){var p=new Uint8Array(d.data.byteLength+i);p.set(d.data,0),p.set(t.subarray(0,i),d.data.byteLength),d.data=p}}a<s?(n=31&t[a],f=a,o=n,c=0):c=-1}else c=0;else c=3;else c=e?0:2;else c=e?0:1;if(f>=0&&c>=0&&(r={data:t.subarray(f,s),type:o,state:c},l.push(r)),0===l.length){var g=this._getLastNalUnit();if(g){var v=new Uint8Array(g.data.byteLength+t.byteLength);v.set(g.data,0),v.set(t,g.data.byteLength),g.data=v}}return h.naluState=c,l},e.discardEPB=function(t){var e,i,r=t.byteLength,n=[],o=1;while(o<r-2)0===t[o]&&0===t[o+1]&&3===t[o+2]?(n.push(o+2),o+=2):o++;if(0===n.length)return t;e=r-n.length,i=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===n[0]&&(a++,n.shift()),i[o]=t[a];return i},e._parseAACPES=function(t){var e,i,o,a,h,c,u,l=this._audioTrack,f=t.data,p=t.pts,y=0,_=this.aacOverFlow,b=this.aacLastPTS;if(_){var w=new Uint8Array(_.byteLength+f.byteLength);w.set(_,0),w.set(f,_.byteLength),f=w}for(o=y,h=f.length;o<h-1;o++)if(d(f,o))break;if(o&&(o<h-1?(c="AAC PES did not start with ADTS header,offset:"+o,u=!1):(c="no ADTS header found in AAC PES",u=!0),s["logger"].warn("parsing error:"+c),this.observer.trigger(r["default"].ERROR,{type:n["ErrorTypes"].MEDIA_ERROR,details:n["ErrorDetails"].FRAG_PARSING_ERROR,fatal:u,reason:c}),u))return;if(g(l,this.observer,f,o,this.audioCodec),i=0,e=v(l.samplerate),_&&b){var x=b+e;Math.abs(x-p)>1&&(s["logger"].log("AAC: align PTS for overlapping frames by "+Math.round((x-p)/90)),p=x)}while(o<h){if(d(f,o)){if(o+5<h){var S=m(l,f,o,p,i);if(S){o+=S.length,a=S.sample.pts,i++;continue}}break}o++}_=o<h?f.subarray(o,h):null,this.aacOverFlow=_,this.aacLastPTS=a},e._parseMPEGPES=function(t){var e=t.data,i=e.length,r=0,n=0,o=t.pts;while(n<i)if(E.isHeader(e,n)){var a=E.appendFrame(this._audioTrack,e,n,o,r);if(!a)break;n+=a.length,r++}else n++},e._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),M=R,I=function(){function t(t,e,i){this.observer=t,this.config=i,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,i,r){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:r,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){var e,i,r=_["default"].getID3Data(t,0);if(r&&void 0!==_["default"].getTimeStamp(r))for(e=r.length,i=Math.min(t.length-1,e+100);e<i;e++)if(E.probe(t,e))return s["logger"].log("MPEG Audio sync word found !"),!0;return!1},e.append=function(t,e,i,r){var n=_["default"].getID3Data(t,0),o=_["default"].getTimeStamp(n),a=o?90*o:9e4*e,s=n.length,h=t.length,c=0,u=0,l=this._audioTrack,f=[{pts:a,dts:a,data:n}];while(s<h)if(E.isHeader(t,s)){var d=E.appendFrame(l,t,s,a,c);if(!d)break;s+=d.length,u=d.sample.pts,c++}else _["default"].isHeader(t,s)?(n=_["default"].getID3Data(t,s),f.push({pts:u,dts:u,data:n}),s+=n.length):s++;this.remuxer.remux(l,{samples:[]},{samples:f,inputTimeScale:9e4},{samples:[]},e,i,r)},e.destroy=function(){},t}(),P=I,N=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}return null},t}(),F=N,k=Math.pow(2,32)-1,j=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:i,audio:r};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),h=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,h,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,n))},t.box=function(t){var e,i=Array.prototype.slice.call(arguments,1),r=8,n=i.length,o=n;while(n--)r+=i[n].byteLength;for(e=new Uint8Array(r),e[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),n=0,r=8;n<o;n++)e.set(i[n],r),r+=i[n].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,i){i*=e;var r=Math.floor(i/(k+1)),n=Math.floor(i%(k+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,i,r){return t.box(t.types.moof,t.mfhd(e),t.traf(r,i))},t.moov=function(e){var i=e.length,r=[];while(i--)r[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(t.mvex(e)))},t.mvex=function(e){var i=e.length,r=[];while(i--)r[i]=t.trex(e[i]);return t.box.apply(null,[t.types.mvex].concat(r))},t.mvhd=function(e,i){i*=e;var r=Math.floor(i/(k+1)),n=Math.floor(i%(k+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)},t.sdtp=function(e){var i,r,n=e.samples||[],o=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)i=n[r].flags,o[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var i,r,n,o=[],a=[];for(i=0;i<e.sps.length;i++)r=e.sps[i],n=r.byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(r));for(i=0;i<e.pps.length;i++)r=e.pps[i],n=r.byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(r));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),h=e.width,c=e.height,u=e.pixelRatio[0],l=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,255&h,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,l>>24,l>>16&255,l>>8&255,255&l])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var i=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var i=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var i=e.id,r=e.duration*e.timescale,n=e.width,o=e.height,a=Math.floor(r/(k+1)),s=Math.floor(r%(k+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,o>>8&255,255&o,0,0]))},t.traf=function(e,i){var r=t.sdtp(e),n=e.id,o=Math.floor(i/(k+1)),a=Math.floor(i%(k+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,r.length+16+20+8+16+8+8),r)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var i=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,i){var r,n,o,a,s,h,c=e.samples||[],u=c.length,l=12+16*u,f=new Uint8Array(l);for(i+=8+l,f.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),r=0;r<u;r++)n=c[r],o=n.duration,a=n.size,s=n.flags,h=n.cts,f.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*r);return t.box(t.types.trun,f)},t.initSegment=function(e){t.types||t.init();var i,r=t.moov(e);return i=new Uint8Array(t.FTYP.byteLength+r.byteLength),i.set(t.FTYP),i.set(r,t.FTYP.byteLength),i},t}(),D=j,G=9e4;function B(t,e,i,r){void 0===i&&(i=1),void 0===r&&(r=!1);var n=t*e*i;return r?Math.round(n):n}function U(t,e){return void 0===e&&(e=!1),B(t,1e3,1/G,e)}function z(t,e){return void 0===e&&(e=1),B(t,G,1/e)}var q,V=z(10),H=z(.2),W=function(){function t(t,e,i,r){this.observer=t,this.config=e,this.typeSupported=i;var n=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&n&&!n.match("CriOS"),this.ISGenerated=!1}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},e.resetInitSegment=function(){this.ISGenerated=!1},e.remux=function(t,e,i,n,o,a,h){if(this.ISGenerated||this.generateIS(t,e,o),this.ISGenerated){var c=t.samples.length,u=e.samples.length,l=o,f=o;if(c&&u){var d=(t.samples[0].pts-e.samples[0].pts)/e.inputTimeScale;l+=Math.max(0,d),f+=Math.max(0,-d)}if(c){t.timescale||(s["logger"].warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,o));var p,g=this.remuxAudio(t,l,a,h);if(u)g&&(p=g.endPTS-g.startPTS),e.timescale||(s["logger"].warn("regenerate InitSegment as video detected"),this.generateIS(t,e,o)),this.remuxVideo(e,f,a,p,h)}else if(u){var v=this.remuxVideo(e,f,a,0,h);v&&t.codec&&this.remuxEmptyAudio(t,l,a,v)}}i.samples.length&&this.remuxID3(i,o),n.samples.length&&this.remuxText(n,o),this.observer.trigger(r["default"].FRAG_PARSED)},e.generateIS=function(t,e,i){var o,a,h=this.observer,c=t.samples,u=e.samples,l=this.typeSupported,f="audio/mp4",d={},p={tracks:d},g=void 0===this._initPTS;if(g&&(o=a=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s["logger"].log("audio sampling rate : "+t.samplerate),t.isAAC||(l.mpeg?(f="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),d.audio={container:f,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array:D.initSegment([t]),metadata:{channelCount:t.channelCount}},g&&(o=a=c[0].pts-t.inputTimeScale*i)),e.sps&&e.pps&&u.length){var v=e.inputTimeScale;e.timescale=v,d.video={container:"video/mp4",codec:e.codec,initSegment:D.initSegment([e]),metadata:{width:e.width,height:e.height}},g&&(o=Math.min(o,u[0].pts-v*i),a=Math.min(a,u[0].dts-v*i),this.observer.trigger(r["default"].INIT_PTS_FOUND,{initPTS:o}))}Object.keys(d).length?(h.trigger(r["default"].FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,g&&(this._initPTS=o,this._initDTS=a)):h.trigger(r["default"].ERROR,{type:n["ErrorTypes"].MEDIA_ERROR,details:n["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.remuxVideo=function(t,e,i,o,a){var h,c,u,l,f,d,p,g=8,v=t.timescale,y=t.samples,m=[],_=y.length,b=this._PTSNormalize,w=this._initPTS,x=this.nextAvcDts,S=this.isSafari;if(0!==_){S&&(i|=y.length&&x&&(a&&Math.abs(e-x/v)<.1||Math.abs(y[0].pts-x-w)<v/5)),i||(x=e*v),y.forEach((function(t){t.pts=b(t.pts-w,x),t.dts=b(t.dts-w,x)})),y.sort((function(t,e){var i=t.dts-e.dts,r=t.pts-e.pts;return i||r||t.id-e.id}));var E=y.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-1*H)}),0);if(E<0){s["logger"].warn("PTS < DTS detected in video samples, shifting DTS by "+U(E,!0)+" ms to overcome this issue");for(var O=0;O<y.length;O++)y[O].dts+=E}var T=y[0];f=Math.max(T.dts,0),l=Math.max(T.pts,0);var C=f-x;i&&C&&(C>1?s["logger"].log("AVC: "+U(C,!0)+" ms hole between fragments detected,filling it"):C<-1&&s["logger"].log("AVC: "+U(-C,!0)+" ms overlapping between fragments detected"),f=x,y[0].dts=f,l=Math.max(l-C,x),y[0].pts=l,s["logger"].log("Video: PTS/DTS adjusted: "+U(l,!0)+"/"+U(f,!0)+", delta: "+U(C,!0)+" ms")),T=y[y.length-1],p=Math.max(T.dts,0),d=Math.max(T.pts,0,p),S&&(h=Math.round((p-f)/(y.length-1)));for(var A=0,L=0,R=0;R<_;R++){for(var M=y[R],I=M.units,P=I.length,N=0,F=0;F<P;F++)N+=I[F].data.length;L+=N,A+=P,M.length=N,M.dts=S?f+R*h:Math.max(M.dts,f),M.pts=Math.max(M.pts,M.dts)}var k=L+4*A+8;try{c=new Uint8Array(k)}catch(ot){return void this.observer.trigger(r["default"].ERROR,{type:n["ErrorTypes"].MUX_ERROR,details:n["ErrorDetails"].REMUX_ALLOC_ERROR,fatal:!1,bytes:k,reason:"fail allocating video mdat "+k})}var j=new DataView(c.buffer);j.setUint32(0,k),c.set(D.types.mdat,4);for(var G=0;G<_;G++){for(var B=y[G],z=B.units,q=0,V=void 0,W=0,Y=z.length;W<Y;W++){var K=z[W],X=K.data,Z=K.data.byteLength;j.setUint32(g,Z),g+=4,c.set(X,g),g+=Z,q+=4+Z}if(S)V=Math.max(0,h*Math.round((B.pts-B.dts)/h));else{if(G<_-1)h=y[G+1].dts-B.dts;else{var $=this.config,J=B.dts-y[G>0?G-1:G].dts;if($.stretchShortVideoTrack){var Q=$.maxBufferHole,tt=Math.floor(Q*v),et=(o?l+o*v:this.nextAudioPts)-B.pts;et>tt?(h=et-J,h<0&&(h=J),s["logger"].log("It is approximately "+U(et,!1)+" ms to the next segment; using duration "+U(h,!1)+" ms for the last video frame.")):h=J}else h=J}V=Math.round(B.pts-B.dts)}m.push({size:q,duration:h,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=p+h;var it=t.dropped;if(t.nbNalu=0,t.dropped=0,m.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var rt=m[0].flags;rt.dependsOn=2,rt.isNonSync=0}t.samples=m,u=D.moof(t.sequenceNumber++,f,t),t.samples=[];var nt={data1:u,data2:c,startPTS:l/v,endPTS:(d+h)/v,startDTS:f/v,endDTS:this.nextAvcDts/v,type:"video",hasAudio:!1,hasVideo:!0,nb:m.length,dropped:it};return this.observer.trigger(r["default"].FRAG_PARSING_DATA,nt),nt}},e.remuxAudio=function(t,e,i,o){var a,h,c,u,l,f,d=t.inputTimeScale,p=t.timescale,g=d/p,v=t.isAAC?1024:1152,y=v*g,m=this._PTSNormalize,_=this._initPTS,b=!t.isAAC&&this.typeSupported.mpeg,w=b?0:8,x=t.samples,S=[],E=this.nextAudioPts;if(i|=x.length&&E&&(o&&Math.abs(e-E/d)<.1||Math.abs(x[0].pts-E-_)<20*y),x.forEach((function(t){t.pts=t.dts=m(t.pts-_,e*d)})),x=x.filter((function(t){return t.pts>=0})),0!==x.length){if(i||(E=o?e*d:x[0].pts),t.isAAC)for(var O=this.config.maxAudioFramesDrift,T=0,C=E;T<x.length;){var A,L=x[T],R=L.pts;if(A=R-C,A<=-O*y)s["logger"].warn("Dropping 1 audio frame @ "+U(C,!0)+" ms due to "+U(A,!0)+" ms overlap."),x.splice(T,1);else if(A>=O*y&&A<V&&C){var M=Math.round(A/y);s["logger"].warn("Injecting "+M+" audio frames @ "+U(C,!0)+" ms due to "+U(C,!0)+" ms gap.");for(var I=0;I<M;I++){var P=Math.max(C,0);h=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),h||(s["logger"].log("Unable to get silent frame for given audio codec; duplicating last frame instead."),h=L.unit.subarray()),x.splice(T,0,{unit:h,pts:P,dts:P}),C+=y,T++}L.pts=L.dts=C,C+=y,T++}else Math.abs(A),L.pts=L.dts=C,C+=y,T++}var N=x.length,k=0;while(N--)k+=x[N].unit.byteLength;for(var j=0,G=x.length;j<G;j++){var B=x[j],z=B.unit,q=B.pts;if(void 0!==f)a.duration=Math.round((q-f)/g);else{var H=q-E,W=0;if(i&&t.isAAC&&H){if(H>0&&H<V)W=Math.round((q-E)/y),s["logger"].log(U(H,!0)+" ms hole between AAC samples detected,filling it"),W>0&&(h=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),h||(h=z.subarray()),k+=W*h.length);else if(H<-12){s["logger"].log("drop overlapping AAC sample, expected/parsed/delta: "+U(E,!0)+" ms / "+U(q,!0)+" ms / "+U(-H,!0)+" ms"),k-=z.byteLength;continue}q=E}if(l=q,!(k>0))return;k+=w;try{c=new Uint8Array(k)}catch(tt){return void this.observer.trigger(r["default"].ERROR,{type:n["ErrorTypes"].MUX_ERROR,details:n["ErrorDetails"].REMUX_ALLOC_ERROR,fatal:!1,bytes:k,reason:"fail allocating audio mdat "+k})}if(!b){var Y=new DataView(c.buffer);Y.setUint32(0,k),c.set(D.types.mdat,4)}for(var K=0;K<W;K++)h=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),h||(s["logger"].log("Unable to get silent frame for given audio codec; duplicating this frame instead."),h=z.subarray()),c.set(h,w),w+=h.byteLength,a={size:h.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(a)}c.set(z,w);var X=z.byteLength;w+=X,a={size:X,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(a),f=q}var Z=0;if(N=S.length,N>=2&&(Z=S[N-2].duration,a.duration=Z),N){this.nextAudioPts=E=f+g*Z,t.samples=S,u=b?new Uint8Array:D.moof(t.sequenceNumber++,l/g,t),t.samples=[];var $=l/d,J=E/d,Q={data1:u,data2:c,startPTS:$,endPTS:J,startDTS:$,endDTS:J,type:"audio",hasAudio:!0,hasVideo:!1,nb:N};return this.observer.trigger(r["default"].FRAG_PARSING_DATA,Q),Q}return null}},e.remuxEmptyAudio=function(t,e,i,r){var n=t.inputTimeScale,o=t.samplerate?t.samplerate:n,a=n/o,h=this.nextAudioPts,c=(void 0!==h?h:r.startDTS*n)+this._initDTS,u=r.endDTS*n+this._initDTS,l=1024,f=a*l,d=Math.ceil((u-c)/f),p=F.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s["logger"].warn("remux empty Audio"),p){for(var g=[],v=0;v<d;v++){var y=c+v*f;g.push({unit:p,pts:y,dts:y})}t.samples=g,this.remuxAudio(t,e,i)}else s["logger"].trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.remuxID3=function(t){var e,i=t.samples.length,n=t.inputTimeScale,o=this._initPTS,a=this._initDTS;if(i){for(var s=0;s<i;s++)e=t.samples[s],e.pts=(e.pts-o)/n,e.dts=(e.dts-a)/n;this.observer.trigger(r["default"].FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[]},e.remuxText=function(t){t.samples.sort((function(t,e){return t.pts-e.pts}));var e,i=t.samples.length,n=t.inputTimeScale,o=this._initPTS;if(i){for(var a=0;a<i;a++)e=t.samples[a],e.pts=(e.pts-o)/n;this.observer.trigger(r["default"].FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},e._PTSNormalize=function(t,e){var i;if(void 0===e)return t;i=e<t?-8589934592:8589934592;while(Math.abs(t-e)>4294967296)t+=i;return t},t}(),Y=W,K=function(){function t(t){this.observer=t}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.remux=function(t,e,i,n,o,a,s,h){var c=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),c.trigger(r["default"].FRAG_PARSING_DATA,{data1:h,startPTS:o,startDTS:o,type:u,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),c.trigger(r["default"].FRAG_PARSED)},t}(),X=K,Z=Object(h["getSelfScope"])();try{q=Z.performance.now.bind(Z.performance)}catch(J){s["logger"].debug("Unable to use Performance API on this environment"),q=Z.Date.now}var $=function(){function t(t,e,i,r){this.observer=t,this.typeSupported=e,this.config=i,this.vendor=r}var e=t.prototype;return e.destroy=function(){var t=this.demuxer;t&&t.destroy()},e.push=function(t,e,i,n,a,s,h,c,u,l,f,d){var p=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var g=this.decrypter;null==g&&(g=this.decrypter=new o["default"](this.observer,this.config));var v=q();g.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var o=q();p.observer.trigger(r["default"].FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:o}}),p.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),n,a,s,h,c,u,l,f,d)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),n,a,s,h,c,u,l,f,d)},e.pushDecrypted=function(t,e,i,o,a,s,h,c,u,l,f,d){var p=this.demuxer;if(!p||(h||c)&&!this.probe(t)){for(var g=this.observer,v=this.typeSupported,y=this.config,m=[{demux:M,remux:Y},{demux:x["default"],remux:X},{demux:w,remux:Y},{demux:P,remux:Y}],_=0,b=m.length;_<b;_++){var S=m[_],E=S.demux.probe;if(E(t)){var O=this.remuxer=new S.remux(g,y,v,this.vendor);p=new S.demux(g,O,y,v),this.probe=E;break}}if(!p)return void g.trigger(r["default"].ERROR,{type:n["ErrorTypes"].MEDIA_ERROR,details:n["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var T=this.remuxer;(h||c)&&(p.resetInitSegment(i,o,a,l),T.resetInitSegment()),h&&(p.resetTimeStamp(d),T.resetTimeStamp(d)),"function"===typeof p.setDecryptData&&p.setDecryptData(e),p.append(t,s,u,f)},t}();e["default"]=$},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/demux/demuxer.js (referenced with require.resolve) */function(t,e,i){"use strict";i.r(e);var r=i(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),n=i(/*! ../events */"./src/events.js"),o=i(/*! ../utils/logger */"./src/utils/logger.js"),a=i(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),s=function(t){var e=new a["EventEmitter"];e.trigger=function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];e.emit.apply(e,[t,t].concat(r))},e.off=function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];e.removeListener.apply(e,[t].concat(r))};var i=function(e,i){t.postMessage({event:e,data:i})};t.addEventListener("message",(function(n){var a=n.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new r["default"](e,a.typeSupported,s,a.vendor),Object(o["enableLogs"])(s.debug),i("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS);break;default:break}})),e.on(n["default"].FRAG_DECRYPTED,i),e.on(n["default"].FRAG_PARSING_INIT_SEGMENT,i),e.on(n["default"].FRAG_PARSED,i),e.on(n["default"].ERROR,i),e.on(n["default"].FRAG_PARSING_METADATA,i),e.on(n["default"].FRAG_PARSING_USERDATA,i),e.on(n["default"].INIT_PTS_FOUND,i),e.on(n["default"].FRAG_PARSING_DATA,(function(e,i){var r=[],n={event:e,data:i};i.data1&&(n.data1=i.data1.buffer,r.push(i.data1.buffer),delete i.data1),i.data2&&(n.data2=i.data2.buffer,r.push(i.data2.buffer),delete i.data2),t.postMessage(n,r)}))};e["default"]=s},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! exports provided: default, utf8ArrayToStr */function(t,e,i){"use strict";i.r(e),i.d(e,"utf8ArrayToStr",(function(){return s}));var r,n=i(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),o=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,i){var r=i,n=0;while(t.isHeader(e,i)){n+=10;var o=t._readSize(e,i+6);n+=o,t.isFooter(e,i+10)&&(n+=10),i+=n}if(n>0)return e.subarray(r,r+n)},t._readSize=function(t,e){var i=0;return i=(127&t[e])<<21,i|=(127&t[e+1])<<14,i|=(127&t[e+2])<<7,i|=127&t[e+3],i},t.getTimeStamp=function(e){for(var i=t.getID3Frames(e),r=0;r<i.length;r++){var n=i[r];if(t.isTimeStampFrame(n))return t._readTimeStamp(n)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var i=String.fromCharCode(e[0],e[1],e[2],e[3]),r=t._readSize(e,4),n=10;return{type:i,size:r,data:e.subarray(n,n+r)}},t.getID3Frames=function(e){var i=0,r=[];while(t.isHeader(e,i)){var n=t._readSize(e,i+6);i+=10;var o=i+n;while(i+8<o){var a=t._getFrameData(e.subarray(i)),s=t._decodeFrame(a);s&&r.push(s),i+=a.size+10}t.isFooter(e,i)&&(i+=10)}return r},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),i=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,i&&(r+=47721858.84),Math.round(r)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var i=t._utf8ArrayToStr(e.data,!0),r=new Uint8Array(e.data.subarray(i.length+1));return{key:e.type,info:i,data:r.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var i=1,r=t._utf8ArrayToStr(e.data.subarray(i),!0);i+=r.length+1;var n=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:r,data:n}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var i=1,r=t._utf8ArrayToStr(e.data.subarray(i));i+=r.length+1;var n=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:r,data:n}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);var i=a();if(i){var r=i.decode(t);if(e){var n=r.indexOf("\0");return-1!==n?r.substring(0,n):r}return r.replace(/\0/g,"")}var o,s,h,c=t.length,u="",l=0;while(l<c){if(o=t[l++],0===o&&e)return u;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(o);break;case 12:case 13:s=t[l++],u+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=t[l++],h=t[l++],u+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&h)<<0);break;default:}}return u},t}();function a(){var t=Object(n["getSelfScope"])();return r||"undefined"===typeof t.TextDecoder||(r=new t.TextDecoder("utf-8")),r}var s=o._utf8ArrayToStr;e["default"]=o},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var r=i(/*! ../utils/logger */"./src/utils/logger.js"),n=i(/*! ../events */"./src/events.js"),o=Math.pow(2,32)-1,a=function(){function t(t,e){this.observer=t,this.remuxer=e}var e=t.prototype;return e.resetTimeStamp=function(t){this.initPTS=t},e.resetInitSegment=function(e,i,r,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==i&&(i="mp4a.40.5"),null==r&&(r="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:i+","+r,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:i,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:r,initSegment:o?e:null})),this.observer.trigger(n["default"].FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else i&&(this.audioCodec=i),r&&(this.videoCodec=r)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<8|t[e+1];return i<0?65536+i:i},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return i<0?4294967296+i:i},t.writeUint32=function(t,e,i){t.data&&(e+=t.start,t=t.data),t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},t.findBox=function(e,i){var r,n,o,a,s,h,c,u=[];if(e.data?(h=e.start,a=e.end,e=e.data):(h=0,a=e.byteLength),!i.length)return null;for(r=h;r<a;)n=t.readUint32(e,r),o=t.bin2str(e.subarray(r+4,r+8)),c=n>1?r+n:a,o===i[0]&&(1===i.length?u.push({data:e,start:r+8,end:c}):(s=t.findBox({data:e,start:r+8,end:c},i.slice(1)),s.length&&(u=u.concat(s)))),r=c;return u},t.parseSegmentIndex=function(e){var i,r=t.findBox(e,["moov"])[0],n=r?r.end:null,o=0,a=t.findBox(e,["sidx"]);if(!a||!a[0])return null;i=[],a=a[0];var s=a.data[0];o=0===s?8:16;var h=t.readUint32(a,o);o+=4;var c=0,u=0;o+=0===s?8:16,o+=2;var l=a.end+u,f=t.readUint16(a,o);o+=2;for(var d=0;d<f;d++){var p=o,g=t.readUint32(a,p);p+=4;var v=2147483647&g,y=(2147483648&g)>>>31;if(1===y)return void console.warn("SIDX has hierarchical references (not supported)");var m=t.readUint32(a,p);p+=4,i.push({referenceSize:v,subsegmentDuration:m,info:{duration:m/h,start:l,end:l+v-1}}),l+=v,p+=4,o=p}return{earliestPresentationTime:c,timescale:h,version:s,referencesCount:f,references:i,moovEndOffset:n}},t.parseInitSegment=function(e){var i=[],n=t.findBox(e,["moov","trak"]);return n.forEach((function(e){var n=t.findBox(e,["tkhd"])[0];if(n){var o=n.data[n.start],a=0===o?12:20,s=t.readUint32(n,a),h=t.findBox(e,["mdia","mdhd"])[0];if(h){o=h.data[h.start],a=0===o?12:20;var c=t.readUint32(h,a),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var l=t.bin2str(u.data.subarray(u.start+8,u.start+12)),f={soun:"audio",vide:"video"}[l];if(f){var d=t.findBox(e,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var p=t.bin2str(d.data.subarray(d.start+12,d.start+16));r["logger"].log("MP4Demuxer:"+f+":"+p+" found")}i[s]={timescale:c,type:f},i[f]={timescale:c,id:s}}}}}})),i},t.getStartDTS=function(e,i){var r,n,o;return r=t.findBox(i,["moof","traf"]),n=[].concat.apply([],r.map((function(i){return t.findBox(i,["tfhd"]).map((function(r){var n,o,a;return n=t.readUint32(r,4),o=e[n].timescale||9e4,a=t.findBox(i,["tfdt"]).map((function(e){var i,r;return i=e.data[e.start],r=t.readUint32(e,4),1===i&&(r*=Math.pow(2,32),r+=t.readUint32(e,8)),r}))[0],a/o}))}))),o=Math.min.apply(null,n),isFinite(o)?o:0},t.offsetStartDTS=function(e,i,r){t.findBox(i,["moof","traf"]).map((function(i){return t.findBox(i,["tfhd"]).map((function(n){var a=t.readUint32(n,4),s=e[a].timescale||9e4;t.findBox(i,["tfdt"]).map((function(e){var i=e.data[e.start],n=t.readUint32(e,4);if(0===i)t.writeUint32(e,4,n-r*s);else{n*=Math.pow(2,32),n+=t.readUint32(e,8),n-=r*s,n=Math.max(n,0);var a=Math.floor(n/(o+1)),h=Math.floor(n%(o+1));t.writeUint32(e,4,a),t.writeUint32(e,8,h)}}))}))}))},e.append=function(e,i,r,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,h=this.initPTS;if(void 0===h){var c=t.getStartDTS(a,e);this.initPTS=h=c-i,this.observer.trigger(n["default"].INIT_PTS_FOUND,{initPTS:h})}t.offsetStartDTS(a,e,h),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,r,o,e)},e.destroy=function(){},t}();e["default"]=a},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/*! exports provided: ErrorTypes, ErrorDetails */function(t,e,i){"use strict";var r,n;i.r(e),i.d(e,"ErrorTypes",(function(){return r})),i.d(e,"ErrorDetails",(function(){return n})),function(t){t["NETWORK_ERROR"]="networkError",t["MEDIA_ERROR"]="mediaError",t["KEY_SYSTEM_ERROR"]="keySystemError",t["MUX_ERROR"]="muxError",t["OTHER_ERROR"]="otherError"}(r||(r={})),function(t){t["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys",t["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess",t["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession",t["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed",t["KEY_SYSTEM_NO_INIT_DATA"]="keySystemNoInitData",t["MANIFEST_LOAD_ERROR"]="manifestLoadError",t["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut",t["MANIFEST_PARSING_ERROR"]="manifestParsingError",t["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError",t["LEVEL_LOAD_ERROR"]="levelLoadError",t["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut",t["LEVEL_SWITCH_ERROR"]="levelSwitchError",t["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError",t["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut",t["FRAG_LOAD_ERROR"]="fragLoadError",t["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut",t["FRAG_DECRYPT_ERROR"]="fragDecryptError",t["FRAG_PARSING_ERROR"]="fragParsingError",t["REMUX_ALLOC_ERROR"]="remuxAllocError",t["KEY_LOAD_ERROR"]="keyLoadError",t["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut",t["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError",t["BUFFER_APPEND_ERROR"]="bufferAppendError",t["BUFFER_APPENDING_ERROR"]="bufferAppendingError",t["BUFFER_STALLED_ERROR"]="bufferStalledError",t["BUFFER_FULL_ERROR"]="bufferFullError",t["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole",t["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall",t["INTERNAL_EXCEPTION"]="internalException"}(n||(n={}))},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: default */function(t,e,i){"use strict";i.r(e);var r={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"};e["default"]=r},"./src/hls.ts":
/*!*********************************!*\
  !*** ./src/hls.ts + 50 modules ***!
  \*********************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number-isFinite.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/eventemitter3/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */function(t,e,i){"use strict";i.r(e);var r={};i.r(r),i.d(r,"newCue",(function(){return pi}));var n,o,a=i("./node_modules/url-toolkit/src/url-toolkit.js"),s=i("./src/errors.ts"),h=i("./src/polyfills/number-isFinite.js"),c=i("./src/events.js"),u=i("./src/utils/logger.js"),l={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},f=function(){function t(t){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){},e.onHandlerDestroyed=function(){},e.isEventHandler=function(){return"object"===typeof this.handledEvents&&this.handledEvents.length&&"function"===typeof this.onEvent},e.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(l[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},e.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},e.onEvent=function(t,e){this.onEventGeneric(t,e)},e.onEventGeneric=function(t,e){var i=function(t,e){var i="on"+t.replace("hls","");if("function"!==typeof this[i])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,e)};try{i.call(this,t,e).call()}catch(r){u["logger"].error("An internal error happened while handling event "+t+'. Error message: "'+r.message+'". Here is a stacktrace:',r),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].INTERNAL_EXCEPTION,fatal:!1,event:t,err:r})}},t}(),d=f;(function(t){t["MANIFEST"]="manifest",t["LEVEL"]="level",t["AUDIO_TRACK"]="audioTrack",t["SUBTITLE_TRACK"]="subtitleTrack"})(n||(n={})),function(t){t["MAIN"]="main",t["AUDIO"]="audio",t["SUBTITLE"]="subtitle"}(o||(o={}));var p=i("./src/demux/mp4demuxer.js");function g(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,i){return e&&g(t.prototype,e),i&&g(t,i),t}var y,m=function(){function t(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=t,this.reluri=e}return v(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(a["buildAbsoluteURL"])(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}();function _(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,i){return e&&_(t.prototype,e),i&&_(t,i),t}(function(t){t["AUDIO"]="audio",t["VIDEO"]="video"})(y||(y={}));var w=function(){function t(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=(t={},t[y.AUDIO]=!1,t[y.VIDEO]=!1,t),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var e=t.prototype;return e.setByteRange=function(t,e){var i=t.split("@",2),r=[];1===i.length?r[0]=e?e.byteRangeEndOffset:0:r[0]=parseInt(i[1]),r[1]=parseInt(i[0])+r[0],this._byteRange=r},e.addElementaryStream=function(t){this._elementaryStreams[t]=!0},e.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},e.createInitializationVector=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e},e.setDecryptDataFromLevelKey=function(t,e){var i=t;return t&&t.method&&t.uri&&!t.iv&&(i=new m(t.baseuri,t.reluri),i.method=t.method,i.iv=this.createInitializationVector(e)),i},b(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(a["buildAbsoluteURL"])(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!==typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&u["logger"].warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(h["isFiniteNumber"])(this.programDateTime))return null;var t=Object(h["isFiniteNumber"])(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}]),t}();function x(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,i){return e&&x(t.prototype,e),i&&x(t,i),t}var E=function(){function t(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return S(t,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(h["isFiniteNumber"])(this.fragments[0].programDateTime))}}]),t}(),O=/^(\d+)x(\d+)$/,T=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,C=function(){function t(e){for(var i in"string"===typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(i)&&(this[i]=e[i])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)i[r]=parseInt(e.slice(2*r,2*r+2),16);return i}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.enumeratedString=function(t){return this[t]},e.decimalResolution=function(t){var e=O.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,i={};T.lastIndex=0;while(null!==(e=T.exec(t))){var r=e[2],n='"';0===r.indexOf(n)&&r.lastIndexOf(n)===r.length-1&&(r=r.slice(1,-1)),i[e[1]]=r}return i},t}(),A=C,L={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function R(t,e){var i=L[e];return!!i&&!0===i[t.slice(0,4)]}function M(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var I=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,P=/#EXT-X-MEDIA:(.*)/g,N=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),F=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,k=/\.(mp4|m4s|m4v|m4a)$/i,j=function(){function t(){}return t.findGroup=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(r.id===e)return r}},t.convertAVC1ToAVCOTI=function(t){var e,i=t.split(".");return i.length>2?(e=i.shift()+".",e+=parseInt(i.shift()).toString(16),e+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return a["buildAbsoluteURL"](e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,i){var r,n=[];function o(t,e){["video","audio"].forEach((function(i){var r=t.filter((function(t){return R(t,i)}));if(r.length){var n=r.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[i+"Codec"]=n.length>0?n[0]:r[0],t=t.filter((function(t){return-1===r.indexOf(t)}))}})),e.unknownCodecs=t}I.lastIndex=0;while(null!=(r=I.exec(e))){var a={},s=a.attrs=new A(r[1]);a.url=t.resolve(r[2],i);var h=s.decimalResolution("RESOLUTION");h&&(a.width=h.width,a.height=h.height),a.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),a.name=s.NAME,o([].concat((s.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=t.convertAVC1ToAVCOTI(a.videoCodec)),n.push(a)}return n},t.parseMasterPlaylistMedia=function(e,i,r,n){var o;void 0===n&&(n=[]);var a=[],s=0;P.lastIndex=0;while(null!==(o=P.exec(e))){var h=new A(o[1]);if(h.TYPE===r){var c={id:s++,groupId:h["GROUP-ID"],name:h.NAME||h.LANGUAGE,type:r,default:"YES"===h.DEFAULT,autoselect:"YES"===h.AUTOSELECT,forced:"YES"===h.FORCED,lang:h.LANGUAGE};if(h.URI&&(c.url=t.resolve(h.URI,i)),n.length){var u=t.findGroup(n,c.groupId);c.audioCodec=u?u.codec:n[0].codec}a.push(c)}}return a},t.parseLevelPlaylist=function(t,e,i,r,n){var o,a,s,c=0,l=0,f=new E(e),d=0,p=null,g=new w,v=null;N.lastIndex=0;while(null!==(o=N.exec(t))){var y=o[1];if(y){g.duration=parseFloat(y);var _=(" "+o[2]).slice(1);g.title=_||null,g.tagList.push(_?["INF",y,_]:["INF",y])}else if(o[3]){if(Object(h["isFiniteNumber"])(g.duration)){var b=c++;g.type=r,g.start=l,s&&(g.levelkey=s),g.sn=b,g.level=i,g.cc=d,g.urlId=n,g.baseurl=e,g.relurl=(" "+o[3]).slice(1),G(g,p),f.fragments.push(g),p=g,l+=g.duration,g=new w}}else if(o[4]){var x=(" "+o[4]).slice(1);p?g.setByteRange(x,p):g.setByteRange(x)}else if(o[5])g.rawProgramDateTime=(" "+o[5]).slice(1),g.tagList.push(["PROGRAM-DATE-TIME",g.rawProgramDateTime]),null===v&&(v=f.fragments.length);else{if(o=o[0].match(F),!o){u["logger"].warn("No matches on slow regex match for level playlist!");continue}for(a=1;a<o.length;a++)if("undefined"!==typeof o[a])break;var S=(" "+o[a+1]).slice(1),O=(" "+o[a+2]).slice(1);switch(o[a]){case"#":g.tagList.push(O?[S,O]:[S]);break;case"PLAYLIST-TYPE":f.type=S.toUpperCase();break;case"MEDIA-SEQUENCE":c=f.startSN=parseInt(S);break;case"TARGETDURATION":f.targetduration=parseFloat(S);break;case"VERSION":f.version=parseInt(S);break;case"EXTM3U":break;case"ENDLIST":f.live=!1;break;case"DIS":d++,g.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":d=parseInt(S);break;case"KEY":var T=S,C=new A(T),L=C.enumeratedString("METHOD"),R=C.URI,M=C.hexadecimalInteger("IV");L&&(s=new m(e,R),R&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(L)>=0&&(s.method=L,s.key=null,s.iv=M));break;case"START":var I=new A(S),P=I.decimalFloatingPoint("TIME-OFFSET");Object(h["isFiniteNumber"])(P)&&(f.startTimeOffset=P);break;case"MAP":var j=new A(S);g.relurl=j.URI,j.BYTERANGE&&g.setByteRange(j.BYTERANGE),g.baseurl=e,g.level=i,g.type=r,g.sn="initSegment",f.initSegment=g,g=new w,g.rawProgramDateTime=f.initSegment.rawProgramDateTime;break;default:u["logger"].warn("line parsed but not handled: "+o);break}}}return g=p,g&&!g.relurl&&(f.fragments.pop(),l-=g.duration),f.totalduration=l,f.averagetargetduration=l/f.fragments.length,f.endSN=c-1,f.startCC=f.fragments[0]?f.fragments[0].cc:0,f.endCC=d,!f.initSegment&&f.fragments.length&&f.fragments.every((function(t){return k.test(t.relurl)}))&&(u["logger"].warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),g=new w,g.relurl=f.fragments[0].relurl,g.baseurl=e,g.level=i,g.type=r,g.sn="initSegment",f.initSegment=g,f.needSidxRanges=!0),v&&D(f.fragments,v),f},t}();function D(t,e){for(var i=t[e],r=e-1;r>=0;r--){var n=t[r];n.programDateTime=i.programDateTime-1e3*n.duration,i=n}}function G(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Object(h["isFiniteNumber"])(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function B(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var U=window,z=U.performance,q=function(t){function e(e){var i;return i=t.call(this,e,c["default"].MANIFEST_LOADING,c["default"].LEVEL_LOADING,c["default"].AUDIO_TRACK_LOADING,c["default"].SUBTITLE_TRACK_LOADING)||this,i.loaders={},i}B(e,t),e.canHaveQualityLevels=function(t){return t!==n.AUDIO_TRACK&&t!==n.SUBTITLE_TRACK},e.mapContextToLevelType=function(t){var e=t.type;switch(e){case n.AUDIO_TRACK:return o.AUDIO;case n.SUBTITLE_TRACK:return o.SUBTITLE;default:return o.MAIN}},e.getResponseUrl=function(t,e){var i=t.url;return void 0!==i&&0!==i.indexOf("data:")||(i=e.url),i};var i=e.prototype;return i.createInternalLoader=function(t){var e=this.hls.config,i=e.pLoader,r=e.loader,n=i||r,o=new n(e);return t.loader=o,this.loaders[t.type]=o,o},i.getInternalLoader=function(t){return this.loaders[t.type]},i.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},i.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},i.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},i.onManifestLoading=function(t){this.load({url:t.url,type:n.MANIFEST,level:0,id:null,responseType:"text"})},i.onLevelLoading=function(t){this.load({url:t.url,type:n.LEVEL,level:t.level,id:t.id,responseType:"text"})},i.onAudioTrackLoading=function(t){this.load({url:t.url,type:n.AUDIO_TRACK,level:null,id:t.id,responseType:"text"})},i.onSubtitleTrackLoading=function(t){this.load({url:t.url,type:n.SUBTITLE_TRACK,level:null,id:t.id,responseType:"text"})},i.load=function(t){var e=this.hls.config;u["logger"].debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var i,r,o,a,s=this.getInternalLoader(t);if(s){var h=s.context;if(h&&h.url===t.url)return u["logger"].trace("playlist request ongoing"),!1;u["logger"].warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case n.MANIFEST:i=e.manifestLoadingMaxRetry,r=e.manifestLoadingTimeOut,o=e.manifestLoadingRetryDelay,a=e.manifestLoadingMaxRetryTimeout;break;case n.LEVEL:i=0,a=0,o=0,r=e.levelLoadingTimeOut;break;default:i=e.levelLoadingMaxRetry,r=e.levelLoadingTimeOut,o=e.levelLoadingRetryDelay,a=e.levelLoadingMaxRetryTimeout;break}s=this.createInternalLoader(t);var c={timeout:r,maxRetry:i,retryDelay:o,maxRetryDelay:a},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return u["logger"].debug("Calling internal loader delegate for URL: "+t.url),s.load(t,c,l),!0},i.loadsuccess=function(t,e,i,r){if(void 0===r&&(r=null),i.isSidxRequest)return this._handleSidxRequest(t,i),void this._handlePlaylistLoaded(t,e,i,r);if(this.resetInternalLoader(i.type),"string"!==typeof t.data)throw new Error('expected responseType of "text" for PlaylistLoader');var n=t.data;e.tload=z.now(),0===n.indexOf("#EXTM3U")?n.indexOf("#EXTINF:")>0||n.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,i,r):this._handleMasterPlaylist(t,e,i,r):this._handleManifestParsingError(t,i,"no EXTM3U delimiter",r)},i.loaderror=function(t,e,i){void 0===i&&(i=null),this._handleNetworkError(e,i,!1,t)},i.loadtimeout=function(t,e,i){void 0===i&&(i=null),this._handleNetworkError(e,i,!0)},i._handleMasterPlaylist=function(t,i,r,n){var o=this.hls,a=t.data,s=e.getResponseUrl(t,r),h=j.parseMasterPlaylist(a,s);if(h.length){var l=h.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),f=j.parseMasterPlaylistMedia(a,s,"AUDIO",l),d=j.parseMasterPlaylistMedia(a,s,"SUBTITLES");if(f.length){var p=!1;f.forEach((function(t){t.url||(p=!0)})),!1===p&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(u["logger"].log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1}))}o.trigger(c["default"].MANIFEST_LOADED,{levels:h,audioTracks:f,subtitles:d,url:s,stats:i,networkDetails:n})}else this._handleManifestParsingError(t,r,"no level found in manifest",n)},i._handleTrackOrLevelPlaylist=function(t,i,r,o){var a=this.hls,s=r.id,u=r.level,l=r.type,f=e.getResponseUrl(t,r),d=Object(h["isFiniteNumber"])(s)?s:0,p=Object(h["isFiniteNumber"])(u)?u:d,g=e.mapContextToLevelType(r),v=j.parseLevelPlaylist(t.data,f,p,g,d);if(v.tload=i.tload,l===n.MANIFEST){var y={url:f,details:v};a.trigger(c["default"].MANIFEST_LOADED,{levels:[y],audioTracks:[],url:f,stats:i,networkDetails:o})}if(i.tparsed=z.now(),v.needSidxRanges){var m=v.initSegment.url;this.load({url:m,isSidxRequest:!0,type:l,level:u,levelDetails:v,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=v,this._handlePlaylistLoaded(t,i,r,o)},i._handleSidxRequest=function(t,e){if("string"===typeof t.data)throw new Error("sidx request must be made with responseType of array buffer");var i=p["default"].parseSegmentIndex(new Uint8Array(t.data));if(i){var r=i.references,n=e.levelDetails;r.forEach((function(t,e){var i=t.info;if(n){var r=n.fragments[e];0===r.byteRange.length&&r.setByteRange(String(1+i.end-i.start)+"@"+String(i.start))}})),n&&n.initSegment.setByteRange(String(i.moovEndOffset)+"@0")}},i._handleManifestParsingError=function(t,e,i,r){this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:i,networkDetails:r})},i._handleNetworkError=function(t,e,i,r){var o,a;void 0===i&&(i=!1),void 0===r&&(r=null),u["logger"].info("A network error occured while loading a "+t.type+"-type playlist");var h=this.getInternalLoader(t);switch(t.type){case n.MANIFEST:o=i?s["ErrorDetails"].MANIFEST_LOAD_TIMEOUT:s["ErrorDetails"].MANIFEST_LOAD_ERROR,a=!0;break;case n.LEVEL:o=i?s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:s["ErrorDetails"].LEVEL_LOAD_ERROR,a=!1;break;case n.AUDIO_TRACK:o=i?s["ErrorDetails"].AUDIO_TRACK_LOAD_TIMEOUT:s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}h&&(h.abort(),this.resetInternalLoader(t.type));var l={type:s["ErrorTypes"].NETWORK_ERROR,details:o,fatal:a,url:t.url,loader:h,context:t,networkDetails:e};r&&(l.response=r),this.hls.trigger(c["default"].ERROR,l)},i._handlePlaylistLoaded=function(t,i,r,o){var a=r.type,s=r.level,h=r.id,u=r.levelDetails;if(u&&u.targetduration){var l=e.canHaveQualityLevels(r.type);if(l)this.hls.trigger(c["default"].LEVEL_LOADED,{details:u,level:s||0,id:h||0,stats:i,networkDetails:o});else switch(a){case n.AUDIO_TRACK:this.hls.trigger(c["default"].AUDIO_TRACK_LOADED,{details:u,id:h,stats:i,networkDetails:o});break;case n.SUBTITLE_TRACK:this.hls.trigger(c["default"].SUBTITLE_TRACK_LOADED,{details:u,id:h,stats:i,networkDetails:o});break}}else this._handleManifestParsingError(t,r,"invalid target duration",o)},e}(d),V=q;function H(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var W=function(t){function e(e){var i;return i=t.call(this,e,c["default"].FRAG_LOADING)||this,i.loaders={},i}H(e,t);var i=e.prototype;return i.destroy=function(){var e=this.loaders;for(var i in e){var r=e[i];r&&r.destroy()}this.loaders={},t.prototype.destroy.call(this)},i.onFragLoading=function(t){var e=t.frag,i=e.type,r=this.loaders,n=this.hls.config,o=n.fLoader,a=n.loader;e.loaded=0;var s,c,l,f=r[i];f&&(u["logger"].warn("abort previous fragment loader for type: "+i),f.abort()),f=r[i]=e.loader=n.fLoader?new o(n):new a(n),s={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var d=e.byteRangeStartOffset,p=e.byteRangeEndOffset;Object(h["isFiniteNumber"])(d)&&Object(h["isFiniteNumber"])(p)&&(s.rangeStart=d,s.rangeEnd=p),c={timeout:n.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:n.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(s,c,l)},i.loadsuccess=function(t,e,i,r){void 0===r&&(r=null);var n=t.data,o=i.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(c["default"].FRAG_LOADED,{payload:n,frag:o,stats:e,networkDetails:r})},i.loaderror=function(t,e,i){void 0===i&&(i=null);var r=e.frag,n=r.loader;n&&n.abort(),this.loaders[r.type]=void 0,this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:i})},i.loadtimeout=function(t,e,i){void 0===i&&(i=null);var r=e.frag,n=r.loader;n&&n.abort(),this.loaders[r.type]=void 0,this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:i})},i.loadprogress=function(t,e,i,r){void 0===r&&(r=null);var n=e.frag;n.loaded=t.loaded,this.hls.trigger(c["default"].FRAG_LOAD_PROGRESS,{frag:n,stats:t,networkDetails:r})},e}(d),Y=W;function K(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var X=function(t){function e(e){var i;return i=t.call(this,e,c["default"].KEY_LOADING)||this,i.loaders={},i.decryptkey=null,i.decrypturl=null,i}K(e,t);var i=e.prototype;return i.destroy=function(){for(var e in this.loaders){var i=this.loaders[e];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},i.onKeyLoading=function(t){var e=t.frag,i=e.type,r=this.loaders[i];if(e.decryptdata){var n=e.decryptdata.uri;if(n!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;if(r&&(u["logger"].warn("abort previous key loader for type:"+i),r.abort()),!n)return void u["logger"].warn("key uri is falsy");e.loader=this.loaders[i]=new o.loader(o),this.decrypturl=n,this.decryptkey=null;var a={url:n,frag:e,responseType:"arraybuffer"},s={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.loader.load(a,s,h)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(c["default"].KEY_LOADED,{frag:e}))}else u["logger"].warn("Missing decryption data on fragment in onKeyLoading")},i.loadsuccess=function(t,e,i){var r=i.frag;r.decryptdata?(this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,delete this.loaders[r.type],this.hls.trigger(c["default"].KEY_LOADED,{frag:r})):u["logger"].error("after key load, decryptdata unset")},i.loaderror=function(t,e){var i=e.frag,r=i.loader;r&&r.abort(),delete this.loaders[i.type],this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].KEY_LOAD_ERROR,fatal:!1,frag:i,response:t})},i.loadtimeout=function(t,e){var i=e.frag,r=i.loader;r&&r.abort(),delete this.loaders[i.type],this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},e}(d),Z=X;function $(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var J={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},Q=function(t){function e(e){var i;return i=t.call(this,e,c["default"].BUFFER_APPENDED,c["default"].FRAG_BUFFERED,c["default"].FRAG_LOADED)||this,i.bufferPadding=.2,i.fragments=Object.create(null),i.timeRanges=Object.create(null),i.config=e.config,i}$(e,t);var i=e.prototype;return i.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,d.prototype.destroy.call(this),t.prototype.destroy.call(this)},i.getBufferedFrag=function(t,e){var i=this.fragments,r=Object.keys(i).filter((function(r){var n=i[r];if(n.body.type!==e)return!1;if(!n.buffered)return!1;var o=n.body;return o.startPTS<=t&&t<=o.endPTS}));if(0===r.length)return null;var n=r.pop();return i[n].body},i.detectEvictedFragments=function(t,e){var i,r,n=this;Object.keys(this.fragments).forEach((function(o){var a=n.fragments[o];if(!0===a.buffered){var s=a.range[t];if(s){i=s.time;for(var h=0;h<i.length;h++)if(r=i[h],!1===n.isTimeBuffered(r.startPTS,r.endPTS,e)){n.removeFragment(a.body);break}}}}))},i.detectPartialFragments=function(t){var e=this,i=this.getFragmentKey(t),r=this.fragments[i];r&&(r.buffered=!0,Object.keys(this.timeRanges).forEach((function(i){if(t.hasElementaryStream(i)){var n=e.timeRanges[i];r.range[i]=e.getBufferedTimes(t.startPTS,t.endPTS,n)}})))},i.getBufferedTimes=function(t,e,i){for(var r,n,o=[],a=!1,s=0;s<i.length;s++){if(r=i.start(s)-this.bufferPadding,n=i.end(s)+this.bufferPadding,t>=r&&e<=n){o.push({startPTS:Math.max(t,i.start(s)),endPTS:Math.min(e,i.end(s))});break}if(t<n&&e>r)o.push({startPTS:Math.max(t,i.start(s)),endPTS:Math.min(e,i.end(s))}),a=!0;else if(e<=r)break}return{time:o,partial:a}},i.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},i.getPartialFragment=function(t){var e,i,r,n=this,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var h=n.fragments[s];n.isPartial(h)&&(i=h.body.startPTS-n.bufferPadding,r=h.body.endPTS+n.bufferPadding,t>=i&&t<=r&&(e=Math.min(t-i,r-t),a<=e&&(o=h.body,a=e)))})),o},i.getState=function(t){var e=this.getFragmentKey(t),i=this.fragments[e],r=J.NOT_LOADED;return void 0!==i&&(r=i.buffered?!0===this.isPartial(i)?J.PARTIAL:J.OK:J.APPENDING),r},i.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},i.isTimeBuffered=function(t,e,i){for(var r,n,o=0;o<i.length;o++){if(r=i.start(o)-this.bufferPadding,n=i.end(o)+this.bufferPadding,t>=r&&e<=n)return!0;if(e<=r)return!1}return!1},i.onFragLoaded=function(t){var e=t.frag;Object(h["isFiniteNumber"])(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},i.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var i=e.timeRanges[t];e.detectEvictedFragments(t,i)}))},i.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},i.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},i.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},i.removeAllFragments=function(){this.fragments=Object.create(null)},e}(d),tt={search:function(t,e){var i=0,r=t.length-1,n=null,o=null;while(i<=r){n=(i+r)/2|0,o=t[n];var a=e(o);if(a>0)i=n+1;else{if(!(a<0))return o;r=n-1}}return null}},et=tt,it=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var i=t.buffered,r=0;r<i.length;r++)if(e>=i.start(r)&&e<=i.end(r))return!0}catch(n){}return!1},t.bufferInfo=function(t,e,i){try{if(t){var r,n=t.buffered,o=[];for(r=0;r<n.length;r++)o.push({start:n.start(r),end:n.end(r)});return this.bufferedInfo(o,e,i)}}catch(a){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,i){t.sort((function(t,e){var i=t.start-e.start;return i||e.end-t.end}));var r=[];if(i)for(var n=0;n<t.length;n++){var o=r.length;if(o){var a=r[o-1].end;t[n].start-a<i?t[n].end>a&&(r[o-1].end=t[n].end):r.push(t[n])}else r.push(t[n])}else r=t;for(var s,h=0,c=e,u=e,l=0;l<r.length;l++){var f=r[l].start,d=r[l].end;if(e+i>=f&&e<d)c=f,u=d,h=u-e;else if(e+i<f){s=f;break}}return{len:h,start:c,end:u,nextStart:s}},t}(),rt=i("./node_modules/eventemitter3/index.js"),nt=i("./node_modules/webworkify-webpack/index.js"),ot=i("./src/demux/demuxer-inline.js");function at(){return window.MediaSource||window.WebKitMediaSource}var st=i("./src/utils/get-self-scope.js");function ht(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ct=function(t){function e(){return t.apply(this,arguments)||this}ht(e,t);var i=e.prototype;return i.trigger=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];this.emit.apply(this,[t,t].concat(i))},e}(rt["EventEmitter"]),ut=Object(st["getSelfScope"])(),lt=at()||{isTypeSupported:function(){return!1}},ft=function(){function t(t,e){var i=this;this.hls=t,this.id=e;var r=this.observer=new ct,n=t.config,o=function(e,r){r=r||{},r.frag=i.frag,r.id=i.id,t.trigger(e,r)};r.on(c["default"].FRAG_DECRYPTED,o),r.on(c["default"].FRAG_PARSING_INIT_SEGMENT,o),r.on(c["default"].FRAG_PARSING_DATA,o),r.on(c["default"].FRAG_PARSED,o),r.on(c["default"].ERROR,o),r.on(c["default"].FRAG_PARSING_METADATA,o),r.on(c["default"].FRAG_PARSING_USERDATA,o),r.on(c["default"].INIT_PTS_FOUND,o);var a={mp4:lt.isTypeSupported("video/mp4"),mpeg:lt.isTypeSupported("audio/mpeg"),mp3:lt.isTypeSupported('audio/mp4; codecs="mp3"')},h=navigator.vendor;if(n.enableWorker&&"undefined"!==typeof Worker){var l;u["logger"].log("demuxing in webworker");try{l=this.w=nt(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(e){t.trigger(c["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:a,vendor:h,id:e,config:JSON.stringify(n)})}catch(f){u["logger"].warn("Error in worker:",f),u["logger"].error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&ut.URL.revokeObjectURL(l.objectURL),this.demuxer=new ot["default"](r,a,n,h),this.w=void 0}}else this.demuxer=new ot["default"](r,a,n,h)}var e=t.prototype;return e.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},e.push=function(t,e,i,r,n,o,a,s){var c=this.w,l=Object(h["isFiniteNumber"])(n.startPTS)?n.startPTS:n.start,f=n.decryptdata,d=this.frag,p=!(d&&n.cc===d.cc),g=!(d&&n.level===d.level),v=d&&n.sn===d.sn+1,y=!g&&v;if(p&&u["logger"].log(this.id+":discontinuity detected"),g&&u["logger"].log(this.id+":switch detected"),this.frag=n,c)c.postMessage({cmd:"demux",data:t,decryptdata:f,initSegment:e,audioCodec:i,videoCodec:r,timeOffset:l,discontinuity:p,trackSwitch:g,contiguous:y,duration:o,accurateTimeOffset:a,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var m=this.demuxer;m&&m.push(t,f,e,i,r,l,p,g,y,o,a,s)}},e.onWorkerMessage=function(t){var e=t.data,i=this.hls;switch(e.event){case"init":ut.URL.revokeObjectURL(this.w.objectURL);break;case c["default"].FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data);break}},t}(),dt=ft;function pt(t,e,i){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(i);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(i);break}}function gt(t,e,i){var r=t[e],n=t[i],o=n.startPTS;Object(h["isFiniteNumber"])(o)?i>e?(r.duration=o-r.start,r.duration<0&&u["logger"].warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(n.duration=r.start-o,n.duration<0&&u["logger"].warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):n.start=i>e?r.start+r.duration:Math.max(r.start-n.duration,0)}function vt(t,e,i,r,n,o){var a=i;if(Object(h["isFiniteNumber"])(e.startPTS)){var s=Math.abs(e.startPTS-i);Object(h["isFiniteNumber"])(e.deltaPTS)?e.deltaPTS=Math.max(s,e.deltaPTS):e.deltaPTS=s,a=Math.max(i,e.startPTS),i=Math.min(i,e.startPTS),r=Math.max(r,e.endPTS),n=Math.min(n,e.startDTS),o=Math.max(o,e.endDTS)}var c=i-e.start;e.start=e.startPTS=i,e.maxStartPTS=a,e.endPTS=r,e.startDTS=n,e.endDTS=o,e.duration=r-i;var u,l,f,d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;for(u=d-t.startSN,l=t.fragments,l[u]=e,f=u;f>0;f--)gt(l,f,f-1);for(f=u;f<l.length-1;f++)gt(l,f,f+1);return t.PTSKnown=!0,c}function yt(t,e){e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment);var i,r=0;if(_t(t,e,(function(t,n){r=t.cc-n.cc,Object(h["isFiniteNumber"])(t.startPTS)&&(n.start=n.startPTS=t.startPTS,n.endPTS=t.endPTS,n.duration=t.duration,n.backtracked=t.backtracked,n.dropped=t.dropped,i=n),e.PTSKnown=!0})),e.PTSKnown){if(r){u["logger"].log("discontinuity sliding from playlist, take drift into account");for(var n=e.fragments,o=0;o<n.length;o++)n[o].cc+=r}i?vt(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):bt(t,e),e.PTSKnown=t.PTSKnown}}function mt(t,e,i){void 0===i&&(i=0);var r=-1;_t(t,e,(function(t,e,i){e.start=t.start,r=i}));var n=e.fragments;if(r<0)n.forEach((function(t){t.start+=i}));else for(var o=r+1;o<n.length;o++)n[o].start=n[o-1].start+n[o-1].duration}function _t(t,e,i){if(t&&e)for(var r=Math.max(t.startSN,e.startSN)-e.startSN,n=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=r;a<=n;a++){var s=t.fragments[o+a],h=e.fragments[a];if(!s||!h)break;i(s,h,a)}}function bt(t,e){var i=e.startSN-t.startSN,r=t.fragments,n=e.fragments;if(!(i<0||i>r.length))for(var o=0;o<n.length;o++)n[o].start+=r[i].start}function wt(t,e,i){var r=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),n=r/2;return t&&e.endSN===t.endSN&&(r=n),i&&(r=Math.max(n,r-(window.performance.now()-i))),Math.round(r)}var xt={toString:function(t){for(var e="",i=t.length,r=0;r<i;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e}},St=xt;function Et(t,e){for(var i=null,r=0;r<t.length;r+=1){var n=t[r];if(n&&n.cc===e){i=n;break}}return i}function Ot(t,e){return et.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}function Tt(t,e,i){var r=!1;return e&&e.details&&i&&(i.endCC>i.startCC||t&&t.cc<i.startCC)&&(r=!0),r}function Ct(t,e){var i=t.fragments,r=e.fragments;if(r.length&&i.length){var n=Et(i,r[0].cc);if(n&&(!n||n.startPTS))return n;u["logger"].log("No frag in previous level to align on")}else u["logger"].log("No fragments to align")}function At(t,e){e.fragments.forEach((function(e){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}})),e.PTSKnown=!0}function Lt(t,e,i){Rt(t,i,e),!i.PTSKnown&&e&&Mt(i,e.details)}function Rt(t,e,i){if(Tt(t,i,e)){var r=Ct(i.details,e);r&&(u["logger"].log("Adjusting PTS using last level due to CC increase within current level"),At(r.start,e))}}function Mt(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var i=e.fragments[0].programDateTime,r=t.fragments[0].programDateTime,n=(r-i)/1e3+e.fragments[0].start;Object(h["isFiniteNumber"])(n)&&(u["logger"].log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),At(n,t))}}function It(t,e,i){if(null===e||!Array.isArray(t)||!t.length||!Object(h["isFiniteNumber"])(e))return null;var r=t[0].programDateTime;if(e<(r||0))return null;var n=t[t.length-1].endProgramDateTime;if(e>=(n||0))return null;i=i||0;for(var o=0;o<t.length;++o){var a=t[o];if(Ft(e,i,a))return a}return null}function Pt(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=t?e[t.sn-e[0].sn+1]:null;return n&&!Nt(i,r,n)?n:et.search(e,Nt.bind(null,i,r))}function Nt(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0);var r=Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-r<=t?1:i.start-r>t&&i.start?-1:0}function Ft(t,e,i){var r=1e3*Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0)),n=i.endProgramDateTime||0;return n-r>t}var kt=250,jt=2,Dt=.1,Gt=.05,Bt=function(){function t(t,e,i,r){this.config=t,this.media=e,this.fragmentTracker=i,this.hls=r,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var e=t.prototype;return e.poll=function(t){var e=this.config,i=this.media,r=this.stalled,n=i.currentTime,o=i.seeking,a=this.seeking&&!o,s=!this.seeking&&o;if(this.seeking=o,n===t){if((s||a)&&(this.stalled=null),!i.paused&&!i.ended&&0!==i.playbackRate&&i.buffered.length){var h=it.bufferInfo(i,n,0),c=h.len>0,l=h.nextStart||0;if(c||l){if(o){var f=h.len>jt,d=!l||l-n>jt;if(f||d)return;this.moved=!1}if(!this.moved&&this.stalled){var p=Math.max(l,h.start||0)-n;if(p>0&&p<=jt)return void this._trySkipBufferHole(null)}var g=self.performance.now();if(null!==r){var v=g-r;!o&&v>=kt&&this._reportStall(h.len);var y=it.bufferInfo(i,n,e.maxBufferHole);this._tryFixBufferStall(y,v)}else this.stalled=g}}}else if(this.moved=!0,null!==r){if(this.stallReported){var m=self.performance.now()-r;u["logger"].warn("playback not stuck anymore @"+n+", after "+Math.round(m)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var i=this.config,r=this.fragmentTracker,n=this.media,o=n.currentTime,a=r.getPartialFragment(o);if(a){var s=this._trySkipBufferHole(a);if(s)return}t.len>i.maxBufferHole&&e>1e3*i.highBufferWatchdogPeriod&&(u["logger"].warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,i=this.media,r=this.stallReported;r||(this.stallReported=!0,u["logger"].warn("Playback stalling at @"+i.currentTime+" due to low buffer"),e.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,i=this.hls,r=this.media,n=r.currentTime,o=0,a=0;a<r.buffered.length;a++){var h=r.buffered.start(a);if(n+e.maxBufferHole>=o&&n<h){var l=Math.max(h+Gt,r.currentTime+Dt);return u["logger"].warn("skipping hole, adjusting currentTime from "+n+" to "+l),this.moved=!0,this.stalled=null,r.currentTime=l,t&&i.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+n+" to "+l,frag:t}),l}o=r.buffered.end(a)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,i=this.media,r=i.currentTime,n=(this.nudgeRetry||0)+1;if(this.nudgeRetry=n,n<t.nudgeMaxRetry){var o=r+n*t.nudgeOffset;u["logger"].warn("Nudging 'currentTime' from "+r+" to "+o),i.currentTime=o,e.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_NUDGE_ON_STALL,fatal:!1})}else u["logger"].error("Playhead still not moving while enough data buffered @"+r+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_STALLED_ERROR,fatal:!0})},t}();function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var qt=function(t){function e(e){for(var i,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return i=t.call.apply(t,[this,e].concat(n))||this,i._boundTick=void 0,i._tickTimer=null,i._tickInterval=null,i._tickCallCount=0,i._boundTick=i.tick.bind(Ut(i)),i}zt(e,t);var i=e.prototype;return i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},i.doTick=function(){},e}(d);function Vt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ht={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Wt=function(t){function e(){return t.apply(this,arguments)||this}Vt(e,t);var i=e.prototype;return i.doTick=function(){},i.startLoad=function(){},i.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ht.STOPPED},i._streamEnded=function(t,e){var i=this.fragCurrent,r=this.fragmentTracker;if(!e.live&&i&&!i.backtracked&&i.sn===e.endSN&&!t.nextStart){var n=r.getState(i);return n===J.PARTIAL||n===J.OK}return!1},i.onMediaSeeking=function(){var t=this.config,e=this.media,i=this.mediaBuffer,r=this.state,n=e?e.currentTime:null,o=it.bufferInfo(i||e,n,this.config.maxBufferHole);if(Object(h["isFiniteNumber"])(n)&&u["logger"].log("media seeking to "+n.toFixed(3)),r===Ht.FRAG_LOADING){var a=this.fragCurrent;if(0===o.len&&a){var s=t.maxFragLookUpTolerance,c=a.start-s,l=a.start+a.duration+s;n<c||n>l?(a.loader&&(u["logger"].log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=Ht.IDLE):u["logger"].log("seeking outside of buffer but within currently loaded fragment range")}}else r===Ht.ENDED&&(0===o.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=Ht.IDLE);e&&(this.lastCurrentTime=n),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=n),this.tick()},i.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},i.onHandlerDestroyed=function(){this.state=Ht.STOPPED,this.fragmentTracker=null},i.computeLivePosition=function(t,e){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-i)},e}(qt);function Yt(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,e,i){return e&&Yt(t.prototype,e),i&&Yt(t,i),t}function Xt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Zt=100,$t=function(t){function e(e,i){var r;return r=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].MANIFEST_LOADING,c["default"].MANIFEST_PARSED,c["default"].LEVEL_LOADED,c["default"].KEY_LOADED,c["default"].FRAG_LOADED,c["default"].FRAG_LOAD_EMERGENCY_ABORTED,c["default"].FRAG_PARSING_INIT_SEGMENT,c["default"].FRAG_PARSING_DATA,c["default"].FRAG_PARSED,c["default"].ERROR,c["default"].AUDIO_TRACK_SWITCHING,c["default"].AUDIO_TRACK_SWITCHED,c["default"].BUFFER_CREATED,c["default"].BUFFER_APPENDED,c["default"].BUFFER_FLUSHED)||this,r.fragmentTracker=i,r.config=e.config,r.audioCodecSwap=!1,r._state=Ht.STOPPED,r.stallReported=!1,r.gapController=null,r.altAudio=!1,r}Xt(e,t);var i=e.prototype;return i.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(Zt),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=i.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=r,this.loadedmetadata=!1}e>0&&-1===t&&(u["logger"].log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Ht.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=Ht.STOPPED},i.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},i.doTick=function(){switch(this.state){case Ht.BUFFER_FLUSHING:this.fragLoadError=0;break;case Ht.IDLE:this._doTickIdle();break;case Ht.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=Ht.IDLE);break;case Ht.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),i=this.retryDate;(!i||e>=i||this.media&&this.media.seeking)&&(u["logger"].log("mediaController: retryDate reached, switch back to IDLE state"),this.state=Ht.IDLE);break;case Ht.ERROR:case Ht.STOPPED:case Ht.FRAG_LOADING:case Ht.PARSING:case Ht.PARSED:case Ht.ENDED:break;default:break}this._checkBuffer(),this._checkFragmentChanged()},i._doTickIdle=function(){var t=this.hls,e=t.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&e.startFragPrefetch)){var r;r=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var n=t.nextLoadLevel,o=this.levels[n];if(o){var a,s=o.bitrate;a=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,a=Math.min(a,e.maxMaxBufferLength);var h=it.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,r,e.maxBufferHole),l=h.len;if(!(l>=a)){u["logger"].trace("buffer length of "+l.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=n;var f=o.details;if(!f||f.live&&this.levelLastLoaded!==n)this.state=Ht.WAITING_LEVEL;else{if(this._streamEnded(h,f)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(c["default"].BUFFER_EOS,d),void(this.state=Ht.ENDED)}this._fetchPayloadOrEos(r,h,f)}}}}},i._fetchPayloadOrEos=function(t,e,i){var r=this.fragPrevious,n=this.level,o=i.fragments,a=o.length;if(0!==a){var s,h=o[0].start,c=o[a-1].start+o[a-1].duration,l=e.end;if(i.initSegment&&!i.initSegment.data)s=i.initSegment;else if(i.live){var f=this.config.initialLiveManifestSize;if(a<f)return void u["logger"].warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+f);if(s=this._ensureFragmentAtLivePoint(i,l,h,c,r,o,a),null===s)return}else l<h&&(s=o[0]);s||(s=this._findFragment(h,r,a,o,l,c,i)),s&&(s.encrypted?(u["logger"].log("Loading key for "+s.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+n),this._loadKey(s)):(u["logger"].log("Loading "+s.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+n+", currentTime:"+t.toFixed(3)+",bufferEnd:"+l.toFixed(3)),this._loadFragment(s)))}},i._ensureFragmentAtLivePoint=function(t,e,i,r,n,o,a){var s,h=this.hls.config,c=this.media,l=void 0!==h.liveMaxLatencyDuration?h.liveMaxLatencyDuration:h.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(i-h.maxFragLookUpTolerance,r-l)){var f=this.liveSyncPosition=this.computeLivePosition(i,t);e=f,c&&!c.paused&&c.readyState&&c.duration>f&&f>c.currentTime&&(u["logger"].log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),c.currentTime=f),this.nextLoadPosition=f}if(t.PTSKnown&&e>r&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(n)if(t.hasProgramDateTime)u["logger"].log("live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),s=It(o,n.endProgramDateTime,h.maxFragLookUpTolerance);else{var d=n.sn+1;if(d>=t.startSN&&d<=t.endSN){var p=o[d-t.startSN];n.cc===p.cc&&(s=p,u["logger"].log("live playlist, switching playlist, load frag with next SN: "+s.sn))}s||(s=et.search(o,(function(t){return n.cc-t.cc})),s&&u["logger"].log("live playlist, switching playlist, load frag with same CC: "+s.sn))}s||(s=o[Math.min(a-1,Math.round(a/2))],u["logger"].log("live playlist, switching playlist, unknown, load middle frag : "+s.sn))}return s},i._findFragment=function(t,e,i,r,n,o,a){var s,h=this.hls.config;if(n<o){var c=n>o-h.maxFragLookUpTolerance?0:h.maxFragLookUpTolerance;s=Pt(e,r,n,c)}else s=r[i-1];if(s){var l=s.sn-a.startSN,f=e&&s.level===e.level,d=r[l-1],p=r[l+1];if(e&&s.sn===e.sn)if(f&&!s.backtracked)if(s.sn<a.endSN){var g=e.deltaPTS;g&&g>h.maxBufferHole&&e.dropped&&l?(s=d,u["logger"].warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=p,u["logger"].log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(p&&p.backtracked?(u["logger"].warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(u["logger"].warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d,s.backtracked=!0):l&&(s=null)))}return s},i._loadKey=function(t){this.state=Ht.KEY_LOADING,this.hls.trigger(c["default"].KEY_LOADING,{frag:t})},i._loadFragment=function(t){var e=this.fragmentTracker.getState(t);this.fragCurrent=t,"initSegment"!==t.sn&&(this.startFragRequested=!0),Object(h["isFiniteNumber"])(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||e===J.NOT_LOADED||e===J.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(c["default"].FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new dt(this.hls,"main")),this.state=Ht.FRAG_LOADING):e===J.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},i.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,o.MAIN)},i.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},i._checkFragmentChanged=function(){var t,e,i=this.media;if(i&&i.readyState&&!1===i.seeking&&(e=i.currentTime,e>this.lastCurrentTime&&(this.lastCurrentTime=e),it.isBuffered(i,e)?t=this.getBufferedFrag(e):it.isBuffered(i,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var r=t;if(r!==this.fragPlaying){this.hls.trigger(c["default"].FRAG_CHANGED,{frag:r});var n=r.level;this.fragPlaying&&this.fragPlaying.level===n||this.hls.trigger(c["default"].LEVEL_SWITCHED,{level:n}),this.fragPlaying=r}}},i.immediateLevelSwitch=function(){if(u["logger"].log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t,e=this.media;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},i.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,it.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},i.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,i,r;if(i=this.getBufferedFrag(t.currentTime),i&&i.startPTS>1&&this.flushMainBuffer(0,i.startPTS-1),t.paused)e=0;else{var n=this.hls.nextLoadLevel,o=this.levels[n],a=this.fragLastKbps;e=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if(r=this.getBufferedFrag(t.currentTime+e),r&&(r=this.followingBufferedFrag(r),r)){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.maxStartPTS,Number.POSITIVE_INFINITY)}}},i.flushMainBuffer=function(t,e){this.state=Ht.BUFFER_FLUSHING;var i={startOffset:t,endOffset:e};this.altAudio&&(i.type="video"),this.hls.trigger(c["default"].BUFFER_FLUSHING,i)},i.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition),this.gapController=new Bt(i,e,this.fragmentTracker,this.hls)},i.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u["logger"].log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},i.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(h["isFiniteNumber"])(e)&&u["logger"].log("media seeked to "+e.toFixed(3)),this.tick()},i.onManifestLoading=function(){u["logger"].log("trigger BUFFER_RESET"),this.hls.trigger(c["default"].BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},i.onManifestParsed=function(t){var e,i=!1,r=!1;t.levels.forEach((function(t){e=t.audioCodec,e&&(-1!==e.indexOf("mp4a.40.2")&&(i=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))})),this.audioCodecSwitch=i&&r,this.audioCodecSwitch&&u["logger"].log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=t.altAudio,this.levels=t.levels,this.startFragRequested=!1;var n=this.config;(n.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(n.startPosition)},i.onLevelLoaded=function(t){var e=t.details,i=t.level,r=this.levels[this.levelLastLoaded],n=this.levels[i],o=e.totalduration,a=0;if(u["logger"].log("level "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live){var s=n.details;s&&e.fragments.length>0?(yt(s,e),a=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,s),e.PTSKnown&&Object(h["isFiniteNumber"])(a)?u["logger"].log("live playlist sliding:"+a.toFixed(3)):(u["logger"].log("live playlist - outdated PTS, unknown sliding"),Lt(this.fragPrevious,r,e))):(u["logger"].log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,Lt(this.fragPrevious,r,e))}else e.PTSKnown=!1;if(n.details=e,this.levelLastLoaded=i,this.hls.trigger(c["default"].LEVEL_UPDATED,{details:e,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;Object(h["isFiniteNumber"])(l)?(l<0&&(u["logger"].log("negative start time offset "+l+", count from end of last fragment"),l=a+o+l),u["logger"].log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):e.live?(this.startPosition=this.computeLivePosition(a,e),u["logger"].log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Ht.WAITING_LEVEL&&(this.state=Ht.IDLE),this.tick()},i.onKeyLoaded=function(){this.state===Ht.KEY_LOADING&&(this.state=Ht.IDLE,this.tick())},i.onFragLoaded=function(t){var e=this.fragCurrent,i=this.hls,r=this.levels,n=this.media,o=t.frag;if(this.state===Ht.FRAG_LOADING&&e&&"main"===o.type&&o.level===e.level&&o.sn===e.sn){var a=t.stats,s=r[e.level],h=s.details;if(this.bitrateTest=!1,this.stats=a,u["logger"].log("Loaded "+e.sn+" of ["+h.startSN+" ,"+h.endSN+"],level "+e.level),o.bitrateTest&&i.nextLoadLevel)this.state=Ht.IDLE,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),i.trigger(c["default"].FRAG_BUFFERED,{stats:a,frag:e,id:"main"}),this.tick();else if("initSegment"===o.sn)this.state=Ht.IDLE,a.tparsed=a.tbuffered=window.performance.now(),h.initSegment.data=t.payload,i.trigger(c["default"].FRAG_BUFFERED,{stats:a,frag:e,id:"main"}),this.tick();else{u["logger"].log("Parsing "+e.sn+" of ["+h.startSN+" ,"+h.endSN+"],level "+e.level+", cc "+e.cc),this.state=Ht.PARSING,this.pendingBuffering=!0,this.appended=!1,o.bitrateTest&&(o.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:o}));var l=!(n&&n.seeking)&&(h.PTSKnown||!h.live),f=h.initSegment?h.initSegment.data:[],d=this._getAudioCodec(s),p=this.demuxer=this.demuxer||new dt(this.hls,"main");p.push(t.payload,f,d,s.videoCodec,e,h.totalduration,l)}}this.fragLoadError=0},i.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ht.PARSING){var r,n,o=t.tracks;if(o.audio&&this.altAudio&&delete o.audio,n=o.audio,n){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(u["logger"].log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==n.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==n.container&&(a="mp4a.40.2",u["logger"].log("Android: force audio codec to "+a)),n.levelCodec=a,n.id=t.id}for(r in n=o.video,n&&(n.levelCodec=this.levels[this.level].videoCodec,n.id=t.id),this.hls.trigger(c["default"].BUFFER_CODECS,o),o){n=o[r],u["logger"].log("main track:"+r+",container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var h=n.initSegment;h&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c["default"].BUFFER_APPENDING,{type:r,data:h,parent:"main",content:"initSegment"}))}this.tick()}},i.onFragParsingData=function(t){var e=this,i=this.fragCurrent,r=t.frag;if(i&&"main"===t.id&&r.sn===i.sn&&r.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===Ht.PARSING){var n=this.levels[this.level],o=i;if(Object(h["isFiniteNumber"])(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),!0===t.hasAudio&&o.addElementaryStream(y.AUDIO),!0===t.hasVideo&&o.addElementaryStream(y.VIDEO),u["logger"].log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)u["logger"].warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var a=n.details;if(!a||o.sn!==a.startSN)return u["logger"].warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=Ht.IDLE,this.fragPrevious=o,void this.tick();u["logger"].warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var s=vt(n.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),l=this.hls;l.trigger(c["default"].LEVEL_PTS_UPDATED,{details:n.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach((function(i){i&&i.length&&e.state===Ht.PARSING&&(e.appended=!0,e.pendingBuffering=!0,l.trigger(c["default"].BUFFER_APPENDING,{type:t.type,data:i,parent:"main",content:"data"}))})),this.tick()}},i.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ht.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=Ht.PARSED,this._checkAppendedParsed())},i.onAudioTrackSwitching=function(t){var e=!!t.url,i=t.id;if(!e){if(this.mediaBuffer!==this.media){u["logger"].log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var r=this.fragCurrent;r.loader&&(u["logger"].log("switching to main audio track, cancel main fragment load"),r.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ht.IDLE}var n=this.hls;n.trigger(c["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),n.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},i.onAudioTrackSwitched=function(t){var e=t.id,i=!!this.hls.audioTracks[e].url;if(i){var r=this.videoBuffer;r&&this.mediaBuffer!==r&&(u["logger"].log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=i,this.tick()},i.onBufferCreated=function(t){var e,i,r=t.tracks,n=!1;for(var o in r){var a=r[o];"main"===a.id?(i=o,e=a,"video"===o&&(this.videoBuffer=r[o].buffer)):n=!0}n&&e?(u["logger"].log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},i.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==Ht.PARSING&&e!==Ht.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},i._checkAppendedParsed=function(){if(this.state===Ht.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;u["logger"].log("main buffered : "+St.toString(e.buffered)),this.fragPrevious=t;var i=this.stats;i.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(c["default"].FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=Ht.IDLE}this.tick()}},i.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var i=!!this.media&&it.isBuffered(this.media,this.media.currentTime)&&it.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var r=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);u["logger"].warn("mediaController: frag loading failed, retry in "+r+" ms"),this.retryDate=window.performance.now()+r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Ht.FRAG_LOADING_WAITING_RETRY}else u["logger"].error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ht.ERROR;break;case s["ErrorDetails"].LEVEL_LOAD_ERROR:case s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:this.state!==Ht.ERROR&&(t.fatal?(this.state=Ht.ERROR,u["logger"].warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==Ht.WAITING_LEVEL||(this.state=Ht.IDLE));break;case s["ErrorDetails"].BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==Ht.PARSING&&this.state!==Ht.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=Ht.IDLE):(u["logger"].warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)));break;default:break}}},i._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,u["logger"].warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},i._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=this.mediaBuffer?this.mediaBuffer:t,i=e.buffered;!this.loadedmetadata&&i.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,i)}},i.onFragLoadEmergencyAborted=function(){this.state=Ht.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},i.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(y.VIDEO,t.buffered),this.state=Ht.IDLE,this.fragPrevious=null},i.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},i._seekToStartPos=function(){var t=this.media,e=t.currentTime,i=t.seeking?e:this.startPosition;e!==i&&i>=0&&(u["logger"].log("target start position not buffered, seek to buffered.start(0) "+i+" from current time "+e+" "),t.currentTime=i)},i._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(u["logger"].log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Kt(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u["logger"].log("main stream-controller: "+e+"->"+t),this.hls.trigger(c["default"].STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Wt),Jt=$t;function Qt(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t,e,i){return e&&Qt(t.prototype,e),i&&Qt(t,i),t}function ee(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ie,re=window,ne=(re.performance,function(t){function e(e){var i;return i=t.call(this,e,c["default"].MANIFEST_LOADED,c["default"].LEVEL_LOADED,c["default"].AUDIO_TRACK_SWITCHED,c["default"].FRAG_LOADED,c["default"].ERROR)||this,i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,ie=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),i}ee(e,t);var i=e.prototype;return i.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},i.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},i.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},i.stopLoad=function(){this.canload=!1},i.onManifestLoaded=function(t){var e,i=[],r=[],n={},o=null,a=!1,h=!1;if(t.levels.forEach((function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,a=a||!!t.videoCodec,h=h||!!t.audioCodec,ie&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),o=n[t.bitrate],o?o.url.push(t.url):(t.url=[t.url],t.urlId=0,n[t.bitrate]=t,i.push(t)),e&&(e.AUDIO&&(h=!0,pt(o||t,"audio",e.AUDIO)),e.SUBTITLES&&pt(o||t,"text",e.SUBTITLES))})),a&&h&&(i=i.filter((function(t){var e=t.videoCodec;return!!e}))),i=i.filter((function(t){var e=t.audioCodec,i=t.videoCodec;return(!e||M(e,"audio"))&&(!i||M(i,"video"))})),t.audioTracks&&(r=t.audioTracks.filter((function(t){return!t.audioCodec||M(t.audioCodec,"audio")})),r.forEach((function(t,e){t.id=e}))),i.length>0){e=i[0].bitrate,i.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=i;for(var l=0;l<i.length;l++)if(i[l].bitrate===e){this._firstLevel=l,u["logger"].log("manifest loaded,"+i.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(c["default"].MANIFEST_PARSED,{levels:i,audioTracks:r,firstLevel:this._firstLevel,stats:t.stats,audio:h,video:a,altAudio:r.some((function(t){return!!t.url}))})}else this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},i.setLevelInternal=function(t){var e=this._levels,i=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){u["logger"].log("switching to level "+t),this.currentLevelIndex=t;var r=e[t];r.level=t,i.trigger(c["default"].LEVEL_SWITCHING,r)}var n=e[t],o=n.details;if(!o||o.live){var a=n.urlId;i.trigger(c["default"].LEVEL_LOADING,{url:n.url[a],level:t,id:a})}}else i.trigger(c["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},i.onError=function(t){if(t.fatal)t.type===s["ErrorTypes"].NETWORK_ERROR&&this.clearTimer();else{var e,i=!1,r=!1;switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:e=t.frag.level,r=!0;break;case s["ErrorDetails"].LEVEL_LOAD_ERROR:case s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:e=t.context.level,i=!0;break;case s["ErrorDetails"].REMUX_ALLOC_ERROR:e=t.level,i=!0;break}void 0!==e&&this.recoverLevel(t,e,i,r)}},i.recoverLevel=function(t,e,i,r){var n,o,a,s=this,h=this.hls.config,c=t.details,l=this._levels[e];if(l.loadError++,l.fragmentError=r,i){if(!(this.levelRetryCount+1<=h.levelLoadingMaxRetry))return u["logger"].error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*h.levelLoadingRetryDelay,h.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),o),t.levelRetry=!0,this.levelRetryCount++,u["logger"].warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(i||r)&&(n=l.url.length,n>1&&l.loadError<n?(l.urlId=(l.urlId+1)%n,l.details=void 0,u["logger"].warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+l.urlId)):-1===this.manualLevelIndex?(a=0===e?this._levels.length-1:e-1,u["logger"].warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):r&&(u["logger"].warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},i.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var i=this._levels[e.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},i.onLevelLoaded=function(t){var e=this,i=t.level,r=t.details;if(i===this.currentLevelIndex){var n=this._levels[i];if(n.fragmentError||(n.loadError=0,this.levelRetryCount=0),r.live){var o=wt(n.details,r,t.stats.trequest);u["logger"].log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),o)}else this.clearTimer()}},i.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,i=this.hls.levels[this.currentLevelIndex];if(i&&i.audioGroupIds){for(var r=-1,n=0;n<i.audioGroupIds.length;n++)if(i.audioGroupIds[n]===e){r=n;break}r!==i.urlId&&(i.urlId=r,this.startLoad())}},i.loadLevel=function(){if(u["logger"].debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"===typeof t&&t.url.length>0){var e=this.currentLevelIndex,i=t.urlId,r=t.url[i];u["logger"].log("Attempt loading level index "+e+" with URL-id "+i),this.hls.trigger(c["default"].LEVEL_LOADING,{url:r,level:e,id:i})}}},te(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(d)),oe=i("./src/demux/id3.js");function ae(t,e){var i;try{i=new Event("addtrack")}catch(r){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)}function se(t){if(t&&t.cues)while(t.cues.length>0)t.removeCue(t.cues[0])}function he(t,e){if(e<t[0].endTime)return t[0];if(e>t[t.length-1].endTime)return t[t.length-1];var i=0,r=t.length-1;while(i<=r){var n=Math.floor((r+i)/2);if(e<t[n].endTime)r=n-1;else{if(!(e>t[n].endTime))return t[n];i=n+1}}return t[i].endTime-e<e-t[r].endTime?t[i]:t[r]}function ce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ue=function(t){function e(e){var i;return i=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].FRAG_PARSING_METADATA,c["default"].LIVE_BACK_BUFFER_REACHED)||this,i.id3Track=void 0,i.media=void 0,i}ce(e,t);var i=e.prototype;return i.destroy=function(){d.prototype.destroy.call(this)},i.onMediaAttached=function(t){this.media=t.media,this.media},i.onMediaDetaching=function(){se(this.id3Track),this.id3Track=void 0,this.media=void 0},i.getID3Track=function(t){for(var e=0;e<t.length;e++){var i=t[e];if("metadata"===i.kind&&"id3"===i.label)return ae(i,this.media),i}return this.media.addTextTrack("metadata","id3")},i.onFragParsingMetadata=function(t){var e=t.frag,i=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var r=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,n=0;n<i.length;n++){var o=oe["default"].getID3Frames(i[n].data);if(o){var a=i[n].pts,s=n<i.length-1?i[n+1].pts:e.endPTS;a===s?s+=1e-4:a>s&&(u["logger"].warn("detected an id3 sample with endTime < startTime, adjusting endTime to (startTime + 0.25)"),s=a+.25);for(var h=0;h<o.length;h++){var c=o[h];if(!oe["default"].isTimeStampFrame(c)){var l=new r(a,s,"");l.value=c,this.id3Track.addCue(l)}}}}},i.onLiveBackBufferReached=function(t){var e=t.bufferEnd,i=this.id3Track;if(i&&i.cues&&i.cues.length){var r=he(i.cues,e);if(r)while(i.cues[0]!==r)i.removeCue(i.cues[0])}},e}(d),le=ue;function fe(){var t=at();if(!t)return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer,i=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!i&&!!r}var de=function(){function t(t){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var e=t.prototype;return e.sample=function(t,e){var i=Math.pow(this.alpha_,t);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),pe=de,ge=function(){function t(t,e,i,r){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new pe(e),this.fast_=new pe(i)}var e=t.prototype;return e.sample=function(t,e){t=Math.max(t,this.minDelayMs_);var i=8*e,r=t/1e3,n=i/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}(),ve=ge;function ye(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function me(t,e,i){return e&&ye(t.prototype,e),i&&ye(t,i),t}function _e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function be(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var we=window,xe=we.performance,Se=function(t){function e(e){var i;return i=t.call(this,e,c["default"].FRAG_LOADING,c["default"].FRAG_LOADED,c["default"].FRAG_BUFFERED,c["default"].ERROR)||this,i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=e,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(_e(i)),i}be(e,t);var i=e.prototype;return i.destroy=function(){this.clearTimer(),d.prototype.destroy.call(this)},i.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var i,r,n=this.hls,o=n.config,a=e.level,s=n.levels[a].details.live;s?(i=o.abrEwmaFastLive,r=o.abrEwmaSlowLive):(i=o.abrEwmaFastVoD,r=o.abrEwmaSlowVoD),this._bwEstimator=new ve(n,r,i,o.abrEwmaDefaultEstimate)}},i._abandonRulesCheck=function(){var t=this.hls,e=t.media,i=this.fragCurrent;if(i){var r=i.loader,n=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u["logger"].warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=r.stats;if(e&&o&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&i.autoLevel&&i.level){var a=xe.now()-o.trequest,s=Math.abs(e.playbackRate);if(a>500*i.duration/s){var h=t.levels,l=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),f=h[i.level],d=f.realBitrate?Math.max(f.realBitrate,f.bitrate):f.bitrate,p=o.total?o.total:Math.max(o.loaded,Math.round(i.duration*d/8)),g=e.currentTime,v=(p-o.loaded)/l,y=(it.bufferInfo(e,g,t.config.maxBufferHole).end-g)/s;if(y<2*i.duration/s&&v>y){var m,_;for(_=i.level-1;_>n;_--){var b=h[_].realBitrate?Math.max(h[_].realBitrate,h[_].bitrate):h[_].bitrate,w=i.duration*b/(6.4*l);if(w<y)break}m<v&&(u["logger"].warn("loading too slow, abort fragment loading and switch to level "+_+":fragLoadedDelay["+_+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+m.toFixed(1)+"<"+v.toFixed(1)+":"+y.toFixed(1)),t.nextLoadLevel=_,this._bwEstimator.sample(a,o.loaded),r.abort(),this.clearTimer(),t.trigger(c["default"].FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:o}))}}}}},i.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(h["isFiniteNumber"])(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[e.level],r=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,n=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:r,duration:n},i.realBitrate=Math.round(8*r/n)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},i.onFragBuffered=function(t){var e=t.stats,i=t.frag;if(!0!==e.aborted&&"main"===i.type&&Object(h["isFiniteNumber"])(i.sn)&&(!i.bitrateTest||e.tload===e.tbuffered)){var r=e.tparsed-e.trequest;u["logger"].log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(r,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=r/1e3:this.bitrateTestDelay=0}},i.onError=function(t){switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:this.clearTimer();break;default:break}},i.clearTimer=function(){clearInterval(this.timer),this.timer=null},i._findBestLevel=function(t,e,i,r,n,o,a,s,h){for(var c=n;c>=r;c--){var l=h[c];if(l){var f=l.details,d=f?f.totalduration/f.fragments.length:e,p=!!f&&f.live,g=void 0;g=c<=t?a*i:s*i;var v=h[c].realBitrate?Math.max(h[c].realBitrate,h[c].bitrate):h[c].bitrate,y=v*d/g;if(u["logger"].trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+v+"/"+d+"/"+o+"/"+y),g>v&&(!y||p&&!this.bitrateTestDelay||y<o))return c}}return-1},me(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var i=this._nextABRAutoLevel;return-1!==t&&(i=Math.min(t,i)),i},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,i=t.levels,r=t.config,n=t.minAutoLevel,o=t.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,h=o?o.currentTime:0,c=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,l=this._bwEstimator?this._bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,f=(it.bufferInfo(o,h,r.maxBufferHole).end-h)/c,d=this._findBestLevel(a,s,l,n,e,f,r.abrBandWidthFactor,r.abrBandWidthUpFactor,i);if(d>=0)return d;u["logger"].trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,r.maxStarvationDelay):r.maxStarvationDelay,g=r.abrBandWidthFactor,v=r.abrBandWidthUpFactor;if(0===f){var y=this.bitrateTestDelay;if(y){var m=s?Math.min(s,r.maxLoadingDelay):r.maxLoadingDelay;p=m-y,u["logger"].trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=v=1}}return d=this._findBestLevel(a,s,l,n,e,f+p,g,v,i),Math.max(d,0)}}]),e}(d),Ee=Se;function Oe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Te=at(),Ce=function(t){function e(e){var i;return i=t.call(this,e,c["default"].MEDIA_ATTACHING,c["default"].MEDIA_DETACHING,c["default"].MANIFEST_PARSED,c["default"].BUFFER_RESET,c["default"].BUFFER_APPENDING,c["default"].BUFFER_CODECS,c["default"].BUFFER_EOS,c["default"].BUFFER_FLUSHING,c["default"].LEVEL_PTS_UPDATED,c["default"].LEVEL_UPDATED)||this,i._msDuration=null,i._levelDuration=null,i._levelTargetDuration=10,i._live=null,i._objectUrl=null,i._needsFlush=!1,i._needsEos=!1,i.config=void 0,i.audioTimestampOffset=void 0,i.bufferCodecEventsExpected=0,i._bufferCodecEventsTotal=0,i.media=null,i.mediaSource=null,i.segments=[],i.parent=void 0,i.appending=!1,i.appended=0,i.appendError=0,i.flushBufferCounter=0,i.tracks={},i.pendingTracks={},i.sourceBuffer={},i.flushRange=[],i._onMediaSourceOpen=function(){u["logger"].log("media source opened"),i.hls.trigger(c["default"].MEDIA_ATTACHED,{media:i.media});var t=i.mediaSource;t&&t.removeEventListener("sourceopen",i._onMediaSourceOpen),i.checkPendingTracks()},i._onMediaSourceClose=function(){u["logger"].log("media source closed")},i._onMediaSourceEnded=function(){u["logger"].log("media source ended")},i._onSBUpdateEnd=function(){if(i.audioTimestampOffset&&i.sourceBuffer.audio){var t=i.sourceBuffer.audio;u["logger"].warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+i.audioTimestampOffset),t.timestampOffset=i.audioTimestampOffset,delete i.audioTimestampOffset}i._needsFlush&&i.doFlush(),i._needsEos&&i.checkEos(),i.appending=!1;var e=i.parent,r=i.segments.reduce((function(t,i){return i.parent===e?t+1:t}),0),n={},o=i.sourceBuffer;for(var a in o){var s=o[a];if(!s)throw Error("handling source buffer update end error: source buffer for "+a+" uninitilized and unable to update buffered TimeRanges.");n[a]=s.buffered}i.hls.trigger(c["default"].BUFFER_APPENDED,{parent:e,pending:r,timeRanges:n}),i._needsFlush||i.doAppending(),i.updateMediaElementDuration(),0===r&&i.flushLiveBackBuffer()},i._onSBUpdateError=function(t){u["logger"].error("sourceBuffer error:",t),i.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_APPENDING_ERROR,fatal:!1})},i.config=e.config,i}Oe(e,t);var i=e.prototype;return i.destroy=function(){d.prototype.destroy.call(this)},i.onLevelPtsUpdated=function(t){var e=t.type,i=this.tracks.audio;if("audio"===e&&i&&"audio/mpeg"===i.container){var r=this.sourceBuffer.audio;if(!r)throw Error("Level PTS Updated and source buffer for audio uninitalized");var n=Math.abs(r.timestampOffset-t.start);if(n>.1){var o=r.updating;try{r.abort()}catch(a){u["logger"].warn("can not abort audio buffer: "+a)}o?this.audioTimestampOffset=t.start:(u["logger"].warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+t.start),r.timestampOffset=t.start)}}},i.onManifestParsed=function(t){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=t.altAudio?2:1,u["logger"].log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},i.onMediaAttaching=function(t){var e=this.media=t.media;if(e&&Te){var i=this.mediaSource=new Te;i.addEventListener("sourceopen",this._onMediaSourceOpen),i.addEventListener("sourceended",this._onMediaSourceEnded),i.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(i),this._objectUrl=e.src}},i.onMediaDetaching=function(){u["logger"].log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(e){u["logger"].warn("onMediaDetaching:"+e.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):u["logger"].warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(c["default"].MEDIA_DETACHED)},i.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,i=Object.keys(e).length;(i&&!t||2===i)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},i.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var i=t[e];try{i&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this._onSBUpdateEnd),i.removeEventListener("error",this._onSBUpdateError))}catch(r){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},i.onBufferCodecs=function(t){var e=this;Object.keys(this.sourceBuffer).length||(Object.keys(t).forEach((function(i){e.pendingTracks[i]=t[i]})),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},i.createSourceBuffers=function(t){var e=this.sourceBuffer,i=this.mediaSource;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(var r in t)if(!e[r]){var n=t[r];if(!n)throw Error("source buffer exists for track "+r+", however track does not");var o=n.levelCodec||n.codec,a=n.container+";codecs="+o;u["logger"].log("creating sourceBuffer("+a+")");try{var h=e[r]=i.addSourceBuffer(a);h.addEventListener("updateend",this._onSBUpdateEnd),h.addEventListener("error",this._onSBUpdateError),this.tracks[r]={buffer:h,codec:o,id:n.id,container:n.container,levelCodec:n.levelCodec}}catch(l){u["logger"].error("error while trying to add sourceBuffer:"+l.message),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_ADD_CODEC_ERROR,fatal:!1,err:l,mimeType:a})}}this.hls.trigger(c["default"].BUFFER_CREATED,{tracks:this.tracks})},i.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},i.onBufferEos=function(t){for(var e in this.sourceBuffer)if(!t.type||t.type===e){var i=this.sourceBuffer[e];i&&!i.ended&&(i.ended=!0,u["logger"].log(e+" sourceBuffer now EOS"))}this.checkEos()},i.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var i in t){var r=t[i];if(r){if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}}u["logger"].log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(n){u["logger"].warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},i.onBufferFlushing=function(t){t.type?this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}):(this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"video"}),this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},i.flushLiveBackBuffer=function(){if(this._live){var t=this.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))if(this.media)for(var e=this.media.currentTime,i=this.sourceBuffer,r=Object.keys(i),n=e-Math.max(t,this._levelTargetDuration),o=r.length-1;o>=0;o--){var a=r[o],s=i[a];if(s){var h=s.buffered;h.length>0&&n>h.start(0)&&this.removeBufferRange(a,s,0,n)&&this.hls.trigger(c["default"].LIVE_BACK_BUFFER_REACHED,{bufferEnd:n})}}else u["logger"].error("flushLiveBackBuffer called without attaching media")}},i.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},i.updateMediaElementDuration=function(){var t,e=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer){var r=this.sourceBuffer[i];if(r&&!0===r.updating)return}t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(u["logger"].log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(h["isFiniteNumber"])(t))&&(u["logger"].log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},i.doFlush=function(){while(this.flushRange.length){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,i=this.sourceBuffer;try{for(var r in i){var n=i[r];n&&(e+=n.buffered.length)}}catch(o){u["logger"].error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(c["default"].BUFFER_FLUSHED)}},i.doAppending=function(){var t=this.config,e=this.hls,i=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(!this.media||this.media.error)return this.segments=[],void u["logger"].error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var n=i.shift();if(n)try{var o=r[n.type];if(!o)return void this._onSBUpdateEnd();if(o.updating)return void i.unshift(n);o.ended=!1,this.parent=n.parent,o.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0}catch(h){u["logger"].error("error while trying to append buffer:"+h.message),i.unshift(n);var a={type:s["ErrorTypes"].MEDIA_ERROR,parent:n.parent,details:"",fatal:!1};22===h.code?(this.segments=[],a.details=s["ErrorDetails"].BUFFER_FULL_ERROR):(this.appendError++,a.details=s["ErrorDetails"].BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(u["logger"].log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],a.fatal=!0)),e.trigger(c["default"].ERROR,a)}}}},i.flushBuffer=function(t,e,i){var r=this.sourceBuffer;if(!Object.keys(r).length)return!0;var n="null";if(this.media&&(n=this.media.currentTime.toFixed(3)),u["logger"].log("flushBuffer,pos/start/end: "+n+"/"+t+"/"+e),this.flushBufferCounter>=this.appended)return u["logger"].warn("abort flushing too many retries"),!0;var o=r[i];if(o){if(o.ended=!1,o.updating)return u["logger"].warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(i,o,t,e))return this.flushBufferCounter++,!1}return u["logger"].log("buffer flushed"),!0},i.removeBufferRange=function(t,e,i,r){try{for(var n=0;n<e.buffered.length;n++){var o=e.buffered.start(n),a=e.buffered.end(n),s=Math.max(o,i),h=Math.min(a,r);if(Math.min(h,a)-s>.5){var c="null";return this.media&&(c=this.media.currentTime.toString()),u["logger"].log("sb remove "+t+" ["+s+","+h+"], of ["+o+","+a+"], pos:"+c),e.remove(s,h),!0}}}catch(l){u["logger"].warn("removeBufferRange failed",l)}return!1},e}(d),Ae=Ce;function Le(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Re(t,e,i){return e&&Le(t.prototype,e),i&&Le(t,i),t}function Me(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ie=function(t){function e(e){var i;return i=t.call(this,e,c["default"].FPS_DROP_LEVEL_CAPPING,c["default"].MEDIA_ATTACHING,c["default"].MANIFEST_PARSED,c["default"].BUFFER_CODECS,c["default"].MEDIA_DETACHING)||this,i.autoLevelCapping=Number.POSITIVE_INFINITY,i.firstLevel=null,i.levels=[],i.media=null,i.restrictedLevels=[],i.timer=null,i}Me(e,t);var i=e.prototype;return i.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.stopCapping())},i.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},i.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},i.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},i.onBufferCodecs=function(t){var e=this.hls;e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},i.onLevelsUpdated=function(t){this.levels=t.levels},i.onMediaDetaching=function(){this.stopCapping()},i.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},i.getMaxLevel=function(t){var i=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,n){return e.isLevelAllowed(n,i.restrictedLevels)&&n<=t}));return e.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},i.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},i.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},e.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,i){if(!t||t&&!t.length)return-1;for(var r=function(t,e){return!e||(t.width!==e.width||t.height!==e.height)},n=t.length-1,o=0;o<t.length;o+=1){var a=t[o];if((a.width>=e||a.height>=i)&&r(a,t[o+1])){n=o;break}}return n},Re(e,[{key:"mediaWidth",get:function(){var t,i=this.media;return i&&(t=i.width||i.clientWidth||i.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t,i=this.media;return i&&(t=i.height||i.clientHeight||i.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(e){}return t}}]),e}(d),Pe=Ie;function Ne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Fe=window,ke=Fe.performance,je=function(t){function e(e){return t.call(this,e,c["default"].MEDIA_ATTACHING)||this}Ne(e,t);var i=e.prototype;return i.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.onMediaAttaching=function(t){var e=this.hls.config;if(e.capLevelOnFPSDrop){var i=this.video=t.media instanceof window.HTMLVideoElement?t.media:null;"function"===typeof i.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},i.checkFPS=function(t,e,i){var r=ke.now();if(e){if(this.lastTime){var n=r-this.lastTime,o=i-this.lastDroppedFrames,a=e-this.lastDecodedFrames,s=1e3*o/n,h=this.hls;if(h.trigger(c["default"].FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:i}),s>0&&o>h.config.fpsDroppedMonitoringThreshold*a){var l=h.currentLevel;u["logger"].warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===h.autoLevelCapping||h.autoLevelCapping>=l)&&(l-=1,h.trigger(c["default"].FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:h.currentLevel}),h.autoLevelCapping=l,h.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=i,this.lastDecodedFrames=e}},i.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(d),De=je,Ge=window,Be=Ge.performance,Ue=Ge.XMLHttpRequest,ze=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var e=t.prototype;return e.destroy=function(){this.abort(),this.loader=null},e.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.load=function(t,e,i){this.context=t,this.config=e,this.callbacks=i,this.stats={trequest:Be.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t,e=this.context;t=this.loader=new Ue;var i=this.stats;i.tfirst=0,i.loaded=0;var r=this.xhrSetup;try{if(r)try{r(t,e.url)}catch(n){t.open("GET",e.url,!0),r(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(n){return void this.callbacks.onError({code:t.status,text:n.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},e.readystatechange=function(t){var e=t.currentTarget,i=e.readyState,r=this.stats,n=this.context,o=this.config;if(!r.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(Be.now(),r.trequest)),4===i){var a=e.status;if(a>=200&&a<300){var s,h;r.tload=Math.max(r.tfirst,Be.now()),"arraybuffer"===n.responseType?(s=e.response,h=s.byteLength):(s=e.responseText,h=s.length),r.loaded=r.total=h;var c={url:e.responseURL,data:s};this.callbacks.onSuccess(c,r,n,e)}else r.retry>=o.maxRetry||a>=400&&a<499?(u["logger"].error(a+" while loading "+n.url),this.callbacks.onError({code:a,text:e.statusText},n,e)):(u["logger"].warn(a+" while loading "+n.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},e.loadtimeout=function(){u["logger"].warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.loadprogress=function(t){var e=t.currentTarget,i=this.stats;i.loaded=t.loaded,t.lengthComputable&&(i.total=t.total);var r=this.callbacks.onProgress;r&&r(i,this.context,null,e)},t}(),qe=ze;function Ve(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e,i){return e&&Ve(t.prototype,e),i&&Ve(t,i),t}function We(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ye=function(t){function e(e){var i;return i=t.call(this,e,c["default"].MANIFEST_LOADING,c["default"].MANIFEST_PARSED,c["default"].AUDIO_TRACK_LOADED,c["default"].AUDIO_TRACK_SWITCHED,c["default"].LEVEL_LOADED,c["default"].ERROR)||this,i._trackId=-1,i._selectDefaultTrack=!0,i.tracks=[],i.trackIdBlacklist=Object.create(null),i.audioGroupId=null,i}We(e,t);var i=e.prototype;return i.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},i.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(c["default"].AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},i.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)u["logger"].warn("Invalid audio track id:",t.id);else{if(u["logger"].log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},i.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},i.onLevelLoaded=function(t){this._selectAudioGroup(t.level)},i.onError=function(t){t.type===s["ErrorTypes"].NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR&&(u["logger"].warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},i._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)u["logger"].debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)u["logger"].warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];u["logger"].log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var i=e.url,r=e.type,n=e.id;this.hls.trigger(c["default"].AUDIO_TRACK_SWITCHING,{id:n,type:r,url:i}),this._loadTrackDetailsIfNeeded(e)}},i.doTick=function(){this._updateTrack(this._trackId)},i._selectAudioGroup=function(t){var e=this.hls.levels[t];if(e&&e.audioGroupIds){var i=e.audioGroupIds[e.urlId];this.audioGroupId!==i&&(this.audioGroupId=i,this._selectInitialAudioTrack())}},i._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var i=this.tracks[this._trackId],r=null;if(i&&(r=i.name),this._selectDefaultTrack){var n=e.filter((function(t){return t.default}));n.length?e=n:u["logger"].warn("No default audio tracks defined")}var o=!1,a=function(){e.forEach((function(e){o||t.audioGroupId&&e.groupId!==t.audioGroupId||r&&r!==e.name||(t._setAudioTrack(e.id),o=!0)}))};a(),o||(r=null,a()),o||(u["logger"].error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},i._needsTrackLoading=function(t){var e=t.details,i=t.url;return!(e&&!e.live)&&!!i},i._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,i=t.id;u["logger"].log("loading audio-track playlist for id: "+i),this.hls.trigger(c["default"].AUDIO_TRACK_LOADING,{url:e,id:i})}},i._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,u["logger"].log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},i._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],i=e.name,r=e.language,n=e.groupId;u["logger"].warn("Loading failed on audio track id: "+t+", group-id: "+n+', name/language: "'+i+'" / "'+r+'"');for(var o=t,a=0;a<this.tracks.length;a++)if(!this.trackIdBlacklist[a]){var s=this.tracks[a];if(s.name===i){o=a;break}}o!==t?(u["logger"].log("Attempting audio-track fallback id:",o,"group-id:",this.tracks[o].groupId),this._setAudioTrack(o)):u["logger"].warn('No fallback audio-track found for name/language: "'+i+'" / "'+r+'"')},He(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}]),e}(qt),Ke=Ye;function Xe(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ze(t,e,i){return e&&Xe(t.prototype,e),i&&Xe(t,i),t}function $e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Je=window,Qe=Je.performance,ti=100,ei=function(t){function e(e,i){var r;return r=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].AUDIO_TRACKS_UPDATED,c["default"].AUDIO_TRACK_SWITCHING,c["default"].AUDIO_TRACK_LOADED,c["default"].KEY_LOADED,c["default"].FRAG_LOADED,c["default"].FRAG_PARSING_INIT_SEGMENT,c["default"].FRAG_PARSING_DATA,c["default"].FRAG_PARSED,c["default"].ERROR,c["default"].BUFFER_RESET,c["default"].BUFFER_CREATED,c["default"].BUFFER_APPENDED,c["default"].BUFFER_FLUSHED,c["default"].INIT_PTS_FOUND)||this,r.fragmentTracker=i,r.config=e.config,r.audioCodecSwap=!1,r._state=Ht.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}$e(e,t);var i=e.prototype;return i.onInitPtsFound=function(t){var e=t.id,i=t.frag.cc,r=t.initPTS;"main"===e&&(this.initPTS[i]=r,this.videoTrackCC=i,u["logger"].log("InitPTS for cc: "+i+" found from video track: "+r),this.state===Ht.WAITING_INIT_PTS&&this.tick())},i.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(ti),this.fragLoadError=0,e>0&&-1===t?(u["logger"].log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Ht.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Ht.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Ht.STOPPED},i.doTick=function(){var t,e,i,r=this.hls,n=r.config;switch(this.state){case Ht.ERROR:case Ht.PAUSED:case Ht.BUFFER_FLUSHING:break;case Ht.STARTING:this.state=Ht.WAITING_TRACK,this.loadedmetadata=!1;break;case Ht.IDLE:var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!n.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(t=this.nextLoadPosition,void 0===t)break;var a=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=it.bufferInfo(a,t,n.maxBufferHole),f=it.bufferInfo(s,t,n.maxBufferHole),d=l.len,p=l.end,g=this.fragPrevious,v=Math.min(n.maxBufferLength,n.maxMaxBufferLength),y=Math.max(v,f.len),m=this.audioSwitch,_=this.trackId;if((d<y||m)&&_<o.length){if(i=o[_].details,"undefined"===typeof i){this.state=Ht.WAITING_TRACK;break}if(!m&&this._streamEnded(l,i))return this.hls.trigger(c["default"].BUFFER_EOS,{type:"audio"}),void(this.state=Ht.ENDED);var b,w=i.fragments,x=w.length,S=w[0].start,E=w[x-1].start+w[x-1].duration;if(m)if(i.live&&!i.PTSKnown)u["logger"].log("switching audiotrack, live stream, unknown PTS,load first fragment"),p=0;else if(p=t,i.PTSKnown&&t<S){if(!(l.end>S||l.nextStart))return;u["logger"].log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=S+.05}if(i.initSegment&&!i.initSegment.data)b=i.initSegment;else if(p<=S){if(b=w[0],null!==this.videoTrackCC&&b.cc!==this.videoTrackCC&&(b=Ot(w,this.videoTrackCC)),i.live&&b.loadIdx&&b.loadIdx===this.fragLoadIdx){var O=l.nextStart?l.nextStart:S;return u["logger"].log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(O+.05)),void(this.media.currentTime=O+.05)}}else{var T,C=n.maxFragLookUpTolerance,A=g?w[g.sn-w[0].sn+1]:void 0,L=function(t){var e=Math.min(C,t.duration);return t.start+t.duration-e<=p?1:t.start-e>p&&t.start?-1:0};p<E?(p>E-C&&(C=0),T=A&&!L(A)?A:et.search(w,L)):T=w[x-1],T&&(b=T,S=T.start,g&&b.level===g.level&&b.sn===g.sn&&(b.sn<i.endSN?(b=w[b.sn+1-i.startSN],u["logger"].log("SN just loaded, load next one: "+b.sn)):b=null))}b&&(b.encrypted?(u["logger"].log("Loading key for "+b.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+_),this.state=Ht.KEY_LOADING,r.trigger(c["default"].KEY_LOADING,{frag:b})):(u["logger"].log("Loading "+b.sn+", cc: "+b.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+_+", currentTime:"+t+",bufferEnd:"+p.toFixed(3)),this.fragCurrent=b,(m||this.fragmentTracker.getState(b)===J.NOT_LOADED)&&("initSegment"!==b.sn&&(this.startFragRequested=!0),Object(h["isFiniteNumber"])(b.sn)&&(this.nextLoadPosition=b.start+b.duration),r.trigger(c["default"].FRAG_LOADING,{frag:b}),this.state=Ht.FRAG_LOADING)))}break;case Ht.WAITING_TRACK:e=this.tracks[this.trackId],e&&e.details&&(this.state=Ht.IDLE);break;case Ht.FRAG_LOADING_WAITING_RETRY:var R=Qe.now(),M=this.retryDate;a=this.media;var I=a&&a.seeking;(!M||R>=M||I)&&(u["logger"].log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ht.IDLE);break;case Ht.WAITING_INIT_PTS:var P=this.videoTrackCC;if(void 0===this.initPTS[P])break;var N=this.waitingFragment;if(N){var F=N.frag.cc;P!==F?(e=this.tracks[this.trackId],e.details&&e.details.live&&(u["logger"].warn("Waiting fragment CC ("+F+") does not match video track CC ("+P+")"),this.waitingFragment=null,this.state=Ht.IDLE)):(this.state=Ht.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ht.IDLE;break;case Ht.STOPPED:case Ht.FRAG_LOADING:case Ht.PARSING:case Ht.PARSED:case Ht.ENDED:break;default:break}},i.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},i.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u["logger"].log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},i.onAudioTracksUpdated=function(t){u["logger"].log("audio tracks updated"),this.tracks=t.audioTracks},i.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=Ht.PAUSED,this.waitingFragment=null,e?this.setInterval(ti):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Ht.IDLE),this.tick()},i.onAudioTrackLoaded=function(t){var e=t.details,i=t.id,r=this.tracks[i],n=e.totalduration,o=0;if(u["logger"].log("track "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+n),e.live){var a=r.details;a&&e.fragments.length>0?(yt(a,e),o=e.fragments[0].start,e.PTSKnown?u["logger"].log("live audio playlist sliding:"+o.toFixed(3)):u["logger"].log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,u["logger"].log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(r.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;Object(h["isFiniteNumber"])(s)?(u["logger"].log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):e.live?(this.startPosition=this.computeLivePosition(o,e),u["logger"].log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Ht.WAITING_TRACK&&(this.state=Ht.IDLE),this.tick()},i.onKeyLoaded=function(){this.state===Ht.KEY_LOADING&&(this.state=Ht.IDLE,this.tick())},i.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===Ht.FRAG_LOADING&&e&&"audio"===i.type&&i.level===e.level&&i.sn===e.sn){var r=this.tracks[this.trackId],n=r.details,o=n.totalduration,a=e.level,s=e.sn,h=e.cc,l=this.config.defaultAudioCodec||r.audioCodec||"mp4a.40.2",f=this.stats=t.stats;if("initSegment"===s)this.state=Ht.IDLE,f.tparsed=f.tbuffered=Qe.now(),n.initSegment.data=t.payload,this.hls.trigger(c["default"].FRAG_BUFFERED,{stats:f,frag:e,id:"audio"}),this.tick();else{this.state=Ht.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new dt(this.hls,"audio"));var d=this.initPTS[h],p=n.initSegment?n.initSegment.data:[];if(n.initSegment||void 0!==d){this.pendingBuffering=!0,u["logger"].log("Demuxing "+s+" of ["+n.startSN+" ,"+n.endSN+"],track "+a);var g=!1;this.demuxer.push(t.payload,p,l,null,e,o,g,d)}else u["logger"].log("unknown video PTS for continuity counter "+h+", waiting for video PTS before demuxing audio frag "+s+" of ["+n.startSN+" ,"+n.endSN+"],track "+a),this.waitingFragment=t,this.state=Ht.WAITING_INIT_PTS}}this.fragLoadError=0},i.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ht.PARSING){var r,n=t.tracks;if(n.video&&delete n.video,r=n.audio,r){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(c["default"].BUFFER_CODECS,n),u["logger"].log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c["default"].BUFFER_APPENDING,a))}this.tick()}}},i.onFragParsingData=function(t){var e=this,i=this.fragCurrent,r=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&r.sn===i.sn&&r.level===i.level&&this.state===Ht.PARSING){var n=this.trackId,o=this.tracks[n],a=this.hls;Object(h["isFiniteNumber"])(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),i.addElementaryStream(y.AUDIO),u["logger"].log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),vt(o.details,i,t.startPTS,t.endPTS);var l=this.audioSwitch,f=this.media,d=!1;if(l)if(f&&f.readyState){var p=f.currentTime;u["logger"].log("switching audio track : currentTime:"+p),p>=t.startPTS&&(u["logger"].log("switching audio track : flushing all audio"),this.state=Ht.BUFFER_FLUSHING,a.trigger(c["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,a.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:n}))}else this.audioSwitch=!1,a.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:n});var g=this.pendingData;if(!g)return u["logger"].warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void a.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach((function(e){e&&e.length&&g.push({type:t.type,data:e,parent:"audio",content:"data"})})),!d&&g.length&&(g.forEach((function(t){e.state===Ht.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(c["default"].BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},i.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ht.PARSING&&(this.stats.tparsed=Qe.now(),this.state=Ht.PARSED,this._checkAppendedParsed())},i.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},i.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},i.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Ht.PARSING&&e!==Ht.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},i._checkAppendedParsed=function(){if(this.state===Ht.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,i=this.hls;if(t){this.fragPrevious=t,e.tbuffered=Qe.now(),i.trigger(c["default"].FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var r=this.mediaBuffer?this.mediaBuffer:this.media;r&&u["logger"].log("audio buffered : "+St.toString(r.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ht.IDLE}this.tick()}},i.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:var i=t.frag;if(i&&"audio"!==i.type)break;if(!t.fatal){var r=this.fragLoadError;r?r++:r=1;var n=this.config;if(r<=n.fragLoadingMaxRetry){this.fragLoadError=r;var o=Math.min(Math.pow(2,r-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);u["logger"].warn("AudioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=Qe.now()+o,this.state=Ht.FRAG_LOADING_WAITING_RETRY}else u["logger"].error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ht.ERROR}break;case s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR:case s["ErrorDetails"].AUDIO_TRACK_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:this.state!==Ht.ERROR&&(this.state=t.fatal?Ht.ERROR:Ht.IDLE,u["logger"].warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case s["ErrorDetails"].BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Ht.PARSING||this.state===Ht.PARSED)){var a=this.mediaBuffer,h=this.media.currentTime,l=a&&it.isBuffered(a,h)&&it.isBuffered(a,h+.5);if(l){var f=this.config;f.maxMaxBufferLength>=f.maxBufferLength&&(f.maxMaxBufferLength/=2,u["logger"].warn("AudioStreamController: reduce max buffer length to "+f.maxMaxBufferLength+"s")),this.state=Ht.IDLE}else u["logger"].warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ht.BUFFER_FLUSHING,this.hls.trigger(c["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}break;default:break}},i.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(u["logger"].log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach((function(e){t.hls.trigger(c["default"].BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=Ht.PARSED):(this.state=Ht.IDLE,this.fragPrevious=null,this.tick())},Ze(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u["logger"].log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Wt),ii=ei,ri=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};function r(t){if("string"!==typeof t)return!1;var i=e[t.toLowerCase()];return!!i&&t.toLowerCase()}function n(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}function a(e,i,a){var s=this,h={enumerable:!0};s.hasBeenReset=!1;var c="",u=!1,l=e,f=i,d=a,p=null,g="",v=!0,y="auto",m="start",_=50,b="middle",w=50,x="middle";Object.defineProperty(s,"id",o({},h,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",o({},h,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(s,"startTime",o({},h,{get:function(){return l},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},h,{get:function(){return f},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},h,{get:function(){return d},set:function(t){d=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},h,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},h,{get:function(){return g},set:function(t){var e=r(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},h,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},h,{get:function(){return y},set:function(e){if("number"!==typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},h,{get:function(){return m},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},h,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},h,{get:function(){return b},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},h,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},h,{get:function(){return x},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),s.displayState=void 0}return a.prototype.getCueAsHTML=function(){var t=window.WebVTT;return t.convertCueToDOMTree(window,this.text)},a}(),ni=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function oi(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new ni,this.regionList=[]}function ai(t){function e(t,e,i,r){return 3600*(0|t)+60*(0|e)+(0|i)+(0|r)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function si(){this.values=Object.create(null)}function hi(t,e,i,r){var n=r?t.split(r):[t];for(var o in n)if("string"===typeof n[o]){var a=n[o].split(i);if(2===a.length){var s=a[0],h=a[1];e(s,h)}}}si.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var r=0;r<i.length;++r)if(e===i[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var ci=new ri(0,0,0),ui="middle"===ci.align?"middle":"center";function li(t,e,i){var r=t;function n(){var e=ai(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(t,e){var r=new si;hi(t,(function(t,e){switch(t){case"region":for(var n=i.length-1;n>=0;n--)if(i[n].id===e){r.set(t,i[n].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];r.integer(t,a),r.percent(t,a)&&r.set("snapToLines",!1),r.alt(t,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start",ui,"end"]);break;case"position":o=e.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start",ui,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",ui,"end","left","right"]);break}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");var n=r.get("line","auto");"auto"===n&&-1===ci.line&&(n=-1),e.line=n,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",ui);var o=r.get("position","auto");"auto"===o&&50===ci.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=n(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.substr(3),a(),e.endTime=n(),a(),o(t,e)}function fi(t){return t.replace(/<br(?: \/)?>/gi,"\n")}oi.prototype={parse:function(t){var e=this;function i(){var t=e.buffer,i=0;t=fi(t);while(i<t.length&&"\r"!==t[i]&&"\n"!==t[i])++i;var r=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),r}function r(t){hi(t,(function(t,e){switch(t){case"Region":break}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var n;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;n=i();var o=n.match(/^()?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}var a=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:n=i(),e.state){case"HEADER":/:/.test(n)?r(n):n||(e.state="ID");continue;case"NOTE":n||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){e.state="NOTE";break}if(!n)continue;if(e.cue=new ri(0,0,""),e.state="CUE",-1===n.indexOf("--\x3e")){e.cue.id=n;continue}case"CUE":try{li(n,e.cue,e.regionList)}catch(h){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=n;continue;case"BADCUE":n||(e.state="ID");continue}}}catch(h){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return t.onflush&&t.onflush(),this}};var di=oi;function pi(t,e,i,r){for(var n,o,a,s,h,c=window.VTTCue||TextTrackCue,u=0;u<r.rows.length;u++)if(n=r.rows[u],a=!0,s=0,h="",!n.isEmpty()){for(var l=0;l<n.chars.length;l++)n.chars[l].uchar.match(/\s/)&&a?s++:(h+=n.chars[l].uchar,a=!1);n.cueStartTime=e,e===i&&(i+=1e-4),o=new c(e,i,fi(h.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?o.line=u+1:o.line=u>7?u-2:u+1,o.align="left",o.position=Math.max(0,Math.min(100,s/32*100)),t.addCue(o)}}var gi,vi={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},yi=function(t){var e=t;return vi.hasOwnProperty(t)&&(e=vi[t]),String.fromCharCode(e)},mi=15,_i=100,bi={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},wi={17:2,18:4,21:6,22:8,23:10,19:13,20:15},xi={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Si={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Ei=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(function(t){t[t["ERROR"]=0]="ERROR",t[t["TEXT"]=1]="TEXT",t[t["WARNING"]=2]="WARNING",t[t["INFO"]=2]="INFO",t[t["DEBUG"]=3]="DEBUG",t[t["DATA"]=3]="DATA"})(gi||(gi={}));var Oi={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){this.verboseFilter[t];this.verboseLevel}},Ti=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].toString(16));return e},Ci=function(){function t(t,e,i,r,n){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=i||!1,this.background=r||"black",this.flash=n||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)&&(this[r]=t[r])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),Ai=function(){function t(t,e,i,r,n,o){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new Ci(e,i,r,n,o)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),Li=function(){function t(){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.chars=[];for(var t=0;t<_i;t++)this.chars.push(new Ai);this.pos=0,this.currPenState=new Ci}var e=t.prototype;return e.equals=function(t){for(var e=!0,i=0;i<_i;i++)if(!this.chars[i].equals(t.chars[i])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<_i;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<_i;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(Oi.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>_i&&(Oi.log("ERROR","Too large cursor position "+this.pos),this.pos=_i)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=yi(t);this.pos>=_i?Oi.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<_i;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,i=0;i<_i;i++){var r=this.chars[i].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t);var e=this.chars[this.pos];e.setPenState(this.currPenState)},t}(),Ri=function(){function t(){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.rows=[];for(var t=0;t<mi;t++)this.rows.push(new Li);this.currRow=mi-1,this.nrRollUpRows=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<mi;t++)this.rows[t].clear();this.currRow=mi-1},e.equals=function(t){for(var e=!0,i=0;i<mi;i++)if(!this.rows[i].equals(t.rows[i])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<mi;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<mi;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){var t=this.rows[this.currRow];t.backSpace()},e.clearToEndOfRow=function(){var t=this.rows[this.currRow];t.clearToEndOfRow()},e.insertChar=function(t){var e=this.rows[this.currRow];e.insertChar(t)},e.setPen=function(t){var e=this.rows[this.currRow];e.setPenStyles(t)},e.moveCursor=function(t){var e=this.rows[this.currRow];e.moveCursor(t)},e.setCursor=function(t){Oi.log("INFO","setCursor: "+t);var e=this.rows[this.currRow];e.setCursor(t)},e.setPAC=function(t){Oi.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var i=0;i<mi;i++)this.rows[i].clear();var r=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){var o=n.rows[r].cueStartTime;if(o&&Oi.time&&o<Oi.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[e-this.nrRollUpRows+a+1].copy(n.rows[r+a])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var h=t.indent,c=Math.max(h-1,0);s.setCursor(t.indent),t.color=s.chars[c].penState.foreground}var u={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(u)},e.setBkgData=function(t){Oi.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){Oi.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),Oi.log("INFO","Rolling up")}else Oi.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],i="",r=-1,n=0;n<mi;n++){var o=this.rows[n].getTextString();o&&(r=n+1,t?e.push("Row "+r+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(i=t?"["+e.join(" | ")+"]":e.join("\n")),i},e.getTextAndFormat=function(){return this.rows},t}(),Mi=function(){function t(t,e){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.lastCueEndTime=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Ri,this.nonDisplayedMemory=new Ri,this.lastOutputScreen=new Ri,this.currRollUpRow=this.displayedMemory.rows[mi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[mi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,Oi.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";Oi.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(Oi.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){Oi.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){Oi.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){Oi.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){Oi.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){Oi.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){Oi.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){Oi.log("INFO","TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){Oi.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){Oi.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){Oi.log("INFO","CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){Oi.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(Oi.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,Oi.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){Oi.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var i=Math.floor(t/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=r[i]}Oi.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=Oi.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),Ii=function(){function t(t,e,i){this.field=void 0,this.outputs=void 0,this.channels=void 0,this.currChNr=void 0,this.lastCmdA=void 0,this.lastCmdB=void 0,this.lastTime=void 0,this.dataCounters=void 0,this.field=t||1,this.outputs=[e,i],this.channels=[new Mi(1,e),new Mi(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var i,r,n,o=!1;this.lastTime=t,Oi.setTime(t);for(var a=0;a<e.length;a+=2)if(r=127&e[a],n=127&e[a+1],0!==r||0!==n){if(Oi.log("DATA","["+Ti([e[a],e[a+1]])+"] -> ("+Ti([r,n])+")"),i=this.parseCmd(r,n),i||(i=this.parseMidrow(r,n)),i||(i=this.parsePAC(r,n)),i||(i=this.parseBackgroundAttributes(r,n)),!i&&(o=this.parseChars(r,n),o))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else Oi.log("WARNING","No channel found yet. TEXT-MODE?");i?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,Oi.log("WARNING","Couldn't parse cleaned data "+Ti([r,n])+" orig: "+Ti([e[a],e[a+1]])))}else this.dataCounters.padding+=2},e.parseCmd=function(t,e){var i=null,r=(20===t||28===t)&&e>=32&&e<=47,n=(23===t||31===t)&&e>=33&&e<=35;if(!r&&!n)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,Oi.log("DEBUG","Repeated command ("+Ti([t,e])+") is dropped"),!0;i=20===t||23===t?1:2;var o=this.channels[i-1];return 20===t||28===t?32===e?o.ccRCL():33===e?o.ccBS():34===e?o.ccAOF():35===e?o.ccAON():36===e?o.ccDER():37===e?o.ccRU(2):38===e?o.ccRU(3):39===e?o.ccRU(4):40===e?o.ccFON():41===e?o.ccRDC():42===e?o.ccTR():43===e?o.ccRTD():44===e?o.ccEDM():45===e?o.ccCR():46===e?o.ccENM():47===e&&o.ccEOC():o.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},e.parseMidrow=function(t,e){var i=null;if((17===t||25===t)&&e>=32&&e<=47){if(i=17===t?1:2,i!==this.currChNr)return Oi.log("ERROR","Mismatch channel in midrow parsing"),!1;var r=this.channels[i-1];return r.ccMIDROW(e),Oi.log("DEBUG","MIDROW ("+Ti([t,e])+")"),!0}return!1},e.parsePAC=function(t,e){var i=null,r=null,n=(t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127,o=(16===t||24===t)&&e>=64&&e<=95;if(!n&&!o)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=t<=23?1:2,r=e>=64&&e<=95?1===i?bi[t]:xi[t]:1===i?wi[t]:Si[t];var a=this.interpretPAC(r,e),s=this.channels[i-1];return s.setPAC(a),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},e.interpretPAC=function(t,e){var i=e,r={color:null,italics:!1,indent:null,underline:!1,row:t};return i=e>95?e-96:e-64,r.underline=1===(1&i),i<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((i-16)/2),r},e.parseChars=function(t,e){var i=null,r=null,n=null;if(t>=25?(i=2,n=t-8):(i=1,n=t),n>=17&&n<=19){var o=e;o=17===n?e+80:18===n?e+112:e+144,Oi.log("INFO","Special char '"+yi(o)+"' in channel "+i),r=[o]}else t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){var a=Ti(r);Oi.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},e.parseBackgroundAttributes=function(t,e){var i,r,n,o,a=(16===t||24===t)&&e>=32&&e<=47,s=(23===t||31===t)&&e>=45&&e<=47;return!(!a&&!s)&&(i={},16===t||24===t?(r=Math.floor((e-32)/2),i.background=Ei[r],e%2===1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0)),n=t<24?1:2,o=this.channels[n-1],o.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0)},e.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}(),Pi=Ii,Ni=function(){function t(t,e){this.timelineController=void 0,this.trackName=void 0,this.startTime=void 0,this.endTime=void 0,this.screen=void 0,this.timelineController=t,this.trackName=e,this.startTime=null,this.endTime=null,this.screen=null}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.newCue=function(t,e,i){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)},t}(),Fi=function(t,e,i){return t.substr(i||0,e.length)===e},ki=function(t){var e=parseInt(t.substr(-3)),i=parseInt(t.substr(-6,2)),r=parseInt(t.substr(-9,2)),n=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!Object(h["isFiniteNumber"])(e)||!Object(h["isFiniteNumber"])(i)||!Object(h["isFiniteNumber"])(r)||!Object(h["isFiniteNumber"])(n))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*i,e+=6e4*r,e+=36e5*n,e},ji=function(t){var e=5381,i=t.length;while(i)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()},Di=function(t,e,i){var r=t[e],n=t[r.prevCC];if(!n||!n.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);while(n&&n.new)t.ccOffset+=r.start-n.start,r.new=!1,r=n,n=t[r.prevCC];t.presentationOffset=i},Gi={parse:function(t,e,i,r,n,o){var a,s=/\r\n|\n\r|\n|\r/g,h=Object(oe["utf8ArrayToStr"])(new Uint8Array(t)).trim().replace(s,"\n").split("\n"),c="00:00.000",u=0,l=0,f=0,d=[],p=!0,g=!1,v=new di;v.oncue=function(t){var e=i[r],n=i.ccOffset;e&&e.new&&(void 0!==l?n=i.ccOffset=e.start:Di(i,r,f)),f&&(n=f-i.presentationOffset),g&&(t.startTime+=n-l,t.endTime+=n-l),t.id=ji(t.startTime.toString())+ji(t.endTime.toString())+ji(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&d.push(t)},v.onparsingerror=function(t){a=t},v.onflush=function(){a&&o?o(a):n(d)},h.forEach((function(t){if(p){if(Fi(t,"X-TIMESTAMP-MAP=")){p=!1,g=!0,t.substr(16).split(",").forEach((function(t){Fi(t,"LOCAL:")?c=t.substr(6):Fi(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))}));try{e+(9e4*i[r].start||0)<0&&(e+=8589934592),u-=e,l=ki(c)/1e3,f=u/9e4}catch(n){g=!1,a=n}return}""===t&&(p=!1)}v.parse(t+"\n")})),v.flush()}},Bi=Gi;function Ui(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var qi=function(t){function e(e){var i;if(i=t.call(this,e,c["default"].MEDIA_ATTACHING,c["default"].MEDIA_DETACHING,c["default"].FRAG_PARSING_USERDATA,c["default"].FRAG_DECRYPTED,c["default"].MANIFEST_LOADING,c["default"].MANIFEST_LOADED,c["default"].FRAG_LOADED,c["default"].INIT_PTS_FOUND)||this,i.media=null,i.config=void 0,i.enabled=!0,i.Cues=void 0,i.textTracks=[],i.tracks=[],i.initPTS=[],i.unparsedVttFrags=[],i.cueRanges=[],i.captionsTracks={},i.captionsProperties=void 0,i.cea608Parser=void 0,i.lastSn=-1,i.prevCC=-1,i.vttCCs=null,i.hls=e,i.config=e.config,i.Cues=e.config.cueHandler,i.captionsProperties={textTrack1:{label:i.config.captionsTextTrack1Label,languageCode:i.config.captionsTextTrack1LanguageCode},textTrack2:{label:i.config.captionsTextTrack2Label,languageCode:i.config.captionsTextTrack2LanguageCode}},i.config.enableCEA708Captions){var r=new Ni(Ui(i),"textTrack1"),n=new Ni(Ui(i),"textTrack2");i.cea608Parser=new Pi(0,r,n)}return i}zi(e,t);var i=e.prototype;return i.addCues=function(t,e,i,r){for(var n=this.cueRanges,o=!1,a=n.length;a--;){var s=n[a],h=Hi(s[0],s[1],e,i);if(h>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],i),o=!0,h/(i-e)>.5))return}o||n.push([e,i]),this.Cues.newCue(this.captionsTracks[t],e,i,r)},i.onInitPtsFound=function(t){var e=this,i=t.frag,r=t.id,n=t.initPTS,o=this.unparsedVttFrags;"main"===r&&(this.initPTS[i.cc]=n),o.length&&(this.unparsedVttFrags=[],o.forEach((function(t){e.onFragLoaded(t)})))},i.getExistingTrack=function(t){var e=this.media;if(e)for(var i=0;i<e.textTracks.length;i++){var r=e.textTracks[i];if(r[t])return r}return null},i.createCaptionsTrack=function(t){var e=this.captionsProperties,i=this.captionsTracks,r=this.media,n=e[t],o=n.label,a=n.languageCode;if(!i[t]){var s=this.getExistingTrack(t);if(s)i[t]=s,se(i[t]),ae(i[t],r);else{var h=this.createTextTrack("captions",o,a);h&&(h[t]=!0,i[t]=h)}}},i.createTextTrack=function(t,e,i){var r=this.media;if(r)return r.addTextTrack(t,e,i)},i.destroy=function(){t.prototype.destroy.call(this)},i.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},i.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){se(t[e]),delete t[e]}))},i.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},i._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var i=0;i<e.length;i++)se(e[i])}},i.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,r){var n;if(r<i.length){for(var o=null,a=0;a<i.length;a++)if(Vi(i[a],t)){o=i[a];break}o&&(n=o)}n||(n=e.createTextTrack("subtitles",t.name,t.lang)),t.default?n.mode=e.hls.subtitleDisplay?"showing":"hidden":n.mode="disabled",e.textTracks.push(n)}))}},i.onFragLoaded=function(t){var e=t.frag,i=t.payload,r=this.cea608Parser,n=this.initPTS,o=this.lastSn,a=this.unparsedVttFrags;if("main"===e.type){var s=e.sn;e.sn!==o+1&&r&&r.reset(),this.lastSn=s}else if("subtitle"===e.type)if(i.byteLength){if(!Object(h["isFiniteNumber"])(n[e.cc]))return a.push(t),void(n.length&&this.hls.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e}));var u=e.decryptdata;null!=u&&null!=u.key&&"AES-128"===u.method||this._parseVTTs(e,i)}else this.hls.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},i._parseVTTs=function(t,e){var i=this.hls,r=this.prevCC,n=this.textTracks,o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:r,new:!0},this.prevCC=t.cc),Bi.parse(e,this.initPTS[t.cc],o,t.cc,(function(e){var r=n[t.level];"disabled"!==r.mode?(e.forEach((function(t){if(!r.cues.getCueById(t.id))try{if(r.addCue(t),!r.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(i){u["logger"].debug("Failed occurred on adding cues: "+i);var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}})),i.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):i.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}),(function(e){u["logger"].log("Failed to parse VTT cue: "+e),i.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},i.onFragDecrypted=function(t){var e=t.frag,i=t.payload;if("subtitle"===e.type){if(!Object(h["isFiniteNumber"])(this.initPTS[e.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(e,i)}},i.onFragParsingUserdata=function(t){if(this.enabled&&this.cea608Parser)for(var e=0;e<t.samples.length;e++){var i=t.samples[e].bytes;if(i){var r=this.extractCea608Data(i);this.cea608Parser.addData(t.samples[e].pts,r)}}},i.extractCea608Data=function(t){for(var e,i,r,n,o,a=31&t[0],s=2,h=[],c=0;c<a;c++)e=t[s++],i=127&t[s++],r=127&t[s++],n=0!==(4&e),o=3&e,0===i&&0===r||n&&0===o&&(h.push(i),h.push(r));return h},e}(d);function Vi(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function Hi(t,e,i,r){return Math.min(e,r)-Math.max(t,i)}var Wi=qi;function Yi(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ki(t,e,i){return e&&Yi(t.prototype,e),i&&Yi(t,i),t}function Xi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Zi=function(t){function e(e){var i;return i=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].MANIFEST_LOADED,c["default"].SUBTITLE_TRACK_LOADED)||this,i.tracks=[],i.trackId=-1,i.media=null,i.stopped=!0,i.subtitleDisplay=!0,i.queuedDefaultTrack=null,i}Xi(e,t);var i=e.prototype;return i.destroy=function(){d.prototype.destroy.call(this)},i.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(Object(h["isFiniteNumber"])(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},i.onMediaDetaching=function(){if(this.media){this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(h["isFiniteNumber"])(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack);var t=$i(this.media.textTracks);t.forEach((function(t){se(t)})),this.subtitleTrack=-1,this.media=null}},i.onManifestLoaded=function(t){var e=this,i=t.subtitles||[];this.tracks=i,this.hls.trigger(c["default"].SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},i.onSubtitleTrackLoaded=function(t){var e=this,i=t.id,r=t.details,n=this.trackId,o=this.tracks,a=o[n];if(i>=o.length||i!==n||!a||this.stopped)this._clearReloadTimer();else if(u["logger"].log("subtitle track "+i+" loaded"),r.live){var s=wt(a.details,r,t.stats.trequest);u["logger"].log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout((function(){e._loadCurrentTrack()}),s)}else this._clearReloadTimer()},i.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},i.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},i._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},i._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,i=this.hls,r=e[t];t<0||!r||r.details&&!r.details.live||(u["logger"].log("Loading subtitle track "+t),i.trigger(c["default"].SUBTITLE_TRACK_LOADING,{url:r.url,id:t}))},i._toggleTrackModes=function(t){var e=this.media,i=this.subtitleDisplay,r=this.trackId;if(e){var n=$i(e.textTracks);if(-1===t)[].slice.call(n).forEach((function(t){t.mode="disabled"}));else{var o=n[r];o&&(o.mode="disabled")}var a=n[t];a&&(a.mode=i?"showing":"hidden")}},i._setSubtitleTrackInternal=function(t){var e=this.hls,i=this.tracks;!Object(h["isFiniteNumber"])(t)||t<-1||t>=i.length||(this.trackId=t,u["logger"].log("Switching to subtitle track "+t),e.trigger(c["default"].SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},i._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=$i(this.media.textTracks),i=0;i<e.length;i++)if("hidden"===e[i].mode)t=i;else if("showing"===e[i].mode){t=i;break}this.subtitleTrack=t}},Ki(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))}}]),e}(d);function $i(t){for(var e=[],i=0;i<t.length;i++){var r=t[i];"subtitles"===r.kind&&r.label&&e.push(t[i])}return e}var Ji=Zi,Qi=i("./src/crypt/decrypter.js");function tr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function er(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ir,rr=window,nr=rr.performance,or=500,ar=function(t){function e(e,i){var r;return r=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].ERROR,c["default"].KEY_LOADED,c["default"].FRAG_LOADED,c["default"].SUBTITLE_TRACKS_UPDATED,c["default"].SUBTITLE_TRACK_SWITCH,c["default"].SUBTITLE_TRACK_LOADED,c["default"].SUBTITLE_FRAG_PROCESSED,c["default"].LEVEL_UPDATED)||this,r.fragmentTracker=i,r.config=e.config,r.state=Ht.STOPPED,r.tracks=[],r.tracksBuffered=[],r.currentTrackId=-1,r.decrypter=new Qi["default"](e,e.config),r.lastAVStart=0,r._onMediaSeeking=r.onMediaSeeking.bind(tr(r)),r}er(e,t);var i=e.prototype;return i.onSubtitleFragProcessed=function(t){var e=t.frag,i=t.success;if(this.fragPrevious=e,this.state=Ht.IDLE,i){var r=this.tracksBuffered[this.currentTrackId];if(r){for(var n,o=e.start,a=0;a<r.length;a++)if(o>=r[a].start&&o<=r[a].end){n=r[a];break}var s=e.start+e.duration;n?n.end=s:(n={start:o,end:s},r.push(n))}}},i.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=Ht.IDLE},i.onMediaDetaching=function(){var t=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach((function(e){t.tracksBuffered[e.id]=[]})),this.media=null,this.state=Ht.STOPPED)},i.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.state=Ht.IDLE)},i.onSubtitleTracksUpdated=function(t){var e=this;u["logger"].log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach((function(t){e.tracksBuffered[t.id]=[]}))},i.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(or)}else this.clearInterval()},i.onSubtitleTrackLoaded=function(t){var e=t.id,i=t.details,r=this.currentTrackId,n=this.tracks,o=n[r];e>=n.length||e!==r||!o||(i.live&&mt(o.details,i,this.lastAVStart),o.details=i,this.setInterval(or))},i.onKeyLoaded=function(){this.state===Ht.KEY_LOADING&&(this.state=Ht.IDLE)},i.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag.decryptdata,r=t.frag,n=this.hls;if(this.state===Ht.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&i&&i.key&&"AES-128"===i.method){var o=nr.now();this.decrypter.decrypt(t.payload,i.key.buffer,i.iv.buffer,(function(t){var e=nr.now();n.trigger(c["default"].FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:o,tdecrypt:e}})}))}},i.onLevelUpdated=function(t){var e=t.details,i=e.fragments;this.lastAVStart=i.length?i[0].start:0},i.doTick=function(){if(this.media)switch(this.state){case Ht.IDLE:var t=this.config,e=this.currentTrackId,i=this.fragmentTracker,r=this.media,n=this.tracks;if(!n||!n[e]||!n[e].details)break;var o,a=t.maxBufferHole,s=t.maxFragLookUpTolerance,h=Math.min(t.maxBufferLength,t.maxMaxBufferLength),l=it.bufferedInfo(this._getBuffered(),r.currentTime,a),f=l.end,d=l.len,p=n[e].details,g=p.fragments,v=g.length,y=g[v-1].start+g[v-1].duration;if(d>h)return;var m=this.fragPrevious;f<y?(m&&p.hasProgramDateTime&&(o=It(g,m.endProgramDateTime,s)),o||(o=Pt(m,g,f,s))):o=g[v-1],o&&o.encrypted?(u["logger"].log("Loading key for "+o.sn),this.state=Ht.KEY_LOADING,this.hls.trigger(c["default"].KEY_LOADING,{frag:o})):o&&i.getState(o)===J.NOT_LOADED&&(this.fragCurrent=o,this.state=Ht.FRAG_LOADING,this.hls.trigger(c["default"].FRAG_LOADING,{frag:o}))}else this.state=Ht.IDLE},i.stopLoad=function(){this.lastAVStart=0,t.prototype.stopLoad.call(this)},i._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},i.onMediaSeeking=function(){this.fragPrevious=null},e}(Wt);(function(t){t["WIDEVINE"]="com.widevine.alpha",t["PLAYREADY"]="com.microsoft.playready"})(ir||(ir={}));var sr=function(){return"undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null}();function hr(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e,i){return e&&hr(t.prototype,e),i&&hr(t,i),t}function ur(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var lr=3,fr=function(t,e){var i={videoCapabilities:[]};return e.forEach((function(t){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})})),[i]},dr=function(t,e,i){switch(t){case ir.WIDEVINE:return fr(e,i);default:throw new Error("Unknown key-system: "+t)}},pr=function(t){function e(e){var i;return i=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHED,c["default"].MANIFEST_PARSED)||this,i._widevineLicenseUrl=void 0,i._licenseXhrSetup=void 0,i._emeEnabled=void 0,i._requestMediaKeySystemAccess=void 0,i._config=void 0,i._mediaKeysList=[],i._media=null,i._hasSetMediaKeys=!1,i._requestLicenseFailureCount=0,i._onMediaEncrypted=function(t){u["logger"].log('Media is encrypted using "'+t.initDataType+'" init data type'),i._attemptSetMediaKeys(),i._generateRequestWithPreferredKeySession(t.initDataType,t.initData)},i._config=e.config,i._widevineLicenseUrl=i._config.widevineLicenseUrl,i._licenseXhrSetup=i._config.licenseXhrSetup,i._emeEnabled=i._config.emeEnabled,i._requestMediaKeySystemAccess=i._config.requestMediaKeySystemAccessFunc,i}ur(e,t);var i=e.prototype;return i.getLicenseServerUrl=function(t){switch(t){case ir.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},i._attemptKeySystemAccess=function(t,e,i){var r=this,n=dr(t,e,i);u["logger"].log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,n).then((function(e){r._onMediaKeySystemAccessObtained(t,e)})).catch((function(e){u["logger"].error('Failed to obtain key-system "'+t+'" access:',e)}))},i._onMediaKeySystemAccessObtained=function(t,e){var i=this;u["logger"].log('Access for key-system "'+t+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(r),e.createMediaKeys().then((function(e){r.mediaKeys=e,u["logger"].log('Media-keys created for key-system "'+t+'"'),i._onMediaKeysCreated()})).catch((function(t){u["logger"].error("Failed to create media-keys:",t)}))},i._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},i._onNewMediaKeySession=function(t){var e=this;u["logger"].log("New key-system session "+t.sessionId),t.addEventListener("message",(function(i){e._onKeySessionMessage(t,i.message)}),!1)},i._onKeySessionMessage=function(t,e){u["logger"].log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){u["logger"].log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e)}))},i._attemptSetMediaKeys=function(){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return u["logger"].error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_KEYS,fatal:!0});u["logger"].log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},i._generateRequestWithPreferredKeySession=function(t,e){var i=this,r=this._mediaKeysList[0];if(!r)return u["logger"].error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_ACCESS,fatal:!0});if(r.mediaKeysSessionInitialized)u["logger"].warn("Key-Session already initialized but requested again");else{var n=r.mediaKeysSession;if(!n)return u["logger"].error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return u["logger"].warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_INIT_DATA,fatal:!0});u["logger"].log('Generating key-session request for "'+t+'" init data type'),r.mediaKeysSessionInitialized=!0,n.generateRequest(t,e).then((function(){u["logger"].debug("Key-session generation succeeded")})).catch((function(t){u["logger"].error("Error generating key-session request:",t),i.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},i._createLicenseXhr=function(t,e,i){var r=new XMLHttpRequest,n=this._licenseXhrSetup;try{if(n)try{n(r,t)}catch(o){r.open("POST",t,!0),n(r,t)}r.readyState||r.open("POST",t,!0)}catch(o){throw new Error("issue setting up KeySystem license XHR "+o)}return r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,t,e,i),r},i._onLicenseRequestReadyStageChange=function(t,e,i,r){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,u["logger"].log("License request succeeded"),"arraybuffer"!==t.responseType&&u["logger"].warn("xhr response type was not set to the expected arraybuffer for license request"),r(t.response);else{if(u["logger"].error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>lr)return void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var n=lr-this._requestLicenseFailureCount+1;u["logger"].warn("Retrying license request, "+n+" attempts left"),this._requestLicense(i,r)}break}},i._generateLicenseRequestChallenge=function(t,e){switch(t.mediaKeySystemDomain){case ir.WIDEVINE:return e}throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},i._requestLicense=function(t,e){u["logger"].log("Requesting content license for key-system");var i=this._mediaKeysList[0];if(!i)return u["logger"].error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var r=this.getLicenseServerUrl(i.mediaKeySystemDomain),n=this._createLicenseXhr(r,t,e);u["logger"].log("Sending license request to URL: "+r);var o=this._generateLicenseRequestChallenge(i,t);n.send(o)}catch(a){u["logger"].error("Failure requesting DRM license: "+a),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},i.onMediaAttached=function(t){if(this._emeEnabled){var e=t.media;this._media=e,e.addEventListener("encrypted",this._onMediaEncrypted)}},i.onMediaDetached=function(){this._media&&(this._media.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null)},i.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),i=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(ir.WIDEVINE,e,i)}},cr(e,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),e}(d),gr=pr;function vr(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},r=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),r.forEach((function(e){yr(t,e,i[e])}))}return t}function yr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var mr=vr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:qe,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Ee,bufferController:Ae,capLevelController:Pe,fpsController:De,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:sr},_r(),{subtitleStreamController:ar,subtitleTrackController:Ji,timelineController:Wi,audioStreamController:ii,audioTrackController:Ke,emeController:gr});function _r(){return{cueHandler:r,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es"}}function br(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},r=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),r.forEach((function(e){wr(t,e,i[e])}))}return t}function wr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sr(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Er(t,e,i){return e&&Sr(t.prototype,e),i&&Sr(t,i),t}function Or(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}i.d(e,"default",(function(){return Tr}));var Tr=function(t){function e(i){var r;void 0===i&&(i={}),r=t.call(this)||this,r.config=void 0,r._autoLevelCapping=void 0,r.abrController=void 0,r.capLevelController=void 0,r.levelController=void 0,r.streamController=void 0,r.networkControllers=void 0,r.audioTrackController=void 0,r.subtitleTrackController=void 0,r.emeController=void 0,r.coreComponents=void 0,r.media=null,r.url=null;var n=e.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");r.config=br({},n,i);var o=xr(r),a=o.config;if(void 0!==a.liveMaxLatencyDurationCount&&a.liveMaxLatencyDurationCount<=a.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==a.liveMaxLatencyDuration&&(void 0===a.liveSyncDuration||a.liveMaxLatencyDuration<=a.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(u["enableLogs"])(a.debug),r._autoLevelCapping=-1;var s=r.abrController=new a.abrController(xr(r)),h=new a.bufferController(xr(r)),c=r.capLevelController=new a.capLevelController(xr(r)),l=new a.fpsController(xr(r)),f=new V(xr(r)),d=new Y(xr(r)),p=new Z(xr(r)),g=new le(xr(r)),v=r.levelController=new ne(xr(r)),y=new Q(xr(r)),m=r.streamController=new Jt(xr(r),y),_=[v,m],b=a.audioStreamController;b&&_.push(new b(xr(r),y)),r.networkControllers=_;var w=[f,d,p,s,h,c,l,g,y];if(b=a.audioTrackController,b){var x=new b(xr(r));r.audioTrackController=x,w.push(x)}if(b=a.subtitleTrackController,b){var S=new b(xr(r));r.subtitleTrackController=S,_.push(S)}if(b=a.emeController,b){var E=new b(xr(r));r.emeController=E,w.push(E)}return b=a.subtitleStreamController,b&&_.push(new b(xr(r),y)),b=a.timelineController,b&&w.push(new b(xr(r))),r.coreComponents=w,r}Or(e,t),e.isSupported=function(){return fe()},Er(e,null,[{key:"version",get:function(){return"0.13.2"}},{key:"Events",get:function(){return c["default"]}},{key:"ErrorTypes",get:function(){return s["ErrorTypes"]}},{key:"ErrorDetails",get:function(){return s["ErrorDetails"]}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:mr},set:function(t){e.defaultConfig=t}}]);var i=e.prototype;return i.destroy=function(){u["logger"].log("destroy"),this.trigger(c["default"].DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},i.attachMedia=function(t){u["logger"].log("attachMedia"),this.media=t,this.trigger(c["default"].MEDIA_ATTACHING,{media:t})},i.detachMedia=function(){u["logger"].log("detachMedia"),this.trigger(c["default"].MEDIA_DETACHING),this.media=null},i.loadSource=function(t){t=a["buildAbsoluteURL"](window.location.href,t,{alwaysNormalize:!0}),u["logger"].log("loadSource:"+t),this.url=t,this.trigger(c["default"].MANIFEST_LOADING,{url:t})},i.startLoad=function(t){void 0===t&&(t=-1),u["logger"].log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},i.stopLoad=function(){u["logger"].log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},i.swapAudioCodec=function(){u["logger"].log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){u["logger"].log("recoverMediaError");var t=this.media;this.detachMedia(),t&&this.attachMedia(t)},Er(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){u["logger"].log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){u["logger"].log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){u["logger"].log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){u["logger"].log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){u["logger"].log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){u["logger"].log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"bandwidthEstimate",get:function(){var t=this.abrController._bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,i=t?t.length:0,r=0;r<i;r++){var n=t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate;if(n>e)return r}return 0}},{key:"maxAutoLevel",get:function(){var t,e=this.levels,i=this.autoLevelCapping;return t=-1===i&&e&&e.length?e.length-1:i,t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),e}(ct);Tr.defaultConfig=void 0},"./src/polyfills/number-isFinite.js":
/*!******************************************!*\
  !*** ./src/polyfills/number-isFinite.js ***!
  \******************************************/
/*! exports provided: isFiniteNumber */function(t,e,i){"use strict";i.r(e),i.d(e,"isFiniteNumber",(function(){return r}));var r=Number.isFinite||function(t){return"number"===typeof t&&isFinite(t)}},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! exports provided: getSelfScope */function(t,e,i){"use strict";function r(){return"undefined"===typeof window?self:window}i.r(e),i.d(e,"getSelfScope",(function(){return r}))},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! exports provided: enableLogs, logger */function(t,e,i){"use strict";i.r(e),i.d(e,"enableLogs",(function(){return l})),i.d(e,"logger",(function(){return f}));var r=i(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function n(){}var o={trace:n,debug:n,log:n,warn:n,info:n,error:n},a=o;function s(t,e){return e="["+t+"] > "+e,e}var h=Object(r["getSelfScope"])();function c(t){var e=h.console[t];return e?function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];r[0]&&(r[0]=s(t,r[0])),e.apply(h.console,r)}:n}function u(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];i.forEach((function(e){a[e]=t[e]?t[e].bind(t):c(e)}))}var l=function(t){if(h.console&&!0===t||"object"===typeof t){u(t,"debug","log","info","warn","error");try{a.log()}catch(e){a=o}}else a=o},f=a}})["default"]}))},"3a56":function(t,e,i){"use strict";var r=i("0d63"),n=i("a743")(!1);r(r.P,"String",{codePointAt:function(t){return n(this,t)}})},"3a81":function(t,e,i){var r=i("cdf9"),n=i("bded").onFreeze;i("6397")("freeze",(function(t){return function(e){return t&&r(e)?t(n(e)):e}}))},"3a89":function(t,e,i){"use strict";var r=i("12c1");i("0d63")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},"3aa6":function(t,e,i){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,i,r=1,n=arguments.length;r<n;r++)for(i in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}}},"3ade":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"3b19":function(t,e,i){i("905f"),t.exports=i("a06f").Object.values},"3b32":function(t,e,i){"use strict";i.r(e),i.d(e,"EsriJSON",(function(){return Y})),i.d(e,"GeoJSON",(function(){return yt})),i.d(e,"GML",(function(){return pe})),i.d(e,"GPX",(function(){return ri})),i.d(e,"IGC",(function(){return bi})),i.d(e,"KML",(function(){return ro})),i.d(e,"MVT",(function(){return vo})),i.d(e,"OWS",(function(){return $o})),i.d(e,"Polyline",(function(){return la})),i.d(e,"TopoJSON",(function(){return Ta})),i.d(e,"WFS",(function(){return Ms})),i.d(e,"WKT",(function(){return Qs})),i.d(e,"WMSCapabilities",(function(){return Uh})),i.d(e,"WMSGetFeatureInfo",(function(){return Hh})),i.d(e,"WMTSCapabilities",(function(){return _c}));var r=i("a045"),n=i("41ec"),o=i("3d22"),a=i("acdf"),s=i("fd21"),h=i("5f62"),c=function(){this.dataProjection=null,this.defaultFeatureProjection=null};c.prototype.getReadOptions=function(t,e){var i;return e&&(i={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(i)},c.prototype.adaptOptions=function(t){return Object(a["a"])({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},c.prototype.getLastExtent=function(){return null},c.prototype.getType=function(){return Object(s["b"])()},c.prototype.readFeature=function(t,e){return Object(s["b"])()},c.prototype.readFeatures=function(t,e){return Object(s["b"])()},c.prototype.readGeometry=function(t,e){return Object(s["b"])()},c.prototype.readProjection=function(t){return Object(s["b"])()},c.prototype.writeFeature=function(t,e){return Object(s["b"])()},c.prototype.writeFeatures=function(t,e){return Object(s["b"])()},c.prototype.writeGeometry=function(t,e){return Object(s["b"])()};var u=c;function l(t,e,i){var r,n=i?Object(h["get"])(i.featureProjection):null,o=i?Object(h["get"])(i.dataProjection):null;if(r=n&&o&&!Object(h["equivalent"])(n,o)?Array.isArray(t)?Object(h["transformExtent"])(t,o,n):(e?t.clone():t).transform(e?n:o,e?o:n):t,e&&i&&void 0!==i.decimals&&!Array.isArray(r)){var a=Math.pow(10,i.decimals),s=function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*a)/a;return t};r===t&&(r=t.clone()),r.applyTransform(s)}return r}var f=i("79ff0"),d=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return f["a"].JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(p(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(p(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(s["b"])()},e.prototype.readFeaturesFromObject=function(t,e){return Object(s["b"])()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(p(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(s["b"])()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(p(t))},e.prototype.readProjectionFromObject=function(t){return Object(s["b"])()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(s["b"])()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(s["b"])()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(s["b"])()},e}(u);function p(t){if("string"===typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var g=d,v=i("34f5"),y=i("cc7a"),m=i("8d45"),_=i("73ed"),b=i("f920"),w=i("d5b7"),x=i("5317"),S=i("9eff"),E=i("c484"),O=i("d5d0"),T=i("ae89"),C={};C[y["default"].POINT]=I,C[y["default"].LINE_STRING]=P,C[y["default"].POLYGON]=D,C[y["default"].MULTI_POINT]=k,C[y["default"].MULTI_LINE_STRING]=N,C[y["default"].MULTI_POLYGON]=j;var A={};A[y["default"].POINT]=G,A[y["default"].LINE_STRING]=U,A[y["default"].POLYGON]=z,A[y["default"].MULTI_POINT]=V,A[y["default"].MULTI_LINE_STRING]=q,A[y["default"].MULTI_POLYGON]=H;var L=function(t){function e(e){var i=e||{};t.call(this),this.geometryName_=i.geometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var i=t,n=R(i.geometry,e),o=new r["default"];return this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(n),e&&e.idField&&i.attributes[e.idField]&&o.setId(i.attributes[e.idField]),i.attributes&&o.setProperties(i.attributes),o},e.prototype.readFeaturesFromObject=function(t,e){var i=e||{};if(t["features"]){var r=t,n=[],o=r.features;i.idField=t.objectIdFieldName;for(var a=0,s=o.length;a<s;++a)n.push(this.readFeatureFromObject(o[a],i));return n}return[this.readFeatureFromObject(t,i)]},e.prototype.readGeometryFromObject=function(t,e){return R(t,e)},e.prototype.readProjectionFromObject=function(t){if(t["spatialReference"]&&void 0!==t["spatialReference"]["wkid"]){var e=t["spatialReference"],i=e.wkid;return Object(h["get"])("EPSG:"+i)}return null},e.prototype.writeGeometryObject=function(t,e){return W(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={},r=t.getGeometry();r&&(i["geometry"]=W(r,e),e&&e.featureProjection&&(i["geometry"]["spatialReference"]={wkid:Number(Object(h["get"])(e.featureProjection).getCode().split(":").pop())}));var n=t.getProperties();return delete n[t.getGeometryName()],Object(a["d"])(n)?i["attributes"]={}:i["attributes"]=n,i},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],r=0,n=t.length;r<n;++r)i.push(this.writeFeatureObject(t[r],e));return{features:i}},e}(g);function R(t,e){if(!t)return null;var i;if("number"===typeof t["x"]&&"number"===typeof t["y"])i=y["default"].POINT;else if(t["points"])i=y["default"].MULTI_POINT;else if(t["paths"]){var r=t;i=1===r.paths.length?y["default"].LINE_STRING:y["default"].MULTI_LINE_STRING}else if(t["rings"]){var n=t,o=F(n),a=M(n.rings,o);1===a.length?(i=y["default"].POLYGON,t["rings"]=a[0]):(i=y["default"].MULTI_POLYGON,t["rings"]=a)}var s=C[i];return l(s(t),!1,e)}function M(t,e){var i,r,n=[],a=[],s=[];for(i=0,r=t.length;i<r;++i){n.length=0,Object(O["b"])(n,0,t[i],e.length);var h=Object(T["a"])(n,0,n.length,e.length);h?a.push([t[i]]):s.push(t[i])}while(s.length){var c=s.shift(),u=!1;for(i=a.length-1;i>=0;i--){var l=a[i][0],f=Object(o["containsExtent"])(new _["a"](l).getExtent(),new _["a"](c).getExtent());if(f){a[i].push(c),u=!0;break}}u||a.push([c.reverse()])}return a}function I(t){var e;return e=void 0!==t.m&&void 0!==t.z?new S["a"]([t.x,t.y,t.z,t.m],v["a"].XYZM):void 0!==t.z?new S["a"]([t.x,t.y,t.z],v["a"].XYZ):void 0!==t.m?new S["a"]([t.x,t.y,t.m],v["a"].XYM):new S["a"]([t.x,t.y]),e}function P(t){var e=F(t);return new m["a"](t.paths[0],e)}function N(t){var e=F(t);return new b["a"](t.paths,e)}function F(t){var e=v["a"].XY;return!0===t.hasZ&&!0===t.hasM?e=v["a"].XYZM:!0===t.hasZ?e=v["a"].XYZ:!0===t.hasM&&(e=v["a"].XYM),e}function k(t){var e=F(t);return new w["a"](t.points,e)}function j(t){var e=F(t);return new x["a"](t.rings,e)}function D(t){var e=F(t);return new E["default"](t.rings,e)}function G(t,e){var i,r=t.getCoordinates(),o=t.getLayout();return o===v["a"].XYZ?i={x:r[0],y:r[1],z:r[2]}:o===v["a"].XYM?i={x:r[0],y:r[1],m:r[2]}:o===v["a"].XYZM?i={x:r[0],y:r[1],z:r[2],m:r[3]}:o===v["a"].XY?i={x:r[0],y:r[1]}:Object(n["a"])(!1,34),i}function B(t){var e=t.getLayout();return{hasZ:e===v["a"].XYZ||e===v["a"].XYZM,hasM:e===v["a"].XYM||e===v["a"].XYZM}}function U(t,e){var i=t,r=B(i);return{hasZ:r.hasZ,hasM:r.hasM,paths:[i.getCoordinates()]}}function z(t,e){var i=t,r=B(i);return{hasZ:r.hasZ,hasM:r.hasM,rings:i.getCoordinates(!1)}}function q(t,e){var i=t,r=B(i);return{hasZ:r.hasZ,hasM:r.hasM,paths:i.getCoordinates()}}function V(t,e){var i=t,r=B(i);return{hasZ:r.hasZ,hasM:r.hasM,points:i.getCoordinates()}}function H(t,e){for(var i=B(t),r=t.getCoordinates(!1),n=[],o=0;o<r.length;o++)for(var a=r[o].length-1;a>=0;a--)n.push(r[o][a]);return{hasZ:i.hasZ,hasM:i.hasM,rings:n}}function W(t,e){var i=A[t.getType()];return i(l(t,!0,e),e)}var Y=L,K=i("a273"),X=i("eee0"),Z=i("457a"),$=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(K["unlisten"])(this.geometries_[t],X["default"].CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(K["listen"])(this.geometries_[t],X["default"].CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,i,r){if(r<Object(o["closestSquaredDistanceXY"])(this.getExtent(),t,e))return r;for(var n=this.geometries_,a=0,s=n.length;a<s;++a)r=n[a].closestPointXY(t,e,i,r);return r},e.prototype.containsXY=function(t,e){for(var i=this.geometries_,r=0,n=i.length;r<n;++r)if(i[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(o["createOrUpdateEmpty"])(t);for(var e=this.geometries_,i=0,r=e.length;i<r;++i)Object(o["extend"])(t,e[i].getExtent());return t},e.prototype.getGeometries=function(){return J(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(a["b"])(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var i=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(i))return this.simplifiedGeometryCache[i];for(var r=[],n=this.geometries_,o=!1,s=0,h=n.length;s<h;++s){var c=n[s],u=c.getSimplifiedGeometry(t);r.push(u),u!==c&&(o=!0)}if(o){var l=new e(null);return l.setGeometriesArray(r),this.simplifiedGeometryCache[i]=l,l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return y["default"].GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,r=e.length;i<r;++i)if(e[i].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var i=this.geometries_,r=0,n=i.length;r<n;++r)i[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,i){var r=i;r||(r=Object(o["getCenter"])(this.getExtent()));for(var n=this.geometries_,a=0,s=n.length;a<s;++a)n[a].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(J(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,r=e.length;i<r;++i)e[i].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var i=this.geometries_,r=0,n=i.length;r<n;++r)i[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(Z["a"]);function J(t){for(var e=[],i=0,r=t.length;i<r;++i)e.push(t[i].clone());return e}var Q=$,tt=function(t){function e(e){var i=e||{};t.call(this),this.dataProjection=Object(h["get"])(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(this.defaultFeatureProjection=Object(h["get"])(i.featureProjection)),this.geometryName_=i.geometryName,this.extractGeometryName_=i.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var i=null;i="Feature"===t["type"]?t:{type:"Feature",geometry:t,properties:null};var n=et(i["geometry"],e),o=new r["default"];return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&o.setGeometryName(i["geometry_name"]),o.setGeometry(n),"id"in i&&o.setId(i["id"]),i["properties"]&&o.setProperties(i["properties"]),o},e.prototype.readFeaturesFromObject=function(t,e){var i=t,r=null;if("FeatureCollection"===i["type"]){var n=t;r=[];for(var o=n["features"],a=0,s=o.length;a<s;++a)r.push(this.readFeatureFromObject(o[a],e))}else r=[this.readFeatureFromObject(t,e)];return r},e.prototype.readGeometryFromObject=function(t,e){return et(t,e)},e.prototype.readProjectionFromObject=function(t){var e,i=t["crs"];return i?"name"==i["type"]?e=Object(h["get"])(i["properties"]["name"]):Object(n["a"])(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},r=t.getId();void 0!==r&&(i.id=r);var n=t.getGeometry();n&&(i.geometry=ct(n,e));var o=t.getProperties();return delete o[t.getGeometryName()],Object(a["d"])(o)||(i.properties=o),i},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],r=0,n=t.length;r<n;++r)i.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,e){return ct(t,this.adaptOptions(e))},e}(g);function et(t,e){if(!t)return null;var i;switch(t["type"]){case y["default"].POINT:i=rt(t);break;case y["default"].LINE_STRING:i=nt(t);break;case y["default"].POLYGON:i=ht(t);break;case y["default"].MULTI_POINT:i=at(t);break;case y["default"].MULTI_LINE_STRING:i=ot(t);break;case y["default"].MULTI_POLYGON:i=st(t);break;case y["default"].GEOMETRY_COLLECTION:i=it(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return l(i,!1,e)}function it(t,e){var i=t["geometries"].map((function(t){return et(t,e)}));return new Q(i)}function rt(t){return new S["a"](t["coordinates"])}function nt(t){return new m["a"](t["coordinates"])}function ot(t){return new b["a"](t["coordinates"])}function at(t){return new w["a"](t["coordinates"])}function st(t){return new x["a"](t["coordinates"])}function ht(t){return new E["default"](t["coordinates"])}function ct(t,e){t=l(t,!0,e);var i,r=t.getType();switch(r){case y["default"].POINT:i=gt(t,e);break;case y["default"].LINE_STRING:i=lt(t,e);break;case y["default"].POLYGON:i=vt(t,e);break;case y["default"].MULTI_POINT:i=dt(t,e);break;case y["default"].MULTI_LINE_STRING:i=ft(t,e);break;case y["default"].MULTI_POLYGON:i=pt(t,e);break;case y["default"].GEOMETRY_COLLECTION:i=ut(t,e);break;case y["default"].CIRCLE:i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return i}function ut(t,e){var i=t.getGeometriesArray().map((function(t){var i=Object(a["a"])({},e);return delete i.featureProjection,ct(t,i)}));return{type:"GeometryCollection",geometries:i}}function lt(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function ft(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function dt(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function pt(t,e){var i;return e&&(i=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(i)}}function gt(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function vt(t,e){var i;return e&&(i=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(i)}}var yt=tt,mt=i("6646"),_t=document.implementation.createDocument("","",null),bt="http://www.w3.org/2001/XMLSchema-instance";function wt(t,e){return _t.createElementNS(t,e)}function xt(t,e){return St(t,e,[]).join("")}function St(t,e,i){var r;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(r=t.firstChild;r;r=r.nextSibling)St(r,e,i);return i}function Et(t){return"documentElement"in t}function Ot(t,e,i){return t.getAttributeNS(e,i)||""}function Tt(t){return(new DOMParser).parseFromString(t,"application/xml")}function Ct(t,e){return function(i,r){var n=t.call(void 0!==e?e:this,i,r);if(void 0!==n){var o=r[r.length-1];Object(mt["c"])(o,n)}}}function At(t,e){return function(i,r){var n=t.call(void 0!==e?e:this,i,r);if(void 0!==n){var o=r[r.length-1];o.push(n)}}}function Lt(t,e){return function(i,r){var n=t.call(void 0!==e?e:this,i,r);void 0!==n&&(r[r.length-1]=n)}}function Rt(t,e,i){return function(r,n){var o=t.call(void 0!==i?i:this,r,n);if(void 0!==o){var a,s=n[n.length-1],h=void 0!==e?e:r.localName;a=h in s?s[h]:s[h]=[],a.push(o)}}}function Mt(t,e,i){return function(r,n){var o=t.call(void 0!==i?i:this,r,n);if(void 0!==o){var a=n[n.length-1],s=void 0!==e?e:r.localName;a[s]=o}}}function It(t,e){return function(i,r,n){t.call(void 0!==e?e:this,i,r,n);var o=n[n.length-1],a=o.node;a.appendChild(i)}}function Pt(t,e){var i,r;return function(e,n,o){if(void 0===i){i={};var a={};a[e.localName]=t,i[e.namespaceURI]=a,r=Nt(e.localName)}Bt(i,r,n,o)}}function Nt(t,e){var i=t;return function(t,r,n){var o=r[r.length-1],a=o.node,s=i;void 0===s&&(s=n);var h=void 0!==e?e:a.namespaceURI;return wt(h,s)}}var Ft=Nt();function kt(t,e){for(var i=e.length,r=new Array(i),n=0;n<i;++n)r[n]=t[e[n]];return r}function jt(t,e,i){var r,n,o=void 0!==i?i:{};for(r=0,n=t.length;r<n;++r)o[t[r]]=e;return o}function Dt(t,e,i,r){var n;for(n=e.firstElementChild;n;n=n.nextElementSibling){var o=t[n.namespaceURI];if(void 0!==o){var a=o[n.localName];void 0!==a&&a.call(r,n,i)}}}function Gt(t,e,i,r,n){return r.push(t),Dt(e,i,r,n),r.pop()}function Bt(t,e,i,r,n,o){for(var a,s,h=(void 0!==n?n:i).length,c=0;c<h;++c)a=i[c],void 0!==a&&(s=e.call(void 0!==o?o:this,a,r,void 0!==n?n[c]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(o,s,a,r))}function Ut(t,e,i,r,n,o,a){return n.push(t),Bt(e,i,r,n,o,a),n.pop()}var zt=function(t){function e(){t.call(this),this.xmlSerializer_=new XMLSerializer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return f["a"].XML},e.prototype.readFeature=function(t,e){if(t){if("string"===typeof t){var i=Tt(t);return this.readFeatureFromDocument(i,e)}return Et(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"===typeof t){var i=Tt(t);return this.readFeaturesFromDocument(i,e)}return Et(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var i=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(mt["c"])(i,this.readFeaturesFromNode(r,e));return i},e.prototype.readFeaturesFromNode=function(t,e){return Object(s["b"])()},e.prototype.readGeometry=function(t,e){if(t){if("string"===typeof t){var i=Tt(t);return this.readGeometryFromDocument(i,e)}return Et(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"===typeof t){var e=Tt(t);return this.readProjectionFromDocument(e)}return Et(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)},e.prototype.writeGeometryNode=function(t,e){return null},e}(u),qt=zt,Vt="http://www.opengis.net/gml",Ht=/^[\s\xa0]*$/,Wt=function(t){function e(e){t.call(this);var i=e||{};this.featureType=i.featureType,this.featureNS=i.featureNS,this.srsName=i.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:At(this.readFeaturesInternal),featureMembers:Lt(this.readFeaturesInternal)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeaturesInternal=function(t,e){var i=t.localName,r=null;if("FeatureCollection"==i)r=Gt([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==i||"featureMember"==i){var n=e[0],o=n["featureType"],a=n["featureNS"],s="p",h="p0";if(!o&&t.childNodes){o=[],a={};for(var c=0,u=t.childNodes.length;c<u;++c){var l=t.childNodes[c];if(1===l.nodeType){var f=l.nodeName.split(":").pop();if(-1===o.indexOf(f)){var d="",p=0,g=l.namespaceURI;for(var v in a){if(a[v]===g){d=v;break}++p}d||(d=s+p,a[d]=g),o.push(d+":"+f)}}}"featureMember"!=i&&(n["featureType"]=o,n["featureNS"]=a)}if("string"===typeof a){var y=a;a={},a[h]=y}var m={},_=Array.isArray(o)?o:[o];for(var b in a){for(var w={},x=0,S=_.length;x<S;++x){var E=-1===_[x].indexOf(":")?h:_[x].split(":")[0];E===b&&(w[_[x].split(":").pop()]="featureMembers"==i?At(this.readFeatureElement,this):Lt(this.readFeatureElement,this))}m[a[b]]=w}r=Gt("featureMember"==i?void 0:[],m,t,e)}return null===r&&(r=[]),r},e.prototype.readGeometryElement=function(t,e){var i=e[0];i["srsName"]=t.firstElementChild.getAttribute("srsName"),i["srsDimension"]=t.firstElementChild.getAttribute("srsDimension");var r=Gt(null,this.GEOMETRY_PARSERS,t,e,this);return r?l(r,!1,i):void 0},e.prototype.readFeatureElementInternal=function(t,e,i){for(var n,o={},a=t.firstElementChild;a;a=a.nextElementSibling){var s=void 0,h=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=xt(a,!1),Ht.test(s)&&(s=void 0)):(i&&(s=this.readGeometryElement(a,e)),s?"boundedBy"!==h&&(n=h):s=this.readFeatureElementInternal(a,e,!1)),o[h]?(o[h]instanceof Array||(o[h]=[o[h]]),o[h].push(s)):o[h]=s;var c=a.attributes.length;if(c>0){o[h]={_content_:o[h]};for(var u=0;u<c;u++){var l=a.attributes[u].name;o[h][l]=a.attributes[u].value}}}if(i){var f=new r["default"](o);n&&f.setGeometryName(n);var d=t.getAttribute("fid")||Ot(t,this.namespace,"id");return d&&f.setId(d),f}return o},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i)return new S["a"](i,v["a"].XYZ)},e.prototype.readMultiPoint=function(t,e){var i=Gt([],this.MULTIPOINT_PARSERS_,t,e,this);return i?new w["a"](i):void 0},e.prototype.readMultiLineString=function(t,e){var i=Gt([],this.MULTILINESTRING_PARSERS_,t,e,this);if(i)return new b["a"](i)},e.prototype.readMultiPolygon=function(t,e){var i=Gt([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(i)return new x["a"](i)},e.prototype.pointMemberParser_=function(t,e){Dt(this.POINTMEMBER_PARSERS_,t,e,this)},e.prototype.lineStringMemberParser_=function(t,e){Dt(this.LINESTRINGMEMBER_PARSERS_,t,e,this)},e.prototype.polygonMemberParser_=function(t,e){Dt(this.POLYGONMEMBER_PARSERS_,t,e,this)},e.prototype.readLineString=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i){var r=new m["a"](i,v["a"].XYZ);return r}},e.prototype.readFlatLinearRing_=function(t,e){var i=Gt(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return i||void 0},e.prototype.readLinearRing=function(t,e){var i=this.readFlatCoordinatesFromNode_(t,e);if(i)return new _["a"](i,v["a"].XYZ)},e.prototype.readPolygon=function(t,e){var i=Gt([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(i&&i[0]){var r,n,o=i[0],a=[o.length];for(r=1,n=i.length;r<n;++r)Object(mt["c"])(o,i[r]),a.push(o.length);return new E["default"](o,v["a"].XYZ,a)}},e.prototype.readFlatCoordinatesFromNode_=function(t,e){return Gt(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var i=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return i||null},e.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};e&&Object(a["a"])(i,this.getReadOptions(t,e));var r=this.readFeaturesInternal(t,[i]);return r||[]},e.prototype.readProjectionFromNode=function(t){return Object(h["get"])(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(qt);Wt.prototype.namespace=Vt,Wt.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},Wt.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},Wt.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},Wt.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:At(Wt.prototype.pointMemberParser_),pointMembers:At(Wt.prototype.pointMemberParser_)}},Wt.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:At(Wt.prototype.lineStringMemberParser_),lineStringMembers:At(Wt.prototype.lineStringMemberParser_)}},Wt.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:At(Wt.prototype.polygonMemberParser_),polygonMembers:At(Wt.prototype.polygonMemberParser_)}},Wt.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:At(Wt.prototype.readFlatCoordinatesFromNode_)}},Wt.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:At(Wt.prototype.readLineString)}},Wt.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:At(Wt.prototype.readPolygon)}},Wt.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Lt(Wt.prototype.readFlatLinearRing_)}};var Yt=Wt,Kt=i("7d23");function Xt(t){var e=xt(t,!1);return Zt(e)}function Zt(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function $t(t){var e=xt(t,!1),i=Date.parse(e);return isNaN(i)?void 0:i/1e3}function Jt(t){var e=xt(t,!1);return Qt(e)}function Qt(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function te(t){var e=xt(t,!1);return ee(e)}function ee(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function ie(t){return xt(t,!1).trim()}function re(t,e){he(t,e?"1":"0")}function ne(t,e){t.appendChild(_t.createCDATASection(e))}function oe(t,e){var i=new Date(1e3*e),r=i.getUTCFullYear()+"-"+Object(Kt["b"])(i.getUTCMonth()+1,2)+"-"+Object(Kt["b"])(i.getUTCDate(),2)+"T"+Object(Kt["b"])(i.getUTCHours(),2)+":"+Object(Kt["b"])(i.getUTCMinutes(),2)+":"+Object(Kt["b"])(i.getUTCSeconds(),2)+"Z";t.appendChild(_t.createTextNode(r))}function ae(t,e){var i=e.toPrecision();t.appendChild(_t.createTextNode(i))}function se(t,e){var i=e.toString();t.appendChild(_t.createTextNode(i))}function he(t,e){t.appendChild(_t.createTextNode(e))}var ce=Vt+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",ue={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},le=function(t){function e(e){var i=e||{};t.call(this,i),this.surface_=void 0!==i.surface&&i.surface,this.curve_=void 0!==i.curve&&i.curve,this.multiCurve_=void 0===i.multiCurve||i.multiCurve,this.multiSurface_=void 0===i.multiSurface||i.multiSurface,this.schemaLocation=i.schemaLocation?i.schemaLocation:ce,this.hasZ=void 0!==i.hasZ&&i.hasZ}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readMultiCurve_=function(t,e){var i=Gt([],this.MULTICURVE_PARSERS_,t,e,this);if(i){var r=new b["a"](i);return r}},e.prototype.readMultiSurface_=function(t,e){var i=Gt([],this.MULTISURFACE_PARSERS_,t,e,this);if(i)return new x["a"](i)},e.prototype.curveMemberParser_=function(t,e){Dt(this.CURVEMEMBER_PARSERS_,t,e,this)},e.prototype.surfaceMemberParser_=function(t,e){Dt(this.SURFACEMEMBER_PARSERS_,t,e,this)},e.prototype.readPatch_=function(t,e){return Gt([null],this.PATCHES_PARSERS_,t,e,this)},e.prototype.readSegment_=function(t,e){return Gt([null],this.SEGMENTS_PARSERS_,t,e,this)},e.prototype.readPolygonPatch_=function(t,e){return Gt([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment_=function(t,e){return Gt([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser_=function(t,e){var i=Gt(void 0,this.RING_PARSERS,t,e,this);if(i){var r=e[e.length-1];r.push(i)}},e.prototype.exteriorParser_=function(t,e){var i=Gt(void 0,this.RING_PARSERS,t,e,this);if(i){var r=e[e.length-1];r[0]=i}},e.prototype.readSurface_=function(t,e){var i=Gt([null],this.SURFACE_PARSERS_,t,e,this);if(i&&i[0]){var r,n,o=i[0],a=[o.length];for(r=1,n=i.length;r<n;++r)Object(mt["c"])(o,i[r]),a.push(o.length);return new E["default"](o,v["a"].XYZ,a)}},e.prototype.readCurve_=function(t,e){var i=Gt([null],this.CURVE_PARSERS_,t,e,this);if(i){var r=new m["a"](i,v["a"].XYZ);return r}},e.prototype.readEnvelope_=function(t,e){var i=Gt([null],this.ENVELOPE_PARSERS_,t,e,this);return Object(o["createOrUpdate"])(i[1][0],i[1][1],i[2][0],i[2][1])},e.prototype.readFlatPos_=function(t,e){var i,r=xt(t,!1),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];while(i=n.exec(r))o.push(parseFloat(i[1])),r=r.substr(i[0].length);if(""===r){var a,s,c=e[0],u=c["srsName"],l="enu";if(u){var f=Object(h["get"])(u);l=f.getAxisOrientation()}if("neu"===l)for(a=0,s=o.length;a<s;a+=3){var d=o[a],p=o[a+1];o[a]=p,o[a+1]=d}var g=o.length;if(2==g&&o.push(0),0!==g)return o}},e.prototype.readFlatPosList_=function(t,e){var i=xt(t,!1).replace(/^\s*|\s*$/g,""),r=e[0],n=r["srsName"],o=r["srsDimension"],a="enu";if(n){var s=Object(h["get"])(n);a=s.getAxisOrientation()}var c,u,l,f=i.split(/\s+/),d=2;t.getAttribute("srsDimension")?d=ee(t.getAttribute("srsDimension")):t.getAttribute("dimension")?d=ee(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?d=ee(t.parentNode.getAttribute("srsDimension")):o&&(d=ee(o));for(var p=[],g=0,v=f.length;g<v;g+=d)c=parseFloat(f[g]),u=parseFloat(f[g+1]),l=3===d?parseFloat(f[g+2]):0,"en"===a.substr(0,2)?p.push(c,u,l):p.push(u,c,l);return p},e.prototype.writePos_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=n?"3":"2";t.setAttribute("srsDimension",o);var a=r["srsName"],s="enu";a&&(s=Object(h["get"])(a).getAxisOrientation());var c,u=e.getCoordinates();if(c="en"===s.substr(0,2)?u[0]+" "+u[1]:u[1]+" "+u[0],n){var l=u[2]||0;c+=" "+l}he(t,c)},e.prototype.getCoords_=function(t,e,i){var r="enu";e&&(r=Object(h["get"])(e).getAxisOrientation());var n="en"===r.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];if(i){var o=t[2]||0;n+=" "+o}return n},e.prototype.writePosList_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=n?"3":"2";t.setAttribute("srsDimension",o);for(var a,s=r["srsName"],h=e.getCoordinates(),c=h.length,u=new Array(c),l=0;l<c;++l)a=h[l],u[l]=this.getCoords_(a,s,n);he(t,u.join(" "))},e.prototype.writePoint_=function(t,e,i){var r=i[i.length-1],n=r["srsName"];n&&t.setAttribute("srsName",n);var o=wt(t.namespaceURI,"pos");t.appendChild(o),this.writePos_(o,e,i)},e.prototype.writeEnvelope=function(t,e,i){var r=i[i.length-1],n=r["srsName"];n&&t.setAttribute("srsName",n);var o=["lowerCorner","upperCorner"],a=[e[0]+" "+e[1],e[2]+" "+e[3]];Ut({node:t},this.ENVELOPE_SERIALIZERS_,Ft,a,i,o,this)},e.prototype.writeLinearRing_=function(t,e,i){var r=i[i.length-1],n=r["srsName"];n&&t.setAttribute("srsName",n);var o=wt(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,i)},e.prototype.RING_NODE_FACTORY_=function(t,e,i){var r=e[e.length-1],n=r.node,o=r["exteriorWritten"];return void 0===o&&(r["exteriorWritten"]=!0),wt(n.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"];if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();Ut({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,i,void 0,this)}else if("Surface"===t.nodeName){var s=wt(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,i)}},e.prototype.writeCurveOrLineString_=function(t,e,i){var r=i[i.length-1],n=r["srsName"];if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=wt(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,i)}else if("Curve"===t.nodeName){var a=wt(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,i)}},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"],a=r["surface"];o&&t.setAttribute("srsName",o);var s=e.getPolygons();Ut({node:t,hasZ:n,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},e.prototype.writeMultiPoint_=function(t,e,i){var r=i[i.length-1],n=r["srsName"],o=r["hasZ"];n&&t.setAttribute("srsName",n);var a=e.getPoints();Ut({node:t,hasZ:o,srsName:n},this.POINTMEMBER_SERIALIZERS_,Nt("pointMember"),a,i,void 0,this)},e.prototype.writeMultiCurveOrLineString_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"],a=r["curve"];o&&t.setAttribute("srsName",o);var s=e.getLineStrings();Ut({node:t,hasZ:n,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},e.prototype.writeRing_=function(t,e,i){var r=wt(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing_(r,e,i)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,i){var r=this.GEOMETRY_NODE_FACTORY_(e,i);r&&(t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,i))},e.prototype.writePointMember_=function(t,e,i){var r=wt(t.namespaceURI,"Point");t.appendChild(r),this.writePoint_(r,e,i)},e.prototype.writeLineStringOrCurveMember_=function(t,e,i){var r=this.GEOMETRY_NODE_FACTORY_(e,i);r&&(t.appendChild(r),this.writeCurveOrLineString_(r,e,i))},e.prototype.writeSurfacePatches_=function(t,e,i){var r=wt(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,i)},e.prototype.writeCurveSegments_=function(t,e,i){var r=wt(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString_(r,e,i)},e.prototype.writeGeometryElement=function(t,e,i){var r,n=i[i.length-1],o=Object(a["a"])({},n);o["node"]=t,r=Array.isArray(e)?n.dataProjection?Object(h["transformExtent"])(e,n.featureProjection,n.dataProjection):e:l(e,!0,n),Ut(o,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[r],i,void 0,this)},e.prototype.writeFeatureElement=function(t,e,i){var r=e.getId();r&&t.setAttribute("fid",r);var n=i[i.length-1],o=n["featureNS"],s=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var h=e.getProperties(),c=[],u=[];for(var l in h){var f=h[l];null!==f&&(c.push(l),u.push(f),l==s||"function"===typeof f.getSimplifiedGeometry?l in n.serializers[o]||(n.serializers[o][l]=It(this.writeGeometryElement,this)):l in n.serializers[o]||(n.serializers[o][l]=It(he)))}var d=Object(a["a"])({},n);d.node=t,Ut(d,n.serializers,Nt(void 0,o),u,i,c)},e.prototype.writeFeatureMembers_=function(t,e,i){var r=i[i.length-1],n=r["featureType"],o=r["featureNS"],s={};s[o]={},s[o][n]=It(this.writeFeatureElement,this);var h=Object(a["a"])({},r);h.node=t,Ut(h,s,Nt(n,o),e,i)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var r=e[e.length-1].node;return wt(this.namespace,ue[r.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var r,n=e[e.length-1],o=n["multiSurface"],a=n["surface"],s=n["curve"],h=n["multiCurve"];return Array.isArray(t)?r="Envelope":(r=t.getType(),"MultiPolygon"===r&&!0===o?r="MultiSurface":"Polygon"===r&&!0===a?r="Surface":"LineString"===r&&!0===s?r="Curve":"MultiLineString"===r&&!0===h&&(r="MultiCurve")),wt(this.namespace,r)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var i=wt(this.namespace,"geom"),r={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(a["a"])(r,e),this.writeGeometryElement(i,t,[r]),i},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=wt(this.namespace,"featureMembers");i.setAttributeNS(bt,"xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(a["a"])(r,e),this.writeFeatureMembers_(i,t,[r]),i},e}(Yt);le.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Lt(le.prototype.readFlatPos_),posList:Lt(le.prototype.readFlatPosList_)}},le.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:le.prototype.interiorParser_,exterior:le.prototype.exteriorParser_}},le.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Lt(Yt.prototype.readPoint),MultiPoint:Lt(Yt.prototype.readMultiPoint),LineString:Lt(Yt.prototype.readLineString),MultiLineString:Lt(Yt.prototype.readMultiLineString),LinearRing:Lt(Yt.prototype.readLinearRing),Polygon:Lt(Yt.prototype.readPolygon),MultiPolygon:Lt(Yt.prototype.readMultiPolygon),Surface:Lt(le.prototype.readSurface_),MultiSurface:Lt(le.prototype.readMultiSurface_),Curve:Lt(le.prototype.readCurve_),MultiCurve:Lt(le.prototype.readMultiCurve_),Envelope:Lt(le.prototype.readEnvelope_)}},le.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:At(le.prototype.curveMemberParser_),curveMembers:At(le.prototype.curveMemberParser_)}},le.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:At(le.prototype.surfaceMemberParser_),surfaceMembers:At(le.prototype.surfaceMemberParser_)}},le.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:At(Yt.prototype.readLineString),Curve:At(le.prototype.readCurve_)}},le.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:At(Yt.prototype.readPolygon),Surface:At(le.prototype.readSurface_)}},le.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Lt(le.prototype.readPatch_)}},le.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Lt(le.prototype.readSegment_)}},le.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:At(le.prototype.readFlatPosList_),upperCorner:At(le.prototype.readFlatPosList_)}},le.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Lt(le.prototype.readPolygonPatch_)}},le.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Lt(le.prototype.readLineStringSegment_)}},le.prototype.writeFeatures,le.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:It(le.prototype.writeRing_),interior:It(le.prototype.writeRing_)}},le.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:It(he),upperCorner:It(he)}},le.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:It(le.prototype.writeSurfaceOrPolygonMember_),polygonMember:It(le.prototype.writeSurfaceOrPolygonMember_)}},le.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:It(le.prototype.writePointMember_)}},le.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:It(le.prototype.writeLineStringOrCurveMember_),curveMember:It(le.prototype.writeLineStringOrCurveMember_)}},le.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:It(le.prototype.writeCurveOrLineString_),MultiCurve:It(le.prototype.writeMultiCurveOrLineString_),Point:It(le.prototype.writePoint_),MultiPoint:It(le.prototype.writeMultiPoint_),LineString:It(le.prototype.writeCurveOrLineString_),MultiLineString:It(le.prototype.writeMultiCurveOrLineString_),LinearRing:It(le.prototype.writeLinearRing_),Polygon:It(le.prototype.writeSurfaceOrPolygon_),MultiPolygon:It(le.prototype.writeMultiSurfaceOrPolygon_),Surface:It(le.prototype.writeSurfaceOrPolygon_),MultiSurface:It(le.prototype.writeMultiSurfaceOrPolygon_),Envelope:It(le.prototype.writeEnvelope)}};var fe=le,de=fe;de.prototype.writeFeatures,de.prototype.writeFeaturesNode;var pe=de,ge=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],ve="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",ye={rte:Ke,trk:Xe,wpt:Ze},me=jt(ge,{rte:At(Ke),trk:At(Xe),wpt:At(Ze)}),_e=jt(ge,{text:Mt(ie,"linkText"),type:Mt(ie,"linkType")}),be=jt(ge,{rte:It(Qe),trk:It(ti),wpt:It(ii)}),we=function(t){function e(e){t.call(this);var i=e||{};this.dataProjection=Object(h["get"])("EPSG:4326"),this.readExtensions_=i.readExtensions}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,i=t.length;e<i;++e){var r=t[e];if(this.readExtensions_){var n=r.get("extensionsNode_")||null;this.readExtensions_(r,n)}r.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(mt["f"])(ge,t.namespaceURI))return null;var i=ye[t.localName];if(!i)return null;var r=i(t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_([r]),r):null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(mt["f"])(ge,t.namespaceURI))return[];if("gpx"==t.localName){var i=Gt([],me,t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_(i),i):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=wt("http://www.topografix.com/GPX/1/1","gpx"),r="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(r,"xmlns:xsi",bt),i.setAttributeNS(bt,"xsi:schemaLocation",ve),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),Ut({node:i},be,Be,t,[e]),i},e}(qt),xe=jt(ge,{name:Mt(ie),cmt:Mt(ie),desc:Mt(ie),src:Mt(ie),link:qe,number:Mt(te),extensions:Ve,type:Mt(ie),rtept:He}),Se=jt(ge,{ele:Mt(Jt),time:Mt($t)}),Ee=jt(ge,{name:Mt(ie),cmt:Mt(ie),desc:Mt(ie),src:Mt(ie),link:qe,number:Mt(te),type:Mt(ie),extensions:Ve,trkseg:Ye}),Oe=jt(ge,{trkpt:We}),Te=jt(ge,{ele:Mt(Jt),time:Mt($t)}),Ce=jt(ge,{ele:Mt(Jt),time:Mt($t),magvar:Mt(Jt),geoidheight:Mt(Jt),name:Mt(ie),cmt:Mt(ie),desc:Mt(ie),src:Mt(ie),link:qe,sym:Mt(ie),type:Mt(ie),fix:Mt(ie),sat:Mt(te),hdop:Mt(Jt),vdop:Mt(Jt),pdop:Mt(Jt),ageofdgpsdata:Mt(Jt),dgpsid:Mt(te),extensions:Ve}),Ae=["text","type"],Le=jt(ge,{text:It(he),type:It(he)}),Re=jt(ge,["name","cmt","desc","src","link","number","type","rtept"]),Me=jt(ge,{name:It(he),cmt:It(he),desc:It(he),src:It(he),link:It($e),number:It(se),type:It(he),rtept:Pt(It(Je))}),Ie=jt(ge,["ele","time"]),Pe=jt(ge,["name","cmt","desc","src","link","number","type","trkseg"]),Ne=jt(ge,{name:It(he),cmt:It(he),desc:It(he),src:It(he),link:It($e),number:It(se),type:It(he),trkseg:Pt(It(ei))}),Fe=Nt("trkpt"),ke=jt(ge,{trkpt:It(Je)}),je=jt(ge,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),De=jt(ge,{ele:It(ae),time:It(oe),magvar:It(ae),geoidheight:It(ae),name:It(he),cmt:It(he),desc:It(he),src:It(he),link:It($e),sym:It(he),type:It(he),fix:It(he),sat:It(se),hdop:It(ae),vdop:It(ae),pdop:It(ae),ageofdgpsdata:It(ae),dgpsid:It(se)}),Ge={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Be(t,e,i){var r=t.getGeometry();if(r){var n=Ge[r.getType()];if(n){var o=e[e.length-1].node;return wt(o.namespaceURI,n)}}}function Ue(t,e,i,r){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in r?(t.push(r["ele"]),delete r["ele"],e.hasZ=!0):t.push(0),"time"in r?(t.push(r["time"]),delete r["time"],e.hasM=!0):t.push(0),t}function ze(t,e,i){var r=v["a"].XY,n=2;if(t.hasZ&&t.hasM?(r=v["a"].XYZM,n=4):t.hasZ?(r=v["a"].XYZ,n=3):t.hasM&&(r=v["a"].XYM,n=3),4!==n){for(var o=0,a=e.length/4;o<a;o++)e[o*n]=e[4*o],e[o*n+1]=e[4*o+1],t.hasZ&&(e[o*n+2]=e[4*o+2]),t.hasM&&(e[o*n+2]=e[4*o+3]);if(e.length=e.length/4*n,i)for(var s=0,h=i.length;s<h;s++)i[s]=i[s]/4*n}return r}function qe(t,e){var i=e[e.length-1],r=t.getAttribute("href");null!==r&&(i["link"]=r),Dt(_e,t,e)}function Ve(t,e){var i=e[e.length-1];i["extensionsNode_"]=t}function He(t,e){var i=Gt({},Se,t,e);if(i){var r=e[e.length-1],n=r["flatCoordinates"],o=r["layoutOptions"];Ue(n,o,t,i)}}function We(t,e){var i=Gt({},Te,t,e);if(i){var r=e[e.length-1],n=r["flatCoordinates"],o=r["layoutOptions"];Ue(n,o,t,i)}}function Ye(t,e){var i=e[e.length-1];Dt(Oe,t,e);var r=i["flatCoordinates"],n=i["ends"];n.push(r.length)}function Ke(t,e){var i=e[0],n=Gt({flatCoordinates:[],layoutOptions:{}},xe,t,e);if(n){var o=n["flatCoordinates"];delete n["flatCoordinates"];var a=n["layoutOptions"];delete n["layoutOptions"];var s=ze(a,o),h=new m["a"](o,s);l(h,!1,i);var c=new r["default"](h);return c.setProperties(n),c}}function Xe(t,e){var i=e[0],n=Gt({flatCoordinates:[],ends:[],layoutOptions:{}},Ee,t,e);if(n){var o=n["flatCoordinates"];delete n["flatCoordinates"];var a=n["ends"];delete n["ends"];var s=n["layoutOptions"];delete n["layoutOptions"];var h=ze(s,o,a),c=new b["a"](o,h,a);l(c,!1,i);var u=new r["default"](c);return u.setProperties(n),u}}function Ze(t,e){var i=e[0],n=Gt({},Ce,t,e);if(n){var o={},a=Ue([],o,t,n),s=ze(o,a),h=new S["a"](a,s);l(h,!1,i);var c=new r["default"](h);return c.setProperties(n),c}}function $e(t,e,i){t.setAttribute("href",e);var r=i[i.length-1],n=r["properties"],o=[n["linkText"],n["linkType"]];Ut({node:t},Le,Ft,o,i,Ae)}function Je(t,e,i){var r=i[i.length-1],n=r.node,o=n.namespaceURI,a=r["properties"];t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0]));var s=r["geometryLayout"];switch(s){case v["a"].XYZM:0!==e[3]&&(a["time"]=e[3]);case v["a"].XYZ:0!==e[2]&&(a["ele"]=e[2]);break;case v["a"].XYM:0!==e[2]&&(a["time"]=e[2]);break;default:}var h="rtept"==t.nodeName?Ie[o]:je[o],c=kt(a,h);Ut({node:t,properties:a},De,Ft,c,i,h)}function Qe(t,e,i){var r=i[0],n=e.getProperties(),o={node:t};o["properties"]=n;var a=e.getGeometry();if(a.getType()==y["default"].LINE_STRING){var s=l(a,!0,r);o["geometryLayout"]=s.getLayout(),n["rtept"]=s.getCoordinates()}var h=i[i.length-1].node,c=Re[h.namespaceURI],u=kt(n,c);Ut(o,Me,Ft,u,i,c)}function ti(t,e,i){var r=i[0],n=e.getProperties(),o={node:t};o["properties"]=n;var a=e.getGeometry();if(a.getType()==y["default"].MULTI_LINE_STRING){var s=l(a,!0,r);n["trkseg"]=s.getLineStrings()}var h=i[i.length-1].node,c=Pe[h.namespaceURI],u=kt(n,c);Ut(o,Ne,Ft,u,i,c)}function ei(t,e,i){var r={node:t};r["geometryLayout"]=e.getLayout(),r["properties"]={},Ut(r,ke,Fe,e.getCoordinates(),i)}function ii(t,e,i){var r=i[0],n=i[i.length-1];n["properties"]=e.getProperties();var o=e.getGeometry();if(o.getType()==y["default"].POINT){var a=l(o,!0,r);n["geometryLayout"]=a.getLayout(),Je(t,a.getCoordinates(),i)}}var ri=we,ni=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return f["a"].TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(oi(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return Object(s["b"])()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(oi(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return Object(s["b"])()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(oi(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return Object(s["b"])()},e.prototype.readProjection=function(t){return this.readProjectionFromText(oi(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return Object(s["b"])()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return Object(s["b"])()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return Object(s["b"])()},e}(u);function oi(t){return"string"===typeof t?t:""}var ai,si,hi,ci,ui,li,fi,di=ni,pi={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},gi=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,vi=/^H.([A-Z]{3}).*?:(.*)/,yi=/^HFDTE(\d{2})(\d{2})(\d{2})/,mi=/\r\n|\r|\n/,_i=function(t){function e(e){t.call(this);var i=e||{};this.dataProjection=Object(h["get"])("EPSG:4326"),this.altitudeMode_=i.altitudeMode?i.altitudeMode:pi.NONE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromText=function(t,e){var i,n,o=this.altitudeMode_,a=t.split(mi),s={},h=[],c=2e3,u=0,f=1,d=-1;for(i=0,n=a.length;i<n;++i){var p=a[i],g=void 0;if("B"==p.charAt(0)){if(g=gi.exec(p),g){var y=parseInt(g[1],10),_=parseInt(g[2],10),b=parseInt(g[3],10),w=parseInt(g[4],10)+parseInt(g[5],10)/6e4;"S"==g[6]&&(w=-w);var x=parseInt(g[7],10)+parseInt(g[8],10)/6e4;if("W"==g[9]&&(x=-x),h.push(x,w),o!=pi.NONE){var S=void 0;S=o==pi.GPS?parseInt(g[11],10):o==pi.BAROMETRIC?parseInt(g[12],10):0,h.push(S)}var E=Date.UTC(c,u,f,y,_,b);E<d&&(E=Date.UTC(c,u,f+1,y,_,b)),h.push(E/1e3),d=E}}else"H"==p.charAt(0)&&(g=yi.exec(p),g?(f=parseInt(g[1],10),u=parseInt(g[2],10)-1,c=2e3+parseInt(g[3],10)):(g=vi.exec(p),g&&(s[g[1]]=g[2].trim())))}if(0===h.length)return null;var O=o==pi.NONE?v["a"].XYM:v["a"].XYZM,T=new m["a"](h,O),C=new r["default"](l(T,!1,e));return C.setProperties(s),C},e.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return i?[i]:[]},e}(di),bi=_i,wi=i("81ae"),xi=i("136c"),Si=i("08fa"),Ei=i("0ba7"),Oi=i("fffd"),Ti=i("e6f7"),Ci=i("abe5"),Ai=i("8a21"),Li=i("6d02"),Ri=["http://www.google.com/kml/ext/2.2"],Mi=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Ii="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",Pi={fraction:Oi["default"].FRACTION,pixels:Oi["default"].PIXELS,insetPixels:Oi["default"].PIXELS},Ni=jt(Mi,{ExtendedData:Gr,Region:Br,MultiGeometry:Mt(Lr,"geometry"),LineString:Mt(Tr,"geometry"),LinearRing:Mt(Cr,"geometry"),Point:Mt(Rr,"geometry"),Polygon:Mt(Ir,"geometry"),Style:Mt(Nr),StyleMap:qr,address:Mt(ie),description:Mt(ie),name:Mt(ie),open:Mt(Xt),phoneNumber:Mt(ie),styleUrl:Mt(er),visibility:Mt(Xt)},jt(Ri,{MultiTrack:Mt(mr,"geometry"),Track:Mt(br,"geometry")})),Fi=jt(Mi,{ExtendedData:Gr,Region:Br,Link:en,address:Mt(ie),description:Mt(ie),name:Mt(ie),open:Mt(Xt),phoneNumber:Mt(ie),visibility:Mt(Xt)}),ki=jt(Mi,{href:Mt(er)}),ji=jt(Mi,{LatLonAltBox:Kr,Lod:Zr}),Di=jt(Mi,["Document","Placemark"]),Gi=jt(Mi,{Document:It(fn),Placemark:It(Un)}),Bi=null;var Ui,zi=null;var qi,Vi=null;var Hi=null;var Wi=null;var Yi=null;function Ki(){ai=[255,255,255,1],Bi=new Si["a"]({color:ai}),si=[20,2],hi=Oi["default"].PIXELS,ci=Oi["default"].PIXELS,ui=[64,64],li="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",fi=.5,zi=new Ei["a"]({anchor:si,anchorOrigin:Ti["default"].BOTTOM_LEFT,anchorXUnits:hi,anchorYUnits:ci,crossOrigin:"anonymous",rotation:0,scale:fi,size:ui,src:li}),Ui="NO_IMAGE",Vi=new Ci["a"]({color:ai,width:1}),qi=new Ci["a"]({color:[51,51,51,1],width:2}),Hi=new Li["a"]({font:"bold 16px Helvetica",fill:Bi,stroke:qi,scale:.8}),Wi=new Ai["c"]({fill:Bi,image:zi,text:Hi,stroke:Vi,zIndex:0}),Yi=[Wi]}var Xi=function(t){function e(e){t.call(this);var i=e||{};Yi||Ki(),this.dataProjection=Object(h["get"])("EPSG:4326"),this.defaultStyle_=i.defaultStyle?i.defaultStyle:Yi,this.extractStyles_=void 0===i.extractStyles||i.extractStyles,this.writeStyles_=void 0===i.writeStyles||i.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===i.showPointNames||i.showPointNames}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readDocumentOrFolder_=function(t,e){var i=jt(Mi,{Document:Ct(this.readDocumentOrFolder_,this),Folder:Ct(this.readDocumentOrFolder_,this),Placemark:At(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),r=Gt([],i,t,e,this);return r||void 0},e.prototype.readPlacemark_=function(t,e){var i=Gt({geometry:null},Ni,t,e);if(i){var n=new r["default"],o=t.getAttribute("id");null!==o&&n.setId(o);var a=e[0],s=i["geometry"];if(s&&l(s,!1,a),n.setGeometry(s),delete i["geometry"],this.extractStyles_){var h=i["Style"],c=i["styleUrl"],u=$i(h,c,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(u)}return delete i["Style"],n.setProperties(i),n}},e.prototype.readSharedStyle_=function(t,e){var i=t.getAttribute("id");if(null!==i){var r=Nr(t,e);if(r){var n,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){var a=new URL("#"+i,o);n=a.href}else n="#"+i;this.sharedStyles_[n]=r}}},e.prototype.readSharedStyleMap_=function(t,e){var i=t.getAttribute("id");if(null!==i){var r=or(t,e);if(r){var n,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o){var a=new URL("#"+i,o);n=a.href}else n="#"+i;this.sharedStyles_[n]=r}}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(mt["f"])(Mi,t.namespaceURI))return null;var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i||null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(mt["f"])(Mi,t.namespaceURI))return[];var i,r=t.localName;if("Document"==r||"Folder"==r)return i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),i||[];if("Placemark"==r){var n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n?[n]:[]}if("kml"==r){i=[];for(var o=t.firstElementChild;o;o=o.nextElementSibling){var a=this.readFeaturesFromNode(o,e);a&&Object(mt["c"])(i,a)}return i}return[]},e.prototype.readName=function(t){if(t){if("string"===typeof t){var e=Tt(t);return this.readNameFromDocument(e)}return Et(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=this.readNameFromNode(e);if(i)return i}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(mt["f"])(Mi,e.namespaceURI)&&"name"==e.localName)return ie(e);for(var i=t.firstElementChild;i;i=i.nextElementSibling){var r=i.localName;if(Object(mt["f"])(Mi,i.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var n=this.readNameFromNode(i);if(n)return n}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"===typeof t){var i=Tt(t);Object(mt["c"])(e,this.readNetworkLinksFromDocument(i))}else Et(t)?Object(mt["c"])(e,this.readNetworkLinksFromDocument(t)):Object(mt["c"])(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(mt["c"])(e,this.readNetworkLinksFromNode(i));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(mt["f"])(Mi,i.namespaceURI)&&"NetworkLink"==i.localName){var r=Gt({},Fi,i,[]);e.push(r)}for(var n=t.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!Object(mt["f"])(Mi,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(mt["c"])(e,this.readNetworkLinksFromNode(n))}return e},e.prototype.readRegion=function(t){var e=[];if("string"===typeof t){var i=Tt(t);Object(mt["c"])(e,this.readRegionFromDocument(i))}else Et(t)?Object(mt["c"])(e,this.readRegionFromDocument(t)):Object(mt["c"])(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(mt["c"])(e,this.readRegionFromNode(i));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(mt["f"])(Mi,i.namespaceURI)&&"Region"==i.localName){var r=Gt({},ji,i,[]);e.push(r)}for(var n=t.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!Object(mt["f"])(Mi,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(mt["c"])(e,this.readRegionFromNode(n))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=wt(Mi[4],"kml"),r="http://www.w3.org/2000/xmlns/";i.setAttributeNS(r,"xmlns:gx",Ri[0]),i.setAttributeNS(r,"xmlns:xsi",bt),i.setAttributeNS(bt,"xsi:schemaLocation",Ii);var n={node:i},o={};t.length>1?o["Document"]=t:1==t.length&&(o["Placemark"]=t[0]);var a=Di[i.namespaceURI],s=kt(o,a);return Ut(n,Gi,Ft,s,[e],a,this),i},e}(qt);function Zi(t,e){var i=null,r=[0,0],n="start";if(t.getImage()){var o=t.getImage().getImageSize();if(null===o&&(o=ui),2==o.length){var a=t.getImage().getScale();r[0]=a*o[0]/2,r[1]=-a*o[1]/2,n="left"}}if(null!==t.getText()){var s=t.getText();i=s.clone(),i.setFont(s.getFont()||Hi.getFont()),i.setScale(s.getScale()||Hi.getScale()),i.setFill(s.getFill()||Hi.getFill()),i.setStroke(s.getStroke()||qi)}else i=Hi.clone();i.setText(e),i.setOffsetX(r[0]),i.setOffsetY(r[1]),i.setTextAlign(n);var h=new Ai["c"]({text:i});return h}function $i(t,e,i,r,n){return function(o,a){var s,h=n,c="";if(h){var u=o.getGeometry();u&&(h=u.getType()===y["default"].POINT)}if(h&&(c=o.get("name"),h=h&&!!c),t)return h?(s=Zi(t[0],c),t.concat(s)):t;if(e){var l=Ji(e,i,r);return h?(s=Zi(l[0],c),l.concat(s)):l}return h?(s=Zi(i[0],c),i.concat(s)):i}}function Ji(t,e,i){return Array.isArray(t)?t:"string"===typeof t?(!(t in i)&&"#"+t in i&&(t="#"+t),Ji(i[t],e,i)):e}function Qi(t){var e=xt(t,!1),i=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(i){var r=i[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function tr(t){var e,i=xt(t,!1),r=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;while(e=n.exec(i)){var o=parseFloat(e[1]),a=parseFloat(e[2]),s=e[3]?parseFloat(e[3]):0;r.push(o,a,s),i=i.substr(e[0].length)}if(""===i)return r}function er(t){var e=xt(t,!1).trim(),i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){var r=new URL(e,i);return r.href}return e}function ir(t){var e,i=t.getAttribute("xunits"),r=t.getAttribute("yunits");return e="insetPixels"!==i?"insetPixels"!==r?Ti["default"].BOTTOM_LEFT:Ti["default"].TOP_LEFT:"insetPixels"!==r?Ti["default"].BOTTOM_RIGHT:Ti["default"].TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:Pi[i],y:parseFloat(t.getAttribute("y")),yunits:Pi[r],origin:e}}function rr(t){return Jt(t)}var nr=jt(Mi,{Pair:zr});function or(t,e){return Gt(void 0,nr,t,e)}var ar=jt(Mi,{Icon:Mt(xr),heading:Mt(Jt),hotSpot:Mt(ir),scale:Mt(rr)});function sr(t,e){var i=Gt({},ar,t,e);if(i){var r,n,o,a,s=e[e.length-1],h="Icon"in i?i["Icon"]:{},c=!("Icon"in i)||Object.keys(h).length>0,u=h["href"];u?r=u:c&&(r=li);var l,f=Ti["default"].BOTTOM_LEFT,d=i["hotSpot"];d?(n=[d.x,d.y],o=d.xunits,a=d.yunits,f=d.origin):r===li?(n=si,o=hi,a=ci):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(n=[.5,0],o=Oi["default"].FRACTION,a=Oi["default"].FRACTION);var p,g=h["x"],v=h["y"];void 0!==g&&void 0!==v&&(l=[g,v]);var y,m=h["w"],_=h["h"];void 0!==m&&void 0!==_&&(p=[m,_]);var b=i["heading"];void 0!==b&&(y=Object(xi["j"])(b));var w=i["scale"];if(c){r==li&&(p=ui,void 0===w&&(w=fi));var x=new Ei["a"]({anchor:n,anchorOrigin:f,anchorXUnits:o,anchorYUnits:a,crossOrigin:"anonymous",offset:l,offsetOrigin:Ti["default"].BOTTOM_LEFT,rotation:y,scale:w,size:p,src:r});s["imageStyle"]=x}else s["imageStyle"]=Ui}}var hr=jt(Mi,{color:Mt(Qi),scale:Mt(rr)});function cr(t,e){var i=Gt({},hr,t,e);if(i){var r=e[e.length-1],n=new Li["a"]({fill:new Si["a"]({color:"color"in i?i["color"]:ai}),scale:i["scale"]});r["textStyle"]=n}}var ur=jt(Mi,{color:Mt(Qi),width:Mt(Jt)});function lr(t,e){var i=Gt({},ur,t,e);if(i){var r=e[e.length-1],n=new Ci["a"]({color:"color"in i?i["color"]:ai,width:"width"in i?i["width"]:1});r["strokeStyle"]=n}}var fr=jt(Mi,{color:Mt(Qi),fill:Mt(Xt),outline:Mt(Xt)});function dr(t,e){var i=Gt({},fr,t,e);if(i){var r=e[e.length-1],n=new Si["a"]({color:"color"in i?i["color"]:ai});r["fillStyle"]=n;var o=i["fill"];void 0!==o&&(r["fill"]=o);var a=i["outline"];void 0!==a&&(r["outline"]=a)}}var pr=jt(Mi,{coordinates:Lt(tr)});function gr(t,e){return Gt(null,pr,t,e)}function vr(t,e){var i=e[e.length-1],r=i.flatCoordinates,n=xt(t,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=o.exec(n);if(a){var s=parseFloat(a[1]),h=parseFloat(a[2]),c=parseFloat(a[3]);r.push(s,h,c,0)}else r.push(0,0,0,0)}var yr=jt(Ri,{Track:At(br)});function mr(t,e){var i=Gt([],yr,t,e);if(i)return new b["a"](i)}var _r=jt(Mi,{when:rn},jt(Ri,{coord:vr}));function br(t,e){var i=Gt({flatCoordinates:[],whens:[]},_r,t,e);if(i){for(var r=i.flatCoordinates,n=i.whens,o=0,a=Math.min(r.length,n.length);o<a;++o)r[4*o+3]=n[o];return new m["a"](r,v["a"].XYZM)}}var wr=jt(Mi,{href:Mt(er)},jt(Ri,{x:Mt(Jt),y:Mt(Jt),w:Mt(Jt),h:Mt(Jt)}));function xr(t,e){var i=Gt({},wr,t,e);return i||null}var Sr=jt(Mi,{coordinates:Lt(tr)});function Er(t,e){return Gt(null,Sr,t,e)}var Or=jt(Mi,{extrude:Mt(Xt),tessellate:Mt(Xt),altitudeMode:Mt(ie)});function Tr(t,e){var i=Gt({},Or,t,e),r=Er(t,e);if(r){var n=new m["a"](r,v["a"].XYZ);return n.setProperties(i),n}}function Cr(t,e){var i=Gt({},Or,t,e),r=Er(t,e);if(r){var n=new E["default"](r,v["a"].XYZ,[r.length]);return n.setProperties(i),n}}var Ar=jt(Mi,{LineString:At(Tr),LinearRing:At(Cr),MultiGeometry:At(Lr),Point:At(Rr),Polygon:At(Ir)});function Lr(t,e){var i,r=Gt([],Ar,t,e);if(!r)return null;if(0===r.length)return new Q(r);for(var o,a,s,h=!0,c=r[0].getType(),u=1,l=r.length;u<l;++u)if(o=r[u],o.getType()!=c){h=!1;break}if(h)if(c==y["default"].POINT){var f=r[0];a=f.getLayout(),s=f.getFlatCoordinates();for(var d=1,p=r.length;d<p;++d)o=r[d],Object(mt["c"])(s,o.getFlatCoordinates());i=new w["a"](s,a),Fr(i,r)}else c==y["default"].LINE_STRING?(i=new b["a"](r),Fr(i,r)):c==y["default"].POLYGON?(i=new x["a"](r),Fr(i,r)):c==y["default"].GEOMETRY_COLLECTION?i=new Q(r):Object(n["a"])(!1,37);else i=new Q(r);return i}function Rr(t,e){var i=Gt({},Or,t,e),r=Er(t,e);if(r){var n=new S["a"](r,v["a"].XYZ);return n.setProperties(i),n}}var Mr=jt(Mi,{innerBoundaryIs:Jr,outerBoundaryIs:tn});function Ir(t,e){var i=Gt({},Or,t,e),r=Gt([null],Mr,t,e);if(r&&r[0]){for(var n=r[0],o=[n.length],a=1,s=r.length;a<s;++a)Object(mt["c"])(n,r[a]),o.push(n.length);var h=new E["default"](n,v["a"].XYZ,o);return h.setProperties(i),h}}var Pr=jt(Mi,{IconStyle:sr,LabelStyle:cr,LineStyle:lr,PolyStyle:dr});function Nr(t,e){var i=Gt({},Pr,t,e);if(!i)return null;var r,n="fillStyle"in i?i["fillStyle"]:Bi,o=i["fill"];void 0===o||o||(n=null),"imageStyle"in i?i["imageStyle"]!=Ui&&(r=i["imageStyle"]):r=zi;var a="textStyle"in i?i["textStyle"]:Hi,s="strokeStyle"in i?i["strokeStyle"]:Vi,h=i["outline"];return void 0===h||h||(s=null),[new Ai["c"]({fill:n,image:r,stroke:s,text:a,zIndex:void 0})]}function Fr(t,e){var i,r,n,o=e.length,a=new Array(e.length),s=new Array(e.length),h=new Array(e.length);i=r=n=!1;for(var c=0;c<o;++c){var u=e[c];a[c]=u.get("extrude"),s[c]=u.get("tessellate"),h[c]=u.get("altitudeMode"),i=i||void 0!==a[c],r=r||void 0!==s[c],n=n||h[c]}i&&t.set("extrude",a),r&&t.set("tessellate",s),n&&t.set("altitudeMode",h)}var kr=jt(Mi,{displayName:Mt(ie),value:Mt(ie)});function jr(t,e){var i=t.getAttribute("name");Dt(kr,t,e);var r=e[e.length-1];null!==i?r[i]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r["value"]}var Dr=jt(Mi,{Data:jr,SchemaData:Hr});function Gr(t,e){Dt(Dr,t,e)}function Br(t,e){Dt(ji,t,e)}var Ur=jt(Mi,{Style:Mt(Nr),key:Mt(ie),styleUrl:Mt(er)});function zr(t,e){var i=Gt({},Ur,t,e);if(i){var r=i["key"];if(r&&"normal"==r){var n=i["styleUrl"];n&&(e[e.length-1]=n);var o=i["Style"];o&&(e[e.length-1]=o)}}}function qr(t,e){var i=or(t,e);if(i){var r=e[e.length-1];Array.isArray(i)?r["Style"]=i:"string"===typeof i?r["styleUrl"]=i:Object(n["a"])(!1,38)}}var Vr=jt(Mi,{SimpleData:Wr});function Hr(t,e){Dt(Vr,t,e)}function Wr(t,e){var i=t.getAttribute("name");if(null!==i){var r=ie(t),n=e[e.length-1];n[i]=r}}var Yr=jt(Mi,{altitudeMode:Mt(ie),minAltitude:Mt(Jt),maxAltitude:Mt(Jt),north:Mt(Jt),south:Mt(Jt),east:Mt(Jt),west:Mt(Jt)});function Kr(t,e){var i=Gt({},Yr,t,e);if(i){var r=e[e.length-1],n=[parseFloat(i["west"]),parseFloat(i["south"]),parseFloat(i["east"]),parseFloat(i["north"])];r["extent"]=n,r["altitudeMode"]=i["altitudeMode"],r["minAltitude"]=parseFloat(i["minAltitude"]),r["maxAltitude"]=parseFloat(i["maxAltitude"])}}var Xr=jt(Mi,{minLodPixels:Mt(Jt),maxLodPixels:Mt(Jt),minFadeExtent:Mt(Jt),maxFadeExtent:Mt(Jt)});function Zr(t,e){var i=Gt({},Xr,t,e);if(i){var r=e[e.length-1];r["minLodPixels"]=parseFloat(i["minLodPixels"]),r["maxLodPixels"]=parseFloat(i["maxLodPixels"]),r["minFadeExtent"]=parseFloat(i["minFadeExtent"]),r["maxFadeExtent"]=parseFloat(i["maxFadeExtent"])}}var $r=jt(Mi,{LinearRing:Lt(gr)});function Jr(t,e){var i=Gt(void 0,$r,t,e);if(i){var r=e[e.length-1];r.push(i)}}var Qr=jt(Mi,{LinearRing:Lt(gr)});function tn(t,e){var i=Gt(void 0,Qr,t,e);if(i){var r=e[e.length-1];r[0]=i}}function en(t,e){Dt(ki,t,e)}function rn(t,e){var i=e[e.length-1],r=i.whens,n=xt(t,!1),o=Date.parse(n);r.push(isNaN(o)?0:o)}function nn(t,e){for(var i=Object(wi["asArray"])(e),r=4==i.length?i[3]:1,n=[255*r,i[2],i[1],i[0]],o=0;o<4;++o){var a=Math.floor(n[o]).toString(16);n[o]=1==a.length?"0"+a:a}he(t,n.join(""))}function on(t,e,i){var r,o=i[i.length-1],a=o["layout"],s=o["stride"];a==v["a"].XY||a==v["a"].XYM?r=2:a==v["a"].XYZ||a==v["a"].XYZM?r=3:Object(n["a"])(!1,34);var h=e.length,c="";if(h>0){c+=e[0];for(var u=1;u<r;++u)c+=","+e[u];for(var l=s;l<h;l+=s){c+=" "+e[l];for(var f=1;f<r;++f)c+=","+e[l+f]}}he(t,c)}var an=jt(Mi,{Data:It(sn),value:It(cn),displayName:It(hn)});function sn(t,e,i){t.setAttribute("name",e.name);var r={node:t},n=e.value;"object"==typeof n?(null!==n&&n.displayName&&Ut(r,an,Ft,[n.displayName],i,["displayName"]),null!==n&&n.value&&Ut(r,an,Ft,[n.value],i,["value"])):Ut(r,an,Ft,[n],i,["value"])}function hn(t,e){ne(t,e)}function cn(t,e){he(t,e)}var un=jt(Mi,{Placemark:It(Un)}),ln=function(t,e,i){var r=e[e.length-1].node;return wt(r.namespaceURI,"Placemark")};function fn(t,e,i){var r={node:t};Ut(r,un,ln,e,i,void 0,this)}var dn=Nt("Data");function pn(t,e,i){for(var r={node:t},n=e.names,o=e.values,a=n.length,s=0;s<a;s++)Ut(r,an,dn,[{name:n[s],value:o[s]}],i)}var gn=jt(Mi,["href"],jt(Ri,["x","y","w","h"])),vn=jt(Mi,{href:It(he)},jt(Ri,{x:It(ae),y:It(ae),w:It(ae),h:It(ae)})),yn=function(t,e,i){return wt(Ri[0],"gx:"+i)};function mn(t,e,i){var r={node:t},n=i[i.length-1].node,o=gn[n.namespaceURI],a=kt(e,o);Ut(r,vn,Ft,a,i,o),o=gn[Ri[0]],a=kt(e,o),Ut(r,vn,yn,a,i,o)}var _n=jt(Mi,["scale","heading","Icon","hotSpot"]),bn=jt(Mi,{Icon:It(mn),heading:It(ae),hotSpot:It(io),scale:It(Jn)});function wn(t,e,i){var r={node:t},n={},o=e.getSrc(),a=e.getSize(),s=e.getImageSize(),h={href:o};if(a){h["w"]=a[0],h["h"]=a[1];var c=e.getAnchor(),u=e.getOrigin();if(u&&s&&0!==u[0]&&u[1]!==a[1]&&(h["x"]=u[0],h["y"]=s[1]-(u[1]+a[1])),c&&(c[0]!==a[0]/2||c[1]!==a[1]/2)){var l={x:c[0],xunits:Oi["default"].PIXELS,y:a[1]-c[1],yunits:Oi["default"].PIXELS};n["hotSpot"]=l}}n["Icon"]=h;var f=e.getScale();1!==f&&(n["scale"]=f);var d=e.getRotation();0!==d&&(n["heading"]=d);var p=i[i.length-1].node,g=_n[p.namespaceURI],v=kt(n,g);Ut(r,bn,Ft,v,i,g)}var xn=jt(Mi,["color","scale"]),Sn=jt(Mi,{color:It(nn),scale:It(Jn)});function En(t,e,i){var r={node:t},n={},o=e.getFill();o&&(n["color"]=o.getColor());var a=e.getScale();a&&1!==a&&(n["scale"]=a);var s=i[i.length-1].node,h=xn[s.namespaceURI],c=kt(n,h);Ut(r,Sn,Ft,c,i,h)}var On=jt(Mi,["color","width"]),Tn=jt(Mi,{color:It(nn),width:It(ae)});function Cn(t,e,i){var r={node:t},n={color:e.getColor(),width:e.getWidth()},o=i[i.length-1].node,a=On[o.namespaceURI],s=kt(n,a);Ut(r,Tn,Ft,s,i,a)}var An={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Ln=function(t,e,i){if(t){var r=e[e.length-1].node;return wt(r.namespaceURI,An[t.getType()])}},Rn=Nt("Point"),Mn=Nt("LineString"),In=Nt("LinearRing"),Pn=Nt("Polygon"),Nn=jt(Mi,{LineString:It(Vn),Point:It(Vn),Polygon:It(Kn),GeometryCollection:It(Fn)});function Fn(t,e,i){var r,o,a={node:t},s=e.getType();s==y["default"].GEOMETRY_COLLECTION?(r=e.getGeometries(),o=Ln):s==y["default"].MULTI_POINT?(r=e.getPoints(),o=Rn):s==y["default"].MULTI_LINE_STRING?(r=e.getLineStrings(),o=Mn):s==y["default"].MULTI_POLYGON?(r=e.getPolygons(),o=Pn):Object(n["a"])(!1,39),Ut(a,Nn,o,r,i)}var kn=jt(Mi,{LinearRing:It(Vn)});function jn(t,e,i){var r={node:t};Ut(r,kn,In,[e],i)}var Dn=jt(Mi,{ExtendedData:It(pn),MultiGeometry:It(Fn),LineString:It(Vn),LinearRing:It(Vn),Point:It(Vn),Polygon:It(Kn),Style:It(eo),address:It(he),description:It(he),name:It(he),open:It(re),phoneNumber:It(he),styleUrl:It(he),visibility:It(re)}),Gn=jt(Mi,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),Bn=Nt("ExtendedData");function Un(t,e,i){var r={node:t};e.getId()&&t.setAttribute("id",e.getId());var n=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(n||{}).sort().filter((function(t){return!o[t]}));if(a.length>0){var s=kt(n,a),h={names:a,values:s};Ut(r,Dn,Bn,[h],i)}var c=e.getStyleFunction();if(c){var u=c(e,0);if(u){var f=Array.isArray(u)?u[0]:u;this.writeStyles_&&(n["Style"]=f);var d=f.getText();d&&(n["name"]=d.getText())}}var p=i[i.length-1].node,g=Gn[p.namespaceURI],v=kt(n,g);Ut(r,Dn,Ft,v,i,g);var y=i[0],m=e.getGeometry();m&&(m=l(m,!0,y)),Ut(r,Dn,Ln,[m],i)}var zn=jt(Mi,["extrude","tessellate","altitudeMode","coordinates"]),qn=jt(Mi,{extrude:It(re),tessellate:It(re),altitudeMode:It(he),coordinates:It(on)});function Vn(t,e,i){var r=e.getFlatCoordinates(),n={node:t};n["layout"]=e.getLayout(),n["stride"]=e.getStride();var o=e.getProperties();o.coordinates=r;var a=i[i.length-1].node,s=zn[a.namespaceURI],h=kt(o,s);Ut(n,qn,Ft,h,i,s)}var Hn=jt(Mi,{outerBoundaryIs:It(jn),innerBoundaryIs:It(jn)}),Wn=Nt("innerBoundaryIs"),Yn=Nt("outerBoundaryIs");function Kn(t,e,i){var r=e.getLinearRings(),n=r.shift(),o={node:t};Ut(o,Hn,Wn,r,i),Ut(o,Hn,Yn,[n],i)}var Xn=jt(Mi,{color:It(nn)}),Zn=Nt("color");function $n(t,e,i){var r={node:t};Ut(r,Xn,Zn,[e.getColor()],i)}function Jn(t,e){ae(t,Math.round(1e6*e)/1e6)}var Qn=jt(Mi,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),to=jt(Mi,{IconStyle:It(wn),LabelStyle:It(En),LineStyle:It(Cn),PolyStyle:It($n)});function eo(t,e,i){var r={node:t},n={},o=e.getFill(),a=e.getStroke(),s=e.getImage(),h=e.getText();s&&"function"===typeof s.getSrc&&(n["IconStyle"]=s),h&&(n["LabelStyle"]=h),a&&(n["LineStyle"]=a),o&&(n["PolyStyle"]=o);var c=i[i.length-1].node,u=Qn[c.namespaceURI],l=kt(n,u);Ut(r,to,Ft,l,i,u)}function io(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}var ro=Xi,no=i("f58e"),oo=i.n(no),ao=i("3ec4"),so=i("615e"),ho=i("ce8b"),co=function(t){function e(e){t.call(this);var i=e||{};this.dataProjection=new ao["a"]({code:"",units:so["b"].TILE_PIXELS}),this.featureClass_=i.featureClass?i.featureClass:ho["default"],this.geometryName_=i.geometryName,this.layerName_=i.layerName?i.layerName:"layer",this.layers_=i.layers?i.layers:null,this.extent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readRawGeometry_=function(t,e,i,r){t.pos=e.geometry;var o=t.readVarint()+t.pos,a=1,s=0,h=0,c=0,u=0,l=0;while(t.pos<o){if(!s){var f=t.readVarint();a=7&f,s=f>>3}s--,1===a||2===a?(h+=t.readSVarint(),c+=t.readSVarint(),1===a&&u>l&&(r.push(u),l=u),i.push(h,c),u+=2):7===a?u>l&&(i.push(i[l],i[l+1]),u+=2):Object(n["a"])(!1,59)}u>l&&(r.push(u),l=u)},e.prototype.createFeature_=function(t,e,i){var r,n=e.type;if(0===n)return null;var o=e.id,a=e.properties;a[this.layerName_]=e.layer.name;var s=[],h=[];this.readRawGeometry_(t,e,s,h);var c=go(n,h.length);if(this.featureClass_===ho["default"])r=new this.featureClass_(c,s,h,a,o);else{var u;if(c==y["default"].POLYGON){for(var f=[],d=0,p=0,g=0,_=h.length;g<_;++g){var O=h[g];Object(T["a"])(s,d,O,2)||(f.push(h.slice(p,g)),p=g),d=O}u=f.length>1?new x["a"](s,v["a"].XY,f):new E["default"](s,v["a"].XY,h)}else u=c===y["default"].POINT?new S["a"](s,v["a"].XY):c===y["default"].LINE_STRING?new m["a"](s,v["a"].XY):c===y["default"].POLYGON?new E["default"](s,v["a"].XY,h):c===y["default"].MULTI_POINT?new w["a"](s,v["a"].XY):c===y["default"].MULTI_LINE_STRING?new b["a"](s,v["a"].XY,h):null;var C=this.featureClass_;r=new C,this.geometryName_&&r.setGeometryName(this.geometryName_);var A=l(u,!1,this.adaptOptions(i));r.setGeometry(A),r.setId(o),r.setProperties(a)}return r},e.prototype.getLastExtent=function(){return this.extent_},e.prototype.getType=function(){return f["a"].ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var i=this.layers_,r=new oo.a(t),n=r.readFields(uo,{}),o=[];for(var a in n)if(!i||-1!=i.indexOf(a)){for(var s=n[a],h=0,c=s.length;h<c;++h){var u=po(r,s,h);o.push(this.createFeature_(r,u))}this.extent_=s?[0,0,s.extent,s.extent]:null}return o},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(u);function uo(t,e,i){if(3===t){var r={keys:[],values:[],features:[]},n=i.readVarint()+i.pos;i.readFields(lo,r,n),r.length=r.features.length,r.length&&(e[r.name]=r)}}function lo(t,e,i){if(15===t)e.version=i.readVarint();else if(1===t)e.name=i.readString();else if(5===t)e.extent=i.readVarint();else if(2===t)e.features.push(i.pos);else if(3===t)e.keys.push(i.readString());else if(4===t){var r=null,n=i.readVarint()+i.pos;while(i.pos<n)t=i.readVarint()>>3,r=1===t?i.readString():2===t?i.readFloat():3===t?i.readDouble():4===t?i.readVarint64():5===t?i.readVarint():6===t?i.readSVarint():7===t?i.readBoolean():null;e.values.push(r)}}function fo(t,e,i){if(1==t)e.id=i.readVarint();else if(2==t){var r=i.readVarint()+i.pos;while(i.pos<r){var n=e.layer.keys[i.readVarint()],o=e.layer.values[i.readVarint()];e.properties[n]=o}}else 3==t?e.type=i.readVarint():4==t&&(e.geometry=i.pos)}function po(t,e,i){t.pos=e.features[i];var r=t.readVarint()+t.pos,n={layer:e,type:0,properties:{}};return t.readFields(fo,n,r),n}function go(t,e){var i;return 1===t?i=1===e?y["default"].POINT:y["default"].MULTI_POINT:2===t?i=1===e?y["default"].LINE_STRING:y["default"].MULTI_LINE_STRING:3===t&&(i=y["default"].POLYGON),i}var vo=co,yo="http://www.w3.org/1999/xlink";function mo(t){return t.getAttributeNS(yo,"href")}var _o=function(){};_o.prototype.read=function(t){if(t){if("string"===typeof t){var e=Tt(t);return this.readFromDocument(e)}return Et(t)?this.readFromDocument(t):this.readFromNode(t)}return null},_o.prototype.readFromDocument=function(t){},_o.prototype.readFromNode=function(t){};var bo=_o,wo=[null,"http://www.opengis.net/ows/1.1"],xo=jt(wo,{ServiceIdentification:Mt(Yo),ServiceProvider:Mt(Xo),OperationsMetadata:Mt(Ho)}),So=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=Gt({},xo,t,[]);return e||null},e}(bo),Eo=jt(wo,{DeliveryPoint:Mt(ie),City:Mt(ie),AdministrativeArea:Mt(ie),PostalCode:Mt(ie),Country:Mt(ie),ElectronicMailAddress:Mt(ie)}),Oo=jt(wo,{Value:Rt(Zo)}),To=jt(wo,{AllowedValues:Mt(Do)}),Co=jt(wo,{Phone:Mt(Wo),Address:Mt(jo)}),Ao=jt(wo,{HTTP:Mt(qo)}),Lo=jt(wo,{Get:Rt(zo),Post:void 0}),Ro=jt(wo,{DCP:Mt(Uo)}),Mo=jt(wo,{Operation:Vo}),Io=jt(wo,{Voice:Mt(ie),Facsimile:Mt(ie)}),Po=jt(wo,{Constraint:Rt(Go)}),No=jt(wo,{IndividualName:Mt(ie),PositionName:Mt(ie),ContactInfo:Mt(Bo)}),Fo=jt(wo,{Abstract:Mt(ie),AccessConstraints:Mt(ie),Fees:Mt(ie),Title:Mt(ie),ServiceTypeVersion:Mt(ie),ServiceType:Mt(ie)}),ko=jt(wo,{ProviderName:Mt(ie),ProviderSite:Mt(mo),ServiceContact:Mt(Ko)});function jo(t,e){return Gt({},Eo,t,e)}function Do(t,e){return Gt({},Oo,t,e)}function Go(t,e){var i=t.getAttribute("name");if(i)return Gt({name:i},To,t,e)}function Bo(t,e){return Gt({},Co,t,e)}function Uo(t,e){return Gt({},Ao,t,e)}function zo(t,e){var i=mo(t);if(i)return Gt({href:i},Po,t,e)}function qo(t,e){return Gt({},Lo,t,e)}function Vo(t,e){var i=t.getAttribute("name"),r=Gt({},Ro,t,e);if(r){var n=e[e.length-1];n[i]=r}}function Ho(t,e){return Gt({},Mo,t,e)}function Wo(t,e){return Gt({},Io,t,e)}function Yo(t,e){return Gt({},Fo,t,e)}function Ko(t,e){return Gt({},No,t,e)}function Xo(t,e){return Gt({},ko,t,e)}function Zo(t,e){return ie(t)}var $o=So,Jo=i("1ea9");function Qo(t,e,i,r,n,o){var a,s;void 0!==n?(a=n,s=void 0!==o?o:0):(a=[],s=0);var h=e;while(h<i){var c=t[h++];a[s++]=t[h++],a[s++]=c;for(var u=2;u<r;++u)a[s++]=t[h++]}return a.length=s,a}var ta=i("c5e9"),ea=function(t){function e(e){t.call(this);var i=e||{};this.dataProjection=Object(h["get"])("EPSG:4326"),this.factor_=i.factor?i.factor:1e5,this.geometryLayout_=i.geometryLayout?i.geometryLayout:v["a"].XY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e);return new r["default"](i)},e.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return[i]},e.prototype.readGeometryFromText=function(t,e){var i=Object(Jo["b"])(this.geometryLayout_),r=ra(t,i,this.factor_);Qo(r,0,r.length,i,r);var n=Object(ta["a"])(r,0,r.length,i);return l(new m["a"](n,this.geometryLayout_),!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):(Object(n["a"])(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){t=l(t,!0,this.adaptOptions(e));var i=t.getFlatCoordinates(),r=t.getStride();return Qo(i,0,i.length,r,i),ia(i,r,this.factor_)},e}(di);function ia(t,e,i){var r,n=i||1e5,o=new Array(e);for(r=0;r<e;++r)o[r]=0;for(var a=0,s=t.length;a<s;)for(r=0;r<e;++r,++a){var h=t[a],c=h-o[r];o[r]=h,t[a]=c}return na(t,n)}function ra(t,e,i){var r,n=i||1e5,o=new Array(e);for(r=0;r<e;++r)o[r]=0;for(var a=oa(t,n),s=0,h=a.length;s<h;)for(r=0;r<e;++r,++s)o[r]+=a[s],a[s]=o[r];return a}function na(t,e){for(var i=e||1e5,r=0,n=t.length;r<n;++r)t[r]=Math.round(t[r]*i);return aa(t)}function oa(t,e){for(var i=e||1e5,r=sa(t),n=0,o=r.length;n<o;++n)r[n]/=i;return r}function aa(t){for(var e=0,i=t.length;e<i;++e){var r=t[e];t[e]=r<0?~(r<<1):r<<1}return ha(t)}function sa(t){for(var e=ca(t),i=0,r=e.length;i<r;++i){var n=e[i];e[i]=1&n?~(n>>1):n>>1}return e}function ha(t){for(var e="",i=0,r=t.length;i<r;++i)e+=ua(t[i]);return e}function ca(t){for(var e=[],i=0,r=0,n=0,o=t.length;n<o;++n){var a=t.charCodeAt(n)-63;i|=(31&a)<<r,a<32?(e.push(i),i=0,r=0):r+=5}return e}function ua(t){var e,i="";while(t>=32)e=63+(32|31&t),i+=String.fromCharCode(e),t>>=5;return e=t+63,i+=String.fromCharCode(e),i}var la=ea,fa=function(t){function e(e){t.call(this);var i=e||{};this.layerName_=i.layerName,this.layers_=i.layers?i.layers:null,this.dataProjection=Object(h["get"])(i.dataProjection?i.dataProjection:"EPSG:4326")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var i,r=t,n=null,o=null;r["transform"]&&(i=r["transform"],n=i["scale"],o=i["translate"]);var a=r["arcs"];i&&Sa(a,n,o);var s,h=[],c=r["objects"],u=this.layerName_;for(var l in c)this.layers_&&-1==this.layers_.indexOf(l)||("GeometryCollection"===c[l].type?(s=c[l],h.push.apply(h,wa(s,a,n,o,u,l,e))):(s=c[l],h.push(xa(s,a,n,o,u,l,e))));return h}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(g),da={Point:ga,LineString:ya,Polygon:_a,MultiPoint:va,MultiLineString:ma,MultiPolygon:ba};function pa(t,e){for(var i,r,n=[],o=0,a=t.length;o<a;++o)i=t[o],o>0&&n.pop(),r=i>=0?e[i]:e[~i].slice().reverse(),n.push.apply(n,r);for(var s=0,h=n.length;s<h;++s)n[s]=n[s].slice();return n}function ga(t,e,i){var r=t["coordinates"];return e&&i&&Oa(r,e,i),new S["a"](r)}function va(t,e,i){var r=t["coordinates"];if(e&&i)for(var n=0,o=r.length;n<o;++n)Oa(r[n],e,i);return new w["a"](r)}function ya(t,e){var i=pa(t["arcs"],e);return new m["a"](i)}function ma(t,e){for(var i=[],r=0,n=t["arcs"].length;r<n;++r)i[r]=pa(t["arcs"][r],e);return new b["a"](i)}function _a(t,e){for(var i=[],r=0,n=t["arcs"].length;r<n;++r)i[r]=pa(t["arcs"][r],e);return new E["default"](i)}function ba(t,e){for(var i=[],r=0,n=t["arcs"].length;r<n;++r){for(var o=t["arcs"][r],a=[],s=0,h=o.length;s<h;++s)a[s]=pa(o[s],e);i[r]=a}return new x["a"](i)}function wa(t,e,i,r,n,o,a){for(var s=t["geometries"],h=[],c=0,u=s.length;c<u;++c)h[c]=xa(s[c],e,i,r,n,o,a);return h}function xa(t,e,i,n,o,a,s){var h,c=t.type,u=da[c];h="Point"===c||"MultiPoint"===c?u(t,i,n):u(t,e);var f=new r["default"];f.setGeometry(l(h,!1,s)),void 0!==t.id&&f.setId(t.id);var d=t.properties;return o&&(d||(d={}),d[o]=a),d&&f.setProperties(d),f}function Sa(t,e,i){for(var r=0,n=t.length;r<n;++r)Ea(t[r],e,i)}function Ea(t,e,i){for(var r=0,n=0,o=0,a=t.length;o<a;++o){var s=t[o];r+=s[0],n+=s[1],s[0]=r,s[1]=n,Oa(s,e,i)}}function Oa(t,e,i){t[0]=t[0]*e[0]+i[0],t[1]=t[1]*e[1]+i[1]}var Ta=fa,Ca=Vt+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",Aa={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},La=function(t){function e(e){var i=e||{};t.call(this,i),this.FEATURE_COLLECTION_PARSERS[Vt]["featureMember"]=At(this.readFeaturesInternal),this.schemaLocation=i.schemaLocation?i.schemaLocation:Ca}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFlatCoordinates_=function(t,e){var i=xt(t,!1).replace(/^\s*|\s*$/g,""),r=e[0],n=r["srsName"],o="enu";if(n){var a=Object(h["get"])(n);a&&(o=a.getAxisOrientation())}for(var s=i.trim().split(/\s+/),c=[],u=0,l=s.length;u<l;u++){var f=s[u].split(/,+/),d=parseFloat(f[0]),p=parseFloat(f[1]),g=3===f.length?parseFloat(f[2]):0;"en"===o.substr(0,2)?c.push(d,p,g):c.push(p,d,g)}return c},e.prototype.readBox_=function(t,e){var i=Gt([null],this.BOX_PARSERS_,t,e,this);return Object(o["createOrUpdate"])(i[1][0],i[1][1],i[1][3],i[1][4])},e.prototype.innerBoundaryIsParser_=function(t,e){var i=Gt(void 0,this.RING_PARSERS,t,e,this);if(i){var r=e[e.length-1];r.push(i)}},e.prototype.outerBoundaryIsParser_=function(t,e){var i=Gt(void 0,this.RING_PARSERS,t,e,this);if(i){var r=e[e.length-1];r[0]=i}},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var r,n=e[e.length-1],o=n["multiSurface"],a=n["surface"],s=n["multiCurve"];return Array.isArray(t)?r="Envelope":(r=t.getType(),"MultiPolygon"===r&&!0===o?r="MultiSurface":"Polygon"===r&&!0===a?r="Surface":"MultiLineString"===r&&!0===s&&(r="MultiCurve")),wt("http://www.opengis.net/gml",r)},e.prototype.writeFeatureElement=function(t,e,i){var r=e.getId();r&&t.setAttribute("fid",r);var n=i[i.length-1],o=n["featureNS"],s=e.getGeometryName();n.serializers||(n.serializers={},n.serializers[o]={});var h=e.getProperties(),c=[],u=[];for(var l in h){var f=h[l];null!==f&&(c.push(l),u.push(f),l==s||"function"===typeof f.getSimplifiedGeometry?l in n.serializers[o]||(n.serializers[o][l]=It(this.writeGeometryElement,this)):l in n.serializers[o]||(n.serializers[o][l]=It(he)))}var d=Object(a["a"])({},n);d.node=t,Ut(d,n.serializers,Nt(void 0,o),u,i,c)},e.prototype.writeCurveOrLineString_=function(t,e,i){var r=i[i.length-1],n=r["srsName"];if("LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,i)}else if("Curve"===t.nodeName){var a=wt(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,i)}},e.prototype.writeLineStringOrCurveMember_=function(t,e,i){var r=this.GEOMETRY_NODE_FACTORY_(e,i);r&&(t.appendChild(r),this.writeCurveOrLineString_(r,e,i))},e.prototype.writeMultiCurveOrLineString_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"],a=r["curve"];o&&t.setAttribute("srsName",o);var s=e.getLineStrings();Ut({node:t,hasZ:n,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},e.prototype.writeGeometryElement=function(t,e,i){var r,n=i[i.length-1],o=Object(a["a"])({},n);o["node"]=t,r=Array.isArray(e)?n.dataProjection?Object(h["transformExtent"])(e,n.featureProjection,n.dataProjection):e:l(e,!0,n),Ut(o,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[r],i,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=wt(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,i){for(var r=i[i.length-1],n=r["hasZ"],o=r["srsName"],a=e.getCoordinates(),s=a.length,h=new Array(s),c=0;c<s;++c){var u=a[c];h[c]=this.getCoords_(u,o,n)}he(t,h.join(" "))},e.prototype.writeCurveSegments_=function(t,e,i){var r=wt(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString_(r,e,i)},e.prototype.writeSurfaceOrPolygon_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"];if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();Ut({node:t,hasZ:n,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,i,void 0,this)}else if("Surface"===t.nodeName){var s=wt(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,i)}},e.prototype.RING_NODE_FACTORY_=function(t,e,i){var r=e[e.length-1],n=r.node,o=r["exteriorWritten"];return void 0===o&&(r["exteriorWritten"]=!0),wt(n.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,i){var r=wt(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,i)},e.prototype.writeRing_=function(t,e,i){var r=wt(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing_(r,e,i)},e.prototype.getCoords_=function(t,e,i){var r="enu";e&&(r=Object(h["get"])(e).getAxisOrientation());var n="en"===r.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];if(i){var o=t[2]||0;n+=","+o}return n},e.prototype.writePoint_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"];o&&t.setAttribute("srsName",o);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);var s=e.getCoordinates(),h=this.getCoords_(s,o,n);he(a,h)},e.prototype.writeMultiPoint_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"];o&&t.setAttribute("srsName",o);var a=e.getPoints();Ut({node:t,hasZ:n,srsName:o},this.POINTMEMBER_SERIALIZERS_,Nt("pointMember"),a,i,void 0,this)},e.prototype.writePointMember_=function(t,e,i){var r=wt(t.namespaceURI,"Point");t.appendChild(r),this.writePoint_(r,e,i)},e.prototype.writeLinearRing_=function(t,e,i){var r=i[i.length-1],n=r["srsName"];n&&t.setAttribute("srsName",n);var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,i)},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,i){var r=i[i.length-1],n=r["hasZ"],o=r["srsName"],a=r["surface"];o&&t.setAttribute("srsName",o);var s=e.getPolygons();Ut({node:t,hasZ:n,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,i,void 0,this)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,i){var r=this.GEOMETRY_NODE_FACTORY_(e,i);r&&(t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,i))},e.prototype.writeEnvelope=function(t,e,i){var r=i[i.length-1],n=r["srsName"];n&&t.setAttribute("srsName",n);var o=["lowerCorner","upperCorner"],a=[e[0]+" "+e[1],e[2]+" "+e[3]];Ut({node:t},this.ENVELOPE_SERIALIZERS_,Ft,a,i,o,this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var r=e[e.length-1].node;return wt("http://www.opengis.net/gml",Aa[r.nodeName])},e}(Yt);La.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Lt(La.prototype.readFlatCoordinates_)}},La.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:La.prototype.innerBoundaryIsParser_,outerBoundaryIs:La.prototype.outerBoundaryIsParser_}},La.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:At(La.prototype.readFlatCoordinates_)}},La.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Lt(Yt.prototype.readPoint),MultiPoint:Lt(Yt.prototype.readMultiPoint),LineString:Lt(Yt.prototype.readLineString),MultiLineString:Lt(Yt.prototype.readMultiLineString),LinearRing:Lt(Yt.prototype.readLinearRing),Polygon:Lt(Yt.prototype.readPolygon),MultiPolygon:Lt(Yt.prototype.readMultiPolygon),Box:Lt(La.prototype.readBox_)}},La.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:It(La.prototype.writeCurveOrLineString_),MultiCurve:It(La.prototype.writeMultiCurveOrLineString_),Point:It(La.prototype.writePoint_),MultiPoint:It(La.prototype.writeMultiPoint_),LineString:It(La.prototype.writeCurveOrLineString_),MultiLineString:It(La.prototype.writeMultiCurveOrLineString_),LinearRing:It(La.prototype.writeLinearRing_),Polygon:It(La.prototype.writeSurfaceOrPolygon_),MultiPolygon:It(La.prototype.writeMultiSurfaceOrPolygon_),Surface:It(La.prototype.writeSurfaceOrPolygon_),MultiSurface:It(La.prototype.writeMultiSurfaceOrPolygon_),Envelope:It(La.prototype.writeEnvelope)}},La.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:It(La.prototype.writeLineStringOrCurveMember_),curveMember:It(La.prototype.writeLineStringOrCurveMember_)}},La.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:It(La.prototype.writeRing_),innerBoundaryIs:It(La.prototype.writeRing_)}},La.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:It(La.prototype.writePointMember_)}},La.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:It(La.prototype.writeSurfaceOrPolygonMember_),polygonMember:It(La.prototype.writeSurfaceOrPolygonMember_)}},La.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:It(he),upperCorner:It(he)}};var Ra=La,Ma=function(t){this.tagName_=t};Ma.prototype.getTagName=function(){return this.tagName_};var Ia=Ma,Pa=function(t){function e(e,i){t.call(this,e),this.conditions=i,Object(n["a"])(this.conditions.length>=2,57)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ia),Na=Pa,Fa=function(t){function e(e){t.call(this,"And",Array.prototype.slice.call(arguments))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Na),ka=Fa,ja=function(t){function e(e,i,r){t.call(this,"BBOX"),this.geometryName=e,this.extent=i,this.srsName=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ia),Da=ja;function Ga(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ka,e))}function Ba(t,e,i){return new Da(t,e,i)}var Ua={"http://www.opengis.net/gml":{boundedBy:Mt(Yt.prototype.readGeometryElement,"bounds")}},za={"http://www.opengis.net/wfs":{totalInserted:Mt(te),totalUpdated:Mt(te),totalDeleted:Mt(te)}},qa={"http://www.opengis.net/wfs":{TransactionSummary:Mt(ts,"transactionSummary"),InsertResults:Mt(ns,"insertIds")}},Va={"http://www.opengis.net/wfs":{PropertyName:It(he)}},Ha={"http://www.opengis.net/wfs":{Insert:It(os),Update:It(cs),Delete:It(hs),Property:It(us),Native:It(ls)}},Wa="feature",Ya="http://www.w3.org/2000/xmlns/",Ka="http://www.opengis.net/ogc",Xa="http://www.opengis.net/wfs",Za="http://www.opengis.net/fes",$a={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Ja="1.1.0",Qa=function(t){function e(e){t.call(this);var i=e||{};this.featureType_=i.featureType,this.featureNS_=i.featureNS,this.gmlFormat_=i.gmlFormat?i.gmlFormat:new fe,this.schemaLocation_=i.schemaLocation?i.schemaLocation:$a[Ja]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var i={node:t};Object(a["a"])(i,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(a["a"])(i,this.getReadOptions(t,e||{}));var r=[i];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[Vt]["featureMember"]=At(Yt.prototype.readFeaturesInternal);var n=Gt([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,r,this.gmlFormat_);return n||(n=[]),n},e.prototype.readTransactionResponse=function(t){if(t){if("string"===typeof t){var e=Tt(t);return this.readTransactionResponseFromDocument(e)}return Et(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"===typeof t){var e=Tt(t);return this.readFeatureCollectionMetadataFromDocument(e)}return Et(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},i=ee(t.getAttribute("numberOfFeatures"));return e["numberOfFeatures"]=i,Gt(e,Ua,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return Gt({},qa,t,[])},e.prototype.writeGetFeature=function(t){var e,i=wt(Xa,"GetFeature");if(i.setAttribute("service","WFS"),i.setAttribute("version","1.1.0"),t&&(t.handle&&i.setAttribute("handle",t.handle),t.outputFormat&&i.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&i.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&i.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&i.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&i.setAttribute("count",String(t.count)),void 0!==t.viewParams&&i.setAttribute("viewParams ",t.viewParams),e=t.filter,t.bbox)){Object(n["a"])(t.geometryName,12);var r=Ba(t.geometryName,t.bbox,t.srsName);e=e?Ga(e,r):r}i.setAttributeNS(bt,"xsi:schemaLocation",this.schemaLocation_);var o={node:i};return Object(a["a"])(o,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:e,propertyNames:t.propertyNames?t.propertyNames:[]}),Object(n["a"])(Array.isArray(t.featureTypes),11),Rs(i,t.featureTypes,[o]),i},e.prototype.writeTransaction=function(t,e,i,r){var n,o,s=[],h=wt(Xa,"Transaction"),c=r.version?r.version:Ja,u="1.0.0"===c?2:3;h.setAttribute("service","WFS"),h.setAttribute("version",c),r&&(n=r.gmlOptions?r.gmlOptions:{},r.handle&&h.setAttribute("handle",r.handle));var l=$a[c];h.setAttributeNS(bt,"xsi:schemaLocation",l);var f=r.featurePrefix?r.featurePrefix:Wa;return t&&(o=Object(a["a"])({node:h},{featureNS:r.featureNS,featureType:r.featureType,featurePrefix:f,gmlVersion:u,hasZ:r.hasZ,srsName:r.srsName}),Object(a["a"])(o,n),Ut(o,Ha,Nt("Insert"),t,s)),e&&(o=Object(a["a"])({node:h},{featureNS:r.featureNS,featureType:r.featureType,featurePrefix:f,gmlVersion:u,hasZ:r.hasZ,srsName:r.srsName}),Object(a["a"])(o,n),Ut(o,Ha,Nt("Update"),e,s)),i&&Ut({node:h,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:f,gmlVersion:u,srsName:r.srsName},Ha,Nt("Delete"),i,s),r.nativeElements&&Ut({node:h,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:f,gmlVersion:u,srsName:r.srsName},Ha,Nt("Native"),r.nativeElements,s),h},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var i=[{}];return this.gmlFormat_.readGeometryElement(e,i),Object(h["get"])(i.pop().srsName)}}return null},e}(qt);function ts(t,e){return Gt({},za,t,e)}var es={"http://www.opengis.net/ogc":{FeatureId:At((function(t,e){return t.getAttribute("fid")}))}};function is(t,e){Dt(es,t,e)}var rs={"http://www.opengis.net/wfs":{Feature:is}};function ns(t,e){return Gt([],rs,t,e)}function os(t,e,i){var r=i[i.length-1],n=r["featureType"],o=r["featureNS"],a=r["gmlVersion"],s=wt(o,n);t.appendChild(s),2===a?Ra.prototype.writeFeatureElement(s,e,i):fe.prototype.writeFeatureElement(s,e,i)}function as(t,e,i){var r=wt(Ka,"Filter"),n=wt(Ka,"FeatureId");r.appendChild(n),n.setAttribute("fid",e),t.appendChild(r)}function ss(t,e){t=t||Wa;var i=t+":";return 0===e.indexOf(i)?e:i+e}function hs(t,e,i){var r=i[i.length-1];Object(n["a"])(void 0!==e.getId(),26);var o=r["featureType"],a=r["featurePrefix"],s=r["featureNS"],h=ss(a,o);t.setAttribute("typeName",h),t.setAttributeNS(Ya,"xmlns:"+a,s);var c=e.getId();void 0!==c&&as(t,c,i)}function cs(t,e,i){var r=i[i.length-1];Object(n["a"])(void 0!==e.getId(),27);var o=r["featureType"],a=r["featurePrefix"],s=r["featureNS"],h=ss(a,o),c=e.getGeometryName();t.setAttribute("typeName",h),t.setAttributeNS(Ya,"xmlns:"+a,s);var u=e.getId();if(void 0!==u){for(var l=e.getKeys(),f=[],d=0,p=l.length;d<p;d++){var g=e.get(l[d]);if(void 0!==g){var v=l[d];g&&"function"===typeof g.getSimplifiedGeometry&&(v=c),f.push({name:v,value:g})}}Ut({gmlVersion:r["gmlVersion"],node:t,hasZ:r["hasZ"],srsName:r["srsName"]},Ha,Nt("Property"),f,i),as(t,u,i)}}function us(t,e,i){var r=wt(Xa,"Name"),n=i[i.length-1],o=n["gmlVersion"];if(t.appendChild(r),he(r,e.name),void 0!==e.value&&null!==e.value){var a=wt(Xa,"Value");t.appendChild(a),e.value&&"function"===typeof e.value.getSimplifiedGeometry?2===o?Ra.prototype.writeGeometryElement(a,e.value,i):fe.prototype.writeGeometryElement(a,e.value,i):he(a,e.value)}}function ls(t,e,i){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&he(t,e.value)}var fs={"http://www.opengis.net/wfs":{Query:It(ds)},"http://www.opengis.net/ogc":{During:It(_s),And:It(bs),Or:It(bs),Not:It(ws),BBOX:It(gs),Contains:It(vs),Intersects:It(ys),Within:It(ms),PropertyIsEqualTo:It(xs),PropertyIsNotEqualTo:It(xs),PropertyIsLessThan:It(xs),PropertyIsLessThanOrEqualTo:It(xs),PropertyIsGreaterThan:It(xs),PropertyIsGreaterThanOrEqualTo:It(xs),PropertyIsNull:It(Ss),PropertyIsBetween:It(Es),PropertyIsLike:It(Os)}};function ds(t,e,i){var r,n=i[i.length-1],o=n["featurePrefix"],s=n["featureNS"],h=n["propertyNames"],c=n["srsName"];r=o?ss(o,e):e,t.setAttribute("typeName",r),c&&t.setAttribute("srsName",c),s&&t.setAttributeNS(Ya,"xmlns:"+o,s);var u=Object(a["a"])({},n);u.node=t,Ut(u,Va,Nt("PropertyName"),h,i);var l=n["filter"];if(l){var f=wt(Ka,"Filter");t.appendChild(f),ps(f,l,i)}}function ps(t,e,i){var r={node:t};Ut(r,fs,Nt(e.getTagName()),[e],i)}function gs(t,e,i){var r=i[i.length-1];r["srsName"]=e.srsName,Cs(t,e.geometryName),fe.prototype.writeGeometryElement(t,e.extent,i)}function vs(t,e,i){var r=i[i.length-1];r["srsName"]=e.srsName,Cs(t,e.geometryName),fe.prototype.writeGeometryElement(t,e.geometry,i)}function ys(t,e,i){var r=i[i.length-1];r["srsName"]=e.srsName,Cs(t,e.geometryName),fe.prototype.writeGeometryElement(t,e.geometry,i)}function ms(t,e,i){var r=i[i.length-1];r["srsName"]=e.srsName,Cs(t,e.geometryName),fe.prototype.writeGeometryElement(t,e.geometry,i)}function _s(t,e,i){var r=wt(Za,"ValueReference");he(r,e.propertyName),t.appendChild(r);var n=wt(Vt,"TimePeriod");t.appendChild(n);var o=wt(Vt,"begin");n.appendChild(o),Ls(o,e.begin);var a=wt(Vt,"end");n.appendChild(a),Ls(a,e.end)}function bs(t,e,i){for(var r={node:t},n=e.conditions,o=0,a=n.length;o<a;++o){var s=n[o];Ut(r,fs,Nt(s.getTagName()),[s],i)}}function ws(t,e,i){var r={node:t},n=e.condition;Ut(r,fs,Nt(n.getTagName()),[n],i)}function xs(t,e,i){void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),Cs(t,e.propertyName),As(t,""+e.expression)}function Ss(t,e,i){Cs(t,e.propertyName)}function Es(t,e,i){Cs(t,e.propertyName);var r=wt(Ka,"LowerBoundary");t.appendChild(r),As(r,""+e.lowerBoundary);var n=wt(Ka,"UpperBoundary");t.appendChild(n),As(n,""+e.upperBoundary)}function Os(t,e,i){t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),Cs(t,e.propertyName),As(t,""+e.pattern)}function Ts(t,e,i){var r=wt(Ka,t);he(r,i),e.appendChild(r)}function Cs(t,e){Ts("PropertyName",t,e)}function As(t,e){Ts("Literal",t,e)}function Ls(t,e){var i=wt(Vt,"TimeInstant");t.appendChild(i);var r=wt(Vt,"timePosition");i.appendChild(r),he(r,e)}function Rs(t,e,i){var r=i[i.length-1],n=Object(a["a"])({},r);n.node=t,Ut(n,fs,Nt("Query"),e,i)}var Ms=Qa,Is={POINT:S["a"],LINESTRING:m["a"],POLYGON:E["default"],MULTIPOINT:w["a"],MULTILINESTRING:b["a"],MULTIPOLYGON:x["a"]},Ps="EMPTY",Ns="Z",Fs="M",ks="ZM",js={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},Ds={};for(var Gs in y["default"])Ds[Gs]=y["default"][Gs].toUpperCase();var Bs=function(t){this.wkt=t,this.index_=-1};Bs.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},Bs.prototype.isNumeric_=function(t,e){var i=void 0!==e&&e;return t>="0"&&t<="9"||"."==t&&!i},Bs.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},Bs.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},Bs.prototype.nextToken=function(){var t,e=this.nextChar_(),i=this.index_,r=e;if("("==e)t=js.LEFT_PAREN;else if(","==e)t=js.COMMA;else if(")"==e)t=js.RIGHT_PAREN;else if(this.isNumeric_(e)||"-"==e)t=js.NUMBER,r=this.readNumber_();else if(this.isAlpha_(e))t=js.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=js.EOF}return{position:i,value:r,type:t}},Bs.prototype.readNumber_=function(){var t,e=this.index_,i=!1,r=!1;do{"."==t?i=!0:"e"!=t&&"E"!=t||(r=!0),t=this.nextChar_()}while(this.isNumeric_(t,i)||!r&&("e"==t||"E"==t)||r&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},Bs.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()};var Us=function(t){this.lexer_=t,this.token_,this.layout_=v["a"].XY};Us.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},Us.prototype.isTokenType=function(t){var e=this.token_.type==t;return e},Us.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},Us.prototype.parse=function(){this.consume_();var t=this.parseGeometry_();return t},Us.prototype.parseGeometryLayout_=function(){var t=v["a"].XY,e=this.token_;if(this.isTokenType(js.TEXT)){var i=e.value;i===Ns?t=v["a"].XYZ:i===Fs?t=v["a"].XYM:i===ks&&(t=v["a"].XYZM),t!==v["a"].XY&&this.consume_()}return t},Us.prototype.parseGeometryCollectionText_=function(){if(this.match(js.LEFT_PAREN)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(js.COMMA));if(this.match(js.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Us.prototype.parsePointText_=function(){if(this.match(js.LEFT_PAREN)){var t=this.parsePoint_();if(this.match(js.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},Us.prototype.parseLineStringText_=function(){if(this.match(js.LEFT_PAREN)){var t=this.parsePointList_();if(this.match(js.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Us.prototype.parsePolygonText_=function(){if(this.match(js.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(js.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Us.prototype.parseMultiPointText_=function(){var t;if(this.match(js.LEFT_PAREN)){if(t=this.token_.type==js.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(js.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Us.prototype.parseMultiLineStringText_=function(){if(this.match(js.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(js.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Us.prototype.parseMultiPolygonText_=function(){if(this.match(js.LEFT_PAREN)){var t=this.parsePolygonTextList_();if(this.match(js.RIGHT_PAREN))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Us.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,i=0;i<e;++i){var r=this.token_;if(!this.match(js.NUMBER))break;t.push(r.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},Us.prototype.parsePointList_=function(){var t=[this.parsePoint_()];while(this.match(js.COMMA))t.push(this.parsePoint_());return t},Us.prototype.parsePointTextList_=function(){var t=[this.parsePointText_()];while(this.match(js.COMMA))t.push(this.parsePointText_());return t},Us.prototype.parseLineStringTextList_=function(){var t=[this.parseLineStringText_()];while(this.match(js.COMMA))t.push(this.parseLineStringText_());return t},Us.prototype.parsePolygonTextList_=function(){var t=[this.parsePolygonText_()];while(this.match(js.COMMA))t.push(this.parsePolygonText_());return t},Us.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(js.TEXT)&&this.token_.value==Ps;return t&&this.consume_(),t},Us.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},Us.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(js.TEXT)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var i=this.parseGeometryCollectionText_();return new Q(i)}var r,n=Is[e];if(!n)throw new Error("Invalid geometry type: "+e);switch(e){case"POINT":r=this.parsePointText_();break;case"LINESTRING":r=this.parseLineStringText_();break;case"POLYGON":r=this.parsePolygonText_();break;case"MULTIPOINT":r=this.parseMultiPointText_();break;case"MULTILINESTRING":r=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":r=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return r||(r=n===Is["POINT"]?[NaN,NaN]:[]),new n(r,this.layout_)}throw new Error(this.formatErrorMessage_())};var zs=function(t){function e(e){t.call(this);var i=e||{};this.splitCollection_=void 0!==i.splitCollection&&i.splitCollection}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse_=function(t){var e=new Bs(t),i=new Us(e);return i.parse()},e.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e);if(i){var n=new r["default"];return n.setGeometry(i),n}return null},e.prototype.readFeaturesFromText=function(t,e){var i=[],n=this.readGeometryFromText(t,e);i=this.splitCollection_&&n.getType()==y["default"].GEOMETRY_COLLECTION?n.getGeometriesArray():[n];for(var o=[],a=0,s=i.length;a<s;++a){var h=new r["default"];h.setGeometry(i[a]),o.push(h)}return o},e.prototype.readGeometryFromText=function(t,e){var i=this.parse_(t);return i?l(i,!1,e):null},e.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var i=[],r=0,n=t.length;r<n;++r)i.push(t[r].getGeometry());var o=new Q(i);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return Js(l(t,!0,e))},e}(di);function qs(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function Vs(t){for(var e=[],i=t.getPoints(),r=0,n=i.length;r<n;++r)e.push("("+qs(i[r])+")");return e.join(",")}function Hs(t){for(var e=[],i=t.getGeometries(),r=0,n=i.length;r<n;++r)e.push(Js(i[r]));return e.join(",")}function Ws(t){for(var e=t.getCoordinates(),i=[],r=0,n=e.length;r<n;++r)i.push(e[r].join(" "));return i.join(",")}function Ys(t){for(var e=[],i=t.getLineStrings(),r=0,n=i.length;r<n;++r)e.push("("+Ws(i[r])+")");return e.join(",")}function Ks(t){for(var e=[],i=t.getLinearRings(),r=0,n=i.length;r<n;++r)e.push("("+Ws(i[r])+")");return e.join(",")}function Xs(t){for(var e=[],i=t.getPolygons(),r=0,n=i.length;r<n;++r)e.push("("+Ks(i[r])+")");return e.join(",")}function Zs(t){var e=t.getLayout(),i="";return e!==v["a"].XYZ&&e!==v["a"].XYZM||(i+=Ns),e!==v["a"].XYM&&e!==v["a"].XYZM||(i+=Fs),i}var $s={Point:qs,LineString:Ws,Polygon:Ks,MultiPoint:Vs,MultiLineString:Ys,MultiPolygon:Xs,GeometryCollection:Hs};function Js(t){var e=t.getType(),i=$s[e],r=i(t);if(e=e.toUpperCase(),"function"===typeof t.getFlatCoordinates){var n=Zs(t);n.length>0&&(e+=" "+n)}return 0===r.length?e+" "+Ps:e+"("+r+")"}var Qs=zs,th=[null,"http://www.opengis.net/wms"],eh=jt(th,{Service:Mt(Sh),Capability:Mt(xh)}),ih=jt(th,{Request:Mt(Ih),Exception:Mt(Ch),Layer:Mt(Ah)}),rh=function(t){function e(){t.call(this),this.version=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=Gt({version:this.version},eh,t,[]);return e||null},e}(bo),nh=jt(th,{Name:Mt(ie),Title:Mt(ie),Abstract:Mt(ie),KeywordList:Mt(Bh),OnlineResource:Mt(mo),ContactInformation:Mt(Eh),Fees:Mt(ie),AccessConstraints:Mt(ie),LayerLimit:Mt(te),MaxWidth:Mt(te),MaxHeight:Mt(te)}),oh=jt(th,{ContactPersonPrimary:Mt(Oh),ContactPosition:Mt(ie),ContactAddress:Mt(Th),ContactVoiceTelephone:Mt(ie),ContactFacsimileTelephone:Mt(ie),ContactElectronicMailAddress:Mt(ie)}),ah=jt(th,{ContactPerson:Mt(ie),ContactOrganization:Mt(ie)}),sh=jt(th,{AddressType:Mt(ie),Address:Mt(ie),City:Mt(ie),StateOrProvince:Mt(ie),PostCode:Mt(ie),Country:Mt(ie)}),hh=jt(th,{Format:At(ie)}),ch=jt(th,{Name:Mt(ie),Title:Mt(ie),Abstract:Mt(ie),KeywordList:Mt(Bh),CRS:Rt(ie),EX_GeographicBoundingBox:Mt(wh),BoundingBox:Rt(bh),Dimension:Rt(Rh),Attribution:Mt(_h),AuthorityURL:Rt(jh),Identifier:Rt(ie),MetadataURL:Rt(Dh),DataURL:Rt(Mh),FeatureListURL:Rt(Mh),Style:Rt(Gh),MinScaleDenominator:Mt(Jt),MaxScaleDenominator:Mt(Jt),Layer:Rt(Lh)}),uh=jt(th,{Title:Mt(ie),OnlineResource:Mt(mo),LogoURL:Mt(kh)}),lh=jt(th,{westBoundLongitude:Mt(Jt),eastBoundLongitude:Mt(Jt),southBoundLatitude:Mt(Jt),northBoundLatitude:Mt(Jt)}),fh=jt(th,{GetCapabilities:Mt(Fh),GetMap:Mt(Fh),GetFeatureInfo:Mt(Fh)}),dh=jt(th,{Format:Rt(ie),DCPType:Rt(Ph)}),ph=jt(th,{HTTP:Mt(Nh)}),gh=jt(th,{Get:Mt(Mh),Post:Mt(Mh)}),vh=jt(th,{Name:Mt(ie),Title:Mt(ie),Abstract:Mt(ie),LegendURL:Rt(kh),StyleSheetURL:Mt(Mh),StyleURL:Mt(Mh)}),yh=jt(th,{Format:Mt(ie),OnlineResource:Mt(mo)}),mh=jt(th,{Keyword:At(ie)});function _h(t,e){return Gt({},uh,t,e)}function bh(t,e){var i=[Qt(t.getAttribute("minx")),Qt(t.getAttribute("miny")),Qt(t.getAttribute("maxx")),Qt(t.getAttribute("maxy"))],r=[Qt(t.getAttribute("resx")),Qt(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:i,res:r}}function wh(t,e){var i=Gt({},lh,t,e);if(i){var r=i["westBoundLongitude"],n=i["southBoundLatitude"],o=i["eastBoundLongitude"],a=i["northBoundLatitude"];if(void 0!==r&&void 0!==n&&void 0!==o&&void 0!==a)return[r,n,o,a]}}function xh(t,e){return Gt({},ih,t,e)}function Sh(t,e){return Gt({},nh,t,e)}function Eh(t,e){return Gt({},oh,t,e)}function Oh(t,e){return Gt({},ah,t,e)}function Th(t,e){return Gt({},sh,t,e)}function Ch(t,e){return Gt([],hh,t,e)}function Ah(t,e){return Gt({},ch,t,e)}function Lh(t,e){var i=e[e.length-1],r=Gt({},ch,t,e);if(r){var n=Zt(t.getAttribute("queryable"));void 0===n&&(n=i["queryable"]),r["queryable"]=void 0!==n&&n;var o=ee(t.getAttribute("cascaded"));void 0===o&&(o=i["cascaded"]),r["cascaded"]=o;var a=Zt(t.getAttribute("opaque"));void 0===a&&(a=i["opaque"]),r["opaque"]=void 0!==a&&a;var s=Zt(t.getAttribute("noSubsets"));void 0===s&&(s=i["noSubsets"]),r["noSubsets"]=void 0!==s&&s;var h=Qt(t.getAttribute("fixedWidth"));h||(h=i["fixedWidth"]),r["fixedWidth"]=h;var c=Qt(t.getAttribute("fixedHeight"));c||(c=i["fixedHeight"]),r["fixedHeight"]=c;var u=["Style","CRS","AuthorityURL"];u.forEach((function(t){if(t in i){var e=r[t]||[];r[t]=e.concat(i[t])}}));var l=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return l.forEach((function(t){if(!(t in r)){var e=i[t];r[t]=e}})),r}}function Rh(t,e){var i={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Zt(t.getAttribute("multipleValues")),nearestValue:Zt(t.getAttribute("nearestValue")),current:Zt(t.getAttribute("current")),values:ie(t)};return i}function Mh(t,e){return Gt({},yh,t,e)}function Ih(t,e){return Gt({},fh,t,e)}function Ph(t,e){return Gt({},ph,t,e)}function Nh(t,e){return Gt({},gh,t,e)}function Fh(t,e){return Gt({},dh,t,e)}function kh(t,e){var i=Mh(t,e);if(i){var r=[ee(t.getAttribute("width")),ee(t.getAttribute("height"))];return i["size"]=r,i}}function jh(t,e){var i=Mh(t,e);if(i)return i["name"]=t.getAttribute("name"),i}function Dh(t,e){var i=Mh(t,e);if(i)return i["type"]=t.getAttribute("type"),i}function Gh(t,e){return Gt({},vh,t,e)}function Bh(t,e){return Gt([],mh,t,e)}var Uh=rh,zh="_feature",qh="_layer",Vh=function(t){function e(e){t.call(this);var i=e||{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new Ra,this.layers_=i.layers?i.layers:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var i=t.localName,r=[];if(0===t.childNodes.length)return r;if("msGMLOutput"==i)for(var n=0,o=t.childNodes.length;n<o;n++){var a=t.childNodes[n];if(a.nodeType===Node.ELEMENT_NODE){var s=a,h=e[0],c=qh,u=s.localName.replace(c,"");if(!this.layers_||Object(mt["f"])(this.layers_,u)){var l=u+zh;h["featureType"]=l,h["featureNS"]=this.featureNS_;var f={};f[l]=At(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var d=jt([h["featureNS"],null],f);s.setAttribute("namespaceURI",this.featureNS_);var p=Gt([],d,s,e,this.gmlFormat_);p&&Object(mt["c"])(r,p)}}}if("FeatureCollection"==i){var g=Gt([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);g&&(r=g)}return r},e.prototype.readFeaturesFromNode=function(t,e){var i={};return e&&Object(a["a"])(i,this.getReadOptions(t,e)),this.readFeatures_(t,[i])},e}(qt),Hh=Vh,Wh=[null,"http://www.opengis.net/wmts/1.0"],Yh=[null,"http://www.opengis.net/ows/1.1"],Kh=jt(Wh,{Contents:Mt(ac)}),Xh=function(t){function e(){t.call(this),this.owsParser_=new $o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=t.getAttribute("version").trim(),i=this.owsParser_.readFromNode(t);return i?(i["version"]=e,i=Gt(i,Kh,t,[]),i||null):null},e}(bo),Zh=jt(Wh,{Layer:Rt(sc),TileMatrixSet:Rt(hc)}),$h=jt(Wh,{Style:Rt(cc),Format:Rt(ie),TileMatrixSetLink:Rt(uc),Dimension:Rt(lc),ResourceURL:Rt(fc)},jt(Yh,{Title:Mt(ie),Abstract:Mt(ie),WGS84BoundingBox:Mt(dc),Identifier:Mt(ie)})),Jh=jt(Wh,{LegendURL:Rt(pc)},jt(Yh,{Title:Mt(ie),Identifier:Mt(ie)})),Qh=jt(Wh,{TileMatrixSet:Mt(ie),TileMatrixSetLimits:Mt(yc)}),tc=jt(Wh,{TileMatrixLimits:At(mc)}),ec=jt(Wh,{TileMatrix:Mt(ie),MinTileRow:Mt(te),MaxTileRow:Mt(te),MinTileCol:Mt(te),MaxTileCol:Mt(te)}),ic=jt(Wh,{Default:Mt(ie),Value:Rt(ie)},jt(Yh,{Identifier:Mt(ie)})),rc=jt(Yh,{LowerCorner:At(gc),UpperCorner:At(gc)}),nc=jt(Wh,{WellKnownScaleSet:Mt(ie),TileMatrix:Rt(vc)},jt(Yh,{SupportedCRS:Mt(ie),Identifier:Mt(ie)})),oc=jt(Wh,{TopLeftCorner:Mt(gc),ScaleDenominator:Mt(Jt),TileWidth:Mt(te),TileHeight:Mt(te),MatrixWidth:Mt(te),MatrixHeight:Mt(te)},jt(Yh,{Identifier:Mt(ie)}));function ac(t,e){return Gt({},Zh,t,e)}function sc(t,e){return Gt({},$h,t,e)}function hc(t,e){return Gt({},nc,t,e)}function cc(t,e){var i=Gt({},Jh,t,e);if(i){var r="true"===t.getAttribute("isDefault");return i["isDefault"]=r,i}}function uc(t,e){return Gt({},Qh,t,e)}function lc(t,e){return Gt({},ic,t,e)}function fc(t,e){var i=t.getAttribute("format"),r=t.getAttribute("template"),n=t.getAttribute("resourceType"),o={};return i&&(o["format"]=i),r&&(o["template"]=r),n&&(o["resourceType"]=n),o}function dc(t,e){var i=Gt([],rc,t,e);if(2==i.length)return Object(o["boundingExtent"])(i)}function pc(t,e){var i={};return i["format"]=t.getAttribute("format"),i["href"]=mo(t),i}function gc(t,e){var i=ie(t).split(/\s+/);if(i&&2==i.length){var r=+i[0],n=+i[1];if(!isNaN(r)&&!isNaN(n))return[r,n]}}function vc(t,e){return Gt({},oc,t,e)}function yc(t,e){return Gt([],tc,t,e)}function mc(t,e){return Gt({},ec,t,e)}var _c=Xh},"3b77":function(t,e){t.exports=!1},"3b83":function(t,e,i){"use strict";var r=i("1499"),n=i("d1dd"),o=i("1d76"),a=i("dd26"),s=i("21b7");function h(t){if(!s.enabled)throw new Error("Transport created when disabled");n.call(this,t,"/xhr",a,s)}r(h,n),h.enabled=o.enabled,h.transportName="xdr-polling",h.roundTrips=2,t.exports=h},"3b9e":function(t,e,i){var r=i("9336")("iterator"),n=!1;try{var o=[7][r]();o["return"]=function(){n=!0},Array.from(o,(function(){throw 2}))}catch(a){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:i=!0}},o[r]=function(){return s},t(o)}catch(a){}return i}},"3bb3":function(t,e,i){var r=i("4691"),n=i("d38c").document,o=r(n)&&r(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},"3c35":function(t,e){(function(e){t.exports=e}).call(this,{})},"3c5d":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("bd30"),h=i("a0a2"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),i=this.width(),r=this.height();if(t.beginPath(),e){var n=0,o=0,a=0,s=0;"number"===typeof e?n=o=a=s=Math.min(e,i/2,r/2):(n=Math.min(e[0]||0,i/2,r/2),o=Math.min(e[1]||0,i/2,r/2),s=Math.min(e[2]||0,i/2,r/2),a=Math.min(e[3]||0,i/2,r/2)),t.moveTo(n,0),t.lineTo(i-o,0),t.arc(i-o,o,o,3*Math.PI/2,0,!1),t.lineTo(i,r-s),t.arc(i-s,r-s,s,0,Math.PI/2,!1),t.lineTo(a,r),t.arc(a,r-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,n),t.arc(n,n,n,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,i,r);t.closePath(),t.fillStrokeShape(this)},e}(a.Shape);e.Rect=c,c.prototype.className="Rect",s._registerNode(c),o.Factory.addGetterSetter(c,"cornerRadius",0,h.getNumberOrArrayOfNumbersValidator(4)),n.Collection.mapMethods(c)},"3d01":function(t,e,i){var r=i("8d2e"),n=i("9336")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[n]===t)}},"3d22":function(t,e,i){"use strict";i.r(e),i.d(e,"boundingExtent",(function(){return a})),i.d(e,"buffer",(function(){return h})),i.d(e,"clone",(function(){return c})),i.d(e,"closestSquaredDistanceXY",(function(){return u})),i.d(e,"containsCoordinate",(function(){return l})),i.d(e,"containsExtent",(function(){return f})),i.d(e,"containsXY",(function(){return d})),i.d(e,"coordinateRelationship",(function(){return p})),i.d(e,"createEmpty",(function(){return g})),i.d(e,"createOrUpdate",(function(){return v})),i.d(e,"createOrUpdateEmpty",(function(){return y})),i.d(e,"createOrUpdateFromCoordinate",(function(){return m})),i.d(e,"createOrUpdateFromCoordinates",(function(){return _})),i.d(e,"createOrUpdateFromFlatCoordinates",(function(){return b})),i.d(e,"createOrUpdateFromRings",(function(){return w})),i.d(e,"equals",(function(){return x})),i.d(e,"extend",(function(){return S})),i.d(e,"extendCoordinate",(function(){return E})),i.d(e,"extendCoordinates",(function(){return O})),i.d(e,"extendFlatCoordinates",(function(){return T})),i.d(e,"extendRings",(function(){return C})),i.d(e,"extendXY",(function(){return A})),i.d(e,"forEachCorner",(function(){return L})),i.d(e,"getArea",(function(){return R})),i.d(e,"getBottomLeft",(function(){return M})),i.d(e,"getBottomRight",(function(){return I})),i.d(e,"getCenter",(function(){return P})),i.d(e,"getCorner",(function(){return N})),i.d(e,"getEnlargedArea",(function(){return F})),i.d(e,"getForViewAndSize",(function(){return k})),i.d(e,"getHeight",(function(){return j})),i.d(e,"getIntersectionArea",(function(){return D})),i.d(e,"getIntersection",(function(){return G})),i.d(e,"getMargin",(function(){return B})),i.d(e,"getSize",(function(){return U})),i.d(e,"getTopLeft",(function(){return z})),i.d(e,"getTopRight",(function(){return q})),i.d(e,"getWidth",(function(){return V})),i.d(e,"intersects",(function(){return H})),i.d(e,"isEmpty",(function(){return W})),i.d(e,"returnOrUpdate",(function(){return Y})),i.d(e,"scaleFromCenter",(function(){return K})),i.d(e,"intersectsSegment",(function(){return X})),i.d(e,"applyTransform",(function(){return Z}));var r=i("41ec"),n=i("df91"),o=i("d317");function a(t){for(var e=g(),i=0,r=t.length;i<r;++i)E(e,t[i]);return e}function s(t,e,i){var r=Math.min.apply(null,t),n=Math.min.apply(null,e),o=Math.max.apply(null,t),a=Math.max.apply(null,e);return v(r,n,o,a,i)}function h(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function c(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function u(t,e,i){var r,n;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,n=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,r*r+n*n}function l(t,e){return d(t,e[0],e[1])}function f(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function p(t,e){var i=t[0],r=t[1],n=t[2],a=t[3],s=e[0],h=e[1],c=o["a"].UNKNOWN;return s<i?c|=o["a"].LEFT:s>n&&(c|=o["a"].RIGHT),h<r?c|=o["a"].BELOW:h>a&&(c|=o["a"].ABOVE),c===o["a"].UNKNOWN&&(c=o["a"].INTERSECTING),c}function g(){return[1/0,1/0,-1/0,-1/0]}function v(t,e,i,r,n){return n?(n[0]=t,n[1]=e,n[2]=i,n[3]=r,n):[t,e,i,r]}function y(t){return v(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var i=t[0],r=t[1];return v(i,r,i,r,e)}function _(t,e){var i=y(e);return O(i,t)}function b(t,e,i,r,n){var o=y(n);return T(o,t,e,i,r)}function w(t,e){var i=y(e);return C(i,t)}function x(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function S(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function E(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function O(t,e){for(var i=0,r=e.length;i<r;++i)E(t,e[i]);return t}function T(t,e,i,r,n){for(;i<r;i+=n)A(t,e[i],e[i+1]);return t}function C(t,e){for(var i=0,r=e.length;i<r;++i)O(t,e[i]);return t}function A(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function L(t,e,i){var r;return r=e.call(i,M(t)),r||(r=e.call(i,I(t)),r||(r=e.call(i,q(t)),r||(r=e.call(i,z(t)),r||!1)))}function R(t){var e=0;return W(t)||(e=V(t)*j(t)),e}function M(t){return[t[0],t[1]]}function I(t){return[t[2],t[1]]}function P(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function N(t,e){var i;return e===n["a"].BOTTOM_LEFT?i=M(t):e===n["a"].BOTTOM_RIGHT?i=I(t):e===n["a"].TOP_LEFT?i=z(t):e===n["a"].TOP_RIGHT?i=q(t):Object(r["a"])(!1,13),i}function F(t,e){var i=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),n=Math.max(t[2],e[2]),o=Math.max(t[3],e[3]);return(n-i)*(o-r)}function k(t,e,i,r,n){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(i),h=Math.sin(i),c=o*s,u=o*h,l=a*s,f=a*h,d=t[0],p=t[1],g=d-c+f,y=d-c-f,m=d+c-f,_=d+c+f,b=p-u-l,w=p-u+l,x=p+u+l,S=p+u-l;return v(Math.min(g,y,m,_),Math.min(b,w,x,S),Math.max(g,y,m,_),Math.max(b,w,x,S),n)}function j(t){return t[3]-t[1]}function D(t,e){var i=G(t,e);return R(i)}function G(t,e,i){var r=i||g();return H(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):y(r),r}function B(t){return V(t)+j(t)}function U(t){return[t[2]-t[0],t[3]-t[1]]}function z(t){return[t[0],t[3]]}function q(t){return[t[2],t[3]]}function V(t){return t[2]-t[0]}function H(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function W(t){return t[2]<t[0]||t[3]<t[1]}function Y(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function K(t,e){var i=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=r,t[3]+=r}function X(t,e,i){var r=!1,n=p(t,e),a=p(t,i);if(n===o["a"].INTERSECTING||a===o["a"].INTERSECTING)r=!0;else{var s,h,c=t[0],u=t[1],l=t[2],f=t[3],d=e[0],g=e[1],v=i[0],y=i[1],m=(y-g)/(v-d);a&o["a"].ABOVE&&!(n&o["a"].ABOVE)&&(s=v-(y-f)/m,r=s>=c&&s<=l),r||!(a&o["a"].RIGHT)||n&o["a"].RIGHT||(h=y-(v-l)*m,r=h>=u&&h<=f),r||!(a&o["a"].BELOW)||n&o["a"].BELOW||(s=v-(y-u)/m,r=s>=c&&s<=l),r||!(a&o["a"].LEFT)||n&o["a"].LEFT||(h=y-(v-c)*m,r=h>=u&&h<=f)}return r}function Z(t,e,i){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];e(r,r,2);var n=[r[0],r[2],r[4],r[6]],o=[r[1],r[3],r[5],r[7]];return s(n,o,i)}},"3d7c":function(t,e,i){"use strict";(function(e){i("c8f3");var r,n=i("dc84"),o=i("1499"),a=i("5db0"),s=i("1ebb"),h=i("9faf"),c=i("a87f"),u=i("4035"),l=i("dea7"),f=i("3aa6"),d=i("1691"),p=i("df92"),g=i("fbf5"),v=i("f106"),y=i("ff89"),m=i("fd40"),_=i("5e97"),b=i("6df3"),w=function(){};function x(t,e,i){if(!(this instanceof x))return new x(t,e,i);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");v.call(this),this.readyState=x.CONNECTING,this.extensions="",this.protocol="",i=i||{},i.protocols_whitelist&&p.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=i.transports,this._transportOptions=i.transportOptions||{},this._timeout=i.timeout||0;var r=i.sessionId||8;if("function"===typeof r)this._generateSessionId=r;else{if("number"!==typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(r)}}this._server=i.server||s.numberString(1e3);var o=new n(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https:"===y.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var h=e.sort();h.forEach((function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<h.length-1&&t===h[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")}));var u=c.getOrigin(y.href);this._origin=u?u.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,w("using url",this.url),this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:c.isOriginEqual(this.url,y.href),sameScheme:c.isSchemeEqual(this.url,y.href)},this._ir=new b(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function S(t){return 1e3===t||t>=3e3&&t<=4999}o(x,v),x.prototype.close=function(t,e){if(t&&!S(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==x.CLOSING&&this.readyState!==x.CLOSED){var i=!0;this._close(t||1e3,e||"Normal closure",i)}},x.prototype.send=function(t){if("string"!==typeof t&&(t=""+t),this.readyState===x.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===x.OPEN&&this._transport.send(h.quote(t))},x.version=i("59ca"),x.CONNECTING=0,x.OPEN=1,x.CLOSING=2,x.CLOSED=3,x.prototype._receiveInfo=function(t,e){if(w("_receiveInfo",e),this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=f.extend(t,this._urlInfo),w("info",t);var i=r.filterToEnabled(this._transportsWhitelist,t);this._transports=i.main,w(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},x.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(w("attempt",t.transportName),t.needBody&&(!e.document.body||"undefined"!==typeof e.document.readyState&&"complete"!==e.document.readyState&&"interactive"!==e.document.readyState))return w("waiting for body"),this._transports.unshift(t),void u.attachEvent("load",this._connect.bind(this));var i=Math.max(this._timeout,this._rto*t.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),i),w("using timeout",i);var r=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[t.transportName];w("transport url",r);var o=new t(r,this._transUrl,n);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=t.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},x.prototype._transportTimeout=function(){w("_transportTimeout"),this.readyState===x.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},x.prototype._transportMessage=function(t){w("_transportMessage",t);var e,i=this,r=t.slice(0,1),n=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void w("heartbeat",this.transport)}if(n)try{e=a.parse(n)}catch(o){w("bad json",n)}if("undefined"!==typeof e)switch(r){case"a":Array.isArray(e)&&e.forEach((function(t){w("message",i.transport,t),i.dispatchEvent(new _(t))}));break;case"m":w("message",this.transport,e),this.dispatchEvent(new _(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0);break}else w("empty payload",n)},x.prototype._transportClose=function(t,e){w("_transportClose",this.transport,t,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),S(t)||2e3===t||this.readyState!==x.CONNECTING?this._close(t,e):this._connect()},x.prototype._open=function(){w("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===x.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=x.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),w("connected",this.transport)):this._close(1006,"Server lost session")},x.prototype._close=function(t,e,i){w("_close",this.transport,t,e,i,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===x.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=x.CLOSING,setTimeout(function(){this.readyState=x.CLOSED,r&&this.dispatchEvent(new g("error"));var n=new m("close");n.wasClean=i||!1,n.code=t||1e3,n.reason=e,this.dispatchEvent(n),this.onmessage=this.onclose=this.onerror=null,w("disconnected")}.bind(this),0)},x.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return r=l(t),i("fb79")(x,t),x}}).call(this,i("c8ba"))},"3d8e":function(t,e,i){"use strict";e["a"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},"3e5c":function(t,e,i){var r=i("0d63"),n=i("42ee"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){n(t);try{return o&&o(t),!0}catch(e){return!1}}})},"3e66":function(t,e,i){var r=i("0d63"),n=i("c914");r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},"3e6d":function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s}));var r=i("136c");function n(t,e){return void 0!==t?0:void 0}function o(t,e){return void 0!==t?t+e:void 0}function a(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?(t=Math.floor((t+i)/e+.5)*e,t):void 0}}function s(t){var e=t||Object(r["j"])(5);return function(t,i){return void 0!==t?Math.abs(t+i)<=e?0:t+i:void 0}}},"3e7d":function(t,e,i){"use strict";var r=i("0d63"),n=i("9e2d")(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("7671")(o)},"3ec4":function(t,e,i){"use strict";var r=i("615e"),n=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r["a"][this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e["a"]=n},"3efd":function(t,e,i){var r=i("0d63"),n=Math.exp;r(r.S,"Math",{cosh:function(t){return(n(t=+t)+n(-t))/2}})},"3f2c":function(t,e,i){"use strict";i.d(e,"b",(function(){return d}));var r=i("a273"),n=i("eee0"),o=i("fd21"),a=i("0acf"),s=i("d7c4"),h=i("3d8e"),c=i("acdf"),u=i("9ee7"),l=i("a7f3"),f=function(t){function e(e){var i=Object(c["a"])({},e);delete i.source,t.call(this,i),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(r["listen"])(this,Object(a["getChangeEventType"])(h["a"].SOURCE),this.handleSourcePropertyChange_,this);var n=e.source?e.source:null;this.setSource(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){var t=this.get(h["a"].SOURCE);return t||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():l["a"].UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(r["unlistenByKey"])(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(r["listen"])(t,n["default"].CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(r["unlistenByKey"])(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(r["unlistenByKey"])(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(r["listen"])(t,u["a"].PRECOMPOSE,(function(t){var e=t,i=this.getLayerState();i.managed=!1,void 0===this.getZIndex()&&(i.zIndex=1/0),e.frameState.layerStatesArray.push(i),e.frameState.layerStates[Object(o["c"])(this)]=i}),this),this.mapRenderKey_=Object(r["listen"])(this,n["default"].CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(h["a"].SOURCE,t)},e}(s["a"]);function d(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e["a"]=f},"3fa1":function(t,e,i){var r=i("0f26"),n=i("ea05"),o=i("ad06"),a=i("7e33"),s=i("0d63"),h=i("154b"),c=i("42ee"),u=i("cdf9");function l(t,e,i){var s,f,d=arguments.length<4?t:arguments[3],p=n.f(c(t),e);if(!p){if(u(f=o(t)))return l(f,e,i,d);p=h(0)}if(a(p,"value")){if(!1===p.writable||!u(d))return!1;if(s=n.f(d,e)){if(s.get||s.set||!1===s.writable)return!1;s.value=i,r.f(d,e,s)}else r.f(d,e,h(0,i));return!0}return void 0!==p.set&&(p.set.call(d,i),!0)}s(s.S,"Reflect",{set:l})},"3fa3":function(t,e,i){"use strict";var r=i("0d63"),n=i("ec26");r(r.P+r.F*!i("60a1")([].reduceRight,!0),"Array",{reduceRight:function(t){return n(this,t,arguments.length,arguments[1],!0)}})},4027:function(t,e,i){i("9e46"),i("c6a1"),i("75f3"),i("8122"),i("f3d1"),i("837c"),i("6e76"),i("df29"),i("3a81"),i("0f13"),i("a7d6"),i("9a77"),i("7416"),i("ed0d"),i("b53a"),i("59fa"),i("81e6"),i("6585"),i("9cfa"),i("1ab3"),i("1a2d"),i("0365"),i("ba5b"),i("2ee3"),i("efbb"),i("df8c"),i("88ec"),i("fc9e"),i("4500"),i("d376"),i("89c3"),i("438c"),i("67444"),i("e175"),i("56f0"),i("df9d"),i("20f9"),i("d171"),i("e070"),i("cbe6"),i("3efd"),i("c750"),i("1d6e"),i("3280"),i("e6b5"),i("0370"),i("48d0"),i("733b"),i("922b"),i("ab90"),i("b83a"),i("d9bf"),i("05af"),i("d106"),i("2e39"),i("3309"),i("3a56"),i("6dcc"),i("2d3a"),i("1663"),i("1cc3"),i("665e"),i("f278"),i("29ec"),i("1ab2"),i("ee38"),i("2239"),i("8f8a"),i("c044"),i("b7e25"),i("75b6"),i("2121"),i("b864"),i("8f82"),i("dde4"),i("e5da"),i("0124"),i("7255"),i("38ce"),i("fcef"),i("63c5"),i("63b3"),i("cae4"),i("93de"),i("1bb8"),i("608d"),i("d7bd"),i("d9ad"),i("46d6"),i("b464"),i("58b4"),i("3fa3"),i("7484"),i("bd48"),i("5fde"),i("db04"),i("3e7d"),i("665e8"),i("e245"),i("221b"),i("ea9b"),i("3a89"),i("dceb"),i("3601"),i("e1a6"),i("8cc4"),i("2943"),i("9e3f"),i("6d75"),i("9dc2"),i("abf9"),i("1d8e"),i("66a9"),i("9c75"),i("7002"),i("d302"),i("7f1c"),i("2eea"),i("0451"),i("cfdc"),i("bf45"),i("3557"),i("2e2b"),i("0c52"),i("7a00"),i("b0ed"),i("8dfc"),i("76a7"),i("02d3"),i("5a66"),i("2882"),i("ecb4"),i("71d8"),i("883b"),i("5ef7"),i("3e5c"),i("3fa1"),i("c4d3"),t.exports=i("a06f")},4035:function(t,e,i){"use strict";(function(e){var r=i("1ebb"),n={},o=!1,a=e.chrome&&e.chrome.app&&e.chrome.app.runtime;t.exports={attachEvent:function(t,i){"undefined"!==typeof e.addEventListener?e.addEventListener(t,i,!1):e.document&&e.attachEvent&&(e.document.attachEvent("on"+t,i),e.attachEvent("on"+t,i))},detachEvent:function(t,i){"undefined"!==typeof e.addEventListener?e.removeEventListener(t,i,!1):e.document&&e.detachEvent&&(e.document.detachEvent("on"+t,i),e.detachEvent("on"+t,i))},unloadAdd:function(t){if(a)return null;var e=r.string(8);return n[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in n&&delete n[t]},triggerUnloadCallbacks:function(){for(var t in n)n[t](),delete n[t]}};var s=function(){o||(o=!0,t.exports.triggerUnloadCallbacks())};a||t.exports.attachEvent("unload",s)}).call(this,i("c8ba"))},4093:function(t,e,i){"use strict";var r=i("646b"),n=i("761c");t.exports=function(t,e){return t&&!r(e)?n(t,e):e}},"40f5":function(t,e,i){"use strict";var r=i("a273"),n=i("5537"),o=i("9734"),a=i("e289"),s=i("1b85"),h=i("9c7f"),c=["","unavailable","touch","pen","mouse"];function u(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function l(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function f(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function d(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function p(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function g(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function v(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function y(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var m=function(t){function e(e){var i={MSPointerDown:u,MSPointerMove:l,MSPointerUp:f,MSPointerOut:d,MSPointerOver:p,MSPointerCancel:g,MSGotPointerCapture:y,MSLostPointerCapture:v};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"===typeof t.pointerType&&(e=this.dispatcher.cloneEvent(t,t),e.pointerType=c[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(h["a"]),_=m;function b(t){this.dispatcher.fireNativeEvent(t)}function w(t){this.dispatcher.fireNativeEvent(t)}function x(t){this.dispatcher.fireNativeEvent(t)}function S(t){this.dispatcher.fireNativeEvent(t)}function E(t){this.dispatcher.fireNativeEvent(t)}function O(t){this.dispatcher.fireNativeEvent(t)}function T(t){this.dispatcher.fireNativeEvent(t)}function C(t){this.dispatcher.fireNativeEvent(t)}var A=function(t){function e(e){var i={pointerdown:b,pointermove:w,pointerup:x,pointerout:S,pointerover:E,pointercancel:O,gotpointercapture:C,lostpointercapture:T};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h["a"]),L=A,R=i("64c1"),M=!1,I=function(t){function e(e,i,r){t.call(this,e),this.originalEvent=i;var n=r||{};this.buttons=P(n),this.pressure=N(n,this.buttons),this.bubbles="bubbles"in n&&n["bubbles"],this.cancelable="cancelable"in n&&n["cancelable"],this.view="view"in n?n["view"]:null,this.detail="detail"in n?n["detail"]:null,this.screenX="screenX"in n?n["screenX"]:0,this.screenY="screenY"in n?n["screenY"]:0,this.clientX="clientX"in n?n["clientX"]:0,this.clientY="clientY"in n?n["clientY"]:0,this.ctrlKey="ctrlKey"in n&&n["ctrlKey"],this.altKey="altKey"in n&&n["altKey"],this.shiftKey="shiftKey"in n&&n["shiftKey"],this.metaKey="metaKey"in n&&n["metaKey"],this.button="button"in n?n["button"]:0,this.relatedTarget="relatedTarget"in n?n["relatedTarget"]:null,this.pointerId="pointerId"in n?n["pointerId"]:0,this.width="width"in n?n["width"]:0,this.height="height"in n?n["height"]:0,this.tiltX="tiltX"in n?n["tiltX"]:0,this.tiltY="tiltY"in n?n["tiltY"]:0,this.pointerType="pointerType"in n?n["pointerType"]:"",this.hwTimestamp="hwTimestamp"in n?n["hwTimestamp"]:0,this.isPrimary="isPrimary"in n&&n["isPrimary"],i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(R["a"]);function P(t){var e;if(t.buttons||M)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}function N(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0,i}(function(){try{var t=new MouseEvent("click",{buttons:1});M=1===t.buttons}catch(e){}})();var F=I,k=i("6646"),j=200,D="touch";function G(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function B(t){this.processTouches_(t,this.moveOverOut_)}function U(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function z(t){this.processTouches_(t,this.cancelOut_)}var q=function(t){function e(e,i){var r={touchstart:G,touchmove:B,touchend:U,touchcancel:z};t.call(this,e,r),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&s["a"].toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),j)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType=D,i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),r=i.length;function n(){t.preventDefault()}for(var o=0;o<r;++o){var a=this.touchToPointer_(t,i[o]);a.preventDefault=n,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,r=0;r<i;r++){var n=t[r];if(n.identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),r=i.length;if(r>=e.length){for(var n=[],o=0;o<r;++o){var a=Number(i[o]),h=this.pointerMap[a];a==s["a"]||this.findTouch_(e,a-2)||n.push(h.out)}for(var c=0;c<n.length;++c)this.cancelOut_(t,n[c])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,r=this.pointerMap[i.pointerId];if(r){var n=r.out,o=r.outTarget;this.dispatcher.move(i,t),n&&o!==i.target&&(n.relatedTarget=i.target,i.relatedTarget=o,n.target=o,i.target?(this.dispatcher.leaveOut(n,t),this.dispatcher.enterOver(i,t)):(i.target=o,i.relatedTarget=null,this.cancelOut_(t,i))),r.out=i,r.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var r=[i.clientX,i.clientY];e.push(r),setTimeout((function(){Object(k["j"])(e,r)}),this.dedupTimeout_)}},e}(h["a"]),V=q,H=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],W=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(o["g"])this.registerSource("native",new L(this));else if(o["f"])this.registerSource("ms",new _(this));else{var t=new s["c"](this);this.registerSource("mouse",t),o["i"]&&this.registerSource("touch",new V(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,r=i.getEvents();r&&(r.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(r["listen"])(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(r["unlisten"])(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},r=0,n=H.length;r<n;r++){var o=H[r][0];i[o]=t[o]||e[o]||H[r][1]}return i},e.prototype.down=function(t,e){this.fireEvent(a["a"].POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(a["a"].POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(a["a"].POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(a["a"].POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(a["a"].POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(a["a"].POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(a["a"].POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(a["a"].POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new F(t,i,e)},e.prototype.fireEvent=function(t,e,i){var r=this.makeEvent(t,e,i);this.dispatchEvent(r)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){var i=this.makeEvent(t,Object(s["d"])(e,this),e);return i},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(n["a"]);e["a"]=W},"411b":function(t,e,i){"use strict";var r=i("6843"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),i=r.trim(t.substr(o+1)),e){if(a[e]&&n.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([i]):a[e]?a[e]+", "+i:i}})),a):a}},4151:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"41ec":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i("cd2e");function n(t,e){if(!t)throw new r["a"](e)}},"41ff":function(t,e,i){"use strict";e["a"]={IMAGE:"image",VECTOR:"vector"}},"42ae":function(t,e,i){"use strict";var r=i("6646"),n=i("b763"),o=i("3d22"),a=i("cc7a"),s=i("1ea9"),h=i("faad"),c=i("9734"),u=i("9695"),l=i("6476"),f=i("d6b2"),d=function(t){function e(e,i,r,n,o){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=r,this.transform_=n,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(f["c"])()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,r){if(this.image_){var n=Object(h["c"])(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var u=0,l=n.length;u<l;u+=2){var d=n[u]-this.imageAnchorX_,p=n[u+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_){var g=d+this.imageAnchorX_,v=p+this.imageAnchorY_;Object(f["b"])(a,g,v,this.imageScale_,this.imageScale_,c,-g,-v),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,p,this.imageWidth_,this.imageHeight_)}0===c&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,i,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var n=Object(h["c"])(t,e,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=r){var s=n[e]+this.textOffsetX_,c=n[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=Object(f["b"])(this.tmpLocalTransform_,s,c,this.textScale_,this.textScale_,a,-s,-c);o.setTransform.apply(o,u)}this.textStrokeState_&&o.strokeText(this.text_,s,c),this.textFillState_&&o.fillText(this.text_,s,c)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,r,n){var o=this.context_,a=Object(h["c"])(t,e,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;n&&(s-=2);for(var c=2;c<s;c+=2)o.lineTo(a[c],a[c+1]);return n&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,r){for(var n=0,o=i.length;n<o;++n)e=this.moveToLineTo_(t,e,i[n],r,!0);return e},e.prototype.drawCircle=function(t){if(Object(o["intersects"])(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(s["c"])(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],r=e[3]-e[1],n=Math.sqrt(i*i+r*r),a=this.context_;a.beginPath(),a.arc(e[0],e[1],n,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case a["default"].POINT:this.drawPoint(t);break;case a["default"].LINE_STRING:this.drawLineString(t);break;case a["default"].POLYGON:this.drawPolygon(t);break;case a["default"].MULTI_POINT:this.drawMultiPoint(t);break;case a["default"].MULTI_LINE_STRING:this.drawMultiLineString(t);break;case a["default"].MULTI_POLYGON:this.drawMultiPolygon(t);break;case a["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case a["default"].CIRCLE:this.drawCircle(t);break;default:}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(o["intersects"])(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,r=e.length;i<r;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if(Object(o["intersects"])(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(o["intersects"])(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,r=t.getFlatCoordinates(),n=0,a=t.getEnds(),s=t.getStride();i.beginPath();for(var h=0,c=a.length;h<c;++h)n=this.moveToLineTo_(r,n,a[h],s,!1);i.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(o["intersects"])(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(o["intersects"])(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),r=0,n=t.getEndss(),a=t.getStride();e.beginPath();for(var s=0,h=n.length;s<h;++s){var c=n[s];r=this.drawRings_(i,r,c,a)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),c["a"]&&(Object(r["b"])(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,c["a"]&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:l["l"];i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=r&&(i.textAlign=e.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:Object(n["a"])(i||l["b"])}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),h=e.getLineJoin(),c=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:l["d"],lineDash:a||l["e"],lineDashOffset:s||l["f"],lineJoin:void 0!==h?h:l["g"],lineWidth:this.pixelRatio_*(void 0!==c?c:l["h"]),miterLimit:void 0!==u?u:l["i"],strokeStyle:Object(n["a"])(r||l["k"])}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),r=t.getOrigin(),n=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=n[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=n[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:Object(n["a"])(i||l["b"])}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),a=r.getLineCap(),s=r.getLineDash(),h=r.getLineDashOffset(),c=r.getLineJoin(),u=r.getWidth(),f=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:l["d"],lineDash:s||l["e"],lineDashOffset:h||l["f"],lineJoin:void 0!==c?c:l["g"],lineWidth:void 0!==u?u:l["h"],miterLimit:void 0!==f?f:l["i"],strokeStyle:Object(n["a"])(o||l["k"])}}else this.textStrokeState_=null;var d=t.getFont(),p=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),y=t.getRotation(),m=t.getScale(),_=t.getText(),b=t.getTextAlign(),w=t.getTextBaseline();this.textState_={font:void 0!==d?d:l["c"],textAlign:void 0!==b?b:l["l"],textBaseline:void 0!==w?w:l["m"]},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==m?m:1)}else this.text_=""},e}(u["a"]);e["a"]=d},"42e0":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.Noise=function(t){var e,i=255*this.noise(),r=t.data,n=r.length,o=i/2;for(e=0;e<n;e+=4)r[e+0]+=o-2*o*Math.random(),r[e+1]+=o-2*o*Math.random(),r[e+2]+=o-2*o*Math.random()},r.Factory.addGetterSetter(n.Node,"noise",.2,o.getNumberValidator(),r.Factory.afterSetFilter)},"42ee":function(t,e,i){var r=i("cdf9");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"435e":function(t,e,i){"use strict";var r=i("5db0"),n=i("94c2");function o(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(t,e){n.postMessage("c",r.stringify([t,e]))},o.prototype._transportMessage=function(t){n.postMessage("t",t)},o.prototype._send=function(t){this._transport.send(t)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},4362:function(t,e,i){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=i("df7c")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"438c":function(t,e,i){var r=i("0d63");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},4450:function(t,e,i){"use strict";var r=i("194e"),n=i("867a"),o=i("d812"),a=i("acdf"),s=i("4b99"),h=i("4b84"),c=i("100a"),u=i("fd21"),l=i("a6a2"),f=i("3881"),d=i("5f6b"),p=i("a273"),g=i("eee0"),v=i("93c4"),y=i.n(v),m=i("3d22"),_=i("9ee7"),b=i("6476"),w=i("6646"),x=i("faad"),S=i("ee14"),E=i("981d"),O=i("b763"),T=i("d317"),C=i("cc7a"),A=i("c5e9"),L=i("ca54"),R=i("136c");function M(t,e,i,r,n,o,a,s){var h=[],c=t[e]>t[i-r],u=n.length,l=t[e],f=t[e+1];e+=r;for(var d,p,g,v=t[e],y=t[e+1],m=0,_=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-f,2)),b="",w=0,x=0;x<u;++x){p=c?u-x-1:x;var S=n.charAt(p);b=c?S+b:b+S;var E=o(b)-w;w+=E;var O=a+E/2;while(e<i-r&&m+_<O)l=v,f=y,e+=r,v=t[e],y=t[e+1],m+=_,_=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-f,2));var T=O-m,C=Math.atan2(y-f,v-l);if(c&&(C+=C>0?-Math.PI:Math.PI),void 0!==g){var A=C-g;if(A+=A>Math.PI?-2*Math.PI:A<-Math.PI?2*Math.PI:0,Math.abs(A)>s)return null}var L=T/_,M=Object(R["c"])(l,v,L),I=Object(R["c"])(f,y,L);g==C?(c&&(d[0]=M,d[1]=I,d[2]=E/2),d[4]=b):(b=S,w=E,d=[M,I,E/2,C,b],c?h.unshift(d):h.push(d),g=C),a+=E}return h}var I=i("9734"),P=i("9695"),N={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},F=[N.FILL],k=[N.STROKE],j=[N.BEGIN_PATH],D=[N.CLOSE_PATH],G=N,B=i("7057"),U=i("d6b2"),z=Object(m["createEmpty"])(),q=Object(U["c"])(),V=function(t){function e(e,i,r,n,o,a){t.call(this),this.declutterTree=a,this.tolerance=e,this.maxExtent=i,this.overlaps=o,this.pixelRatio=n,this.maxLineWidth=0,this.resolution=r,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(U["c"])(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,r,n,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,i,r,n,o,a,s,h,c,u,l,f,d,p,g,v,y){var _=v||y;n*=f,o*=f,e-=n,i-=o;var w,x,S,E,O=p+c>r.width?r.width-c:p,T=s+u>r.height?r.height-u:s,C=g[3]+O*f+g[1],A=g[0]+T*f+g[2],L=e-g[3],R=i-g[0];(_||0!==l)&&(w=[L,R],x=[L+C,R],S=[L+C,R+A],E=[L,R+A]);var M=null;if(0!==l){var I=e+n,P=i+o;M=Object(U["b"])(q,I,P,1,1,l,-I,-P),Object(m["createOrUpdateEmpty"])(z),Object(m["extendCoordinate"])(z,Object(U["a"])(q,w)),Object(m["extendCoordinate"])(z,Object(U["a"])(q,x)),Object(m["extendCoordinate"])(z,Object(U["a"])(q,S)),Object(m["extendCoordinate"])(z,Object(U["a"])(q,E))}else Object(m["createOrUpdate"])(L,R,L+C,R+A,z);var N=t.canvas,F=y?y[2]*f/2:0,k=z[0]-F<=N.width&&z[2]+F>=0&&z[1]-F<=N.height&&z[3]+F>=0;if(d&&(e=Math.round(e),i=Math.round(i)),a){if(!k&&1==a[4])return;Object(m["extend"])(a,z);var j=k?[t,M?M.slice(0):null,h,r,c,u,O,T,e,i,f]:null;j&&_&&j.push(v,y,w,x,S,E),a.push(j)}else k&&(_&&this.replayTextBackground_(t,w,x,S,E,v,y),Object(b["n"])(t,M,h,r,c,u,O,T,e,i,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,i,r,n,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=r);var h,c,u,l=[t[e],t[e+1]],f=[NaN,NaN],d=!0;for(h=e+r;h<i;h+=r)f[0]=t[h],f[1]=t[h+1],u=Object(m["coordinateRelationship"])(s,f),u!==c?(d&&(this.coordinates[a++]=l[0],this.coordinates[a++]=l[1]),this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):u===T["a"].INTERSECTING?(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):d=!0,l[0]=f[0],l[1]=f[1],c=u;return(n&&d||h===e+r)&&(this.coordinates[a++]=l[0],this.coordinates[a++]=l[1]),a},e.prototype.drawCustomCoordinates_=function(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o){var s=i[o],h=this.appendFlatCoordinates(t,e,s,r,!1,!1);n.push(h),e=s}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var r,n,o,a,s,h=t.getType(),c=t.getStride(),u=this.coordinates.length;if(h==C["default"].MULTI_POLYGON){t=t,r=t.getOrientedFlatCoordinates(),a=[];var l=t.getEndss();s=0;for(var f=0,d=l.length;f<d;++f){var p=[];s=this.drawCustomCoordinates_(r,s,l[f],c,p),a.push(p)}this.instructions.push([G.CUSTOM,u,a,t,i,A["c"]])}else h==C["default"].POLYGON||h==C["default"].MULTI_LINE_STRING?(o=[],r=h==C["default"].POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),c,o),this.instructions.push([G.CUSTOM,u,o,t,i,A["b"]])):h==C["default"].LINE_STRING||h==C["default"].MULTI_POINT?(r=t.getFlatCoordinates(),n=this.appendFlatCoordinates(r,0,r.length,c,!1,!1),this.instructions.push([G.CUSTOM,u,n,t,i,A["a"]])):h==C["default"].POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),n=this.coordinates.length,this.instructions.push([G.CUSTOM,u,n,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[G.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[G.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(U["a"])(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,b["r"])},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],I["a"]&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);for(var n=5,o=t.length;n<o;++n){var a=t[n];a&&(a.length>11&&this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12]),b["n"].apply(void 0,a))}}t.length=5,Object(m["createOrUpdateEmpty"])(t)}}},e.prototype.replay_=function(t,e,i,r,n,o,s){var h;this.pixelCoordinates_&&Object(w["b"])(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object(x["c"])(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(U["i"])(this.renderedTransform_,e));var c,l,f,d,p,g,v,y,_,S,E,O,T=!Object(a["d"])(i),C=0,A=r.length,R=0,I=0,P=0,N=null,F=null,k=this.coordinateCache_,j=this.viewRotation_,D={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},z=this.instructions!=r||this.overlaps?0:200;while(C<A){var q=r[C],V=q[0];switch(V){case G.BEGIN_GEOMETRY:S=q[1],T&&i[Object(u["c"])(S)]||!S.getGeometry()?C=q[2]:void 0===s||Object(m["intersects"])(s,S.getGeometry().getExtent())?++C:C=q[2]+1;break;case G.BEGIN_PATH:I>z&&(this.fill_(t),I=0),P>z&&(t.stroke(),P=0),I||P||(t.beginPath(),d=p=NaN),++C;break;case G.CIRCLE:R=q[1];var H=h[R],W=h[R+1],Y=h[R+2],K=h[R+3],X=Y-H,Z=K-W,$=Math.sqrt(X*X+Z*Z);t.moveTo(H+$,W),t.arc(H,W,$,0,2*Math.PI,!0),++C;break;case G.CLOSE_PATH:t.closePath(),++C;break;case G.CUSTOM:R=q[1],c=q[2];var J=q[3],Q=q[4],tt=6==q.length?q[5]:void 0;D.geometry=J,D.feature=S,C in k||(k[C]=[]);var et=k[C];tt?tt(h,R,c,2,et):(et[0]=h[R],et[1]=h[R+1],et.length=2),Q(et,D),++C;break;case G.DRAW_IMAGE:R=q[1],c=q[2],_=q[3],l=q[4],f=q[5],y=o?null:q[6];var it=q[7],rt=q[8],nt=q[9],ot=q[10],at=q[11],st=q[12],ht=q[13],ct=q[14],ut=void 0,lt=void 0,ft=void 0;for(q.length>16?(ut=q[15],lt=q[16],ft=q[17]):(ut=b["j"],lt=ft=!1),at&&(st+=j);R<c;R+=2)this.replayImage_(t,h[R],h[R+1],_,l,f,y,it,rt,nt,ot,st,ht,n,ct,ut,lt?N:null,ft?F:null);this.renderDeclutter_(y,S),++C;break;case G.DRAW_CHARS:var dt=q[1],pt=q[2],gt=q[3];y=o?null:q[4];var vt=q[5],yt=q[6],mt=q[7],_t=q[8],bt=q[9],wt=q[10],xt=q[11],St=q[12],Et=q[13],Ot=q[14],Tt=Object(L["a"])(h,dt,pt,2),Ct=_t(St);if(vt||Ct<=Tt){var At=this,Lt=At.textStates[Et].textAlign,Rt=(Tt-Ct)*B["b"][Lt],Mt=M(h,dt,pt,2,St,_t,Rt,mt);if(Mt){var It=void 0,Pt=void 0,Nt=void 0,Ft=void 0,kt=void 0;if(wt)for(It=0,Pt=Mt.length;It<Pt;++It)kt=Mt[It],Nt=kt[4],Ft=At.getImage(Nt,Et,"",wt),l=kt[2]+xt,f=gt*Ft.height+2*(.5-gt)*xt-bt,this.replayImage_(t,kt[0],kt[1],Ft,l,f,y,Ft.height,1,0,0,kt[3],Ot,!1,Ft.width,b["j"],null,null);if(yt)for(It=0,Pt=Mt.length;It<Pt;++It)kt=Mt[It],Nt=kt[4],Ft=At.getImage(Nt,Et,yt,""),l=kt[2],f=gt*Ft.height-bt,this.replayImage_(t,kt[0],kt[1],Ft,l,f,y,Ft.height,1,0,0,kt[3],Ot,!1,Ft.width,b["j"],null,null)}}this.renderDeclutter_(y,S),++C;break;case G.END_GEOMETRY:if(void 0!==o){S=q[1];var jt=o(S);if(jt)return jt}++C;break;case G.FILL:z?I++:this.fill_(t),++C;break;case G.MOVE_TO_LINE_TO:for(R=q[1],c=q[2],E=h[R],O=h[R+1],g=E+.5|0,v=O+.5|0,g===d&&v===p||(t.moveTo(E,O),d=g,p=v),R+=2;R<c;R+=2)E=h[R],O=h[R+1],g=E+.5|0,v=O+.5|0,R!=c-2&&g===d&&v===p||(t.lineTo(E,O),d=g,p=v);++C;break;case G.SET_FILL_STYLE:N=q,this.alignFill_=q[2],I&&(this.fill_(t),I=0,P&&(t.stroke(),P=0)),t.fillStyle=q[1],++C;break;case G.SET_STROKE_STYLE:F=q,P&&(t.stroke(),P=0),this.setStrokeStyle_(t,q),++C;break;case G.STROKE:z?P++:t.stroke(),++C;break;default:++C;break}}I&&this.fill_(t),P&&t.stroke()},e.prototype.replay=function(t,e,i,r,n){this.viewRotation_=i,this.replay_(t,e,r,this.instructions,n,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,r,n,o){return this.viewRotation_=i,this.replay_(t,e,r,this.hitDetectionInstructions,!0,n,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,r,n=e.length,o=-1;for(t=0;t<n;++t)i=e[t],r=i[0],r==G.END_GEOMETRY?o=t:r==G.BEGIN_GEOMETRY&&(i[2]=t,Object(w["k"])(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var r=t.getColor();i.fillStyle=Object(O["a"])(r||b["b"])}else i.fillStyle=void 0;if(e){var n=e.getColor();i.strokeStyle=Object(O["a"])(n||b["k"]);var o=e.getLineCap();i.lineCap=void 0!==o?o:b["d"];var a=e.getLineDash();i.lineDash=a?a.slice():b["e"];var s=e.getLineDashOffset();i.lineDashOffset=s||b["f"];var h=e.getLineJoin();i.lineJoin=void 0!==h?h:b["g"];var c=e.getWidth();i.lineWidth=void 0!==c?c:b["h"];var u=e.getMiterLimit();i.miterLimit=void 0!==u?u:b["i"],i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,r=[G.SET_FILL_STYLE,i];return"string"!==typeof i&&r.push(!0),r},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[G.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var r=t.fillStyle;"string"===typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=r)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,r=t.lineCap,n=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||n!=t.currentLineDash&&!Object(w["b"])(t.currentLineDash,n)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=h)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=n,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=h)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[G.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(m["clone"])(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(m["buffer"])(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(P["a"]),H=V,W=function(t){function e(e,i,r,n,o,a){t.call(this,e,i,r,n,o,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,r){return this.appendFlatCoordinates(t,e,i,r,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),n=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,r);this.instructions.push([G.DRAW_IMAGE,n,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([G.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),n=this.coordinates.length,o=this.drawCoordinates_(i,0,i.length,r);this.instructions.push([G.DRAW_IMAGE,n,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([G.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),r=t.getSize(),n=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=n,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=r[0]},e}(H),Y=W,K=function(t){function e(e,i,r,n,o,a){t.call(this,e,i,r,n,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,r){var n=this.coordinates.length,o=this.appendFlatCoordinates(t,e,i,r,!1,!1),a=[G.MOVE_TO_LINE_TO,n,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i},e.prototype.drawLineString=function(t,e){var i=this.state,r=i.strokeStyle,n=i.lineWidth;if(void 0!==r&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([G.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],j);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(k),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,r=i.strokeStyle,n=i.lineWidth;if(void 0!==r&&void 0!==n){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([G.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],j);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),h=0,c=0,u=o.length;c<u;++c)h=this.drawFlatCoordinates_(a,h,o[c],s);this.hitDetectionInstructions.push(k),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(k),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(k),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(j)},e}(H),X=K,Z=i("81ae"),$=i("caa0"),J=function(t){function e(e,i,r,n,o,a){t.call(this,e,i,r,n,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,r){var n=this.state,o=void 0!==n.fillStyle,a=void 0!=n.strokeStyle,s=i.length;this.instructions.push(j),this.hitDetectionInstructions.push(j);for(var h=0;h<s;++h){var c=i[h],u=this.coordinates.length,l=this.appendFlatCoordinates(t,e,c,r,!0,!a),f=[G.MOVE_TO_LINE_TO,u,l];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(D),this.hitDetectionInstructions.push(D)),e=c}return o&&(this.instructions.push(F),this.hitDetectionInstructions.push(F)),a&&(this.instructions.push(k),this.hitDetectionInstructions.push(k)),e},e.prototype.drawCircle=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([G.SET_FILL_STYLE,Object(Z["asString"])(b["b"])]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([G.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,a,!1,!1);var h=[G.CIRCLE,s];this.instructions.push(j,h),this.hitDetectionInstructions.push(j,h),this.hitDetectionInstructions.push(F),void 0!==i.fillStyle&&this.instructions.push(F),void 0!==i.strokeStyle&&(this.instructions.push(k),this.hitDetectionInstructions.push(k)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([G.SET_FILL_STYLE,Object(Z["asString"])(b["b"])]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([G.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,r=i.fillStyle,n=i.strokeStyle;if(void 0!==r||void 0!==n){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([G.SET_FILL_STYLE,Object(Z["asString"])(b["b"])]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([G.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),h=0,c=0,u=o.length;c<u;++c)h=this.drawFlatCoordinatess_(a,h,o[c],s);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,r=e.length;i<r;++i)e[i]=Object($["e"])(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state,i=e.fillStyle;void 0!==i&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(H),Q=J;function tt(t,e,i,r,n){var o,a,s,h,c,u,l,f,d,p,g=i,v=i,y=0,m=0,_=i;for(a=i;a<r;a+=n){var b=e[a],w=e[a+1];void 0!==c&&(d=b-c,p=w-u,h=Math.sqrt(d*d+p*p),void 0!==l&&(m+=s,o=Math.acos((l*d+f*p)/(s*h)),o>t&&(m>y&&(y=m,g=_,v=a),m=0,_=a-n)),s=h,l=d,f=p),c=b,u=w}return m+=h,m>y?[_,a]:[g,v]}var et=i("f355"),it=function(t){function e(e,i,r,n,o,a){t.call(this,e,i,r,n,o,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},b["o"].prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,r=this.textStrokeState_,n=this.textState_;if(""!==this.text_&&n&&(i||r)){var o,a,s=this.coordinates.length,h=t.getType(),c=null,u=2,l=2;if(n.placement===et["a"].LINE){if(!Object(m["intersects"])(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(c=t.getFlatCoordinates(),l=t.getStride(),h==C["default"].LINE_STRING)f=[c.length];else if(h==C["default"].MULTI_LINE_STRING)f=t.getEnds();else if(h==C["default"].POLYGON)f=t.getEnds().slice(0,1);else if(h==C["default"].MULTI_POLYGON){var d=t.getEndss();for(f=[],o=0,a=d.length;o<a;++o)f.push(d[o][0])}this.beginGeometry(t,e);for(var p,g=n.textAlign,v=0,y=0,_=f.length;y<_;++y){if(void 0==g){var b=tt(n.maxAngle,c,v,f[y],l);v=b[0],p=b[1]}else p=f[y];for(o=v;o<p;o+=l)this.coordinates.push(c[o],c[o+1]);u=this.coordinates.length,v=f[y],this.drawChars_(s,u,this.declutterGroup_),s=u}this.endGeometry(t,e)}else{var w=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),x=w.width/this.pixelRatio;switch(h){case C["default"].POINT:case C["default"].MULTI_POINT:c=t.getFlatCoordinates(),u=c.length;break;case C["default"].LINE_STRING:c=t.getFlatMidpoint();break;case C["default"].CIRCLE:c=t.getCenter();break;case C["default"].MULTI_LINE_STRING:c=t.getFlatMidpoints(),u=c.length;break;case C["default"].POLYGON:if(c=t.getFlatInteriorPoint(),!n.overflow&&c[2]/this.resolution<x)return;l=3;break;case C["default"].MULTI_POLYGON:var S=t.getFlatInteriorPoints();for(c=[],o=0,a=S.length;o<a;o+=3)(n.overflow||S[o+2]/this.resolution>=x)&&c.push(S[o],S[o+1]);if(u=c.length,0==u)return;break;default:}u=this.appendFlatCoordinates(c,0,u,l,!1,!1),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(w,s,u),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,r){var n,o=r+e+t+i+this.pixelRatio;if(!b["o"].containsKey(o)){var a=r?this.strokeStates[r]||this.textStrokeState_:null,s=i?this.fillStates[i]||this.textFillState_:null,h=this.textStates[e]||this.textState_,c=this.pixelRatio,u=h.scale*c,l=B["b"][h.textAlign||b["l"]],f=r&&a.lineWidth?a.lineWidth:0,p=t.split("\n"),g=p.length,v=[],y=rt(h.font,p,v),m=Object(b["p"])(h.font),_=m*g,w=y+f,x=Object(d["a"])(Math.ceil(w*u),Math.ceil((_+f)*u));n=x.canvas,b["o"].set(o,n),1!=u&&x.scale(u,u),x.font=h.font,r&&(x.strokeStyle=a.strokeStyle,x.lineWidth=f,x.lineCap=a.lineCap,x.lineJoin=a.lineJoin,x.miterLimit=a.miterLimit,I["a"]&&a.lineDash.length&&(x.setLineDash(a.lineDash),x.lineDashOffset=a.lineDashOffset)),i&&(x.fillStyle=s.fillStyle),x.textBaseline="middle",x.textAlign="center";var S,E=.5-l,O=l*n.width/u+E*f;if(r)for(S=0;S<g;++S)x.strokeText(p[S],O+E*v[S],.5*(f+m)+S*m);if(i)for(S=0;S<g;++S)x.fillText(p[S],O+E*v[S],.5*(f+m)+S*m)}return b["o"].get(o)},e.prototype.drawTextImage_=function(t,e,i){var r=this.textState_,n=this.textStrokeState_,o=this.pixelRatio,a=B["b"][r.textAlign||b["l"]],s=B["b"][r.textBaseline],h=n&&n.lineWidth?n.lineWidth:0,c=a*t.width/o+2*(.5-a)*h,u=s*t.height/o+2*(.5-s)*h;this.instructions.push([G.DRAW_IMAGE,e,i,t,(c-this.textOffsetX_)*o,(u-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,r.padding==b["j"]?b["j"]:r.padding.map((function(t){return t*o})),!!r.backgroundFill,!!r.backgroundStroke]),this.hitDetectionInstructions.push([G.DRAW_IMAGE,e,i,t,(c-this.textOffsetX_)*o,(u-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var r=this.textStrokeState_,n=this.textState_,o=this.textFillState_,a=this.strokeKey_;r&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:n.font,textAlign:n.textAlign||b["l"],scale:n.scale});var h=this.fillKey_;o&&(h in this.fillStates||(this.fillStates[h]={fillStyle:o.fillStyle}));var c=this.pixelRatio,u=B["b"][n.textBaseline],l=this.textOffsetY_*c,f=this.text_,d=n.font,p=n.scale,g=r?r.lineWidth*p/2:0,v=this.widths_[d];v||(this.widths_[d]=v={}),this.instructions.push([G.DRAW_CHARS,t,e,u,i,n.overflow,h,n.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Object(b["q"])(d,t)),e*p*c},l,a,g*c,f,s,1]),this.hitDetectionInstructions.push([G.DRAW_CHARS,t,e,u,i,n.overflow,h,n.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Object(b["q"])(d,t)),e*p},l,a,g,f,s,1/c])},e.prototype.setTextStyle=function(t,e){var i,r,n;if(t){this.declutterGroup_=e;var o=t.getFill();o?(r=this.textFillState_,r||(r=this.textFillState_={}),r.fillStyle=Object(O["a"])(o.getColor()||b["b"])):r=this.textFillState_=null;var a=t.getStroke();if(a){n=this.textStrokeState_,n||(n=this.textStrokeState_={});var s=a.getLineDash(),h=a.getLineDashOffset(),c=a.getWidth(),l=a.getMiterLimit();n.lineCap=a.getLineCap()||b["d"],n.lineDash=s?s.slice():b["e"],n.lineDashOffset=void 0===h?b["f"]:h,n.lineJoin=a.getLineJoin()||b["g"],n.lineWidth=void 0===c?b["h"]:c,n.miterLimit=void 0===l?b["i"]:l,n.strokeStyle=Object(O["a"])(a.getColor()||b["k"])}else n=this.textStrokeState_=null;i=this.textState_;var f=t.getFont()||b["c"];Object(b["a"])(f);var d=t.getScale();i.overflow=t.getOverflow(),i.font=f,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||b["m"],i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||b["j"],i.scale=void 0===d?1:d;var p=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===y?0:y,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:Object(u["c"])(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(u["c"])(r.fillStyle):""}else this.text_=""},e}(H);function rt(t,e,i){for(var r=e.length,n=0,o=0;o<r;++o){var a=Object(b["q"])(t,e[o]);n=Math.max(n,a),i.push(a)}return n}var nt=it,ot={Circle:Q,Default:H,Image:Y,LineString:X,Polygon:Q,Text:nt},at=function(t){function e(e,i,r,n,o,a,s){t.call(this),this.declutterTree_=a,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=o,this.pixelRatio_=n,this.resolution_=r,this.renderBuffer_=s,this.replaysByZIndex_={},this.hitDetectionContext_=Object(d["a"])(1,1),this.hitDetectionTransform_=Object(U["c"])()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_,e[4]++):(e=this.declutterGroup_=Object(m["createEmpty"])(),e.push(1))),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],r=0,n=t.length;r<n;++r)if(t[r]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n,o,a){r=Math.round(r);var s,h=2*r+1,c=Object(U["b"])(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),u=this.hitDetectionContext_;u.canvas.width!==h||u.canvas.height!==h?(u.canvas.width=h,u.canvas.height=h):u.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(s=Object(m["createEmpty"])(),Object(m["extendCoordinate"])(s,t),Object(m["buffer"])(s,e*(this.renderBuffer_+r),s));var l,f,d=ct(r);function p(t){for(var e=u.getImageData(0,0,h,h).data,i=0;i<h;i++)for(var r=0;r<h;r++)if(d[i][r]&&e[4*(r*h+i)+3]>0){var n=void 0;return(!l||f!=E["a"].IMAGE&&f!=E["a"].TEXT||-1!==l.indexOf(t))&&(n=o(t)),n||void u.clearRect(0,0,h,h)}}this.declutterTree_&&(l=this.declutterTree_.all().map((function(t){return t.value})));var g,v,y,_,b,x=Object.keys(this.replaysByZIndex_).map(Number);for(x.sort(w["i"]),g=x.length-1;g>=0;--g){var S=x[g].toString();for(y=this.replaysByZIndex_[S],v=B["a"].length-1;v>=0;--v)if(f=B["a"][v],_=y[f],void 0!==_)if(!a||f!=E["a"].IMAGE&&f!=E["a"].TEXT){if(b=_.replayHitDetection(u,c,i,n,p,s),b)return b}else{var O=a[S];O?O.push(_,c.slice(0)):a[S]=[_,c.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],r=e[1],n=e[2],o=e[3],a=[i,r,i,o,n,o,n,r];return Object(x["c"])(a,0,8,2,t,a),a},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[i];void 0===r&&(r={},this.replaysByZIndex_[i]=r);var n=r[e];if(void 0===n){var o=ot[e];n=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),r[e]=n}return n},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(a["d"])(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,r,n,o,a){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(w["i"]),t.save(),this.clip(t,e);var h,c,u,l,f,d,p=o||B["a"];for(h=0,c=s.length;h<c;++h){var g=s[h].toString();for(f=this.replaysByZIndex_[g],u=0,l=p.length;u<l;++u){var v=p[u];if(d=f[v],void 0!==d)if(!a||v!=E["a"].IMAGE&&v!=E["a"].TEXT)d.replay(t,e,i,r,n);else{var y=a[g];y?y.push(d,e.slice(0)):a[g]=[d,e.slice(0)]}}}t.restore()},e}(S["a"]),st={0:[[!0]]};function ht(t,e,i){var r,n=Math.floor(t.length/2);if(e>=n)for(r=n;r<e;r++)t[r][i]=!0;else if(e<n)for(r=e+1;r<n;r++)t[r][i]=!0}function ct(t){if(void 0!==st[t])return st[t];for(var e=2*t+1,i=new Array(e),r=0;r<e;r++)i[r]=new Array(e);var n=t,o=0,a=0;while(n>=o)ht(i,t+n,t+o),ht(i,t+o,t+n),ht(i,t-o,t+n),ht(i,t-n,t+o),ht(i,t-n,t-o),ht(i,t-o,t-n),ht(i,t+o,t-n),ht(i,t+n,t-o),o++,a+=1+2*o,2*(a-n)+1>0&&(n-=1,a+=1-2*n);return st[t]=i,i}function ut(t,e,i,r){for(var n=Object.keys(t).map(Number).sort(w["i"]),o={},a=0,s=n.length;a<s;++a)for(var h=t[n[a].toString()],c=0,u=h.length;c<u;){var l=h[c++],f=h[c++];l.replay(e,f,i,o,r)}}var lt=at,ft=i("71bf"),dt=i("71a0"),pt=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?y()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(m["createEmpty"])(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(d["a"])(),Object(p["listen"])(b["o"],g["default"].CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(p["unlisten"])(b["o"],g["default"].CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var r=e.extent,n=e.pixelRatio,o=i.managed?e.skippedFeatureUids:{},a=e.viewState,s=a.projection,h=a.rotation,c=s.getExtent(),u=this.getLayer().getSource(),l=this.getTransform(e,0),d=i.extent,p=void 0!==d;p&&this.clip(t,e,d);var g=this.replayGroup_;if(g&&!g.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var v,y=this.getLayer(),w=0,x=0,S=1!==i.opacity,E=y.hasListener(_["a"].RENDER);if(S||E){var O=t.canvas.width,T=t.canvas.height;if(h){var C=Math.round(Math.sqrt(O*O+T*T));w=(C-O)/2,x=(C-T)/2,O=T=C}this.context.canvas.width=O,this.context.canvas.height=T,v=this.context}else v=t;var A=v.globalAlpha;S||(v.globalAlpha=i.opacity),v!=t&&v.translate(w,x);var L=e.viewHints,R=!(L[f["a"].ANIMATING]||L[f["a"].INTERACTING]),M=e.size[0]*n,I=e.size[1]*n;if(Object(b["s"])(v,-h,M/2,I/2),g.replay(v,l,h,o,R),u.getWrapX()&&s.canWrapX()&&!Object(m["containsExtent"])(c,r)){var P,N=r[0],F=Object(m["getWidth"])(c),k=0;while(N<c[0])--k,P=F*k,l=this.getTransform(e,P),g.replay(v,l,h,o,R),N+=F;k=0,N=r[2];while(N>c[2])++k,P=F*k,l=this.getTransform(e,P),g.replay(v,l,h,o,R),N-=F}if(Object(b["s"])(v,h,M/2,I/2),E&&this.dispatchRenderEvent(v,e,l),v!=t){if(S){var j=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(v.canvas,-w,-x),t.globalAlpha=j}else t.drawImage(v.canvas,-w,-x);v.translate(-w,-x)}S||(v.globalAlpha=A)}p&&t.restore()},e.prototype.composeFrame=function(t,e,i){var r=this.getTransform(t,0);this.preCompose(i,t,r),this.compose(i,t,e),this.postCompose(i,t,e,r)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n){if(this.replayGroup_){var o=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),h={},c=this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,i,{},(function(t){var e=Object(u["c"])(t);if(!(e in h))return h[e]=!0,r.call(n,t,s)}),null);return c}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),r=i.getSource(),n=t.viewHints[f["a"].ANIMATING],o=t.viewHints[f["a"].INTERACTING],a=i.getUpdateWhileAnimating(),s=i.getUpdateWhileInteracting();if(!this.dirty_&&!a&&n||!s&&o)return!0;var h=t.extent,c=t.viewState,u=c.projection,l=c.resolution,d=t.pixelRatio,p=i.getRevision(),g=i.getRenderBuffer(),v=i.getRenderOrder();void 0===v&&(v=dt["a"]);var y=Object(m["buffer"])(h,g*l),_=c.projection.getExtent();if(r.getWrapX()&&c.projection.canWrapX()&&!Object(m["containsExtent"])(_,t.extent)){var b=Object(m["getWidth"])(_),w=Math.max(Object(m["getWidth"])(y)/2,b);y[0]=_[0]-w,y[2]=_[2]+w}if(!this.dirty_&&this.renderedResolution_==l&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&Object(m["containsExtent"])(this.renderedExtent_,y))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var x=new lt(Object(dt["c"])(l,d),y,l,d,r.getOverlaps(),this.declutterTree_,i.getRenderBuffer());r.loadFeatures(y,l,u);var S=function(t){var e,r=t.getStyleFunction()||i.getStyleFunction();if(r&&(e=r(t,l)),e){var n=this.renderFeature(t,l,d,e,x);this.dirty_=this.dirty_||n}}.bind(this);if(v){var E=[];r.forEachFeatureInExtent(y,(function(t){E.push(t)})),E.sort(v);for(var O=0,T=E.length;O<T;++O)S(E[O])}else r.forEachFeatureInExtent(y,S);return x.finish(),this.renderedResolution_=l,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedExtent_=y,this.replayGroup_=x,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,r,n){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=Object(dt["d"])(n,t,r[a],Object(dt["b"])(e,i),this.handleStyleImageChange_,this)||o;else o=Object(dt["d"])(n,t,r,Object(dt["b"])(e,i),this.handleStyleImageChange_,this);return o},e}(ft["a"]);pt["handles"]=function(t){return t.getType()===l["a"].VECTOR},pt["create"]=function(t,e){return new pt(e)};var gt=pt,vt=i("d5b5"),yt=i("5768"),mt=i("5f62"),_t=i("615e"),bt={image:[E["a"].POLYGON,E["a"].CIRCLE,E["a"].LINE_STRING,E["a"].IMAGE,E["a"].TEXT],hybrid:[E["a"].POLYGON,E["a"].LINE_STRING]},wt={image:[E["a"].DEFAULT],hybrid:[E["a"].IMAGE,E["a"].TEXT,E["a"].DEFAULT],vector:B["a"]},xt=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?y()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(U["c"])();var i=e.getRenderMode();this.zDirection=i===yt["default"].VECTOR?1:0,i!==yt["default"].VECTOR&&(this.context=Object(d["a"])()),Object(p["listen"])(b["o"],g["default"].CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(p["unlisten"])(b["o"],g["default"].CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,r,n,o){var a=t.prototype.getTile.call(this,e,i,r,n,o);return a.getState()===vt["a"].LOADED&&(this.createReplayGroup_(a,n,o),this.context&&this.renderTileImage_(a,n,o)),a},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,i){var r=this.getLayer(),n=r.getRevision();return this.renderedLayerRevision_!=n&&(this.renderedTiles.length=0),this.renderedLayerRevision_=n,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var r=this,n=this.getLayer(),o=n.getRevision(),a=n.getRenderOrder()||null,s=t.getReplayState(n);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var h=n.getSource(),c=h.getTileGrid(),u=h.getTileGridForProjection(i),l=u.getResolution(t.tileCoord[0]),f=t.extent,d=function(o,u){var d=t.getTile(t.tileKeys[o]);if(d.getState()==vt["a"].LOADED){var p=d.tileCoord,g=c.getTileCoordExtent(p),v=Object(m["getIntersection"])(f,g),y=Object(m["equals"])(g,v)?null:Object(m["buffer"])(v,n.getRenderBuffer()*l,r.tmpExtent),_=d.getProjection(),b=!1;Object(mt["equivalent"])(i,_)||(b=!0,d.setProjection(i)),s.dirty=!1;var w=new lt(0,v,l,e,h.getOverlaps(),r.declutterTree_,n.getRenderBuffer()),x=Object(dt["b"])(l,e),S=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,l)),e){var r=this.renderFeature(t,x,e,w);this.dirty_=this.dirty_||r,s.dirty=s.dirty||r}},E=d.getFeatures();a&&a!==s.renderedRenderOrder&&E.sort(a);for(var O=0,T=E.length;O<T;++O){var C=E[O];b&&(_.getUnits()==_t["b"].TILE_PIXELS&&(_.setWorldExtent(g),_.setExtent(d.getExtent())),C.getGeometry().transform(_,i)),y&&!Object(m["intersects"])(y,C.getGeometry().getExtent())||S.call(r,C)}w.finish(),d.setReplayGroup(n,t.tileCoord.toString(),w)}},p=0,g=t.tileKeys.length;p<g;++p)d(p,g);s.renderedRevision=o,s.renderedRenderOrder=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n){var o=e.viewState.resolution,a=e.viewState.rotation;i=void 0==i?0:i;var s,h,c,l,f=this.getLayer(),d={},p=this.renderedTiles;for(c=0,l=p.length;c<l;++c){var g=p[c];if(s=Object(m["buffer"])(g.extent,i*o,s),Object(m["containsCoordinate"])(s,t))for(var v=0,y=g.tileKeys.length;v<y;++v){var _=g.getTile(g.tileKeys[v]);if(_.getState()==vt["a"].LOADED){var b=_.getReplayGroup(f,g.tileCoord.toString());h=h||b.forEachFeatureAtCoordinate(t,o,a,i,{},(function(t){var e=Object(u["c"])(t);if(!(e in d))return d[e]=!0,r.call(n,t,f)}),null)}}}return h},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer(),r=i.getSource(),n=r.getTileGrid(),o=t.tileCoord,a=n.getResolution(o[0]),s=e.viewState,h=e.pixelRatio,c=s.resolution/h,u=n.getTileCoordExtent(o,this.tmpExtent),l=s.center,f=Object(m["getTopLeft"])(u),d=e.size,p=Math.round(h*d[0]/2),g=Math.round(h*d[1]/2);return Object(U["b"])(this.tmpTransform_,p,g,a/c,a/c,s.rotation,(f[0]-l[0])/a,(l[1]-f[1])/a)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,r){var n=this.getLayer(),o=n.getRenderMode();if(o!=yt["default"].IMAGE){var a,s,h=n.getDeclutter()?{}:null,c=n.getSource(),u=wt[o],l=i.pixelRatio,d=i.viewState.rotation,p=i.size;d&&(a=Math.round(l*p[0]/2),s=Math.round(l*p[1]/2),Object(b["s"])(e,-d,a,s)),h&&this.declutterTree_.clear();for(var g=i.viewHints,v=!(g[f["a"].ANIMATING]||g[f["a"].INTERACTING]),y=this.renderedTiles,m=c.getTileGridForProjection(i.viewState.projection),_=[],w=[],x=y.length-1;x>=0;--x){var S=y[x];if(S.getState()!=vt["a"].ABORT)for(var E=S.tileCoord,O=m.getTileCoordExtent(E,this.tmpExtent)[0]-S.extent[0],T=void 0,C=0,A=S.tileKeys.length;C<A;++C){var L=S.getTile(S.tileKeys[C]);if(L.getState()==vt["a"].LOADED){var R=L.getReplayGroup(n,E.toString());if(R&&R.hasReplays(u)){T||(T=this.getTransform(i,O));var M=L.tileCoord[0],I=R.getClipCoords(T);e.save(),e.globalAlpha=r.opacity;for(var P=0,N=_.length;P<N;++P){var F=_[P];M<w[P]&&(e.beginPath(),e.moveTo(I[0],I[1]),e.lineTo(I[2],I[3]),e.lineTo(I[4],I[5]),e.lineTo(I[6],I[7]),e.moveTo(F[6],F[7]),e.lineTo(F[4],F[5]),e.lineTo(F[2],F[3]),e.lineTo(F[0],F[1]),e.clip())}R.replay(e,T,d,{},v,u,h),e.restore(),_.push(I),w.push(M)}}}}h&&ut(h,e,d,v),d&&Object(b["s"])(e,d,a,s)}t.prototype.postCompose.call(this,e,i,r)},e.prototype.renderFeature=function(t,e,i,r){if(!i)return!1;var n=!1;if(Array.isArray(i))for(var o=0,a=i.length;o<a;++o)n=Object(dt["d"])(r,t,i[o],e,this.handleStyleImageChange_,this)||n;else n=Object(dt["d"])(r,t,i,e,this.handleStyleImageChange_,this);return n},e.prototype.renderTileImage_=function(t,e,i){var r=this.getLayer(),n=t.getReplayState(r),o=r.getRevision(),a=bt[r.getRenderMode()];if(a&&n.renderedTileRevision!==o){n.renderedTileRevision=o;var s=t.wrappedTileCoord,h=s[0],c=r.getSource(),u=c.getTileGridForProjection(i),l=u.getResolution(h),f=t.getContext(r),d=c.getTilePixelSize(h,e,i);f.canvas.width=d[0],f.canvas.height=d[1];for(var p=u.getTileCoordExtent(s,this.tmpExtent),g=0,v=t.tileKeys.length;g<v;++g){var y=t.getTile(t.tileKeys[g]);if(y.getState()==vt["a"].LOADED){var m=e/l,_=Object(U["f"])(this.tmpTransform_);Object(U["h"])(_,m,-m),Object(U["j"])(_,-p[0],-p[3]);var b=y.getReplayGroup(r,t.tileCoord.toString());b.replay(f,_,0,{},!0,a)}}}},e}(c["a"]);xt["handles"]=function(t){return t.getType()===l["a"].VECTOR_TILE},xt["create"]=function(t,e){return new xt(e)};var St=xt,Et=function(t){function e(e){e=Object(a["a"])({},e),e.controls||(e.controls=Object(n["a"])()),e.interactions||(e.interactions=Object(o["defaults"])()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new h["a"](this);return t.registerLayerRenderers([s["a"],c["a"],gt,St]),t},e}(r["a"]);e["a"]=Et},4500:function(t,e,i){var r=i("0d63");r(r.S,"Number",{isInteger:i("6331")})},"457a":function(t,e,i){"use strict";var r=i("fd21"),n=i("0acf"),o=i("3d22"),a=i("faad"),s=i("5f62"),h=i("615e"),c=i("d6b2"),u=Object(c["c"])(),l=function(t){function e(){t.call(this),this.extent_=Object(o["createEmpty"])(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(r["b"])()},e.prototype.closestPointXY=function(t,e,i,n){return Object(r["b"])()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(r["b"])()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o["returnOrUpdate"])(this.extent_,t)},e.prototype.rotate=function(t,e){Object(r["b"])()},e.prototype.scale=function(t,e,i){Object(r["b"])()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(r["b"])()},e.prototype.getType=function(){return Object(r["b"])()},e.prototype.applyTransform=function(t){Object(r["b"])()},e.prototype.intersectsExtent=function(t){return Object(r["b"])()},e.prototype.translate=function(t,e){Object(r["b"])()},e.prototype.transform=function(t,e){var i=Object(s["get"])(t),r=i.getUnits()==h["b"].TILE_PIXELS?function(t,r,n){var h=i.getExtent(),l=i.getWorldExtent(),f=Object(o["getHeight"])(l)/Object(o["getHeight"])(h);return Object(c["b"])(u,l[0],l[3],f,-f,0,0,0),Object(a["c"])(t,0,t.length,n,u,r),Object(s["getTransform"])(i,e)(t,r,n)}:Object(s["getTransform"])(i,e);return this.applyTransform(r),this},e}(n["default"]);e["a"]=l},"461e":function(t,e,i){"use strict";e["a"]={ADD:"add",REMOVE:"remove"}},4641:function(t,e,i){"use strict";function r(t){return Math.pow(t,3)}function n(t){return 1-r(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}function s(t){return t<.5?o(2*t):1-o(2*(t-.5))}i.r(e),i.d(e,"easeIn",(function(){return r})),i.d(e,"easeOut",(function(){return n})),i.d(e,"inAndOut",(function(){return o})),i.d(e,"linear",(function(){return a})),i.d(e,"upAndDown",(function(){return s}))},"467f":function(t,e,i){"use strict";var r=i("2d83");t.exports=function(t,e,i){var n=i.config.validateStatus;!n||n(i.status)?t(i):e(r("Request failed with status code "+i.status,i.config,null,i.request,i))}},4691:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"46a3":function(t,e,i){var r=i("a036"),n=Math.pow,o=n(2,-52),a=n(2,-23),s=n(2,127)*(2-a),h=n(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,i,n=Math.abs(t),u=r(t);return n<h?u*c(n/h/a)*h*a:(e=(1+a/o)*n,i=e-(e-n),i>s||i!=i?u*(1/0):u*i)}},"46d6":function(t,e,i){"use strict";var r=i("0d63"),n=i("9e2d")(3);r(r.P+r.F*!i("60a1")([].some,!0),"Array",{some:function(t){return n(this,t,arguments[1])}})},"46d8":function(t,e,i){"use strict";var r=i("0d63"),n=i("cb03")(!0);r(r.P,"Array",{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("7671")("includes")},4746:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("a0a2"),h=i("bd30"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._sceneFunc=function(t){var e,i=this.getWidth(),r=this.getHeight(),n=this.attrs.image;if(n){var o=this.attrs.cropWidth,a=this.attrs.cropHeight;e=o&&a?[n,this.cropX(),this.cropY(),o,a,0,0,i,r]:[n,0,0,i,r]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)),n&&t.drawImage.apply(t,e)},e.prototype._hitFunc=function(t){var e=this.width(),i=this.height();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.width)||0},e.prototype.getHeight=function(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.height)||0},e.fromURL=function(t,i){var r=n.Util.createImageElement();r.onload=function(){var t=new e({image:r});i(t)},r.crossOrigin="Anonymous",r.src=t},e}(a.Shape);e.Image=c,c.prototype.className="Image",h._registerNode(c),o.Factory.addGetterSetter(c,"image"),o.Factory.addComponentsGetterSetter(c,"crop",["x","y","width","height"]),o.Factory.addGetterSetter(c,"cropX",0,s.getNumberValidator()),o.Factory.addGetterSetter(c,"cropY",0,s.getNumberValidator()),o.Factory.addGetterSetter(c,"cropWidth",0,s.getNumberValidator()),o.Factory.addGetterSetter(c,"cropHeight",0,s.getNumberValidator()),n.Collection.mapMethods(c)},"482b":function(t,e,i){var r=i("d8b2"),n=i("58d1");t.exports=function(t){if(void 0===t)return 0;var e=r(t),i=n(e);if(e!==i)throw RangeError("Wrong length!");return i}},4882:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return h})),i.d(e,"f",(function(){return c})),i.d(e,"g",(function(){return u})),i.d(e,"h",(function(){return l})),i.d(e,"i",(function(){return f})),i.d(e,"e",(function(){return d})),i.d(e,"j",(function(){return p}));var r=i("136c"),n=i("7d23");function o(t,e){return t[0]+=e[0],t[1]+=e[1],t}function a(t,e){var i=e.getRadius(),r=e.getCenter(),n=r[0],o=r[1],a=t[0],s=t[1],h=a-n,c=s-o;0===h&&0===c&&(h=1);var u=Math.sqrt(h*h+c*c),l=n+i*h/u,f=o+i*c/u;return[l,f]}function s(t,e){var i,r,n=t[0],o=t[1],a=e[0],s=e[1],h=a[0],c=a[1],u=s[0],l=s[1],f=u-h,d=l-c,p=0===f&&0===d?0:(f*(n-h)+d*(o-c))/(f*f+d*d||0);return p<=0?(i=h,r=c):p>=1?(i=u,r=l):(i=h+p*f,r=c+p*d),[i,r]}function h(t,e,i){var o=Object(r["d"])(e+180,360)-180,a=Math.abs(3600*o),s=i||0,h=Math.pow(10,s),c=Math.floor(a/3600),u=Math.floor((a-3600*c)/60),l=a-3600*c-60*u;return l=Math.ceil(l*h)/h,l>=60&&(l=0,u+=1),u>=60&&(u=0,c+=1),c+" "+Object(n["b"])(u,2)+" "+Object(n["b"])(l,2,s)+""+(0==o?"":" "+t.charAt(o<0?1:0))}function c(t,e){for(var i=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){i=!1;break}return i}function u(t,e){var i=Math.cos(e),r=Math.sin(e),n=t[0]*i-t[1]*r,o=t[1]*i+t[0]*r;return t[0]=n,t[1]=o,t}function l(t,e){return t[0]*=e,t[1]*=e,t}function f(t,e){var i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function d(t,e){return Math.sqrt(f(t,e))}function p(t,e){return f(t,s(t,e))}},"48d0":function(t,e,i){var r=i("0d63");r(r.S,"Math",{log1p:i("b03c")})},"4a3a":function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},"4a60":function(t,e,i){"use strict";var r=i("0d63"),n=i("9c55"),o=i("679a"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},"4a7b":function(t,e,i){"use strict";var r=i("c532");t.exports=function(t,e){e=e||{};var i={},n=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(n,(function(t){"undefined"!==typeof e[t]&&(i[t]=e[t])})),r.forEach(o,(function(n){r.isObject(e[n])?i[n]=r.deepMerge(t[n],e[n]):"undefined"!==typeof e[n]?i[n]=e[n]:r.isObject(t[n])?i[n]=r.deepMerge(t[n]):"undefined"!==typeof t[n]&&(i[n]=t[n])})),r.forEach(a,(function(r){"undefined"!==typeof e[r]?i[r]=e[r]:"undefined"!==typeof t[r]&&(i[r]=t[r])}));var s=n.concat(o).concat(a),h=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(h,(function(r){"undefined"!==typeof e[r]?i[r]=e[r]:"undefined"!==typeof t[r]&&(i[r]=t[r])})),i}},"4aa8":function(t,e,i){"use strict";(function(e){var r=i("0a36").EventEmitter,n=i("1499"),o=i("5db0"),a=i("4035"),s=i("26f2"),h=i("70ea"),c=function(){};function u(t,i){var n=this;r.call(this);var u=function(){var e=n.ifr=new s(h.transportName,i,t);e.once("message",(function(t){if(t){var e;try{e=o.parse(t)}catch(a){return c("bad json",t),n.emit("finish"),void n.close()}var i=e[0],r=e[1];n.emit("finish",i,r)}n.close()})),e.once("close",(function(){n.emit("finish"),n.close()}))};e.document.body?u():a.attachEvent("load",u)}n(u,r),u.enabled=function(){return s.enabled()},u.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=u}).call(this,i("c8ba"))},"4b13":function(t,e){t.exports=function(t,e,i,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(i+": incorrect invocation!");return t}},"4b84":function(t,e,i){"use strict";i.d(e,"b",(function(){return p}));var r=i("d6b2"),n=i("6646"),o=i("e9ee"),a=i("5f6b"),s=i("3f2c"),h=i("2cc6"),c=i("9ee7"),u=i("6476"),l=i("42ae"),f=i("7073"),d=i("a7f3"),p=[],g=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=Object(a["a"])(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=o["e"],i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(r["c"])()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),r=this.context_;if(i.hasListener(t)){var n=e.extent,o=e.pixelRatio,a=e.viewState,s=a.rotation,c=this.getTransform(e),u=new l["a"](r,o,n,c,s),f=new h["a"](t,u,e,r,null);i.dispatchEvent(f)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,n=this.canvas_.height/2,o=t.pixelRatio/e.resolution,a=-o,s=-e.rotation,h=-e.center[0],c=-e.center[1];return Object(r["b"])(this.transform_,i,n,o,a,s,h,c)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,r=Math.round(t.size[0]*i),o=Math.round(t.size[1]*i);this.canvas_.width!=r||this.canvas_.height!=o?(this.canvas_.width=r,this.canvas_.height=o):e.clearRect(0,0,r,o);var a=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(c["a"].PRECOMPOSE,t);var h=t.layerStatesArray;Object(n["l"])(h,f["b"]),a&&(e.save(),Object(u["s"])(e,a,r/2,o/2));var l,p,g=t.viewState.resolution;for(l=0,p=h.length;l<p;++l){var v=h[l],y=v.layer,m=this.getLayerRenderer(y);Object(s["b"])(v,g)&&v.sourceState==d["a"].READY&&(m.prepareFrame(t,v)&&m.composeFrame(t,v,e))}a&&e.restore(),this.dispatchRenderEvent(c["a"].POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,n,o,a,h){var c,u,l=e.viewState,f=l.resolution,d=e.layerStatesArray,p=d.length,g=Object(r["a"])(e.pixelToCoordinateTransform,t.slice());for(u=p-1;u>=0;--u){var v=d[u],y=v.layer;if(Object(s["b"])(v,f)&&a.call(h,y)){var m=this.getLayerRenderer(y);if(c=m.forEachLayerAtCoordinate(g,e,i,n,o),c)return c}}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,r=e.length;i<r;++i){var o=e[i];Object(n["f"])(p,o)||p.push(o)}},e}(f["a"]);e["a"]=g},"4b99":function(t,e,i){"use strict";var r=i("bef6"),n=i("3175"),o=i("a6a2"),a=i("3881"),s=i("6646"),h=i("3d22"),c=i("41ff"),u=i("acdf"),l=i("4b84"),f=i("12ec"),d=i("d6b2"),p=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=Object(d["c"])(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===o["a"].VECTOR)for(var r=0,n=l["b"].length;r<n;++r){var a=l["b"][r];if(a!==e&&a["handles"](i)){this.vectorRenderer_=new a(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,o=t.pixelRatio,c=t.size,l=t.viewState,f=l.center,p=l.resolution,g=this.getLayer(),v=g.getSource(),y=t.viewHints,m=this.vectorRenderer_,_=t.extent;if(m||void 0===e.extent||(_=Object(h["getIntersection"])(_,e.extent)),!y[a["a"].ANIMATING]&&!y[a["a"].INTERACTING]&&!Object(h["isEmpty"])(_)){var b=l.projection;if(!r["a"]){var w=v.getProjection();w&&(b=w)}var x=this.skippedFeatures_;if(m){var S=m.context,E=Object(u["a"])({},t,{size:[Object(h["getWidth"])(_)/p,Object(h["getHeight"])(_)/p],viewState:Object(u["a"])({},t.viewState,{rotation:0})}),O=Object.keys(E.skippedFeatureUids).sort();i=new n["a"](_,p,o,S.canvas,(function(t){!m.prepareFrame(E,e)||!m.replayGroupChanged&&Object(s["b"])(x,O)||(S.canvas.width=E.size[0]*o,S.canvas.height=E.size[1]*o,m.compose(S,E,e),x=O,t())}))}else i=v.getImage(_,p,o,b);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=x)}if(this.image_){i=this.image_;var T=i.getExtent(),C=i.getResolution(),A=i.getPixelRatio(),L=o*C/(p*A),R=Object(d["b"])(this.imageTransform_,o*c[0]/2,o*c[1]/2,L,L,0,A*(T[0]-f[0])/C,A*(f[1]-T[3])/C);Object(d["b"])(this.coordinateToCanvasPixelTransform,o*c[0]/2-R[4],o*c[1]/2-R[5],o/p,-o/p,0,-f[0],-f[1]),this.renderedResolution=C*o/A}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,r,n){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,r,n):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,r,n)},e}(f["a"]);p["handles"]=function(t){return t.getType()===o["a"].IMAGE||t.getType()===o["a"].VECTOR&&t.getRenderMode()===c["a"].IMAGE},p["create"]=function(t,e){return new p(e)},e["a"]=p},"4cbe":function(t,e,i){"use strict";i.r(e),i.d(e,"AssertionError",(function(){return r["a"]})),i.d(e,"Collection",(function(){return n["default"]})),i.d(e,"Disposable",(function(){return o["a"]})),i.d(e,"Feature",(function(){return a["default"]})),i.d(e,"Geolocation",(function(){return m})),i.d(e,"Graticule",(function(){return N})),i.d(e,"Image",(function(){return F["a"]})),i.d(e,"ImageBase",(function(){return k["a"]})),i.d(e,"ImageCanvas",(function(){return j["a"]})),i.d(e,"ImageTile",(function(){return D["a"]})),i.d(e,"Kinetic",(function(){return G["a"]})),i.d(e,"Map",(function(){return B["a"]})),i.d(e,"MapBrowserEvent",(function(){return U["a"]})),i.d(e,"MapBrowserEventHandler",(function(){return z["a"]})),i.d(e,"MapBrowserPointerEvent",(function(){return q["a"]})),i.d(e,"MapEvent",(function(){return V["a"]})),i.d(e,"Object",(function(){return s["default"]})),i.d(e,"Observable",(function(){return H["default"]})),i.d(e,"Overlay",(function(){return W["default"]})),i.d(e,"PluggableMap",(function(){return Y["a"]})),i.d(e,"Tile",(function(){return K["a"]})),i.d(e,"TileCache",(function(){return X["a"]})),i.d(e,"TileQueue",(function(){return Z["a"]})),i.d(e,"TileRange",(function(){return $["b"]})),i.d(e,"VectorImageTile",(function(){return J["a"]})),i.d(e,"VectorTile",(function(){return Q["a"]})),i.d(e,"View",(function(){return tt["a"]})),i.d(e,"WebGLMap",(function(){return _i})),i.d(e,"getUid",(function(){return ht["c"]})),i.d(e,"inherits",(function(){return ht["d"]})),i.d(e,"VERSION",(function(){return ht["a"]}));var r=i("cd2e"),n=i("9cc9"),o=i("09b5"),a=i("a045"),s=i("0acf"),h=i("a273"),c=i("64c1"),u=i("eee0"),l=i("c484"),f=i("9734"),d=i("136c"),p=i("5f62"),g={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},v=function(t){function e(e){t.call(this,u["default"].ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c["a"]),y=function(t){function e(e){t.call(this);var i=e||{};this.position_=null,this.transform_=p["identityTransform"],this.watchId_=void 0,Object(h["listen"])(this,Object(s["getChangeEventType"])(g.PROJECTION),this.handleProjectionChanged_,this),Object(h["listen"])(this,Object(s["getChangeEventType"])(g.TRACKING),this.handleTrackingChanged_,this),void 0!==i.projection&&this.setProjection(i.projection),void 0!==i.trackingOptions&&this.setTrackingOptions(i.trackingOptions),this.setTracking(void 0!==i.tracking&&i.tracking)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Object(p["getTransformFromProjections"])(Object(p["get"])("EPSG:4326"),t),this.position_&&this.set(g.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if(f["d"]){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(g.ACCURACY,e.accuracy),this.set(g.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(g.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(g.HEADING,null===e.heading?void 0:Object(d["j"])(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(g.POSITION,i),this.set(g.SPEED,null===e.speed?void 0:e.speed);var r=Object(l["circular"])(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(g.ACCURACY_GEOMETRY,r),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new v(t))},e.prototype.getAccuracy=function(){return this.get(g.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(g.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(g.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(g.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(g.HEADING)},e.prototype.getPosition=function(){return this.get(g.POSITION)},e.prototype.getProjection=function(){return this.get(g.PROJECTION)},e.prototype.getSpeed=function(){return this.get(g.SPEED)},e.prototype.getTracking=function(){return this.get(g.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(g.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(g.PROJECTION,Object(p["get"])(t))},e.prototype.setTracking=function(t){this.set(g.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(g.TRACKING_OPTIONS,t)},e}(s["default"]),m=y,_=i("4882"),b=i("3d22"),w=i("34f5"),x=i("8d45"),S=i("9eff");function E(t,e,i){var r,n,o,a,s,h,c=[],u=t(0),l=t(1),f=e(u),p=e(l),g=[l,u],v=[p,f],y=[1,0],m={},_=1e5;while(--_>0&&y.length>0)o=y.pop(),u=g.pop(),f=v.pop(),h=o.toString(),h in m||(c.push(f[0],f[1]),m[h]=!0),a=y.pop(),l=g.pop(),p=v.pop(),s=(o+a)/2,r=t(s),n=e(r),Object(d["h"])(n[0],n[1],f[0],f[1],p[0],p[1])<i?(c.push(p[0],p[1]),h=a.toString(),m[h]=!0):(y.push(a,s,s,o),v.push(p,n,n,f),g.push(l,r,r,u));return c}function O(t,e,i,r,n){var o=Object(p["get"])("EPSG:4326");return E((function(r){return[t,e+(i-e)*r]}),Object(p["getTransform"])(o,r),n)}function T(t,e,i,r,n){var o=Object(p["get"])("EPSG:4326");return E((function(r){return[e+(i-e)*r,t]}),Object(p["getTransform"])(o,r),n)}var C=i("9ee7"),A=i("08fa"),L=i("abe5"),R=i("6d02"),M=new L["a"]({color:"rgba(0,0,0,0.2)"}),I=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],P=function(t){var e=t||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:M,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==e.showLabels&&(this.lonLabelFormatter_=void 0==e.lonLabelFormatter?_["d"].bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=void 0==e.latLabelFormatter?_["d"].bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=void 0==e.lonLabelPosition?0:e.lonLabelPosition,this.latLabelPosition_=void 0==e.latLabelPosition?1:e.latLabelPosition,this.lonLabelStyle_=void 0!==e.lonLabelStyle?e.lonLabelStyle:new R["a"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new A["a"]({color:"rgba(0,0,0,1)"}),stroke:new L["a"]({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==e.latLabelStyle?e.latLabelStyle:new R["a"]({font:"12px Calibri,sans-serif",textAlign:"end",fill:new A["a"]({color:"rgba(0,0,0,1)"}),stroke:new L["a"]({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==e.intervals?e.intervals:I,this.setMap(void 0!==e.map?e.map:null)};P.prototype.addMeridian_=function(t,e,i,r,n,o){var a=this.getMeridian_(t,e,i,r,o);if(Object(b["intersects"])(a.getExtent(),n)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(a,n,o);this.meridiansLabels_[o]={geom:s,text:this.lonLabelFormatter_(t)}}this.meridians_[o++]=a}return o},P.prototype.getMeridianPoint_=function(t,e,i){var r,n=t.getFlatCoordinates(),o=Math.max(e[1],n[1]),a=Math.min(e[3],n[n.length-1]),s=Object(d["a"])(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),h=[n[0],s];return i in this.meridiansLabels_?(r=this.meridiansLabels_[i].geom,r.setCoordinates(h)):r=new S["a"](h),r},P.prototype.addParallel_=function(t,e,i,r,n,o){var a=this.getParallel_(t,e,i,r,o);if(Object(b["intersects"])(a.getExtent(),n)){if(this.parallelsLabels_){var s=this.getParallelPoint_(a,n,o);this.parallelsLabels_[o]={geom:s,text:this.latLabelFormatter_(t)}}this.parallels_[o++]=a}return o},P.prototype.getParallelPoint_=function(t,e,i){var r,n=t.getFlatCoordinates(),o=Math.max(e[0],n[0]),a=Math.min(e[2],n[n.length-2]),s=Object(d["a"])(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),h=[s,n[1]];return i in this.parallelsLabels_?(r=this.parallelsLabels_[i].geom,r.setCoordinates(h)):r=new S["a"](h),r},P.prototype.createGraticule_=function(t,e,i,r){var n=this.getInterval_(i);if(-1==n)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,h,c=this.toLonLatTransform_(e),u=c[0],l=c[1],f=this.maxLines_,g=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)];g=Object(p["transformExtent"])(g,this.projection_,"EPSG:4326");var v=g[3],y=g[2],m=g[1],_=g[0];u=Math.floor(u/n)*n,h=Object(d["a"])(u,this.minLon_,this.maxLon_),a=this.addMeridian_(h,m,v,r,t,0),o=0;while(h!=this.minLon_&&o++<f)h=Math.max(h-n,this.minLon_),a=this.addMeridian_(h,m,v,r,t,a);h=Object(d["a"])(u,this.minLon_,this.maxLon_),o=0;while(h!=this.maxLon_&&o++<f)h=Math.min(h+n,this.maxLon_),a=this.addMeridian_(h,m,v,r,t,a);this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),l=Math.floor(l/n)*n,s=Object(d["a"])(l,this.minLat_,this.maxLat_),a=this.addParallel_(s,_,y,r,t,0),o=0;while(s!=this.minLat_&&o++<f)s=Math.max(s-n,this.minLat_),a=this.addParallel_(s,_,y,r,t,a);s=Object(d["a"])(l,this.minLat_,this.maxLat_),o=0;while(s!=this.maxLat_&&o++<f)s=Math.min(s+n,this.maxLat_),a=this.addParallel_(s,_,y,r,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},P.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],i=this.projectionCenterLonLat_[1],r=-1,n=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,h=this.intervals_.length;s<h;++s){var c=this.intervals_[s]/2;o[0]=e-c,o[1]=i-c,a[0]=e+c,a[1]=i+c,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a);var u=Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2);if(u<=n)break;r=this.intervals_[s]}return r},P.prototype.getMap=function(){return this.map_},P.prototype.getMeridian_=function(t,e,i,r,n){var o=O(t,e,i,this.projection_,r),a=this.meridians_[n];return a?(a.setFlatCoordinates(w["a"].XY,o),a.changed()):a=this.meridians_[n]=new x["a"](o,w["a"].XY),a},P.prototype.getMeridians=function(){return this.meridians_},P.prototype.getParallel_=function(t,e,i,r,n){var o=T(t,e,i,this.projection_,r),a=this.parallels_[n];return a?(a.setFlatCoordinates(w["a"].XY,o),a.changed()):a=new x["a"](o,w["a"].XY),a},P.prototype.getParallels=function(){return this.parallels_},P.prototype.handlePostCompose_=function(t){var e,i,r,n,o=t.vectorContext,a=t.frameState,s=a.extent,h=a.viewState,c=h.center,u=h.projection,l=h.resolution,f=a.pixelRatio,d=l*l/(4*f*f),g=!this.projection_||!Object(p["equivalent"])(this.projection_,u);for(g&&this.updateProjectionInfo_(u),this.createGraticule_(s,c,l,d),o.setFillStrokeStyle(null,this.strokeStyle_),e=0,i=this.meridians_.length;e<i;++e)r=this.meridians_[e],o.drawGeometry(r);for(e=0,i=this.parallels_.length;e<i;++e)r=this.parallels_[e],o.drawGeometry(r);if(this.meridiansLabels_)for(e=0,i=this.meridiansLabels_.length;e<i;++e)n=this.meridiansLabels_[e],this.lonLabelStyle_.setText(n.text),o.setTextStyle(this.lonLabelStyle_),o.drawGeometry(n.geom);if(this.parallelsLabels_)for(e=0,i=this.parallelsLabels_.length;e<i;++e)n=this.parallelsLabels_[e],this.latLabelStyle_.setText(n.text),o.setTextStyle(this.latLabelStyle_),o.drawGeometry(n.geom)},P.prototype.updateProjectionInfo_=function(t){var e=Object(p["get"])("EPSG:4326"),i=t.getWorldExtent(),r=Object(p["transformExtent"])(i,e,t);this.maxLat_=i[3],this.maxLon_=i[2],this.minLat_=i[1],this.minLon_=i[0],this.maxLatP_=r[3],this.maxLonP_=r[2],this.minLatP_=r[1],this.minLonP_=r[0],this.fromLonLatTransform_=Object(p["getTransform"])(e,t),this.toLonLatTransform_=Object(p["getTransform"])(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(b["getCenter"])(t.getExtent())),this.projection_=t},P.prototype.setMap=function(t){this.map_&&(Object(h["unlistenByKey"])(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=Object(h["listen"])(t,C["a"].POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t};var N=P,F=i("cee4"),k=i("0ee3"),j=i("3175"),D=i("1346"),G=i("3206"),B=i("4450"),U=i("c5e9b"),z=i("1010"),q=i("587a"),V=i("7b84"),H=i("7186"),W=i("8381"),Y=i("194e"),K=i("5eee"),X=i("f7bb"),Z=i("eefa"),$=i("f82c"),J=i("f780"),Q=i("546e"),tt=i("7881"),et=i("867a"),it=i("d812"),rt=i("acdf"),nt=i("bef6"),ot=i("a6a2"),at=i("3881"),st=i("5f6b"),ht=i("fd21"),ct=i("2cc6"),ut=i("cc7a"),lt=i("981d"),ft=i("9695"),dt=i("6646"),pt=i("7057"),gt=i("ee14"),vt=i("81ae"),yt=i("faad"),mt=i("3238"),_t=function(t){this.source_=t};_t.prototype.isAnimated=function(){return!1},_t.prototype.getType=function(){return Object(ht["b"])()},_t.prototype.getSource=function(){return this.source_};var bt=_t,wt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return mt["m"]},e}(bt),xt=wt,St=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return mt["J"]},e}(bt),Et=St,Ot=new xt(mt["g"]?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),Tt=new Et(mt["g"]?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"),Ct=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,mt["g"]?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,mt["g"]?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,mt["g"]?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,mt["g"]?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,mt["g"]?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,mt["g"]?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,mt["g"]?"u_size":"p"),this.a_position=t.getAttribLocation(e,mt["g"]?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,mt["g"]?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,mt["g"]?"a_radius":"g")},At=Ct,Lt=i("d6b2");function Rt(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Mt(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var It=function(t){function e(e,i){t.call(this),this.tolerance=e,this.maxExtent=i,this.origin=Object(b["getCenter"])(i),this.projectionMatrix_=Object(Lt["c"])(),this.offsetRotateMatrix_=Object(Lt["c"])(),this.offsetScaleMatrix_=Object(Lt["c"])(),this.tmpMat4_=Rt(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){return Object(ht["b"])()},e.prototype.finish=function(t){Object(ht["b"])()},e.prototype.setUpProgram=function(t,e,i,r){return Object(ht["b"])()},e.prototype.shutDownProgram=function(t,e){Object(ht["b"])()},e.prototype.drawReplay=function(t,e,i,r){Object(ht["b"])()},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,n){return Object(ht["b"])()},e.prototype.drawHitDetectionReplay=function(t,e,i,r,n,o){return n?this.drawHitDetectionReplayOneByOne(t,e,i,r,o):this.drawHitDetectionReplayAll(t,e,i,r)},e.prototype.drawHitDetectionReplayAll=function(t,e,i,r){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,i,!0);var n=r(null);return n||void 0},e.prototype.replay=function(t,e,i,r,n,o,a,s,h,c,u){var l,f,d,p,g,v,y,m,_=t.getGL();this.lineStringReplay&&(l=_.isEnabled(_.STENCIL_TEST),f=_.getParameter(_.STENCIL_FUNC),d=_.getParameter(_.STENCIL_VALUE_MASK),p=_.getParameter(_.STENCIL_REF),g=_.getParameter(_.STENCIL_WRITEMASK),v=_.getParameter(_.STENCIL_FAIL),y=_.getParameter(_.STENCIL_PASS_DEPTH_PASS),m=_.getParameter(_.STENCIL_PASS_DEPTH_FAIL),_.enable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilMask(255),_.stencilFunc(_.ALWAYS,1,255),_.stencilOp(_.KEEP,_.KEEP,_.REPLACE),this.lineStringReplay.replay(t,e,i,r,n,o,a,s,h,c,u),_.stencilMask(0),_.stencilFunc(_.NOTEQUAL,1,255)),t.bindBuffer(mt["a"],this.verticesBuffer),t.bindBuffer(mt["j"],this.indicesBuffer);var b=this.setUpProgram(_,t,n,o),w=Object(Lt["f"])(this.projectionMatrix_);Object(Lt["h"])(w,2/(i*n[0]),2/(i*n[1])),Object(Lt["g"])(w,-r),Object(Lt["j"])(w,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var x=Object(Lt["f"])(this.offsetScaleMatrix_);Object(Lt["h"])(x,2/n[0],2/n[1]);var S,E=Object(Lt["f"])(this.offsetRotateMatrix_);return 0!==r&&Object(Lt["g"])(E,-r),_.uniformMatrix4fv(b.u_projectionMatrix,!1,Mt(this.tmpMat4_,w)),_.uniformMatrix4fv(b.u_offsetScaleMatrix,!1,Mt(this.tmpMat4_,x)),_.uniformMatrix4fv(b.u_offsetRotateMatrix,!1,Mt(this.tmpMat4_,E)),_.uniform1f(b.u_opacity,a),void 0===h?this.drawReplay(_,t,s,!1):S=this.drawHitDetectionReplay(_,t,s,h,c,u),this.shutDownProgram(_,b),this.lineStringReplay&&(l||_.disable(_.STENCIL_TEST),_.clear(_.STENCIL_BUFFER_BIT),_.stencilFunc(f,p,d),_.stencilMask(g),_.stencilOp(v,m,y)),S},e.prototype.drawElements=function(t,e,i,r){var n=e.hasOESElementIndexUint?mt["H"]:mt["I"],o=e.hasOESElementIndexUint?4:2,a=r-i,s=i*o;t.drawElements(mt["E"],a,n,s)},e}(ft["a"]),Pt=It,Nt="10px sans-serif",Ft=[0,0,0,1],kt="round",jt=[],Dt=0,Gt="round",Bt=10,Ut=[0,0,0,1],zt=.5,qt=.5,Vt=1,Ht=Number.EPSILON||2220446049250313e-31,Wt=function(t,e,i,r,n,o){var a=(i-t)*(o-e)-(n-t)*(r-e);return a<=Ht&&a>=-Ht?void 0:a>0},Yt={STATIC_DRAW:mt["v"],STREAM_DRAW:mt["x"],DYNAMIC_DRAW:mt["i"]},Kt=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:Yt.STATIC_DRAW};Kt.prototype.getArray=function(){return this.arr_},Kt.prototype.getUsage=function(){return this.usage_};var Xt=Kt,Zt=function(t){function e(e,i){t.call(this,e,i),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,r){var n,o,a=this.vertices.length,s=this.indices.length,h=a/4;for(n=e,o=i;n<o;n+=r)this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[n],this.vertices[a++]=t[n+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=h,this.indices[s++]=h+1,this.indices[s++]=h+2,this.indices[s++]=h+2,this.indices[s++]=h+3,this.indices[s++]=h,h+=4},e.prototype.drawCircle=function(t,e){var i=t.getRadius(),r=t.getStride();if(i){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=i;var n=t.getFlatCoordinates();n=Object(yt["d"])(n,0,2,r,-this.origin[0],-this.origin[1]),this.drawCoordinates_(n,0,2,r)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},e.prototype.finish=function(t){this.verticesBuffer=new Xt(this.vertices),this.indicesBuffer=new Xt(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},e.prototype.setUpProgram=function(t,e,i,r){var n,o=e.getProgram(Ot,Tt);return this.defaultLocations_?n=this.defaultLocations_:(n=new At(t,o),this.defaultLocations_=n),e.useProgram(o),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,mt["l"],!1,16,0),t.enableVertexAttribArray(n.a_instruction),t.vertexAttribPointer(n.a_instruction,1,mt["l"],!1,16,8),t.enableVertexAttribArray(n.a_radius),t.vertexAttribPointer(n.a_radius,1,mt["l"],!1,16,12),t.uniform2fv(n.u_size,i),t.uniform1f(n.u_pixelRatio,r),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},e.prototype.drawReplay=function(t,e,i,r){var n,o,a,s;if(Object(rt["d"])(i))for(a=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)o=this.styleIndices_[n],s=this.styles_[n],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,i)},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,n){var o,a,s,h,c,u,l;for(l=this.startIndices.length-2,s=this.startIndices[l+1],o=this.styleIndices_.length-1;o>=0;--o){h=this.styles_[o],this.setFillStyle_(t,h[0]),this.setStrokeStyle_(t,h[1],h[2]),c=this.styleIndices_[o];while(l>=0&&this.startIndices[l]>=c){if(a=this.startIndices[l],u=this.startIndicesFeature[l],void 0===i[Object(ht["c"])(u)]&&u.getGeometry()&&(void 0===n||Object(b["intersects"])(n,u.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var f=r(u);if(f)return f}l--,s=a}}},e.prototype.drawReplaySkipping_=function(t,e,i){var r,n,o,a,s,h,c,u;for(c=this.startIndices.length-2,o=n=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){a=this.styles_[r],this.setFillStyle_(t,a[0]),this.setStrokeStyle_(t,a[1],a[2]),s=this.styleIndices_[r];while(c>=0&&this.startIndices[c]>=s)u=this.startIndices[c],h=this.startIndicesFeature[c],i[Object(ht["c"])(h)]&&(n!==o&&this.drawElements(t,e,n,o),o=u),c--,n=u;n!==o&&this.drawElements(t,e,n,o),n=o=s}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},e.prototype.setStrokeStyle_=function(t,e,i){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i)},e.prototype.setFillStrokeStyle=function(t,e){var i,r;if(e){var n=e.getLineDash();this.state_.lineDash=n||jt;var o=e.getLineDashOffset();this.state_.lineDashOffset=o||Dt,i=e.getColor(),i=i instanceof CanvasGradient||i instanceof CanvasPattern?Ut:Object(vt["asArray"])(i).map((function(t,e){return 3!=e?t/255:t}))||Ut,r=e.getWidth(),r=void 0!==r?r:Vt}else i=[0,0,0,0],r=0;var a=t?t.getColor():[0,0,0,0];a=a instanceof CanvasGradient||a instanceof CanvasPattern?Ft:Object(vt["asArray"])(a).map((function(t,e){return 3!=e?t/255:t}))||Ft,this.state_.strokeColor&&Object(dt["b"])(this.state_.strokeColor,i)&&this.state_.fillColor&&Object(dt["b"])(this.state_.fillColor,a)&&this.state_.lineWidth===r||(this.state_.changed=!0,this.state_.fillColor=a,this.state_.strokeColor=i,this.state_.lineWidth=r,this.styles_.push([a,i,r]))},e}(Pt),$t=Zt,Jt=new xt(mt["g"]?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Qt=new Et(mt["g"]?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"),te=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,mt["g"]?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,mt["g"]?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,mt["g"]?"u_image":"l"),this.a_position=t.getAttribLocation(e,mt["g"]?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,mt["g"]?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,mt["g"]?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,mt["g"]?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,mt["g"]?"a_rotateWithView":"g")},ee=te,ie={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},re=function(t){function e(e,i){t.call(this),this.canvas_=e,this.gl_=i,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=Object(dt["f"])(mt["k"],"OES_element_index_uint"),this.hasOESElementIndexUint&&i.getExtension("OES_element_index_uint"),Object(h["listen"])(this.canvas_,ie.LOST,this.handleWebGLContextLost,this),Object(h["listen"])(this.canvas_,ie.RESTORED,this.handleWebGLContextRestored,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindBuffer=function(t,e){var i=this.getGL(),r=e.getArray(),n=Object(ht["c"])(e);if(n in this.bufferCache_){var o=this.bufferCache_[n];i.bindBuffer(t,o.buffer)}else{var a,s=i.createBuffer();i.bindBuffer(t,s),t==mt["a"]?a=new Float32Array(r):t==mt["j"]&&(a=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)),i.bufferData(t,a,e.getUsage()),this.bufferCache_[n]={buf:e,buffer:s}}},e.prototype.deleteBuffer=function(t){var e=this.getGL(),i=Object(ht["c"])(t),r=this.bufferCache_[i];e.isContextLost()||e.deleteBuffer(r.buffer),delete this.bufferCache_[i]},e.prototype.disposeInternal=function(){Object(h["unlistenAll"])(this.canvas_);var t=this.getGL();if(!t.isContextLost()){for(var e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(var i in this.programCache_)t.deleteProgram(this.programCache_[i]);for(var r in this.shaderCache_)t.deleteShader(this.shaderCache_[r]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},e.prototype.getShader=function(t){var e=Object(ht["c"])(t);if(e in this.shaderCache_)return this.shaderCache_[e];var i=this.getGL(),r=i.createShader(t.getType());return i.shaderSource(r,t.getSource()),i.compileShader(r),this.shaderCache_[e]=r,r},e.prototype.getProgram=function(t,e){var i=Object(ht["c"])(t)+"/"+Object(ht["c"])(e);if(i in this.programCache_)return this.programCache_[i];var r=this.getGL(),n=r.createProgram();return r.attachShader(n,this.getShader(t)),r.attachShader(n,this.getShader(e)),r.linkProgram(n),this.programCache_[i]=n,n},e.prototype.handleWebGLContextLost=function(){Object(rt["b"])(this.bufferCache_),Object(rt["b"])(this.shaderCache_),Object(rt["b"])(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var i=oe(t,1,1),r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=i,this.hitDetectionRenderbuffer_=r},e.prototype.useProgram=function(t){if(t==this.currentProgram_)return!1;var e=this.getGL();return e.useProgram(t),this.currentProgram_=t,!0},e}(o["a"]);function ne(t,e,i){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(mt["z"],mt["C"],e),void 0!==i&&t.texParameteri(mt["z"],mt["D"],i),r}function oe(t,e,i,r,n){var o=ne(t,r,n);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function ae(t,e,i,r){var n=ne(t,i,r);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}var se=re,he=function(t){function e(e,i){t.call(this,e,i),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,r=this.getTextures(!0),n=t.getGL();return function(){var o,a;if(!n.isContextLost())for(o=0,a=r.length;o<a;++o)n.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(i)}},e.prototype.drawCoordinates=function(t,e,i,r){var n,o,a,s,h,c,u=this.anchorX,l=this.anchorY,f=this.height,d=this.imageHeight,p=this.imageWidth,g=this.opacity,v=this.originX,y=this.originY,m=this.rotateWithView?1:0,_=-this.rotation,b=this.scale,w=this.width,x=Math.cos(_),S=Math.sin(_),E=this.indices.length,O=this.vertices.length;for(n=e;n<i;n+=r)h=t[n]-this.origin[0],c=t[n+1]-this.origin[1],o=O/8,a=-b*u,s=-b*(f-l),this.vertices[O++]=h,this.vertices[O++]=c,this.vertices[O++]=a*x-s*S,this.vertices[O++]=a*S+s*x,this.vertices[O++]=v/p,this.vertices[O++]=(y+f)/d,this.vertices[O++]=g,this.vertices[O++]=m,a=b*(w-u),s=-b*(f-l),this.vertices[O++]=h,this.vertices[O++]=c,this.vertices[O++]=a*x-s*S,this.vertices[O++]=a*S+s*x,this.vertices[O++]=(v+w)/p,this.vertices[O++]=(y+f)/d,this.vertices[O++]=g,this.vertices[O++]=m,a=b*(w-u),s=b*l,this.vertices[O++]=h,this.vertices[O++]=c,this.vertices[O++]=a*x-s*S,this.vertices[O++]=a*S+s*x,this.vertices[O++]=(v+w)/p,this.vertices[O++]=y/d,this.vertices[O++]=g,this.vertices[O++]=m,a=-b*u,s=b*l,this.vertices[O++]=h,this.vertices[O++]=c,this.vertices[O++]=a*x-s*S,this.vertices[O++]=a*S+s*x,this.vertices[O++]=v/p,this.vertices[O++]=y/d,this.vertices[O++]=g,this.vertices[O++]=m,this.indices[E++]=o,this.indices[E++]=o+1,this.indices[E++]=o+2,this.indices[E++]=o,this.indices[E++]=o+2,this.indices[E++]=o+3;return O},e.prototype.createTextures=function(t,e,i,r){var n,o,a,s,h=e.length;for(s=0;s<h;++s)o=e[s],a=Object(ht["c"])(o),a in i?n=i[a]:(n=ae(r,o,mt["c"],mt["c"]),i[a]=n),t[s]=n},e.prototype.setUpProgram=function(t,e,i,r){var n,o=e.getProgram(Jt,Qt);return this.defaultLocations?n=this.defaultLocations:(n=new ee(t,o),this.defaultLocations=n),e.useProgram(o),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,mt["l"],!1,32,0),t.enableVertexAttribArray(n.a_offsets),t.vertexAttribPointer(n.a_offsets,2,mt["l"],!1,32,8),t.enableVertexAttribArray(n.a_texCoord),t.vertexAttribPointer(n.a_texCoord,2,mt["l"],!1,32,16),t.enableVertexAttribArray(n.a_opacity),t.vertexAttribPointer(n.a_opacity,1,mt["l"],!1,32,24),t.enableVertexAttribArray(n.a_rotateWithView),t.vertexAttribPointer(n.a_rotateWithView,1,mt["l"],!1,32,28),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},e.prototype.drawReplay=function(t,e,i,r){var n,o,a,s=r?this.getHitDetectionTextures():this.getTextures(),h=r?this.hitDetectionGroupIndices:this.groupIndices;if(Object(rt["d"])(i))for(n=0,o=s.length,a=0;n<o;++n){t.bindTexture(mt["z"],s[n]);var c=h[n];this.drawElements(t,e,a,c),a=c}else this.drawReplaySkipping(t,e,i,s,h)},e.prototype.drawReplaySkipping=function(t,e,i,r,n){var o,a,s=0;for(o=0,a=r.length;o<a;++o){t.bindTexture(mt["z"],r[o]);var h=o>0?n[o-1]:0,c=n[o],u=h,l=h;while(s<this.startIndices.length&&this.startIndices[s]<=c){var f=this.startIndicesFeature[s];void 0!==i[Object(ht["c"])(f)]?(u!==l&&this.drawElements(t,e,u,l),u=s===this.startIndices.length-1?c:this.startIndices[s+1],l=u):l=s===this.startIndices.length-1?c:this.startIndices[s+1],s++}u!==l&&this.drawElements(t,e,u,l)}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,n){var o,a,s,h,c,u=this.startIndices.length-1,l=this.getHitDetectionTextures();for(o=l.length-1;o>=0;--o){t.bindTexture(mt["z"],l[o]),a=o>0?this.hitDetectionGroupIndices[o-1]:0,h=this.hitDetectionGroupIndices[o];while(u>=0&&this.startIndices[u]>=a){if(s=this.startIndices[u],c=this.startIndicesFeature[u],void 0===i[Object(ht["c"])(c)]&&c.getGeometry()&&(void 0===n||Object(b["intersects"])(n,c.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,s,h);var f=r(c);if(f)return f}h=s,u--}}},e.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},e.prototype.getTextures=function(t){return Object(ht["b"])()},e.prototype.getHitDetectionTextures=function(){return Object(ht["b"])()},e}(Pt),ce=he,ue=function(t){function e(e,i){t.call(this,e,i),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(i,0,i.length,r)},e.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),r=t.getStride();this.drawCoordinates(i,0,i.length,r)},e.prototype.finish=function(e){var i=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new Xt(this.vertices);var r=this.indices;this.indicesBuffer=new Xt(r);var n={};this.createTextures(this.textures_,this.images_,n,i),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,n,i),this.images_=null,this.hitDetectionImages_=null,t.prototype.finish.call(this,e)},e.prototype.setImageStyle=function(t){var e,i=t.getAnchor(),r=t.getImage(1),n=t.getImageSize(),o=t.getHitDetectionImage(1),a=t.getOpacity(),s=t.getOrigin(),h=t.getRotateWithView(),c=t.getRotation(),u=t.getSize(),l=t.getScale();0===this.images_.length?this.images_.push(r):(e=this.images_[this.images_.length-1],Object(ht["c"])(e)!=Object(ht["c"])(r)&&(this.groupIndices.push(this.indices.length),this.images_.push(r))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(o):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],Object(ht["c"])(e)!=Object(ht["c"])(o)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(o))),this.anchorX=i[0],this.anchorY=i[1],this.height=u[1],this.imageHeight=n[1],this.imageWidth=n[0],this.opacity=a,this.originX=s[0],this.originY=s[1],this.rotation=c,this.rotateWithView=h,this.scale=l,this.width=u[0]},e.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},e.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},e}(ce),le=ue,fe=i("ae89"),de=i("0985");function pe(t,e,i,r){var n=i-r;return t[e]===t[n]&&t[e+1]===t[n+1]&&(i-e)/r>3&&!!Object(de["a"])(t,e,i,r)}var ge=new xt(mt["g"]?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),ve=new Et(mt["g"]?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"),ye=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,mt["g"]?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,mt["g"]?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,mt["g"]?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,mt["g"]?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,mt["g"]?"u_color":"n"),this.u_size=t.getUniformLocation(e,mt["g"]?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,mt["g"]?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,mt["g"]?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,mt["g"]?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,mt["g"]?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,mt["g"]?"a_direction":"g")},me=ye,_e={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},be=function(t){function e(e,i){t.call(this,e,i),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,r){var n,o,a,s,h,c,u,l,f=this.vertices.length,d=this.indices.length,p="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,g="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,v=pe(t,e,i,r),y=d,m=1;for(n=e,o=i;n<o;n+=r){if(h=f/7,c=u,u=l||[t[n],t[n+1]],n===e){if(l=[t[n+r],t[n+r+1]],i-e===2*r&&Object(dt["b"])(u,l))break;if(!v){g&&(f=this.addVertices_([0,0],u,l,m*_e.BEGIN_LINE_CAP*g,f),f=this.addVertices_([0,0],u,l,-m*_e.BEGIN_LINE_CAP*g,f),this.indices[d++]=h+2,this.indices[d++]=h,this.indices[d++]=h+1,this.indices[d++]=h+1,this.indices[d++]=h+3,this.indices[d++]=h+2),f=this.addVertices_([0,0],u,l,m*_e.BEGIN_LINE*(g||1),f),f=this.addVertices_([0,0],u,l,-m*_e.BEGIN_LINE*(g||1),f),y=f/7-1;continue}c=[t[i-2*r],t[i-2*r+1]],a=l}else{if(n===i-r){if(v){l=a;break}c=c||[0,0],f=this.addVertices_(c,u,[0,0],m*_e.END_LINE*(g||1),f),f=this.addVertices_(c,u,[0,0],-m*_e.END_LINE*(g||1),f),this.indices[d++]=h,this.indices[d++]=y-1,this.indices[d++]=y,this.indices[d++]=y,this.indices[d++]=h+1,this.indices[d++]=h,g&&(f=this.addVertices_(c,u,[0,0],m*_e.END_LINE_CAP*g,f),f=this.addVertices_(c,u,[0,0],-m*_e.END_LINE_CAP*g,f),this.indices[d++]=h+2,this.indices[d++]=h,this.indices[d++]=h+1,this.indices[d++]=h+1,this.indices[d++]=h+3,this.indices[d++]=h+2);break}l=[t[n+r],t[n+r+1]]}s=Wt(c[0],c[1],u[0],u[1],l[0],l[1])?-1:1,f=this.addVertices_(c,u,l,s*_e.BEVEL_FIRST*(p||1),f),f=this.addVertices_(c,u,l,s*_e.BEVEL_SECOND*(p||1),f),f=this.addVertices_(c,u,l,-s*_e.MITER_BOTTOM*(p||1),f),n>e&&(this.indices[d++]=h,this.indices[d++]=y-1,this.indices[d++]=y,this.indices[d++]=h+2,this.indices[d++]=h,this.indices[d++]=m*s>0?y:y-1),this.indices[d++]=h,this.indices[d++]=h+2,this.indices[d++]=h+1,y=h+2,m=s,p&&(f=this.addVertices_(c,u,l,s*_e.MITER_TOP*p,f),this.indices[d++]=h+1,this.indices[d++]=h+3,this.indices[d++]=h)}v&&(h=h||f/7,s=Object(fe["a"])([c[0],c[1],u[0],u[1],l[0],l[1]],0,6,2)?1:-1,f=this.addVertices_(c,u,l,s*_e.BEVEL_FIRST*(p||1),f),f=this.addVertices_(c,u,l,-s*_e.MITER_BOTTOM*(p||1),f),this.indices[d++]=h,this.indices[d++]=y-1,this.indices[d++]=y,this.indices[d++]=h+1,this.indices[d++]=h,this.indices[d++]=m*s>0?y:y-1)},e.prototype.addVertices_=function(t,e,i,r,n){return this.vertices[n++]=t[0],this.vertices[n++]=t[1],this.vertices[n++]=e[0],this.vertices[n++]=e[1],this.vertices[n++]=i[0],this.vertices[n++]=i[1],this.vertices[n++]=r,n},e.prototype.isValid_=function(t,e,i,r){var n=i-e;if(n<2*r)return!1;if(n===2*r){var o=[t[e],t[e+1]],a=[t[e+r],t[e+r+1]];return!Object(dt["b"])(o,a)}return!0},e.prototype.drawLineString=function(t,e){var i=t.getFlatCoordinates(),r=t.getStride();this.isValid_(i,0,i.length,r)&&(i=Object(yt["d"])(i,0,i.length,r,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(i,0,i.length,r))},e.prototype.drawMultiLineString=function(t,e){var i=this.indices.length,r=t.getEnds();r.unshift(0);var n,o,a=t.getFlatCoordinates(),s=t.getStride();if(r.length>1)for(n=1,o=r.length;n<o;++n)if(this.isValid_(a,r[n-1],r[n],s)){var h=Object(yt["d"])(a,r[n-1],r[n],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(h,0,h.length,s)}this.indices.length>i&&(this.startIndices.push(i),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1))},e.prototype.drawPolygonCoordinates=function(t,e,i){var r,n;if(pe(t,0,t.length,i)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,i),e.length)for(r=0,n=e.length;r<n;++r)pe(e[r],0,e[r].length,i)||(e[r].push(e[r][0]),e[r].push(e[r][1])),this.drawCoordinates_(e[r],0,e[r].length,i)},e.prototype.setPolygonStyle=function(t,e){var i=void 0===e?this.indices.length:e;this.startIndices.push(i),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1)},e.prototype.getCurrentIndex=function(){return this.indices.length},e.prototype.finish=function(t){this.verticesBuffer=new Xt(this.vertices),this.indicesBuffer=new Xt(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},e.prototype.setUpProgram=function(t,e,i,r){var n,o=e.getProgram(ge,ve);return this.defaultLocations_?n=this.defaultLocations_:(n=new me(t,o),this.defaultLocations_=n),e.useProgram(o),t.enableVertexAttribArray(n.a_lastPos),t.vertexAttribPointer(n.a_lastPos,2,mt["l"],!1,28,0),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,mt["l"],!1,28,8),t.enableVertexAttribArray(n.a_nextPos),t.vertexAttribPointer(n.a_nextPos,2,mt["l"],!1,28,16),t.enableVertexAttribArray(n.a_direction),t.vertexAttribPointer(n.a_direction,1,mt["l"],!1,28,24),t.uniform2fv(n.u_size,i),t.uniform1f(n.u_pixelRatio,r),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},e.prototype.drawReplay=function(t,e,i,r){var n,o,a,s,h=t.getParameter(t.DEPTH_FUNC),c=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),Object(rt["d"])(i))for(a=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)o=this.styleIndices_[n],s=this.styles_[n],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,i);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(c),t.depthFunc(h))},e.prototype.drawReplaySkipping_=function(t,e,i){var r,n,o,a,s,h,c,u;for(c=this.startIndices.length-2,o=n=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){a=this.styles_[r],this.setStrokeStyle_(t,a[0],a[1],a[2]),s=this.styleIndices_[r];while(c>=0&&this.startIndices[c]>=s)u=this.startIndices[c],h=this.startIndicesFeature[c],i[Object(ht["c"])(h)]&&(n!==o&&(this.drawElements(t,e,n,o),t.clear(t.DEPTH_BUFFER_BIT)),o=u),c--,n=u;n!==o&&(this.drawElements(t,e,n,o),t.clear(t.DEPTH_BUFFER_BIT)),n=o=s}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,n){var o,a,s,h,c,u,l;for(l=this.startIndices.length-2,s=this.startIndices[l+1],o=this.styleIndices_.length-1;o>=0;--o){h=this.styles_[o],this.setStrokeStyle_(t,h[0],h[1],h[2]),c=this.styleIndices_[o];while(l>=0&&this.startIndices[l]>=c){if(a=this.startIndices[l],u=this.startIndicesFeature[l],void 0===i[Object(ht["c"])(u)]&&u.getGeometry()&&(void 0===n||Object(b["intersects"])(n,u.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var f=r(u);if(f)return f}l--,s=a}}},e.prototype.setStrokeStyle_=function(t,e,i,r){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i),t.uniform1f(this.defaultLocations_.u_miterLimit,r)},e.prototype.setFillStrokeStyle=function(t,e){var i=e.getLineCap();this.state_.lineCap=void 0!==i?i:kt;var r=e.getLineDash();this.state_.lineDash=r||jt;var n=e.getLineDashOffset();this.state_.lineDashOffset=n||Dt;var o=e.getLineJoin();this.state_.lineJoin=void 0!==o?o:Gt;var a=e.getColor();a=a instanceof CanvasGradient||a instanceof CanvasPattern?Ut:Object(vt["asArray"])(a).map((function(t,e){return 3!=e?t/255:t}))||Ut;var s=e.getWidth();s=void 0!==s?s:Vt;var h=e.getMiterLimit();h=void 0!==h?h:Bt,this.state_.strokeColor&&Object(dt["b"])(this.state_.strokeColor,a)&&this.state_.lineWidth===s&&this.state_.miterLimit===h||(this.state_.changed=!0,this.state_.strokeColor=a,this.state_.lineWidth=s,this.state_.miterLimit=h,this.styles_.push([a,s,h]))},e}(Pt),we=be,xe=i("e620"),Se=new xt(mt["g"]?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Ee=new Et(mt["g"]?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"),Oe=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,mt["g"]?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,mt["g"]?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,mt["g"]?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,mt["g"]?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,mt["g"]?"a_position":"a")},Te=Oe,Ce=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};Ce.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},i=this.head_;if(i){var r=i.next;e.prev=i,e.next=r,i.next=e,r&&(r.prev=e),i===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},Ce.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),this.head_=e||i,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=i?this.head_.prev:this.head_),this.length_--}},Ce.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},Ce.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},Ce.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},Ce.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},Ce.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},Ce.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},Ce.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},Ce.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},Ce.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},Ce.prototype.getLength=function(){return this.length_};var Ae=Ce,Le=i("8f55"),Re=function(t){function e(e,i){t.call(this,e,i),this.lineStringReplay=new we(e,i),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i){var r=new Ae,n=new Le["a"];this.processFlatCoordinates_(t,i,r,n,!0);var o=this.getMaxCoords_(r);if(e.length){var a,s,h=[];for(a=0,s=e.length;a<s;++a){var c={list:new Ae,maxCoords:void 0,rtree:new Le["a"]};h.push(c),this.processFlatCoordinates_(e[a],i,c.list,c.rtree,!1),this.classifyPoints_(c.list,c.rtree,!0),c.maxCoords=this.getMaxCoords_(c.list)}for(h.sort((function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]})),a=0;a<h.length;++a){var u=h[a].list,l=u.firstItem(),f=l,d=void 0;do{if(this.getIntersections_(f,n).length){d=!0;break}f=u.nextItem()}while(l!==f);d||this.bridgeHole_(u,h[a].maxCoords[0],r,o[0],n)&&(n.concat(h[a].rtree),this.classifyPoints_(r,n,!1))}}else this.classifyPoints_(r,n,!1);this.triangulate_(r,n)},e.prototype.processFlatCoordinates_=function(t,e,i,r,n){var o,a,s,h,c,u=Object(fe["a"])(t,0,t.length,e),l=this.vertices.length/2,f=[],d=[];if(n===u){for(s=this.createPoint_(t[0],t[1],l++),h=s,o=e,a=t.length;o<a;o+=e)c=this.createPoint_(t[o],t[o+1],l++),d.push(this.insertItem_(h,c,i)),f.push([Math.min(h.x,c.x),Math.min(h.y,c.y),Math.max(h.x,c.x),Math.max(h.y,c.y)]),h=c;d.push(this.insertItem_(c,s,i)),f.push([Math.min(h.x,c.x),Math.min(h.y,c.y),Math.max(h.x,c.x),Math.max(h.y,c.y)])}else{var p=t.length-e;for(s=this.createPoint_(t[p],t[p+1],l++),h=s,o=p-e,a=0;o>=a;o-=e)c=this.createPoint_(t[o],t[o+1],l++),d.push(this.insertItem_(h,c,i)),f.push([Math.min(h.x,c.x),Math.min(h.y,c.y),Math.max(h.x,c.x),Math.max(h.y,c.y)]),h=c;d.push(this.insertItem_(c,s,i)),f.push([Math.min(h.x,c.x),Math.min(h.y,c.y),Math.max(h.x,c.x),Math.max(h.y,c.y)])}r.load(f,d)},e.prototype.getMaxCoords_=function(t){var e=t.firstItem(),i=e,r=[i.p0.x,i.p0.y];do{i=t.nextItem(),i.p0.x>r[0]&&(r=[i.p0.x,i.p0.y])}while(i!==e);return r},e.prototype.classifyPoints_=function(t,e,i){var r=t.firstItem(),n=r,o=t.nextItem(),a=!1;do{var s=i?Wt(o.p1.x,o.p1.y,n.p1.x,n.p1.y,n.p0.x,n.p0.y):Wt(n.p0.x,n.p0.y,n.p1.x,n.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(n,o,t,e),a=!0,o===r&&(r=t.getNextItem()),o=n,t.prevItem()):n.p1.reflex!==s&&(n.p1.reflex=s,a=!0),n=o,o=t.nextItem()}while(n!==r);return a},e.prototype.bridgeHole_=function(t,e,i,r,n){var o=t.firstItem();while(o.p1.x!==e)o=t.nextItem();var a,s,h,c,u=o.p1,l={x:r,y:u.y,i:-1},f=1/0,d=this.getIntersections_({p0:u,p1:l},n,!0);for(a=0,s=d.length;a<s;++a){var p=d[a],g=this.calculateIntersection_(u,l,p.p0,p.p1,!0),v=Math.abs(u.x-g[0]);v<f&&void 0!==Wt(u.x,u.y,p.p0.x,p.p0.y,p.p1.x,p.p1.y)&&(f=v,c={x:g[0],y:g[1],i:-1},o=p)}if(f===1/0)return!1;if(h=o.p1,f>0){var y=this.getPointsInTriangle_(u,c,o.p1,n);if(y.length){var m=1/0;for(a=0,s=y.length;a<s;++a){var _=y[a],b=Math.atan2(u.y-_.y,l.x-_.x);(b<m||b===m&&_.x<h.x)&&(m=b,h=_)}}}o=i.firstItem();while(o.p1.x!==h.x||o.p1.y!==h.y)o=i.nextItem();var w={x:u.x,y:u.y,i:u.i,reflex:void 0},x={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=w,this.insertItem_(u,o.p1,t,n),this.insertItem_(x,w,t,n),o.p1=x,t.setFirstItem(),i.concat(t),!0},e.prototype.triangulate_=function(t,e){var i=!1,r=this.isSimple_(t,e);while(t.getLength()>3)if(r){if(!this.clipEars_(t,e,r,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,r,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e)){if(r=this.isSimple_(t,e),!r){this.splitPolygon_(t,e);break}i=!this.isClockwise_(t),this.classifyPoints_(t,e,i)}if(3===t.getLength()){var n=this.indices.length;this.indices[n++]=t.getPrevItem().p0.i,this.indices[n++]=t.getCurrItem().p0.i,this.indices[n++]=t.getNextItem().p0.i}},e.prototype.clipEars_=function(t,e,i,r){var n,o,a,s=this.indices.length,h=t.firstItem(),c=t.getPrevItem(),u=h,l=t.nextItem(),f=t.getNextItem(),d=!1;do{if(n=u.p0,o=u.p1,a=l.p1,!1===o.reflex){var p=void 0;p=i?0===this.getPointsInTriangle_(n,o,a,e,!0).length:r?this.diagonalIsInside_(f.p1,a,o,n,c.p0):this.diagonalIsInside_(c.p0,n,o,a,f.p1),(i||0===this.getIntersections_({p0:n,p1:a},e).length)&&p&&(i||!1===n.reflex||!1===a.reflex||Object(fe["a"])([c.p0.x,c.p0.y,n.x,n.y,o.x,o.y,a.x,a.y,f.p1.x,f.p1.y],0,10,2)===!r)&&(this.indices[s++]=n.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(u,l,t,e),l===h&&(h=f),d=!0)}c=t.getPrevItem(),u=t.getCurrItem(),l=t.nextItem(),f=t.getNextItem()}while(u!==h&&t.getLength()>3);return d},e.prototype.resolveSelfIntersections_=function(t,e,i){var r=t.firstItem();t.nextItem();var n=r,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(n.p0,n.p1,o.p0,o.p1,i);if(s){var h=!1,c=this.vertices.length,u=this.indices.length,l=c/2,f=t.prevItem();t.removeItem(),e.remove(f),h=f===r;var d=void 0;if(i?(s[0]===n.p0.x&&s[1]===n.p0.y?(t.prevItem(),d=n.p0,o.p0=d,e.remove(n),h=h||n===r):(d=o.p1,n.p1=d,e.remove(o),h=h||o===r),t.removeItem()):(d=this.createPoint_(s[0],s[1],l),n.p1=d,o.p0=d,e.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[u++]=f.p0.i,this.indices[u++]=f.p1.i,this.indices[u++]=d.i,a=!0,h)break}n=t.getPrevItem(),o=t.nextItem()}while(n!==r);return a},e.prototype.isSimple_=function(t,e){var i=t.firstItem(),r=i;do{if(this.getIntersections_(r,e).length)return!1;r=t.nextItem()}while(r!==i);return!0},e.prototype.isClockwise_=function(t){var e=2*t.getLength(),i=new Array(e),r=t.firstItem(),n=r,o=0;do{i[o++]=n.p0.x,i[o++]=n.p0.y,n=t.nextItem()}while(n!==r);return Object(fe["a"])(i,0,e,2)},e.prototype.splitPolygon_=function(t,e){var i=t.firstItem(),r=i;do{var n=this.getIntersections_(r,e);if(n.length){var o=n[0],a=this.vertices.length/2,s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1),h=this.createPoint_(s[0],s[1],a),c=new Ae,u=new Le["a"];this.insertItem_(h,r.p1,c,u),r.p1=h,e.update([Math.min(r.p0.x,h.x),Math.min(r.p0.y,h.y),Math.max(r.p0.x,h.x),Math.max(r.p0.y,h.y)],r);var l=t.nextItem();while(l!==o)this.insertItem_(l.p0,l.p1,c,u),e.remove(l),t.removeItem(),l=t.getCurrItem();this.insertItem_(o.p0,h,c,u),o.p0=h,e.update([Math.min(o.p1.x,h.x),Math.min(o.p1.y,h.y),Math.max(o.p1.x,h.x),Math.max(o.p1.y,h.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(c,u,!1),this.triangulate_(c,u);break}r=t.nextItem()}while(r!==i)},e.prototype.createPoint_=function(t,e,i){var r=this.vertices.length;this.vertices[r++]=t,this.vertices[r++]=e;var n={x:t,y:e,i:i,reflex:void 0};return n},e.prototype.insertItem_=function(t,e,i,r){var n={p0:t,p1:e};return i.insertItem(n),r&&r.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],n),n},e.prototype.removeItem_=function(t,e,i,r){i.getCurrItem()===e&&(i.removeItem(),t.p1=e.p1,r.remove(e),r.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},e.prototype.getPointsInTriangle_=function(t,e,i,r,n){for(var o=[],a=r.getInExtent([Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]),s=0,h=a.length;s<h;++s)for(var c in a[s]){var u=a[s][c];"object"!==typeof u||n&&!u.reflex||u.x===t.x&&u.y===t.y||u.x===e.x&&u.y===e.y||u.x===i.x&&u.y===i.y||-1!==o.indexOf(u)||!Object(xe["b"])([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,u.x,u.y)||o.push(u)}return o},e.prototype.getIntersections_=function(t,e,i){for(var r=t.p0,n=t.p1,o=e.getInExtent([Math.min(r.x,n.x),Math.min(r.y,n.y),Math.max(r.x,n.x),Math.max(r.y,n.y)]),a=[],s=0,h=o.length;s<h;++s){var c=o[s];t!==c&&(i||c.p0!==n||c.p1!==r)&&this.calculateIntersection_(r,n,c.p0,c.p1,i)&&a.push(c)}return a},e.prototype.calculateIntersection_=function(t,e,i,r,n){var o=(r.y-i.y)*(e.x-t.x)-(r.x-i.x)*(e.y-t.y);if(0!==o){var a=((r.x-i.x)*(t.y-i.y)-(r.y-i.y)*(t.x-i.x))/o,s=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/o;if(!n&&a>Ht&&a<1-Ht&&s>Ht&&s<1-Ht||n&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},e.prototype.diagonalIsInside_=function(t,e,i,r,n){if(void 0===e.reflex||void 0===r.reflex)return!1;var o=(i.x-r.x)*(e.y-r.y)>(i.y-r.y)*(e.x-r.x),a=(n.x-r.x)*(e.y-r.y)<(n.y-r.y)*(e.x-r.x),s=(t.x-e.x)*(r.y-e.y)>(t.y-e.y)*(r.x-e.x),h=(i.x-e.x)*(r.y-e.y)<(i.y-e.y)*(r.x-e.x),c=r.reflex?a||o:a&&o,u=e.reflex?h||s:h&&s;return c&&u},e.prototype.drawMultiPolygon=function(t,e){var i,r,n,o,a=t.getEndss(),s=t.getStride(),h=this.indices.length,c=this.lineStringReplay.getCurrentIndex(),u=t.getFlatCoordinates(),l=0;for(i=0,r=a.length;i<r;++i){var f=a[i];if(f.length>0){var d=Object(yt["d"])(u,l,f[0],s,-this.origin[0],-this.origin[1]);if(d.length){var p=[],g=void 0;for(n=1,o=f.length;n<o;++n)f[n]!==f[n-1]&&(g=Object(yt["d"])(u,f[n-1],f[n],s,-this.origin[0],-this.origin[1]),p.push(g));this.lineStringReplay.drawPolygonCoordinates(d,p,s),this.drawCoordinates_(d,p,s)}}l=f[f.length-1]}this.indices.length>h&&(this.startIndices.push(h),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(h),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>c&&this.lineStringReplay.setPolygonStyle(e,c)},e.prototype.drawPolygon=function(t,e){var i=t.getEnds(),r=t.getStride();if(i.length>0){var n=t.getFlatCoordinates().map(Number),o=Object(yt["d"])(n,0,i[0],r,-this.origin[0],-this.origin[1]);if(o.length){var a,s,h,c=[];for(a=1,s=i.length;a<s;++a)i[a]!==i[a-1]&&(h=Object(yt["d"])(n,i[a-1],i[a],r,-this.origin[0],-this.origin[1]),c.push(h));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,c,r),this.drawCoordinates_(o,c,r)}}},e.prototype.finish=function(t){this.verticesBuffer=new Xt(this.vertices),this.indicesBuffer=new Xt(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,r=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(i),r()}},e.prototype.setUpProgram=function(t,e,i,r){var n,o=e.getProgram(Se,Ee);return this.defaultLocations_?n=this.defaultLocations_:(n=new Te(t,o),this.defaultLocations_=n),e.useProgram(o),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,mt["l"],!1,8,0),n},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},e.prototype.drawReplay=function(t,e,i,r){var n,o,a,s,h=t.getParameter(t.DEPTH_FUNC),c=t.getParameter(t.DEPTH_WRITEMASK);if(r||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),Object(rt["d"])(i))for(a=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)o=this.styleIndices_[n],s=this.styles_[n],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,i);r||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(c),t.depthFunc(h))},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,i,r,n){var o,a,s,h,c,u,l;for(l=this.startIndices.length-2,s=this.startIndices[l+1],o=this.styleIndices_.length-1;o>=0;--o){h=this.styles_[o],this.setFillStyle_(t,h),c=this.styleIndices_[o];while(l>=0&&this.startIndices[l]>=c){if(a=this.startIndices[l],u=this.startIndicesFeature[l],void 0===i[Object(ht["c"])(u)]&&u.getGeometry()&&(void 0===n||Object(b["intersects"])(n,u.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,a,s);var f=r(u);if(f)return f}l--,s=a}}},e.prototype.drawReplaySkipping_=function(t,e,i){var r,n,o,a,s,h,c,u;for(c=this.startIndices.length-2,o=n=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){a=this.styles_[r],this.setFillStyle_(t,a),s=this.styleIndices_[r];while(c>=0&&this.startIndices[c]>=s)u=this.startIndices[c],h=this.startIndicesFeature[c],i[Object(ht["c"])(h)]&&(n!==o&&(this.drawElements(t,e,n,o),t.clear(t.DEPTH_BUFFER_BIT)),o=u),c--,n=u;n!==o&&(this.drawElements(t,e,n,o),t.clear(t.DEPTH_BUFFER_BIT)),n=o=s}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},e.prototype.setFillStrokeStyle=function(t,e){var i=t?t.getColor():[0,0,0,0];if(i=i instanceof CanvasGradient||i instanceof CanvasPattern?Ft:Object(vt["asArray"])(i).map((function(t,e){return 3!=e?t/255:t}))||Ft,this.state_.fillColor&&Object(dt["b"])(i,this.state_.fillColor)||(this.state_.fillColor=i,this.state_.changed=!0,this.styles_.push(i)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var r=new L["a"]({color:[0,0,0,0],width:0});this.lineStringReplay.setFillStrokeStyle(null,r)}},e}(Pt),Me=Re,Ie=i("b763"),Pe=i("05ac"),Ne=function(t){function e(e,i){t.call(this,e,i),this.images_=[],this.textures_=[],this.measureCanvas_=Object(st["a"])(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){if(this.text_){var i=null,r=0,n=2,o=2;switch(t.getType()){case ut["default"].POINT:case ut["default"].MULTI_POINT:i=t.getFlatCoordinates(),n=i.length,o=t.getStride();break;case ut["default"].CIRCLE:i=t.getCenter();break;case ut["default"].LINE_STRING:i=t.getFlatMidpoint();break;case ut["default"].MULTI_LINE_STRING:i=t.getFlatMidpoints(),n=i.length;break;case ut["default"].POLYGON:i=t.getFlatInteriorPoint();break;case ut["default"].MULTI_POLYGON:i=t.getFlatInteriorPoints(),n=i.length;break;default:}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var a,s,h,c,u,l,f,d,p=this.currAtlas_,g=this.text_.split("\n"),v=this.getTextSize_(g),y=Math.round(v[0]*this.textAlign_-this.offsetX_),m=Math.round(v[1]*this.textBaseline_-this.offsetY_),_=this.state_.lineWidth/2*this.state_.scale;for(a=0,s=g.length;a<s;++a)for(u=0,l=p.height*a,f=g[a].split(""),h=0,c=f.length;h<c;++h){if(d=p.atlas.getInfo(f[h]),d){var b=d.image;if(this.anchorX=y-u,this.anchorY=m-l,this.originX=0===h?d.offsetX-_:d.offsetX,this.originY=d.offsetY,this.height=p.height,this.width=0===h||h===f.length-1?p.width[f[h]]+_:p.width[f[h]],this.imageHeight=b.height,this.imageWidth=b.width,0===this.images_.length)this.images_.push(b);else{var w=this.images_[this.images_.length-1];Object(ht["c"])(w)!=Object(ht["c"])(b)&&(this.groupIndices.push(this.indices.length),this.images_.push(b))}this.drawText_(i,r,n,o)}u+=this.width}}},e.prototype.getTextSize_=function(t){var e=this,i=this.currAtlas_,r=t.length*i.height,n=t.map((function(t){for(var r=0,n=0,o=t.length;n<o;++n){var a=t[n];i.width[a]||e.addCharToAtlas_(a),r+=i.width[a]?i.width[a]:0}return r})).reduce((function(t,e){return Math.max(t,e)}));return[n,r]},e.prototype.drawText_=function(t,e,i,r){for(var n=e,o=i;n<o;n+=r)this.drawCoordinates(t,e,i,r)},e.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,i=this.state_,r=this.measureCanvas_.getContext("2d");r.font=i.font;var n=Math.ceil(r.measureText(t).width*i.scale),o=e.atlas.add(t,n,e.height,(function(e,r,n){e.font=i.font,e.fillStyle=i.fillColor,e.strokeStyle=i.strokeColor,e.lineWidth=i.lineWidth,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.miterLimit=i.miterLimit,e.textAlign="left",e.textBaseline="top",f["a"]&&i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),1!==i.scale&&e.setTransform(i.scale,0,0,i.scale,0,0),i.strokeColor&&e.strokeText(t,r,n),i.fillColor&&e.fillText(t,r,n)}));o&&(e.width[t]=n)}},e.prototype.finish=function(e){var i=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new Xt(this.vertices),this.indicesBuffer=new Xt(this.indices);var r={};this.createTextures(this.textures_,this.images_,r,i),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,t.prototype.finish.call(this,e)},e.prototype.setTextStyle=function(t){var e=this.state_,i=t.getFill(),r=t.getStroke();if(t&&t.getText()&&(i||r)){if(i){var n=i.getColor();e.fillColor=Object(Ie["a"])(n||Ft)}else e.fillColor=null;if(r){var o=r.getColor();e.strokeColor=Object(Ie["a"])(o||Ut),e.lineWidth=r.getWidth()||Vt,e.lineCap=r.getLineCap()||kt,e.lineDashOffset=r.getLineDashOffset()||Dt,e.lineJoin=r.getLineJoin()||Gt,e.miterLimit=r.getMiterLimit()||Bt;var a=r.getLineDash();e.lineDash=a?a.slice():jt}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||Nt,e.scale=t.getScale()||1,this.text_=t.getText();var s=pt["b"][t.getTextAlign()],h=pt["b"][t.getTextBaseline()];this.textAlign_=void 0===s?zt:s,this.textBaseline_=void 0===h?qt:h,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},e.prototype.getAtlas_=function(t){var e=[];for(var i in t)(t[i]||0===t[i])&&(Array.isArray(t[i])?e=e.concat(t[i]):e.push(t[i]));var r=this.calculateHash_(e);if(!this.atlases_[r]){var n=this.measureCanvas_.getContext("2d");n.font=t.font;var o=Math.ceil((1.5*n.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[r]={atlas:new Pe["a"]({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[r]},e.prototype.calculateHash_=function(t){for(var e="",i=0,r=t.length;i<r;++i)e+=t[i];return e},e.prototype.getTextures=function(t){return this.textures_},e.prototype.getHitDetectionTextures=function(){return this.textures_},e}(ce),Fe=Ne,ke=[1,1],je={Circle:$t,Image:le,LineString:we,Polygon:Me,Text:Fe},De=function(t){function e(e,i,r){t.call(this),this.maxExtent_=i,this.tolerance_=e,this.renderBuffer_=r,this.replaysByZIndex_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){return[]},e.prototype.getDeleteResourcesFunction=function(t){var e,i=[];for(e in this.replaysByZIndex_){var r=this.replaysByZIndex_[e];for(var n in r)i.push(r[n].getDeleteResourcesFunction(t))}return function(){for(var t,e=arguments,r=i.length,n=0;n<r;n++)t=i[n].apply(this,e);return t}},e.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var i=this.replaysByZIndex_[e];for(var r in i)i[r].finish(t)}},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",r=this.replaysByZIndex_[i];void 0===r&&(r={},this.replaysByZIndex_[i]=r);var n=r[e];if(void 0===n){var o=je[e];n=new o(this.tolerance_,this.maxExtent_),r[e]=n}return n},e.prototype.isEmpty=function(){return Object(rt["d"])(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,r,n,o,a,s){var h,c,u,l,f,d,p=Object.keys(this.replaysByZIndex_).map(Number);for(p.sort(dt["i"]),h=0,c=p.length;h<c;++h)for(f=this.replaysByZIndex_[p[h].toString()],u=0,l=pt["a"].length;u<l;++u)d=f[pt["a"][u]],void 0!==d&&d.replay(t,e,i,r,n,o,a,s,void 0,!1)},e.prototype.replayHitDetection_=function(t,e,i,r,n,o,a,s,h,c,u){var l,f,d,p,g,v,y=Object.keys(this.replaysByZIndex_).map(Number);for(y.sort((function(t,e){return e-t})),l=0,f=y.length;l<f;++l)for(p=this.replaysByZIndex_[y[l].toString()],d=pt["a"].length-1;d>=0;--d)if(g=p[pt["a"][d]],void 0!==g&&(v=g.replay(t,e,i,r,n,o,a,s,h,c,u),v))return v},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n,o,a,s,h,c){var u,l=e.getGL();return l.bindFramebuffer(l.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(u=Object(b["buffer"])(Object(b["createOrUpdateFromCoordinate"])(t),r*this.renderBuffer_)),this.replayHitDetection_(e,t,r,n,ke,a,s,h,(function(t){var e=new Uint8Array(4);if(l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,e),e[3]>0){var i=c(t);if(i)return i}}),!0,u)},e.prototype.hasFeatureAtCoordinate=function(t,e,i,r,n,o,a,s,h){var c=e.getGL();c.bindFramebuffer(c.FRAMEBUFFER,e.getHitDetectionFramebuffer());var u=this.replayHitDetection_(e,t,r,n,ke,a,s,h,(function(t){var e=new Uint8Array(4);return c.readPixels(0,0,1,1,c.RGBA,c.UNSIGNED_BYTE,e),e[3]>0}),!1);return void 0!==u},e}(gt["a"]),Ge=De,Be=function(t){function e(e,i,r,n,o,a,s){t.call(this),this.context_=e,this.center_=i,this.extent_=a,this.pixelRatio_=s,this.size_=o,this.rotation_=n,this.resolution_=r,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText_=function(t,e){var i=this.context_,r=t.getReplay(0,lt["a"].TEXT);r.setTextStyle(this.textStyle_),r.drawText(e,null),r.finish(i);var n,o=1,a={},s=!1;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,o,a,n,s),r.getDeleteResourcesFunction(i)()},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case ut["default"].POINT:this.drawPoint(t,null);break;case ut["default"].LINE_STRING:this.drawLineString(t,null);break;case ut["default"].POLYGON:this.drawPolygon(t,null);break;case ut["default"].MULTI_POINT:this.drawMultiPoint(t,null);break;case ut["default"].MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case ut["default"].MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case ut["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case ut["default"].CIRCLE:this.drawCircle(t,null);break;default:}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&Object(b["intersects"])(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t,e){var i,r,n=t.getGeometriesArray();for(i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])},e.prototype.drawPoint=function(t,e){var i=this.context_,r=new Ge(1,this.extent_),n=r.getReplay(0,lt["a"].IMAGE);n.setImageStyle(this.imageStyle_),n.drawPoint(t,e),n.finish(i);var o,a=1,s={},h=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,o,h),n.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(r,t)},e.prototype.drawMultiPoint=function(t,e){var i=this.context_,r=new Ge(1,this.extent_),n=r.getReplay(0,lt["a"].IMAGE);n.setImageStyle(this.imageStyle_),n.drawMultiPoint(t,e),n.finish(i);var o,a=1,s={},h=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,o,h),n.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(r,t)},e.prototype.drawLineString=function(t,e){var i=this.context_,r=new Ge(1,this.extent_),n=r.getReplay(0,lt["a"].LINE_STRING);n.setFillStrokeStyle(null,this.strokeStyle_),n.drawLineString(t,e),n.finish(i);var o,a=1,s={},h=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,o,h),n.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(r,t)},e.prototype.drawMultiLineString=function(t,e){var i=this.context_,r=new Ge(1,this.extent_),n=r.getReplay(0,lt["a"].LINE_STRING);n.setFillStrokeStyle(null,this.strokeStyle_),n.drawMultiLineString(t,e),n.finish(i);var o,a=1,s={},h=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,o,h),n.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(r,t)},e.prototype.drawPolygon=function(t,e){var i=this.context_,r=new Ge(1,this.extent_),n=r.getReplay(0,lt["a"].POLYGON);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawPolygon(t,e),n.finish(i);var o,a=1,s={},h=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,o,h),n.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(r,t)},e.prototype.drawMultiPolygon=function(t,e){var i=this.context_,r=new Ge(1,this.extent_),n=r.getReplay(0,lt["a"].POLYGON);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawMultiPolygon(t,e),n.finish(i);var o,a=1,s={},h=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,o,h),n.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(r,t)},e.prototype.drawCircle=function(t,e){var i=this.context_,r=new Ge(1,this.extent_),n=r.getReplay(0,lt["a"].CIRCLE);n.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),n.drawCircle(t,e),n.finish(i);var o,a=1,s={},h=!1;n.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,a,s,o,h),n.getDeleteResourcesFunction(i)(),this.textStyle_&&this.drawText_(r,t)},e.prototype.setImageStyle=function(t){this.imageStyle_=t},e.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},e.prototype.setTextStyle=function(t){this.textStyle_=t},e}(ft["a"]),Ue=Be,ze=i("cf38"),qe=new xt(mt["g"]?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),Ve=new Et(mt["g"]?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"),He=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,mt["g"]?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,mt["g"]?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,mt["g"]?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,mt["g"]?"u_texture":"g"),this.a_position=t.getAttribLocation(e,mt["g"]?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,mt["g"]?"a_texCoord":"c")},We=He,Ye=function(t){function e(e,i){t.call(this,i),this.mapRenderer=e,this.arrayBuffer_=new Xt([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=Object(Lt["c"])(),this.projectionMatrix=Object(Lt["c"])(),this.tmpMat4_=Rt(),this.defaultLocations_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindFramebuffer=function(t,e){var i=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var r=function(t,e,i){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(i))}.bind(null,i,this.framebuffer,this.texture);t.postRenderFunctions.push(r);var n=oe(i,e,e),o=i.createFramebuffer();i.bindFramebuffer(mt["n"],o),i.framebufferTexture2D(mt["n"],mt["d"],mt["z"],n,0),this.texture=n,this.framebuffer=o,this.framebufferDimension=e}else i.bindFramebuffer(mt["n"],this.framebuffer)},e.prototype.composeFrame=function(t,e,i){this.dispatchComposeEvent_(C["a"].PRECOMPOSE,i,t),i.bindBuffer(mt["a"],this.arrayBuffer_);var r,n=i.getGL(),o=i.getProgram(qe,Ve);this.defaultLocations_?r=this.defaultLocations_:(r=new We(n,o),this.defaultLocations_=r),i.useProgram(o)&&(n.enableVertexAttribArray(r.a_position),n.vertexAttribPointer(r.a_position,2,mt["l"],!1,16,0),n.enableVertexAttribArray(r.a_texCoord),n.vertexAttribPointer(r.a_texCoord,2,mt["l"],!1,16,8),n.uniform1i(r.u_texture,0)),n.uniformMatrix4fv(r.u_texCoordMatrix,!1,Mt(this.tmpMat4_,this.getTexCoordMatrix())),n.uniformMatrix4fv(r.u_projectionMatrix,!1,Mt(this.tmpMat4_,this.getProjectionMatrix())),n.uniform1f(r.u_opacity,e.opacity),n.bindTexture(mt["z"],this.getTexture()),n.drawArrays(mt["F"],0,4),this.dispatchComposeEvent_(C["a"].POSTCOMPOSE,i,t)},e.prototype.dispatchComposeEvent_=function(t,e,i){var r=this.getLayer();if(r.hasListener(t)){var n=i.viewState,o=n.resolution,a=i.pixelRatio,s=i.extent,h=n.center,c=n.rotation,u=i.size,l=new Ue(e,h,o,c,u,s,a),f=new ct["a"](t,l,i,null,e);r.dispatchEvent(f)}},e.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},e.prototype.getTexture=function(){return this.texture},e.prototype.getProjectionMatrix=function(){return this.projectionMatrix},e.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},e.prototype.prepareFrame=function(t,e,i){return Object(ht["b"])()},e.prototype.forEachLayerAtPixel=function(t,e,i,r){return Object(ht["b"])()},e}(ze["a"]),Ke=Ye,Xe=function(t){function e(e,i){t.call(this,e,i),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTexture_=function(t){var e=t.getImage(),i=this.mapRenderer.getGL();return ae(i,e,mt["c"],mt["c"])},e.prototype.prepareFrame=function(t,e,i){var r=this.mapRenderer.getGL(),n=t.pixelRatio,o=t.viewState,a=o.center,s=o.resolution,h=o.rotation,c=this.image_,u=this.texture,l=this.getLayer(),f=l.getSource(),d=t.viewHints,p=t.extent;if(void 0!==e.extent&&(p=Object(b["getIntersection"])(p,e.extent)),!d[at["a"].ANIMATING]&&!d[at["a"].INTERACTING]&&!Object(b["isEmpty"])(p)){var g=o.projection;if(!nt["a"]){var v=f.getProjection();v&&(g=v)}var y=f.getImage(p,s,n,g);if(y){var m=this.loadImage(y);if(m&&(c=y,u=this.createTexture_(y),this.texture)){var _=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,r,this.texture);t.postRenderFunctions.push(_)}}}if(c){var w=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(w.width,w.height,n,a,s,h,c.getExtent()),this.hitTransformationMatrix_=null;var x=this.texCoordMatrix;Object(Lt["f"])(x),Object(Lt["h"])(x,1,-1),Object(Lt["j"])(x,0,-1),this.image_=c,this.texture=u}return!!c},e.prototype.updateProjectionMatrix_=function(t,e,i,r,n,o,a){var s=t*n,h=e*n,c=this.projectionMatrix;Object(Lt["f"])(c),Object(Lt["h"])(c,2*i/s,2*i/h),Object(Lt["g"])(c,-o),Object(Lt["j"])(c,a[0]-r[0],a[1]-r[1]),Object(Lt["h"])(c,(a[2]-a[0])/2,(a[3]-a[1])/2),Object(Lt["j"])(c,1,1)},e.prototype.forEachLayerAtPixel=function(t,e,i,r){if(this.image_&&this.image_.getImage()){var n=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,n));var o=Object(Lt["a"])(this.hitTransformationMatrix_,t.slice());if(!(o[0]<0||o[0]>n[0]||o[1]<0||o[1]>n[1])){this.hitCanvasContext_||(this.hitCanvasContext_=Object(st["a"])(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),o[0],o[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;return a[3]>0?i.call(r,this.getLayer(),a):void 0}}},e.prototype.getHitTransformationMatrix_=function(t,e){var i=Object(Lt["c"])();Object(Lt["j"])(i,-1,-1),Object(Lt["h"])(i,2/t[0],2/t[1]),Object(Lt["j"])(i,0,t[1]),Object(Lt["h"])(i,1,-1);var r=Object(Lt["d"])(this.projectionMatrix.slice()),n=Object(Lt["c"])();return Object(Lt["j"])(n,0,e[1]),Object(Lt["h"])(n,1,-1),Object(Lt["h"])(n,e[0]/2,e[1]/2),Object(Lt["j"])(n,1,1),Object(Lt["e"])(n,r),Object(Lt["e"])(n,i),n},e}(Ke);Xe["handles"]=function(t){return t.getType()===ot["a"].IMAGE},Xe["create"]=function(t,e){return new Xe(t,e)};var Ze=Xe,$e=i("e9ee"),Je=i("3f2c"),Qe=i("7073"),ti=i("a7f3"),ei=i("a1ad"),ii=i("be21"),ri=1024,ni=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=$e["e"],i.insertBefore(this.canvas_,i.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=Object(st["a"])(),this.renderedVisible_=!0,this.gl_=Object(mt["K"])(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new se(this.canvas_,this.gl_),Object(h["listen"])(this.canvas_,ie.LOST,this.handleWebGLContextLost,this),Object(h["listen"])(this.canvas_,ie.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new ei["a"],this.focus_=null,this.tileTextureQueue_=new ii["b"](function(t){var e=t[1],i=t[2],r=e[0]-this.focus_[0],n=e[1]-this.focus_[1];return 65536*Math.log(i)+Math.sqrt(r*r+n*n)/i}.bind(this),(function(t){return t[0].getKey()})),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var i=this.tileTextureQueue_.dequeue(),r=i[0],n=i[3],o=i[4];this.bindTileTexture(r,n,o,mt["o"],mt["o"])}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindTileTexture=function(t,e,i,r,n){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(mt["z"],s.texture),s.magFilter!=r&&(o.texParameteri(mt["z"],mt["A"],r),s.magFilter=r),s.minFilter!=n&&(o.texParameteri(mt["z"],mt["B"],n),s.minFilter=n)}else{var h=o.createTexture(),c=t;if(o.bindTexture(mt["z"],h),i>0){var u=this.clipTileContext_.canvas,l=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(u.width=e[0],u.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):l.clearRect(0,0,e[0],e[1]),l.drawImage(c.getImage(),i,i,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(mt["z"],0,mt["s"],mt["s"],mt["G"],u)}else o.texImage2D(mt["z"],0,mt["s"],mt["s"],mt["G"],c.getImage());o.texParameteri(mt["z"],mt["A"],r),o.texParameteri(mt["z"],mt["B"],n),o.texParameteri(mt["z"],mt["C"],mt["c"]),o.texParameteri(mt["z"],mt["D"],mt["c"]),this.textureCache_.set(a,{texture:h,magFilter:r,minFilter:n})}},e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var r=this.context_,n=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,h=a.resolution,c=a.center,u=a.rotation,l=new Ue(r,c,h,u,o,n,s),f=new ct["a"](t,l,e,null,r);i.dispatchEvent(f)}},e.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach((function(t){t&&e.deleteTexture(t.texture)})),this.context_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.expireCache_=function(t,e){var i,r=this.getGL();while(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ri){if(i=this.textureCache_.peekLast(),i)r.deleteTexture(i.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},e.prototype.getContext=function(){return this.context_},e.prototype.getGL=function(){return this.gl_},e.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},e.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var i in e){var r=e[i];r.handleWebGLContextLost()}},e.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},e.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(mt["y"]),t.blendFuncSeparate(mt["u"],mt["r"],mt["q"],mt["r"]),t.disable(mt["f"]),t.disable(mt["h"]),t.disable(mt["t"]),t.disable(mt["w"])},e.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},e.prototype.renderFrame=function(t){var e=this.getContext(),i=this.getGL();if(i.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(C["a"].PRECOMPOSE,t);var r=[],n=t.layerStatesArray;Object(dt["l"])(n,Qe["b"]);var o,a,s=t.viewState.resolution;for(o=0,a=n.length;o<a;++o){var h=n[o];if(Object(Je["b"])(h,s)&&h.sourceState==ti["a"].READY){var c=this.getLayerRenderer(h.layer);c.prepareFrame(t,h,e)&&r.push(h)}}var u=t.size[0]*t.pixelRatio,l=t.size[1]*t.pixelRatio;for(this.canvas_.width==u&&this.canvas_.height==l||(this.canvas_.width=u,this.canvas_.height=l),i.bindFramebuffer(mt["n"],null),i.clearColor(0,0,0,0),i.clear(mt["e"]),i.enable(mt["b"]),i.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,a=r.length;o<a;++o){var f=r[o],d=this.getLayerRenderer(f.layer);d.composeFrame(t,f,e)}this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ri&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(C["a"].POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n,o,a){var s;if(this.getGL().isContextLost())return!1;var h,c=e.viewState,u=e.layerStatesArray,l=u.length;for(h=l-1;h>=0;--h){var f=u[h],d=f.layer;if(Object(Je["b"])(f,c.resolution)&&o.call(a,d)){var p=this.getLayerRenderer(d);if(s=p.forEachFeatureAtCoordinate(t,e,i,r),s)return s}}},e.prototype.hasFeatureAtCoordinate=function(t,e,i,r,n){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,h=e.layerStatesArray,c=h.length;for(a=c-1;a>=0;--a){var u=h[a],l=u.layer;if(Object(Je["b"])(u,s.resolution)&&r.call(n,l)){var f=this.getLayerRenderer(l);if(o=f.hasFeatureAtCoordinate(t,e),o)return!0}}return o},e.prototype.forEachLayerAtPixel=function(t,e,i,r,n,o,a){if(this.getGL().isContextLost())return!1;var s,h,c=e.viewState,u=e.layerStatesArray,l=u.length;for(h=l-1;h>=0;--h){var f=u[h],d=f.layer;if(Object(Je["b"])(f,c.resolution)&&o.call(n,d)){var p=this.getLayerRenderer(d);if(s=p.forEachLayerAtPixel(t,e,r,n),s)return s}}},e}(Qe["a"]),oi=ni,ai=i("d5b5"),si=i("09db"),hi=new xt(mt["g"]?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),ci=new Et(mt["g"]?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"),ui=function(t,e){this.u_tileOffset=t.getUniformLocation(e,mt["g"]?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,mt["g"]?"u_texture":"e"),this.a_position=t.getAttribLocation(e,mt["g"]?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,mt["g"]?"a_texCoord":"c")},li=ui,fi=i("dbf9"),di=function(t){function e(e,i){t.call(this,e,i),this.fragmentShader_=hi,this.vertexShader_=ci,this.locations_=null,this.renderArrayBuffer_=new Xt([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){var e=this.mapRenderer.getContext();e.deleteBuffer(this.renderArrayBuffer_),t.prototype.disposeInternal.call(this)},e.prototype.createLoadedTileFinder=function(t,e,i){var r=this.mapRenderer;return function(n,o){function a(t){var e=r.isTileTextureLoaded(t);return e&&(i[n]||(i[n]={}),i[n][t.tileCoord.toString()]=t),e}return t.forEachLoadedTile(e,n,o,a)}},e.prototype.handleWebGLContextLost=function(){t.prototype.handleWebGLContextLost.call(this),this.locations_=null},e.prototype.prepareFrame=function(t,e,i){var r=this.mapRenderer,n=i.getGL(),o=t.viewState,a=o.projection,s=this.getLayer(),h=s.getSource();if(!(h instanceof si["b"]))return!0;var c,u=h.getTileGridForProjection(a),l=u.getZForResolution(o.resolution),f=u.getResolution(l),p=h.getTilePixelSize(l,t.pixelRatio,a),g=p[0]/Object(fi["d"])(u.getTileSize(l),this.tmpSize_)[0],v=f/g,y=h.getTilePixelRatio(g)*h.getGutterForProjection(a),m=o.center,_=t.extent,w=u.getTileRangeForExtentAndZ(_,l);if(this.renderedTileRange_&&this.renderedTileRange_.equals(w)&&this.renderedRevision_==h.getRevision())c=this.renderedFramebufferExtent_;else{var x=w.getSize(),S=Math.max(x[0]*p[0],x[1]*p[1]),E=Object(d["e"])(S),O=v*E,T=u.getOrigin(l),C=T[0]+w.minX*p[0]*v,A=T[1]+w.minY*p[1]*v;c=[C,A,C+O,A+O],this.bindFramebuffer(t,E),n.viewport(0,0,E,E),n.clearColor(0,0,0,0),n.clear(mt["e"]),n.disable(mt["b"]);var L=i.getProgram(this.fragmentShader_,this.vertexShader_);i.useProgram(L),this.locations_||(this.locations_=new li(n,L)),i.bindBuffer(mt["a"],this.renderArrayBuffer_),n.enableVertexAttribArray(this.locations_.a_position),n.vertexAttribPointer(this.locations_.a_position,2,mt["l"],!1,16,0),n.enableVertexAttribArray(this.locations_.a_texCoord),n.vertexAttribPointer(this.locations_.a_texCoord,2,mt["l"],!1,16,8),n.uniform1i(this.locations_.u_texture,0);var R={};R[l]={};var M,I,P,N,F,k,j,G,B=this.createLoadedTileFinder(h,a,R),U=s.getUseInterimTilesOnError(),z=!0,q=Object(b["createEmpty"])(),V=new $["b"](0,0,0,0);for(k=w.minX;k<=w.maxX;++k)for(j=w.minY;j<=w.maxY;++j)if(N=h.getTile(l,k,j,g,a),void 0===e.extent||(G=u.getTileCoordExtent(N.tileCoord,q),Object(b["intersects"])(G,e.extent))){if(F=N.getState(),I=F==ai["a"].LOADED||F==ai["a"].EMPTY||F==ai["a"].ERROR&&!U,I||(N=N.getInterimTile()),F=N.getState(),F==ai["a"].LOADED){if(r.isTileTextureLoaded(N)){R[l][N.tileCoord.toString()]=N;continue}}else if(F==ai["a"].EMPTY||F==ai["a"].ERROR&&!U)continue;z=!1,P=u.forEachTileCoordParentTileRange(N.tileCoord,B,null,V,q),P||(M=u.getTileCoordChildTileRange(N.tileCoord,V,q),M&&B(l+1,M))}var H=Object.keys(R).map(Number);H.sort(dt["i"]);for(var W=new Float32Array(4),Y=0,K=H.length;Y<K;++Y){var X=R[H[Y]];for(var Z in X)N=X[Z],N instanceof D["a"]&&(G=u.getTileCoordExtent(N.tileCoord,q),W[0]=2*(G[2]-G[0])/O,W[1]=2*(G[3]-G[1])/O,W[2]=2*(G[0]-c[0])/O-1,W[3]=2*(G[1]-c[1])/O-1,n.uniform4fv(this.locations_.u_tileOffset,W),r.bindTileTexture(N,p,y*g,mt["o"],mt["o"]),n.drawArrays(mt["F"],0,4))}z?(this.renderedTileRange_=w,this.renderedFramebufferExtent_=c,this.renderedRevision_=h.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,h,l,w);var J=r.getTileTextureQueue();this.manageTilePyramid(t,h,u,g,a,_,l,s.getPreload(),(function(t){t.getState()!=ai["a"].LOADED||r.isTileTextureLoaded(t)||J.isKeyQueued(t.getKey())||J.enqueue([t,u.getTileCoordCenter(t.tileCoord),u.getResolution(t.tileCoord[0]),p,y*g])}),this),this.scheduleExpireCache(t,h);var Q=this.texCoordMatrix;return Object(Lt["f"])(Q),Object(Lt["j"])(Q,(Math.round(m[0]/f)*f-c[0])/(c[2]-c[0]),(Math.round(m[1]/f)*f-c[1])/(c[3]-c[1])),0!==o.rotation&&Object(Lt["g"])(Q,o.rotation),Object(Lt["h"])(Q,t.size[0]*o.resolution/(c[2]-c[0]),t.size[1]*o.resolution/(c[3]-c[1])),Object(Lt["j"])(Q,-.5,-.5),!0},e.prototype.forEachLayerAtPixel=function(t,e,i,r){if(this.framebuffer){var n=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=Object(Lt["a"])(this.texCoordMatrix,n.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var h=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,h),h[3]>0?i.call(r,this.getLayer(),h):void 0}},e}(Ke);di["handles"]=function(t){return t.getType()===ot["a"].TILE},di["create"]=function(t,e){return new di(t,e)};var pi=di,gi=i("71a0"),vi=function(t){function e(e,i){t.call(this,e,i),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(b["createEmpty"])(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.layerState_=e;var r=t.viewState,n=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();n&&!n.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),n.replay(i,r.center,r.resolution,r.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},e.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var i=this.mapRenderer.getContext();e.getDeleteResourcesFunction(i)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,n){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),a=e.viewState,s=this.getLayer(),h=this.layerState_,c={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a.center,a.resolution,a.rotation,e.size,e.pixelRatio,h.opacity,{},(function(t){var e=Object(ht["c"])(t);if(!(e in c))return c[e]=!0,r.call(n,t,s)}))}},e.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var i=this.mapRenderer.getContext(),r=e.viewState,n=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,i,r.center,r.resolution,r.rotation,e.size,e.pixelRatio,n.opacity,e.skippedFeatureUids)}return!1},e.prototype.forEachLayerAtPixel=function(t,e,i,r){var n=Object(Lt["a"])(e.pixelToCoordinateTransform,t.slice()),o=this.hasFeatureAtCoordinate(n,e);return o?i.call(r,this.getLayer(),null):void 0},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e,i){var r=this.getLayer(),n=r.getSource(),o=t.viewHints[at["a"].ANIMATING],a=t.viewHints[at["a"].INTERACTING],s=r.getUpdateWhileAnimating(),h=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!h&&a)return!0;var c=t.extent,u=t.viewState,l=u.projection,f=u.resolution,d=t.pixelRatio,p=r.getRevision(),g=r.getRenderBuffer(),v=r.getRenderOrder();void 0===v&&(v=gi["a"]);var y=Object(b["buffer"])(c,g*f);if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&Object(b["containsExtent"])(this.renderedExtent_,y))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(i)),this.dirty_=!1;var m=new Ge(Object(gi["c"])(f,d),y,r.getRenderBuffer());n.loadFeatures(y,f,l);var _=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,f)),e){var n=this.renderFeature(t,f,d,e,m);this.dirty_=this.dirty_||n}}.bind(this);if(v){var w=[];n.forEachFeatureInExtent(y,(function(t){w.push(t)})),w.sort(v),w.forEach(_.bind(this))}else n.forEachFeatureInExtent(y,_);return m.finish(i),this.renderedResolution_=f,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedExtent_=y,this.replayGroup_=m,!0},e.prototype.renderFeature=function(t,e,i,r,n){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=r.length-1,s=0;a>=s;--a)o=Object(gi["d"])(n,t,r[a],Object(gi["b"])(e,i),this.handleStyleImageChange_,this)||o;else o=Object(gi["d"])(n,t,r,Object(gi["b"])(e,i),this.handleStyleImageChange_,this)||o;return o},e}(Ke);vi["handles"]=function(t){return t.getType()===ot["a"].VECTOR},vi["create"]=function(t,e){return new vi(t,e)};var yi=vi,mi=function(t){function e(e){e=Object(rt["a"])({},e),e.controls||(e.controls=Object(et["a"])()),e.interactions||(e.interactions=Object(it["defaults"])()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new oi(this);return t.registerLayerRenderers([Ze,pi,yi]),t},e}(Y["a"]),_i=mi},"4cec":function(t,e,i){"use strict";var r=i("0f26").f,n=i("af33"),o=i("e603"),a=i("d401"),s=i("4b13"),h=i("3032"),c=i("8d33"),u=i("4e79"),l=i("dbc5"),f=i("6739"),d=i("bded").fastKey,p=i("388d"),g=f?"_s":"size",v=function(t,e){var i,r=d(e);if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t((function(t,r){s(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&h(r,i,t[c],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),i=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete i[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=p(this,e),r=v(i,t);if(r){var n=r.n,o=r.p;delete i._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),i._f==r&&(i._f=n),i._l==r&&(i._l=o),i[g]--}return!!r},forEach:function(t){p(this,e);var i,r=a(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){r(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!v(p(this,e),t)}}),f&&r(u.prototype,"size",{get:function(){return p(this,e)[g]}}),u},def:function(t,e,i){var r,n,o=v(t,e);return o?o.v=i:(t._l=o={i:n=d(e,!0),k:e,v:i,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==n&&(t._i[n]=o)),t},getEntry:v,setStrong:function(t,e,i){c(t,e,(function(t,i){this._t=p(t,e),this._k=i,this._l=void 0}),(function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?u(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,u(1))}),i?"entries":"values",!i,!0),l(e)}}},"4dc0":function(t,e,i){(function(e){"use strict";var i=_(),r=b(),n=w(),o=x(),a={imagePlaceholder:void 0,cacheBust:!1},s={toSvg:h,toPng:u,toJpeg:l,toBlob:f,toPixelData:c,impl:{fontFaces:n,images:o,util:i,inliner:r,options:{}}};function h(t,e){return e=e||{},d(e),Promise.resolve(t).then((function(t){return g(t,e.filter,!0)})).then(v).then(y).then(r).then((function(r){return m(r,e.width||i.width(t),e.height||i.height(t))}));function r(t){return e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach((function(i){t.style[i]=e.style[i]})),t}}function c(t,e){return p(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,i.width(t),i.height(t)).data}))}function u(t,e){return p(t,e||{}).then((function(t){return t.toDataURL()}))}function l(t,e){return e=e||{},p(t,e).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))}function f(t,e){return p(t,e||{}).then(i.canvasToBlob)}function d(t){"undefined"===typeof t.imagePlaceholder?s.impl.options.imagePlaceholder=a.imagePlaceholder:s.impl.options.imagePlaceholder=t.imagePlaceholder,"undefined"===typeof t.cacheBust?s.impl.options.cacheBust=a.cacheBust:s.impl.options.cacheBust=t.cacheBust}function p(t,e){return h(t,e).then(i.makeImage).then(i.delay(100)).then((function(e){var i=r(t);return i.getContext("2d").drawImage(e,0,0),i}));function r(t){var r=document.createElement("canvas");if(r.width=e.width||i.width(t),r.height=e.height||i.height(t),e.bgcolor){var n=r.getContext("2d");n.fillStyle=e.bgcolor,n.fillRect(0,0,r.width,r.height)}return r}}function g(t,e,r){return r||!e||e(t)?Promise.resolve(t).then(n).then((function(i){return o(t,i,e)})).then((function(e){return a(t,e)})):Promise.resolve();function n(t){return t instanceof HTMLCanvasElement?i.makeImage(t.toDataURL()):t.cloneNode(!1)}function o(t,e,r){var n=t.childNodes;return 0===n.length?Promise.resolve(e):o(e,i.asArray(n),r).then((function(){return e}));function o(t,e,i){var r=Promise.resolve();return e.forEach((function(e){r=r.then((function(){return g(e,i)})).then((function(e){e&&t.appendChild(e)}))})),r}}function a(t,e){return e instanceof Element?Promise.resolve().then(r).then(n).then(o).then(a).then((function(){return e})):e;function r(){function r(t,e){function r(t,e){i.asArray(t).forEach((function(i){e.setProperty(i,t.getPropertyValue(i),t.getPropertyPriority(i))}))}t.cssText?e.cssText=t.cssText:r(t,e)}r(window.getComputedStyle(t),e.style)}function n(){function r(r){var n=window.getComputedStyle(t,r),o=n.getPropertyValue("content");if(""!==o&&"none"!==o){var a=i.uid();e.className=e.className+" "+a;var s=document.createElement("style");s.appendChild(h(a,r,n)),e.appendChild(s)}function h(t,e,r){var n="."+t+":"+e,o=r.cssText?a(r):s(r);return document.createTextNode(n+"{"+o+"}");function a(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}function s(t){return i.asArray(t).map(e).join("; ")+";";function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}}}}[":before",":after"].forEach((function(t){r(t)}))}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function a(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var i=e.getAttribute(t);i&&e.style.setProperty(t,i)})))}}}function v(t){return n.resolveAll().then((function(e){var i=document.createElement("style");return t.appendChild(i),i.appendChild(document.createTextNode(e)),t}))}function y(t){return o.inlineAll(t).then((function(){return t}))}function m(t,e,r){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(i.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+r+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}function _(){return{escape:f,parseExtension:e,mimeType:i,dataAsUrl:l,isDataUrl:r,canvasToBlob:o,resolveUrl:a,getAndEncode:u,uid:h(),delay:d,asArray:p,escapeXhtml:g,makeImage:c,width:v,height:y};function t(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function i(i){var r=e(i).toLowerCase();return t()[r]||""}function r(t){return-1!==t.search(/^(data:)/)}function n(t){return new Promise((function(e){for(var i=window.atob(t.toDataURL().split(",")[1]),r=i.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=i.charCodeAt(o);e(new Blob([n],{type:"image/png"}))}))}function o(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):n(t)}function a(t,e){var i=document.implementation.createHTMLDocument(),r=i.createElement("base");i.head.appendChild(r);var n=i.createElement("a");return i.body.appendChild(n),r.href=e,n.href=t,n.href}function h(){var t=0;return function(){return"u"+e()+t++;function e(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function c(t){return new Promise((function(e,i){var r=new Image;r.onload=function(){e(r)},r.onerror=i,r.src=t}))}function u(t){var e=3e4;return s.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise((function(i){var r,n=new XMLHttpRequest;if(n.onreadystatechange=a,n.ontimeout=h,n.responseType="blob",n.timeout=e,n.open("GET",t,!0),n.send(),s.impl.options.imagePlaceholder){var o=s.impl.options.imagePlaceholder.split(/,/);o&&o[1]&&(r=o[1])}function a(){if(4===n.readyState)if(200===n.status){var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];i(t)},e.readAsDataURL(n.response)}else r?i(r):c("cannot fetch resource: "+t+", status: "+n.status)}function h(){r?i(r):c("timeout of "+e+"ms occured while fetching resource: "+t)}function c(t){console.error(t),i("")}}))}function l(t,e){return"data:"+e+";base64,"+t}function f(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function d(t){return function(e){return new Promise((function(i){setTimeout((function(){i(e)}),t)}))}}function p(t){for(var e=[],i=t.length,r=0;r<i;r++)e.push(t[r]);return e}function g(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}function v(t){var e=m(t,"border-left-width"),i=m(t,"border-right-width");return t.scrollWidth+e+i}function y(t){var e=m(t,"border-top-width"),i=m(t,"border-bottom-width");return t.scrollHeight+e+i}function m(t,e){var i=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(i.replace("px",""))}}function b(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:o,shouldProcess:e,impl:{readUrls:r,inline:n}};function e(e){return-1!==e.search(t)}function r(e){var r,n=[];while(null!==(r=t.exec(e)))n.push(r[1]);return n.filter((function(t){return!i.isDataUrl(t)}))}function n(t,e,r,n){return Promise.resolve(e).then((function(t){return r?i.resolveUrl(t,r):t})).then(n||i.getAndEncode).then((function(t){return i.dataAsUrl(t,i.mimeType(e))})).then((function(i){return t.replace(o(e),"$1"+i+"$3")}));function o(t){return new RegExp("(url\\(['\"]?)("+i.escape(t)+")(['\"]?\\))","g")}}function o(t,i,o){return a()?Promise.resolve(t):Promise.resolve(t).then(r).then((function(e){var r=Promise.resolve(t);return e.forEach((function(t){r=r.then((function(e){return n(e,t,i,o)}))})),r}));function a(){return!e(t)}}}function w(){return{resolveAll:t,impl:{readAll:e}};function t(){return e(document).then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))}function e(){return Promise.resolve(i.asArray(document.styleSheets)).then(e).then(t).then((function(t){return t.map(n)}));function t(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return r.shouldProcess(t.style.getPropertyValue("src"))}))}function e(t){var e=[];return t.forEach((function(t){try{i.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(r){console.log("Error while reading CSS rules from "+t.href,r.toString())}})),e}function n(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}function x(){return{inlineAll:e,impl:{newImage:t}};function t(t){return{inline:e};function e(e){return i.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||i.getAndEncode).then((function(e){return i.dataAsUrl(e,i.mimeType(t.src))})).then((function(e){return new Promise((function(i,r){t.onload=i,t.onerror=r,t.src=e}))}))}}function e(n){return n instanceof Element?o(n).then((function(){return n instanceof HTMLImageElement?t(n).inline():Promise.all(i.asArray(n.childNodes).map((function(t){return e(t)})))})):Promise.resolve(n);function o(t){var e=t.style.getPropertyValue("background");return e?r.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}}}t.exports=s})()},"4dc6":function(t,e,i){"use strict";var r=i("6739"),n=i("b7e2"),o=i("e038"),a=i("9a27"),s=i("37ff"),h=i("2635"),c=Object.assign;t.exports=!c||i("b460")((function(){var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=r}))?function(t,e){var i=s(t),c=arguments.length,u=1,l=o.f,f=a.f;while(c>u){var d,p=h(arguments[u++]),g=l?n(p).concat(l(p)):n(p),v=g.length,y=0;while(v>y)d=g[y++],r&&!f.call(p,d)||(i[d]=p[d])}return i}:c},"4e79":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},"501f":function(t,e,i){"use strict";i.r(e),i.d(e,"render",(function(){return x}));var r=i("9cc9"),n=i("4450"),o=i("eafb"),a=i("ee8e"),s=i("0acf"),h=i("9fa2"),c=i("8381"),u=i("1e27"),l=i("7c99"),f=i("efc8"),d=i("4882"),p=i("e9ee"),g=i("5f6b"),v=i("a273"),y=i("eee0"),m=i("3d22"),_=.75,b=.1,w=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||x,target:i.target}),this.collapsed_=void 0===i.collapsed||i.collapsed,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-overviewmap",a=void 0!==i.tipLabel?i.tipLabel:"Overview map",s=void 0!==i.collapseLabel?i.collapseLabel:"";"string"===typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;var h=void 0!==i.label?i.label:"";"string"===typeof h?(this.label_=document.createElement("span"),this.label_.textContent=h):this.label_=h;var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=a,f.appendChild(l),Object(v["listen"])(f,y["default"].CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new n["a"]({controls:new r["default"],interactions:new r["default"],view:i.view});var d=this.ovmap_;i.layers&&i.layers.forEach(function(t){d.addLayer(t)}.bind(this));var g=document.createElement("div");g.className="ol-overviewmap-box",g.style.boxSizing="border-box",this.boxOverlay_=new c["default"]({position:[0,0],positioning:u["default"].BOTTOM_LEFT,element:g}),this.ovmap_.addOverlay(this.boxOverlay_);var m=o+" "+p["e"]+" "+p["b"]+(this.collapsed_&&this.collapsible_?" "+p["a"]:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=m,_.appendChild(this.ovmapDiv_),_.appendChild(f);var b=this,w=this.boxOverlay_,S=this.boxOverlay_.getElement(),E=function(t){return{clientX:t.clientX-S.offsetWidth/2,clientY:t.clientY+S.offsetHeight/2}},O=function(t){var e=E(t),i=d.getEventCoordinate(e);w.setPosition(i)},T=function(t){var e=d.getEventCoordinate(t);b.getMap().getView().setCenter(e),window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",T)};S.addEventListener("mousedown",(function(){window.addEventListener("mousemove",O),window.addEventListener("mouseup",T)}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){var i=this.getMap();if(e!==i){if(i){var r=i.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(v["listen"])(e,h["a"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var n=e.getView();n&&(this.bindView_(n),n.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===a["a"].VIEW){var e=t.oldValue;e&&this.unbindView_(e);var i=this.getMap().getView();this.bindView_(i)}},e.prototype.bindView_=function(t){Object(v["listen"])(t,Object(s["getChangeEventType"])(l["a"].ROTATION),this.handleRotationChanged_,this)},e.prototype.unbindView_=function(t){Object(v["unlisten"])(t,Object(s["getChangeEventType"])(l["a"].ROTATION),this.handleRotationChanged_,this)},e.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var i=t.getSize(),r=t.getView(),n=r.calculateExtent(i),o=e.getSize(),a=e.getView(),s=a.calculateExtent(o),h=e.getPixelFromCoordinate(Object(m["getTopLeft"])(n)),c=e.getPixelFromCoordinate(Object(m["getBottomRight"])(n)),u=Math.abs(h[0]-c[0]),l=Math.abs(h[1]-c[1]),f=o[0],d=o[1];u<f*b||l<d*b||u>f*_||l>d*_?this.resetExtent_():Object(m["containsExtent"])(s,n)||this.recenter_()}},e.prototype.resetExtent_=function(){if(0!==_&&0!==b){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),r=t.getView(),n=r.calculateExtent(i),o=e.getView(),a=Math.log(_/b)/Math.LN2,s=1/(Math.pow(2,a/2)*b);Object(m["scaleFromCenter"])(n,s),o.fit(n)}},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getView(),r=e.getView();r.setCenter(i.getCenter())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var i=t.getSize(),r=t.getView(),n=e.getView(),o=r.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),h=r.calculateExtent(i),c=n.getResolution(),u=Object(m["getBottomLeft"])(h),l=Object(m["getTopRight"])(h),f=this.calculateCoordinateRotate_(o,u);a.setPosition(f),s&&(s.style.width=Math.abs((u[0]-l[0])/c)+"px",s.style.height=Math.abs((l[1]-u[1])/c)+"px")}},e.prototype.calculateCoordinateRotate_=function(t,e){var i,r=this.getMap(),n=r.getView(),o=n.getCenter();return o&&(i=[e[0]-o[0],e[1]-o[1]],Object(d["g"])(i,t),Object(d["a"])(i,o)),i},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(p["a"]),this.collapsed_?Object(g["f"])(this.collapseLabel_,this.label_):Object(g["f"])(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;this.collapsed_||t.isRendered()||(t.updateSize(),this.resetExtent_(),Object(v["listenOnce"])(t,o["a"].POSTRENDER,(function(t){this.updateBox_()}),this))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(f["default"]);function x(t){this.validateExtent_(),this.updateBox_()}e["default"]=w},5051:function(t,e,i){var r=i("6739"),n=i("b7e2"),o=i("ceb6"),a=i("9a27").f;t.exports=function(t){return function(e){var i,s=o(e),h=n(s),c=h.length,u=0,l=[];while(c>u)i=h[u++],r&&!a.call(s,i)||l.push(t?[i,s[i]]:s[i]);return l}}},"50a9":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return a}));i("acdf");var r={};function n(){r={}}function o(t,e,i){var n=t.getCode(),o=e.getCode();n in r||(r[n]={}),r[n][o]=i}function a(t,e){var i;return t in r&&e in r[t]&&(i=r[t][e]),i}},"50f6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.Brighten=function(t){var e,i=255*this.brightness(),r=t.data,n=r.length;for(e=0;e<n;e+=4)r[e]+=i,r[e+1]+=i,r[e+2]+=i},r.Factory.addGetterSetter(n.Node,"brightness",0,o.getNumberValidator(),r.Factory.afterSetFilter)},"51ac":function(t,e,i){var r=i("d8b2"),n=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?n(t+e,0):o(t,e)}},5270:function(t,e,i){"use strict";var r=i("c532"),n=i("c401"),o=i("2e67"),a=i("2444");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){s(t),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||a.adapter;return e(t).then((function(e){return s(t),e.data=n(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5317:function(t,e,i){"use strict";var r=i("6646"),n=i("3d22"),o=i("34f5"),a=i("cc7a"),s=i("d5b7"),h=i("c484"),c=i("1ea9"),u=i("0985"),l=i("0f6d"),f=i("9b05"),d=i("e620"),p=i("d5d0"),g=i("c5e9"),v=i("7b42"),y=i("7f06"),m=i("ae89"),_=i("caa0"),b=function(t){function e(e,i,n){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var o=this.getLayout(),a=e,s=[],h=[],c=0,u=a.length;c<u;++c){var l=a[c];0===c&&(o=l.getLayout());for(var f=s.length,d=l.getEnds(),p=0,g=d.length;p<g;++p)d[p]+=f;Object(r["c"])(s,l.getFlatCoordinates()),h.push(d)}i=o,e=s,n=h}void 0!==i&&n?(this.setFlatCoordinates(i,e),this.endss_=n):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var n=0,o=e.length;n<o;++n)e[n]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),r=0;r<t;++r)i[r]=this.endss_[r].slice();return new e(this.flatCoordinates.slice(),this.layout,i)},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(n["closestSquaredDistanceXY"])(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(f["f"])(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(f["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,r))},e.prototype.containsXY=function(t,e){return Object(d["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(u["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(m["e"])(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(g["c"])(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=Object(l["a"])(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(v["b"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new s["a"](this.getFlatInteriorPoints().slice(),o["a"].XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(m["c"])(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(m["e"])(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=Object(_["d"])(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,r),new e(i,o["a"].XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var r=this.endss_[t].slice(),n=r[r.length-1];if(0!==e)for(var o=0,a=r.length;o<a;++o)r[o]-=e;return new h["default"](this.flatCoordinates.slice(e,n),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,r=[],n=0,o=0,a=i.length;o<a;++o){var s=i[o].slice(),c=s[s.length-1];if(0!==n)for(var u=0,l=s.length;u<l;++u)s[u]-=n;var f=new h["default"](e.slice(n,c),t,s);r.push(f),n=c}return r},e.prototype.getType=function(){return a["default"].MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(y["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(p["d"])(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var r=i[i.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(c["a"]);e["a"]=b},5338:function(t,e,i){"use strict";var r=i("1499"),n=i("bf07");function o(t,e,i){n.call(this,t,e,i,{noCredentials:!0})}r(o,n),o.enabled=n.enabled,t.exports=o},"546e":function(t,e,i){"use strict";var r=i("fd21"),n=i("5eee"),o=i("d5b5"),a=[0,0,4096,4096],s=function(t){function e(e,i,r,n,o,a){t.call(this,e,i,a),this.consumers=0,this.extent_=null,this.format_=n,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=o,this.url_=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=o["a"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getExtent=function(){return this.extent_||a},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getReplayGroup=function(t,e){return this.replayGroups_[Object(r["c"])(t)+","+e]},e.prototype.load=function(){this.state==o["a"].IDLE&&(this.setState(o["a"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},e.prototype.onLoad=function(t,e,i){this.setProjection(e),this.setFeatures(t),this.setExtent(i)},e.prototype.onError=function(){this.setState(o["a"].ERROR)},e.prototype.setExtent=function(t){this.extent_=t},e.prototype.setFeatures=function(t){this.features_=t,this.setState(o["a"].LOADED)},e.prototype.setProjection=function(t){this.projection_=t},e.prototype.setReplayGroup=function(t,e,i){this.replayGroups_[Object(r["c"])(t)+","+e]=i},e.prototype.setLoader=function(t){this.loader_=t},e}(n["a"]);e["a"]=s},"54f8":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("c33e"),a=i("a0a2");e.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),r=this.embossDirection(),n=this.embossBlend(),a=0,s=0,h=t.data,c=t.width,u=t.height,l=4*c,f=u;switch(r){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:o.Util.error("Unknown emboss direction: "+r)}do{var d=(f-1)*l,p=a;f+p<1&&(p=0),f+p>u&&(p=0);var g=(f-1+p)*c*4,v=c;do{var y=d+4*(v-1),m=s;v+m<1&&(m=0),v+m>c&&(m=0);var _=g+4*(v-1+m),b=h[y]-h[_],w=h[y+1]-h[_+1],x=h[y+2]-h[_+2],S=b,E=S>0?S:-S,O=w>0?w:-w,T=x>0?x:-x;if(O>E&&(S=w),T>E&&(S=x),S*=e,n){var C=h[y]+S,A=h[y+1]+S,L=h[y+2]+S;h[y]=C>255?255:C<0?0:C,h[y+1]=A>255?255:A<0?0:A,h[y+2]=L>255?255:L<0?0:L}else{var R=i-S;R<0?R=0:R>255&&(R=255),h[y]=h[y+1]=h[y+2]=R}}while(--v)}while(--f)},r.Factory.addGetterSetter(n.Node,"embossStrength",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossWhiteLevel",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},5537:function(t,e,i){"use strict";var r=i("09b5"),n=i("a273"),o=i("0ead"),a=i("64c1"),s=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var i=this.listeners_[t];i||(i=this.listeners_[t]=[]),-1===i.indexOf(e)&&i.push(e)},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new a["a"](t):t,i=e.type;e.target=this;var r,n=this.listeners_[i];if(n){i in this.dispatching_||(this.dispatching_[i]=0,this.pendingRemovals_[i]=0),++this.dispatching_[i];for(var s=0,h=n.length;s<h;++s)if(!1===n[s].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[i],0===this.dispatching_[i]){var c=this.pendingRemovals_[i];delete this.pendingRemovals_[i];while(c--)this.removeEventListener(i,o["c"]);delete this.dispatching_[i]}return r}},e.prototype.disposeInternal=function(){Object(n["unlistenAll"])(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var i=this.listeners_[t];if(i){var r=i.indexOf(e);t in this.pendingRemovals_?(i[r]=o["c"],++this.pendingRemovals_[t]):(i.splice(r,1),0===i.length&&delete this.listeners_[t])}},e}(r["a"]);e["a"]=s},"553c":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";function t(t,i,n,o,a){e(t,i,n||0,o||t.length-1,a||r)}function e(t,r,n,o,a){while(o>n){if(o-n>600){var s=o-n+1,h=r-n+1,c=Math.log(s),u=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*u*(s-u)/s)*(h-s/2<0?-1:1),f=Math.max(n,Math.floor(r-h*u/s+l)),d=Math.min(o,Math.floor(r+(s-h)*u/s+l));e(t,r,f,d,a)}var p=t[r],g=n,v=o;i(t,n,r),a(t[o],p)>0&&i(t,n,o);while(g<v){i(t,g,v),g++,v--;while(a(t[g],p)<0)g++;while(a(t[v],p)>0)v--}0===a(t[n],p)?i(t,n,v):(v++,i(t,v,o)),v<=r&&(n=v+1),r<=v&&(o=v-1)}}function i(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function r(t,e){return t<e?-1:t>e?1:0}return t}))},5676:function(t,e,i){"use strict";(function(e){var r=i("bacb");t.exports=i("3d7c")(r),"_sockjs_onload"in e&&setTimeout(e._sockjs_onload,1)}).call(this,i("c8ba"))},"56f0":function(t,e,i){var r=i("0d63"),n=i("70be");r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},"575f":function(t,e,i){var r=i("e860"),n=i("9336")("iterator"),o=i("8d2e");t.exports=i("a06f").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||o[r(t)]}},5768:function(t,e,i){"use strict";i.r(e),e["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},"587a":function(t,e,i){"use strict";var r=i("c5e9b"),n=function(t){function e(e,i,r,n,o){t.call(this,e,i,r.originalEvent,n,o),this.pointerEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["a"]);e["a"]=n},5881:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");function a(t,e,i,r,n){var o,a=i-e,s=n-r;return 0===a?r+s/2:0===s?r:(o=(t-e)/a,o=s*o+r,o)}e.Enhance=function(t){var e,i,r,n,o=t.data,s=o.length,h=o[0],c=h,u=o[1],l=u,f=o[2],d=f,p=this.enhance();if(0!==p){for(n=0;n<s;n+=4)e=o[n+0],e<h?h=e:e>c&&(c=e),i=o[n+1],i<u?u=i:i>l&&(l=i),r=o[n+2],r<f?f=r:r>d&&(d=r);var g,v,y,m,_,b,w,x,S;for(c===h&&(c=255,h=0),l===u&&(l=255,u=0),d===f&&(d=255,f=0),p>0?(v=c+p*(255-c),y=h-p*(h-0),_=l+p*(255-l),b=u-p*(u-0),x=d+p*(255-d),S=f-p*(f-0)):(g=.5*(c+h),v=c+p*(c-g),y=h+p*(h-g),m=.5*(l+u),_=l+p*(l-m),b=u+p*(u-m),w=.5*(d+f),x=d+p*(d-w),S=f+p*(f-w)),n=0;n<s;n+=4)o[n+0]=a(o[n+0],h,c,y,v),o[n+1]=a(o[n+1],u,l,b,_),o[n+2]=a(o[n+2],f,d,S,x)}},r.Factory.addGetterSetter(n.Node,"enhance",0,o.getNumberValidator(),r.Factory.afterSetFilter)},5891:function(t,e,i){"use strict";var r=i("6843"),n=i("876c"),o=i("f863"),a=i("aa11"),s=i("8abe");function h(t){this.defaults=t,this.interceptors={request:new o,response:new o}}h.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=s(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],i=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)i=i.then(e.shift(),e.shift());return i},h.prototype.getUri=function(t){return t=s(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,i){return this.request(r.merge(i||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){h.prototype[t]=function(e,i,n){return this.request(r.merge(n||{},{method:t,url:e,data:i}))}})),t.exports=h},"58b4":function(t,e,i){"use strict";var r=i("0d63"),n=i("ec26");r(r.P+r.F*!i("60a1")([].reduce,!0),"Array",{reduce:function(t){return n(this,t,arguments.length,arguments[1],!1)}})},"58d1":function(t,e,i){var r=i("d8b2"),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},5920:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("93cf"),n=i("830e"),o=i("6529"),a=i("664d"),s=i("c029"),h=i("4746"),c=i("6e35"),u=i("ce2c"),l=i("be44"),f=i("3c5d"),d=i("18cb"),p=i("277c"),g=i("71db"),v=i("b80f"),y=i("6760"),m=i("fc4b"),_=i("2d8e"),b=i("31c3"),w=i("7a09"),x=i("50f6"),S=i("d44b"),E=i("54f8"),O=i("5881"),T=i("9b54"),C=i("cfef"),A=i("d242"),L=i("30a6"),R=i("848f"),M=i("e01b"),I=i("42e0"),P=i("6f88"),N=i("cda1"),F=i("b9b6"),k=i("c443"),j=i("d028"),D=i("04e8"),G=i("918d");e.Konva=r.Konva.Util._assign(r.Konva,{Arc:n.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:s.Ellipse,Image:h.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:l.Path,Rect:f.Rect,RegularPolygon:d.RegularPolygon,Ring:p.Ring,Sprite:g.Sprite,Star:v.Star,Text:y.Text,TextPath:m.TextPath,Transformer:_.Transformer,Wedge:b.Wedge,Filters:{Blur:w.Blur,Brighten:x.Brighten,Contrast:S.Contrast,Emboss:E.Emboss,Enhance:O.Enhance,Grayscale:T.Grayscale,HSL:C.HSL,HSV:A.HSV,Invert:L.Invert,Kaleidoscope:R.Kaleidoscope,Mask:M.Mask,Noise:I.Noise,Pixelate:P.Pixelate,Posterize:N.Posterize,RGB:F.RGB,RGBA:k.RGBA,Sepia:j.Sepia,Solarize:D.Solarize,Threshold:G.Threshold}})},"59ca":function(t,e){t.exports="1.4.0"},"59fa":function(t,e,i){var r=i("0d63");r(r.S,"Object",{is:i("4151")})},"5a30":function(t,e,i){e.f=i("9336")},"5a66":function(t,e,i){var r=i("ea05"),n=i("ad06"),o=i("7e33"),a=i("0d63"),s=i("cdf9"),h=i("42ee");function c(t,e){var i,a,u=arguments.length<3?t:arguments[2];return h(t)===u?t[e]:(i=r.f(t,e))?o(i,"value")?i.value:void 0!==i.get?i.get.call(u):void 0:s(a=n(t))?c(a,e,u):void 0}a(a.S,"Reflect",{get:c})},"5b9c":function(t,e,i){"use strict";i.r(e),i.d(e,"Attribution",(function(){return r["a"]})),i.d(e,"Control",(function(){return n["default"]})),i.d(e,"FullScreen",(function(){return v})),i.d(e,"MousePosition",(function(){return S})),i.d(e,"OverviewMap",(function(){return E["default"]})),i.d(e,"Rotate",(function(){return O["a"]})),i.d(e,"ScaleLine",(function(){return P})),i.d(e,"Zoom",(function(){return N["a"]})),i.d(e,"ZoomSlider",(function(){return V})),i.d(e,"ZoomToExtent",(function(){return W})),i.d(e,"defaults",(function(){return Y["a"]}));var r=i("88f2"),n=i("efc8"),o=i("e9ee"),a=i("5f6b"),s=i("a273"),h=i("eee0"),c=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}(),u=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target}),this.cssClassName_=void 0!==i.className?i.className:"ol-full-screen";var r=void 0!==i.label?i.label:"";this.labelNode_="string"===typeof r?document.createTextNode(r):r;var n=void 0!==i.labelActive?i.labelActive:"";this.labelActiveNode_="string"===typeof n?document.createTextNode(n):n,this.button_=document.createElement("button");var a=i.tipLabel?i.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,f()),this.button_.setAttribute("type","button"),this.button_.title=a,this.button_.appendChild(this.labelNode_),Object(s["listen"])(this.button_,h["default"].CLICK,this.handleClick_,this);var c=this.cssClassName_+" "+o["e"]+" "+o["b"]+" "+(l()?"":o["f"]),u=this.element;u.className=c,u.appendChild(this.button_),this.keys_=void 0!==i.keys&&i.keys,this.source_=i.source}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(l()){var t,e=this.getMap();if(e)if(f())g();else t=this.source_?"string"===typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?p(t):d(t)}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();f()?(this.setClassName_(this.button_,!0),Object(a["f"])(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),Object(a["f"])(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var i=this.cssClassName_+"-true",r=this.cssClassName_+"-false",n=e?i:r;t.classList.remove(i),t.classList.remove(r),t.classList.add(n)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push(Object(s["listen"])(document,c(),this.handleFullScreenChange_,this))},e}(n["default"]);function l(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function f(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function d(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function p(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():d(t)}function g(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var v=u,y=i("0acf"),m=i("5f62"),_="projection",b="coordinateFormat",w=function(t){function e(e){var i=e||{},r=document.createElement("div");r.className=void 0!==i.className?i.className:"ol-mouse-position",t.call(this,{element:r,render:i.render||x,target:i.target}),Object(s["listen"])(this,Object(y["getChangeEventType"])(_),this.handleProjectionChanged_,this),i.coordinateFormat&&this.setCoordinateFormat(i.coordinateFormat),i.projection&&this.setProjection(i.projection),this.undefinedHTML_=void 0!==i.undefinedHTML?i.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=r.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(b)},e.prototype.getProjection=function(){return this.get(_)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},e.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var i=e.getViewport();this.listenerKeys.push(Object(s["listen"])(i,h["default"].MOUSEMOVE,this.handleMouseMove,this),Object(s["listen"])(i,h["default"].TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(s["listen"])(i,h["default"].MOUSEOUT,this.handleMouseOut,this),Object(s["listen"])(i,h["default"].TOUCHEND,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set(b,t)},e.prototype.setProjection=function(t){this.set(_,Object(m["get"])(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();this.transform_=i?Object(m["getTransformFromProjections"])(this.mapProjection_,i):m["identityTransform"]}var r=this.getMap(),n=r.getCoordinateFromPixel(t);if(n){this.transform_(n,n);var o=this.getCoordinateFormat();e=o?o(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(n["default"]);function x(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}var S=w,E=i("501f"),O=i("8efc"),T=i("41ec"),C=i("615e"),A="units",L={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},R=[1,2,5],M=function(t){function e(e){var i=e||{},r=void 0!==i.className?i.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:i.render||I,target:i.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=r+"-inner",this.element.className=r+" "+o["e"],this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==i.minWidth?i.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(s["listen"])(this,Object(y["getChangeEventType"])(A),this.handleUnitsChanged_,this),this.setUnits(i.units||L.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(A)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(A,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,i=t.projection,r=this.getUnits(),n=r==L.DEGREES?C["b"].DEGREES:C["b"].METERS,o=Object(m["getPointResolution"])(i,t.resolution,e,n);i.getUnits()!=C["b"].DEGREES&&i.getMetersPerUnit()&&n==C["b"].METERS&&(o*=i.getMetersPerUnit());var a=this.minWidth_*o,s="";if(r==L.DEGREES){var h=m["METERS_PER_UNIT"][C["b"].DEGREES];i.getUnits()==C["b"].DEGREES?a*=h:o/=h,a<h/60?(s="",o*=3600):a<h?(s="",o*=60):s=""}else r==L.IMPERIAL?a<.9144?(s="in",o/=.0254):a<1609.344?(s="ft",o/=.3048):(s="mi",o/=1609.344):r==L.NAUTICAL?(o/=1852,s="nm"):r==L.METRIC?a<.001?(s="m",o*=1e6):a<1?(s="mm",o*=1e3):a<1e3?s="m":(s="km",o/=1e3):r==L.US?a<.9144?(s="in",o*=39.37):a<1609.344?(s="ft",o/=.30480061):(s="mi",o/=1609.3472):Object(T["a"])(!1,33);var c,u,l=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));while(1){if(c=R[(l%3+3)%3]*Math.pow(10,Math.floor(l/3)),u=Math.round(c/o),isNaN(u))return this.element.style.display="none",void(this.renderedVisible_=!1);if(u>=this.minWidth_)break;++l}var f=c+" "+s;this.renderedHTML_!=f&&(this.innerElement_.innerHTML=f,this.renderedHTML_=f),this.renderedWidth_!=u&&(this.innerElement_.style.width=u+"px",this.renderedWidth_=u),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(n["default"]);function I(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var P=M,N=i("70e4"),F=i("3881"),k=i("4641"),j=i("64c1"),D=i("136c"),G=i("e289"),B=i("40f5"),U={VERTICAL:0,HORIZONTAL:1},z=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||q}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=U.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==i.duration?i.duration:200;var r=void 0!==i.className?i.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=r+"-thumb "+o["e"];var a=this.element;a.className=r+" "+o["e"]+" "+o["b"],a.appendChild(n),this.dragger_=new B["a"](a),Object(s["listen"])(this.dragger_,G["a"].POINTERDOWN,this.handleDraggerStart_,this),Object(s["listen"])(this.dragger_,G["a"].POINTERMOVE,this.handleDraggerDrag_,this),Object(s["listen"])(this.dragger_,G["a"].POINTERUP,this.handleDraggerEnd_,this),Object(s["listen"])(a,h["default"].CLICK,this.handleContainerClick_,this),Object(s["listen"])(n,h["default"].CLICK,j["b"])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.dragger_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e={width:t.offsetWidth,height:t.offsetHeight},i=t.firstElementChild,r=getComputedStyle(i),n=i.offsetWidth+parseFloat(r["marginRight"])+parseFloat(r["marginLeft"]),o=i.offsetHeight+parseFloat(r["marginTop"])+parseFloat(r["marginBottom"]);this.thumbSize_=[n,o],e.width>e.height?(this.direction_=U.HORIZONTAL,this.widthLimit_=e.width-n):(this.direction_=U.VERTICAL,this.heightLimit_=e.height-o),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(i);e.animate({resolution:e.constrainResolution(r),duration:this.duration_,easing:k["easeOut"]})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(F["a"].INTERACTING,1),this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var e=this.handleDraggerDrag_,i=this.handleDraggerEnd_;this.dragListenerKeys_.push(Object(s["listen"])(document,h["default"].MOUSEMOVE,e,this),Object(s["listen"])(document,G["a"].POINTERMOVE,e,this),Object(s["listen"])(document,h["default"].MOUSEUP,i,this),Object(s["listen"])(document,G["a"].POINTERUP,i,this))}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,i=t.clientX-this.previousX_+parseFloat(e.style.left),r=t.clientY-this.previousY_+parseFloat(e.style.top),n=this.getRelativePosition_(i,r);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.setHint(F["a"].INTERACTING,-1),e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:k["easeOut"]}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(s["unlistenByKey"]),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==U.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===U.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,Object(D["a"])(i,0,1)},e.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return 1-e(t)},e}(n["default"]);function q(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}var V=z,H=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target}),this.extent=i.extent?i.extent:null;var r=void 0!==i.className?i.className:"ol-zoom-extent",n=void 0!==i.label?i.label:"E",a=void 0!==i.tipLabel?i.tipLabel:"Fit to extent",c=document.createElement("button");c.setAttribute("type","button"),c.title=a,c.appendChild("string"===typeof n?document.createTextNode(n):n),Object(s["listen"])(c,h["default"].CLICK,this.handleClick_,this);var u=r+" "+o["e"]+" "+o["b"],l=this.element;l.className=u,l.appendChild(c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap(),e=t.getView(),i=this.extent?this.extent:e.getProjection().getExtent();e.fit(i)},e}(n["default"]),W=H,Y=i("867a")},"5c7d":function(t,e,i){"use strict";var r=i("ba4e"),n=function(t){function e(e){var i=e||{};t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,atlasManager:i.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(r["a"]);e["a"]=n},"5cb8":function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},"5d88":function(t,e,i){"use strict";var r=i("255a"),n=i("6739"),o=i("3b77"),a=i("7634"),s=i("c3fa"),h=i("e603"),c=i("b460"),u=i("4b13"),l=i("d8b2"),f=i("58d1"),d=i("482b"),p=i("993b").f,g=i("0f26").f,v=i("8d29"),y=i("617f"),m="ArrayBuffer",_="DataView",b="prototype",w="Wrong length!",x="Wrong index!",S=r[m],E=r[_],O=r.Math,T=r.RangeError,C=r.Infinity,A=S,L=O.abs,R=O.pow,M=O.floor,I=O.log,P=O.LN2,N="buffer",F="byteLength",k="byteOffset",j=n?"_b":N,D=n?"_l":F,G=n?"_o":k;function B(t,e,i){var r,n,o,a=new Array(i),s=8*i-e-1,h=(1<<s)-1,c=h>>1,u=23===e?R(2,-24)-R(2,-77):0,l=0,f=t<0||0===t&&1/t<0?1:0;for(t=L(t),t!=t||t===C?(n=t!=t?1:0,r=h):(r=M(I(t)/P),t*(o=R(2,-r))<1&&(r--,o*=2),t+=r+c>=1?u/o:u*R(2,1-c),t*o>=2&&(r++,o/=2),r+c>=h?(n=0,r=h):r+c>=1?(n=(t*o-1)*R(2,e),r+=c):(n=t*R(2,c-1)*R(2,e),r=0));e>=8;a[l++]=255&n,n/=256,e-=8);for(r=r<<e|n,s+=e;s>0;a[l++]=255&r,r/=256,s-=8);return a[--l]|=128*f,a}function U(t,e,i){var r,n=8*i-e-1,o=(1<<n)-1,a=o>>1,s=n-7,h=i-1,c=t[h--],u=127&c;for(c>>=7;s>0;u=256*u+t[h],h--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=e;s>0;r=256*r+t[h],h--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:c?-C:C;r+=R(2,e),u-=a}return(c?-1:1)*r*R(2,u-e)}function z(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function q(t){return[255&t]}function V(t){return[255&t,t>>8&255]}function H(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return B(t,52,8)}function Y(t){return B(t,23,4)}function K(t,e,i){g(t[b],e,{get:function(){return this[i]}})}function X(t,e,i,r){var n=+i,o=d(n);if(o+e>t[D])throw T(x);var a=t[j]._b,s=o+t[G],h=a.slice(s,s+e);return r?h:h.reverse()}function Z(t,e,i,r,n,o){var a=+i,s=d(a);if(s+e>t[D])throw T(x);for(var h=t[j]._b,c=s+t[G],u=r(+n),l=0;l<e;l++)h[c+l]=u[o?l:e-l-1]}if(a.ABV){if(!c((function(){S(1)}))||!c((function(){new S(-1)}))||c((function(){return new S,new S(1.5),new S(NaN),S.name!=m}))){S=function(t){return u(this,S),new A(d(t))};for(var $,J=S[b]=A[b],Q=p(A),tt=0;Q.length>tt;)($=Q[tt++])in S||s(S,$,A[$]);o||(J.constructor=S)}var et=new E(new S(2)),it=E[b].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||h(E[b],{setInt8:function(t,e){it.call(this,t,e<<24>>24)},setUint8:function(t,e){it.call(this,t,e<<24>>24)}},!0)}else S=function(t){u(this,S,m);var e=d(t);this._b=v.call(new Array(e),0),this[D]=e},E=function(t,e,i){u(this,E,_),u(t,S,_);var r=t[D],n=l(e);if(n<0||n>r)throw T("Wrong offset!");if(i=void 0===i?r-n:f(i),n+i>r)throw T(w);this[j]=t,this[G]=n,this[D]=i},n&&(K(S,F,"_l"),K(E,N,"_b"),K(E,F,"_l"),K(E,k,"_o")),h(E[b],{getInt8:function(t){return X(this,1,t)[0]<<24>>24},getUint8:function(t){return X(this,1,t)[0]},getInt16:function(t){var e=X(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=X(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return z(X(this,4,t,arguments[1]))},getUint32:function(t){return z(X(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return U(X(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return U(X(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Z(this,1,t,q,e)},setUint8:function(t,e){Z(this,1,t,q,e)},setInt16:function(t,e){Z(this,2,t,V,e,arguments[2])},setUint16:function(t,e){Z(this,2,t,V,e,arguments[2])},setInt32:function(t,e){Z(this,4,t,H,e,arguments[2])},setUint32:function(t,e){Z(this,4,t,H,e,arguments[2])},setFloat32:function(t,e){Z(this,4,t,Y,e,arguments[2])},setFloat64:function(t,e){Z(this,8,t,W,e,arguments[2])}});y(S,m),y(E,_),s(E[b],a.VIEW,!0),e[m]=S,e[_]=E},"5d8e":function(t,e,i){"use strict";(function(e){var r=i("6843"),n=i("76dc"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function s(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=i("d99f")),t}var h={adapter:s(),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){h.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){h.headers[t]=r.merge(o)})),t.exports=h}).call(this,i("4362"))},"5db0":function(t,e,i){(function(t,r){var n;/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */(function(){var o=i("3c35"),a={function:!0,object:!0},s=a[typeof e]&&e&&!e.nodeType&&e,h=a[typeof window]&&window||this,c=s&&a[typeof t]&&t&&!t.nodeType&&"object"==typeof r&&r;function u(t,e){t||(t=h.Object()),e||(e=h.Object());var i=t.Number||h.Number,r=t.String||h.String,n=t.Object||h.Object,o=t.Date||h.Date,s=t.SyntaxError||h.SyntaxError,c=t.TypeError||h.TypeError,l=t.Math||h.Math,f=t.JSON||h.JSON;"object"==typeof f&&f&&(e.stringify=f.stringify,e.parse=f.parse);var d,p=n.prototype,g=p.toString,v=p.hasOwnProperty;function y(t,e){try{t()}catch(i){e&&e()}}var m=new o(-0xc782b5b800cec);function _(t){if(null!=_[t])return _[t];var n;if("bug-string-char-index"==t)n="a"!="a"[0];else if("json"==t)n=_("json-stringify")&&_("date-serialization")&&_("json-parse");else if("date-serialization"==t){if(n=_("json-stringify")&&m,n){var a=e.stringify;y((function(){n='"-271821-04-20T00:00:00.000Z"'==a(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new o(-1))}))}}else{var s,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){a=e.stringify;var c="function"==typeof a;c&&((s=function(){return 1}).toJSON=s,y((function(){c="0"===a(0)&&"0"===a(new i)&&'""'==a(new r)&&a(g)===d&&a(d)===d&&a()===d&&"1"===a(s)&&"[1]"==a([s])&&"[null]"==a([d])&&"null"==a(null)&&"[null,null,null]"==a([d,g,null])&&a({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==h&&"1"===a(null,s)&&"[\n 1,\n 2\n]"==a([1,2],null,1)}),(function(){c=!1}))),n=c}if("json-parse"==t){var u,l=e.parse;"function"==typeof l&&y((function(){0!==l("0")||l(!1)||(s=l(h),u=5==s["a"].length&&1===s["a"][0],u&&(y((function(){u=!l('"\t"')})),u&&y((function(){u=1!==l("01")})),u&&y((function(){u=1!==l("1.")}))))}),(function(){u=!1})),n=u}}return _[t]=!!n}if(y((function(){m=-109252==m.getUTCFullYear()&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()})),_["bug-string-char-index"]=_["date-serialization"]=_["json"]=_["json-stringify"]=_["json-parse"]=null,!_("json")){var b="[object Function]",w="[object Date]",x="[object Number]",S="[object String]",E="[object Array]",O="[object Boolean]",T=_("bug-string-char-index"),C=function(t,e){var i,r,n,o=0;for(n in(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i,r)v.call(r,n)&&o++;return i=r=null,o?C=function(t,e){var i,r,n=g.call(t)==b;for(i in t)n&&"prototype"==i||!v.call(t,i)||(r="constructor"===i)||e(i);(r||v.call(t,i="constructor"))&&e(i)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],C=function(t,e){var i,n,o=g.call(t)==b,s=!o&&"function"!=typeof t.constructor&&a[typeof t.hasOwnProperty]&&t.hasOwnProperty||v;for(i in t)o&&"prototype"==i||!s.call(t,i)||e(i);for(n=r.length;i=r[--n];)s.call(t,i)&&e(i)}),C(t,e)};if(!_("json-stringify")&&!_("date-serialization")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},L="000000",R=function(t,e){return(L+(e||0)).slice(-t)},M=function(t){var e,i,r,n,o,a,s,h,c;if(m)e=function(t){i=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDate(),a=t.getUTCHours(),s=t.getUTCMinutes(),h=t.getUTCSeconds(),c=t.getUTCMilliseconds()};else{var u=l.floor,f=[0,31,59,90,120,151,181,212,243,273,304,334],d=function(t,e){return f[e]+365*(t-1970)+u((t-1969+(e=+(e>1)))/4)-u((t-1901+e)/100)+u((t-1601+e)/400)};e=function(t){for(n=u(t/864e5),i=u(n/365.2425)+1970-1;d(i+1,0)<=n;i++);for(r=u((n-d(i,0))/30.42);d(i,r+1)<=n;r++);n=1+n-d(i,r),o=(t%864e5+864e5)%864e5,a=u(o/36e5)%24,s=u(o/6e4)%60,h=u(o/1e3)%60,c=o%1e3}}return M=function(t){return t>-1/0&&t<1/0?(e(t),t=(i<=0||i>=1e4?(i<0?"-":"+")+R(6,i<0?-i:i):R(4,i))+"-"+R(2,r+1)+"-"+R(2,n)+"T"+R(2,a)+":"+R(2,s)+":"+R(2,h)+"."+R(3,c)+"Z",i=r=n=a=s=h=c=null):t=null,t},M(t)};if(_("json-stringify")&&!_("date-serialization")){function I(t){return M(this)}var P=e.stringify;e.stringify=function(t,e,i){var r=o.prototype.toJSON;o.prototype.toJSON=I;var n=P(t,e,i);return o.prototype.toJSON=r,n}}else{var N="\\u00",F=function(t){var e=t.charCodeAt(0),i=A[e];return i||N+R(2,e.toString(16))},k=/[\x00-\x1f\x22\x5c]/g,j=function(t){return k.lastIndex=0,'"'+(k.test(t)?t.replace(k,F):t)+'"'},D=function(t,e,i,r,n,a,s){var h,u,l,f,p,v,m,_,b;if(y((function(){h=e[t]})),"object"==typeof h&&h&&(h.getUTCFullYear&&g.call(h)==w&&h.toJSON===o.prototype.toJSON?h=M(h):"function"==typeof h.toJSON&&(h=h.toJSON(t))),i&&(h=i.call(e,t,h)),h==d)return h===d?h:"null";switch(u=typeof h,"object"==u&&(l=g.call(h)),l||u){case"boolean":case O:return""+h;case"number":case x:return h>-1/0&&h<1/0?""+h:"null";case"string":case S:return j(""+h)}if("object"==typeof h){for(m=s.length;m--;)if(s[m]===h)throw c();if(s.push(h),f=[],_=a,a+=n,l==E){for(v=0,m=h.length;v<m;v++)p=D(v,h,i,r,n,a,s),f.push(p===d?"null":p);b=f.length?n?"[\n"+a+f.join(",\n"+a)+"\n"+_+"]":"["+f.join(",")+"]":"[]"}else C(r||h,(function(t){var e=D(t,h,i,r,n,a,s);e!==d&&f.push(j(t)+":"+(n?" ":"")+e)})),b=f.length?n?"{\n"+a+f.join(",\n"+a)+"\n"+_+"}":"{"+f.join(",")+"}":"{}";return s.pop(),b}};e.stringify=function(t,e,i){var r,n,o,s;if(a[typeof e]&&e)if(s=g.call(e),s==b)n=e;else if(s==E){o={};for(var h,c=0,u=e.length;c<u;)h=e[c++],s=g.call(h),"[object String]"!=s&&"[object Number]"!=s||(o[h]=1)}if(i)if(s=g.call(i),s==x){if((i-=i%1)>0)for(i>10&&(i=10),r="";r.length<i;)r+=" "}else s==S&&(r=i.length<=10?i:i.slice(0,10));return D("",(h={},h[""]=t,h),n,o,r,"",[])}}}if(!_("json-parse")){var G,B,U=r.fromCharCode,z={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},q=function(){throw G=B=null,s()},V=function(){var t,e,i,r,n,o=B,a=o.length;while(G<a)switch(n=o.charCodeAt(G),n){case 9:case 10:case 13:case 32:G++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=T?o.charAt(G):o[G],G++,t;case 34:for(t="@",G++;G<a;)if(n=o.charCodeAt(G),n<32)q();else if(92==n)switch(n=o.charCodeAt(++G),n){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=z[n],G++;break;case 117:for(e=++G,i=G+4;G<i;G++)n=o.charCodeAt(G),n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70||q();t+=U("0x"+o.slice(e,G));break;default:q()}else{if(34==n)break;n=o.charCodeAt(G),e=G;while(n>=32&&92!=n&&34!=n)n=o.charCodeAt(++G);t+=o.slice(e,G)}if(34==o.charCodeAt(G))return G++,t;q();default:if(e=G,45==n&&(r=!0,n=o.charCodeAt(++G)),n>=48&&n<=57){for(48==n&&(n=o.charCodeAt(G+1),n>=48&&n<=57)&&q(),r=!1;G<a&&(n=o.charCodeAt(G),n>=48&&n<=57);G++);if(46==o.charCodeAt(G)){for(i=++G;i<a;i++)if(n=o.charCodeAt(i),n<48||n>57)break;i==G&&q(),G=i}if(n=o.charCodeAt(G),101==n||69==n){for(n=o.charCodeAt(++G),43!=n&&45!=n||G++,i=G;i<a;i++)if(n=o.charCodeAt(i),n<48||n>57)break;i==G&&q(),G=i}return+o.slice(e,G)}r&&q();var s=o.slice(G,G+4);if("true"==s)return G+=4,!0;if("fals"==s&&101==o.charCodeAt(G+4))return G+=5,!1;if("null"==s)return G+=4,null;q()}return"$"},H=function(t){var e,i;if("$"==t&&q(),"string"==typeof t){if("@"==(T?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];;){if(t=V(),"]"==t)break;i?","==t?(t=V(),"]"==t&&q()):q():i=!0,","==t&&q(),e.push(H(t))}return e}if("{"==t){for(e={};;){if(t=V(),"}"==t)break;i?","==t?(t=V(),"}"==t&&q()):q():i=!0,","!=t&&"string"==typeof t&&"@"==(T?t.charAt(0):t[0])&&":"==V()||q(),e[t.slice(1)]=H(V())}return e}q()}return t},W=function(t,e,i){var r=Y(t,e,i);r===d?delete t[e]:t[e]=r},Y=function(t,e,i){var r,n=t[e];if("object"==typeof n&&n)if(g.call(n)==E)for(r=n.length;r--;)W(g,C,n,r,i);else C(n,(function(t){W(n,t,i)}));return i.call(t,e,n)};e.parse=function(t,e){var i,r;return G=0,B=""+t,i=H(V()),"$"!=V()&&q(),G=B=null,e&&g.call(e)==b?Y((r={},r[""]=i,r),"",e):i}}}return e.runInContext=u,e}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(h=c),s&&!o)u(h,s);else{var l=h.JSON,f=h.JSON3,d=!1,p=u(h,h.JSON3={noConflict:function(){return d||(d=!0,h.JSON=l,h.JSON3=f,l=f=null),p}});h.JSON={parse:p.parse,stringify:p.stringify}}o&&(n=function(){return p}.call(e,i,e,t),void 0===n||(t.exports=n))}).call(this)}).call(this,i("62e4")(t),i("c8ba"))},"5e6a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("c33e"),n=i("c8a3"),o=i("213f"),a=i("bd30"),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=1,c=2,u=3,l=0,f=["fill","stroke","shadowColor"],d=function(){function t(t,e,i,r,n,o,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=n-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=u,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;this.state===c?this.setTime(t):this.state===u&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=h,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),p=function(){function t(i){var o,h,c=this,u=i.node,f=u._id,p=i.easing||e.Easings.Linear,g=!!i.yoyo;o="undefined"===typeof i.duration?.3:0===i.duration?.001:i.duration,this.node=u,this._id=l++;var v=u.getLayer()||(u instanceof a.Konva["Stage"]?u.getLayers():null);for(h in v||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation((function(){c.tween.onEnterFrame()}),v),this.tween=new d(h,(function(t){c._tweenFunc(t)}),p,0,1,1e3*o,g),this._addListeners(),t.attrs[f]||(t.attrs[f]={}),t.attrs[f][this._id]||(t.attrs[f][this._id]={}),t.tweens[f]||(t.tweens[f]={}),i)void 0===s[h]&&this._addAttr(h,i[h]);this.reset(),this.onFinish=i.onFinish,this.onReset=i.onReset,this.onUpdate=i.onUpdate}return t.prototype._addAttr=function(e,i){var n,o,a,s,h,c,u,l,d=this.node,p=d._id;if(a=t.tweens[p][e],a&&delete t.attrs[p][a][e],n=d.getAttr(e),r.Util._isArray(i))if(o=[],h=Math.max(i.length,n.length),"points"===e&&i.length!==n.length&&(i.length>n.length?(u=n,n=r.Util._prepareArrayForTween(n,i,d.closed())):(c=i,i=r.Util._prepareArrayForTween(i,n,d.closed()))),0===e.indexOf("fill"))for(s=0;s<h;s++)if(s%2===0)o.push(i[s]-n[s]);else{var g=r.Util.colorToRGBA(n[s]);l=r.Util.colorToRGBA(i[s]),n[s]=g,o.push({r:l.r-g.r,g:l.g-g.g,b:l.b-g.b,a:l.a-g.a})}else for(s=0;s<h;s++)o.push(i[s]-n[s]);else-1!==f.indexOf(e)?(n=r.Util.colorToRGBA(n),l=r.Util.colorToRGBA(i),o={r:l.r-n.r,g:l.g-n.g,b:l.b-n.b,a:l.a-n.a}):o=i-n;t.attrs[p][this._id][e]={start:n,diff:o,end:i,trueEnd:c,trueStart:u},t.tweens[p][e]=this._id},t.prototype._tweenFunc=function(e){var i,n,o,a,s,h,c,u,l=this.node,d=t.attrs[l._id][this._id];for(i in d){if(n=d[i],o=n.start,a=n.diff,u=n.end,r.Util._isArray(o))if(s=[],c=Math.max(o.length,u.length),0===i.indexOf("fill"))for(h=0;h<c;h++)h%2===0?s.push((o[h]||0)+a[h]*e):s.push("rgba("+Math.round(o[h].r+a[h].r*e)+","+Math.round(o[h].g+a[h].g*e)+","+Math.round(o[h].b+a[h].b*e)+","+(o[h].a+a[h].a*e)+")");else for(h=0;h<c;h++)s.push((o[h]||0)+a[h]*e);else s=-1!==f.indexOf(i)?"rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":o+a*e;l.setAttr(i,s)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var i=e.node,r=t.attrs[i._id][e._id];r.points&&r.points.trueEnd&&i.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var i=e.node,r=t.attrs[i._id][e._id];r.points&&r.points.trueStart&&i.points(r.points.trueStart),e.onReset&&e.onReset()},this.tween.onUpdate=function(){e.onUpdate&&e.onUpdate.call(e)}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,i=this.node._id,r=this._id,n=t.tweens[i];for(e in this.pause(),n)delete t.tweens[i][e];delete t.attrs[i][r]},t.attrs={},t.tweens={},t}();e.Tween=p,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var i=new p(t);i.play()},e.Easings={BackEaseIn:function(t,e,i,r){var n=1.70158;return i*(t/=r)*t*((n+1)*t-n)+e},BackEaseOut:function(t,e,i,r){var n=1.70158;return i*((t=t/r-1)*t*((n+1)*t+n)+1)+e},BackEaseInOut:function(t,e,i,r){var n=1.70158;return(t/=r/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},ElasticEaseIn:function(t,e,i,r,n,o){var a=0;return 0===t?e:1===(t/=r)?e+i:(o||(o=.3*r),!n||n<Math.abs(i)?(n=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,i,r,n,o){var a=0;return 0===t?e:1===(t/=r)?e+i:(o||(o=.3*r),!n||n<Math.abs(i)?(n=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+i+e)},ElasticEaseInOut:function(t,e,i,r,n,o){var a=0;return 0===t?e:2===(t/=r/2)?e+i:(o||(o=r*(.3*1.5)),!n||n<Math.abs(i)?(n=i,a=o/4):a=o/(2*Math.PI)*Math.asin(i/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:n*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+i+e)},BounceEaseOut:function(t,e,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,i,r,n){return r-e.Easings.BounceEaseOut(n-t,0,r,n)+i},BounceEaseInOut:function(t,i,r,n){return t<n/2?.5*e.Easings.BounceEaseIn(2*t,0,r,n)+i:.5*e.Easings.BounceEaseOut(2*t-n,0,r,n)+.5*r+i},EaseIn:function(t,e,i,r){return i*(t/=r)*t+e},EaseOut:function(t,e,i,r){return-i*(t/=r)*(t-2)+e},EaseInOut:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,r){return i*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,i,r){return i*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,r){return i*t/r+e}}},"5e7b":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var r=42,n=256},"5e8a":function(t,e,i){"use strict";var r=i("1499"),n=i("8de70"),o=i("5338"),a=i("d1dd");function s(t){if(!n.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",n,o)}r(s,a),s.enabled=function(t){return n.enabled&&t.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,t.exports=s},"5e97":function(t,e,i){"use strict";var r=i("1499"),n=i("fbf5");function o(t){n.call(this),this.initEvent("message",!1,!1),this.data=t}r(o,n),t.exports=o},"5eee":function(t,e,i){"use strict";var r=i("d5b5"),n=i("4641"),o=i("5537"),a=i("eee0"),s=function(t){function e(e,i,r){t.call(this);var n=r||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(a["default"].CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r["a"].LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r["a"].LOADED){t.interimTile=null;break}t.getState()==r["a"].LOADING?e=t:t.getState()==r["a"].IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:Object(n["easeIn"])(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(o["a"]);e["a"]=s},"5ef7":function(t,e,i){var r=i("0d63");r(r.S,"Reflect",{ownKeys:i("1fd1")})},"5f62":function(t,e,i){"use strict";i.r(e),i.d(e,"METERS_PER_UNIT",(function(){return s["a"]})),i.d(e,"Projection",(function(){return a["a"]})),i.d(e,"cloneTransform",(function(){return T})),i.d(e,"identityTransform",(function(){return C})),i.d(e,"addProjection",(function(){return A})),i.d(e,"addProjections",(function(){return L})),i.d(e,"get",(function(){return R})),i.d(e,"getPointResolution",(function(){return M})),i.d(e,"addEquivalentProjections",(function(){return I})),i.d(e,"addEquivalentTransforms",(function(){return P})),i.d(e,"clearAllProjections",(function(){return N})),i.d(e,"createProjection",(function(){return F})),i.d(e,"createTransformFromCoordinateTransform",(function(){return k})),i.d(e,"addCoordinateTransforms",(function(){return j})),i.d(e,"fromLonLat",(function(){return D})),i.d(e,"toLonLat",(function(){return G})),i.d(e,"equivalent",(function(){return B})),i.d(e,"getTransformFromProjections",(function(){return U})),i.d(e,"getTransform",(function(){return z})),i.d(e,"transform",(function(){return q})),i.d(e,"transformExtent",(function(){return V})),i.d(e,"transformWithProjections",(function(){return H})),i.d(e,"addCommon",(function(){return W}));var r=i("6ae4"),n=i("3d22"),o=i("136c"),a=i("3ec4"),s=i("615e"),h=6378137,c=Math.PI*h,u=[-c,-c,c,c],l=[-180,-85,180,85],f=function(t){function e(e){t.call(this,{code:e,units:s["b"].METERS,extent:u,global:!0,worldExtent:l,getPointResolution:function(t,e){return t/Object(o["b"])(e[1]/h)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]),d=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function p(t,e,i){var r=t.length,n=i>1?i:2,o=e;void 0===o&&(o=n>2?t.slice():new Array(r));for(var a=c,s=0;s<r;s+=n){o[s]=a*t[s]/180;var u=h*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));u>a?u=a:u<-a&&(u=-a),o[s+1]=u}return o}function g(t,e,i){var r=t.length,n=i>1?i:2,o=e;void 0===o&&(o=n>2?t.slice():new Array(r));for(var a=0;a<r;a+=n)o[a]=180*t[a]/c,o[a+1]=360*Math.atan(Math.exp(t[a+1]/h))/Math.PI-90;return o}var v=6378137,y=[-180,-90,180,90],m=Math.PI*v/180,_=function(t){function e(e,i){t.call(this,{code:e,units:s["b"].DEGREES,extent:y,axisOrientation:i,global:!0,metersPerUnit:m,worldExtent:y})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]),b=[new _("CRS:84"),new _("EPSG:4326","neu"),new _("urn:ogc:def:crs:EPSG::4326","neu"),new _("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new _("urn:ogc:def:crs:OGC:1.3:CRS84"),new _("urn:ogc:def:crs:OGC:2:84"),new _("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new _("urn:x-ogc:def:crs:EPSG:4326","neu")],w={};function x(){w={}}function S(t){return w[t]||null}function E(t,e){w[t]=e}var O=i("50a9");function T(t,e,i){var r;if(void 0!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];r=e}else r=t.slice();return r}function C(t,e,i){if(void 0!==e&&t!==e){for(var r=0,n=t.length;r<n;++r)e[r]=t[r];t=e}return t}function A(t){E(t.getCode(),t),Object(O["a"])(t,t,T)}function L(t){t.forEach(A)}function R(t){return"string"===typeof t?S(t):t||null}function M(t,e,i,n){var o;t=R(t);var a=t.getPointResolutionFunc();if(a)o=a(e,i);else{var h=t.getUnits();if(h==s["b"].DEGREES&&!n||n==s["b"].DEGREES)o=e;else{var c=U(t,R("EPSG:4326")),u=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];u=c(u,u,2);var l=Object(r["getDistance"])(u.slice(0,2),u.slice(2,4)),f=Object(r["getDistance"])(u.slice(4,6),u.slice(6,8));o=(l+f)/2;var d=n?s["a"][n]:t.getMetersPerUnit();void 0!==d&&(o/=d)}}return o}function I(t){L(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Object(O["a"])(e,t,T)}))}))}function P(t,e,i,r){t.forEach((function(t){e.forEach((function(e){Object(O["a"])(t,e,i),Object(O["a"])(e,t,r)}))}))}function N(){x(),Object(O["b"])()}function F(t,e){return t?"string"===typeof t?R(t):t:R(e)}function k(t){return function(e,i,r){for(var n=e.length,o=void 0!==r?r:2,a=void 0!==i?i:new Array(n),s=0;s<n;s+=o){var h=t([e[s],e[s+1]]);a[s]=h[0],a[s+1]=h[1];for(var c=o-1;c>=2;--c)a[s+c]=e[s+c]}return a}}function j(t,e,i,r){var n=R(t),o=R(e);Object(O["a"])(n,o,k(i)),Object(O["a"])(o,n,k(r))}function D(t,e){return q(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function G(t,e){var i=q(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=i[0];return(r<-180||r>180)&&(i[0]=Object(o["d"])(r+180,360)-180),i}function B(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return i;var r=U(t,e);return r===T&&i}function U(t,e){var i=t.getCode(),r=e.getCode(),n=Object(O["c"])(i,r);return n||(n=C),n}function z(t,e){var i=R(t),r=R(e);return U(i,r)}function q(t,e,i){var r=z(e,i);return r(t,void 0,t.length)}function V(t,e,i){var r=z(e,i);return Object(n["applyTransform"])(t,r)}function H(t,e,i){var r=U(e,i);return r(t)}function W(){I(d),I(b),P(b,d,p,g)}W()},"5f6b":function(t,e,i){"use strict";function r(t,e){var i=document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function n(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10),e}function o(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10),e}function a(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function h(t){while(t.lastChild)t.removeChild(t.lastChild)}i.d(e,"a",(function(){return r})),i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"f",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"d",(function(){return h}))},"5fde":function(t,e,i){var r=i("0d63");r(r.P,"Array",{copyWithin:i("c491")}),i("7671")("copyWithin")},"608d":function(t,e,i){"use strict";var r=i("0d63"),n=i("9e2d")(0),o=i("60a1")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return n(this,t,arguments[1])}})},"60a1":function(t,e,i){"use strict";var r=i("b460");t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"60a3":function(t,e,i){"use strict";i.d(e,"a",(function(){return S})),i.d(e,"c",(function(){return r["a"]})),i.d(e,"b",(function(){return T}));var r=i("2b0e");
/**
  * vue-class-component v7.2.2
  * (c) 2015-present Evan You
  * @license MIT
  */function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){return s(t)||h(t)||c()}function s(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function l(t,e){f(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(i){f(t.prototype,e.prototype,i)})),Object.getOwnPropertyNames(e).forEach((function(i){f(t,e,i)}))}function f(t,e,i){var r=i?Reflect.getOwnMetadataKeys(e,i):Reflect.getOwnMetadataKeys(e);r.forEach((function(r){var n=i?Reflect.getOwnMetadata(r,e,i):Reflect.getOwnMetadata(r,e);i?Reflect.defineMetadata(r,n,t,i):Reflect.defineMetadata(r,n,t)}))}var d={__proto__:[]},p=d instanceof Array;function g(t){return function(e,i,r){var n="function"===typeof e?e:e.constructor;n.__decorators__||(n.__decorators__=[]),"number"!==typeof r&&(r=void 0),n.__decorators__.push((function(e){return t(e,i,r)}))}}function v(t){var e=n(t);return null==t||"object"!==e&&"function"!==e}function y(t,e){var i=e.prototype._init;e.prototype._init=function(){var e=this,i=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||i.push(r);i.forEach((function(i){"_"!==i.charAt(0)&&Object.defineProperty(e,i,{get:function(){return t[i]},set:function(e){t[i]=e},configurable:!0})}))};var r=new e;e.prototype._init=i;var n={};return Object.keys(r).forEach((function(t){void 0!==r[t]&&(n[t]=r[t])})),n}var m=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var i=t.prototype;Object.getOwnPropertyNames(i).forEach((function(t){if("constructor"!==t)if(m.indexOf(t)>-1)e[t]=i[t];else{var r=Object.getOwnPropertyDescriptor(i,t);void 0!==r.value?"function"===typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return o({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return y(this,t)}});var n=t.__decorators__;n&&(n.forEach((function(t){return t(e)})),delete t.__decorators__);var a=Object.getPrototypeOf(t.prototype),s=a instanceof r["a"]?a.constructor:r["a"],h=s.extend(e);return w(h,t,s),u()&&l(h,t),h}var b={prototype:!0,arguments:!0,callee:!0,caller:!0};function w(t,e,i){Object.getOwnPropertyNames(e).forEach((function(r){if(!b[r]){var n=Object.getOwnPropertyDescriptor(t,r);if(!n||n.configurable){var o=Object.getOwnPropertyDescriptor(e,r);if(!p){if("cid"===r)return;var a=Object.getOwnPropertyDescriptor(i,r);if(!v(o.value)&&a&&a.value===o.value)return}0,Object.defineProperty(t,r,o)}}}))}function x(t){return"function"===typeof t?_(t):function(e){return _(e,t)}}x.registerHooks=function(t){m.push.apply(m,a(t))};var S=x;var E="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function O(t,e,i){E&&(Array.isArray(t)||"function"===typeof t||"undefined"!==typeof t.type||(t.type=Reflect.getMetadata("design:type",e,i)))}function T(t){return void 0===t&&(t={}),function(e,i){O(t,e,i),g((function(e,i){(e.props||(e.props={}))[i]=t}))(e,i)}}},"60fa":function(t,e,i){"use strict";var r=i("af33"),n=i("154b"),o=i("617f"),a={};i("c3fa")(a,i("9336")("iterator"),(function(){return this})),t.exports=function(t,e,i){t.prototype=r(a,{next:n(1,i)}),o(t,e+" Iterator")}},6157:function(t,e,i){"use strict";i.r(e),i.d(e,"altKeyOnly",(function(){return s})),i.d(e,"altShiftKeysOnly",(function(){return h})),i.d(e,"focus",(function(){return c})),i.d(e,"always",(function(){return u})),i.d(e,"click",(function(){return l})),i.d(e,"mouseActionButton",(function(){return f})),i.d(e,"never",(function(){return d})),i.d(e,"pointerMove",(function(){return p})),i.d(e,"singleClick",(function(){return g})),i.d(e,"doubleClick",(function(){return v})),i.d(e,"noModifierKeys",(function(){return y})),i.d(e,"platformModifierKeyOnly",(function(){return m})),i.d(e,"shiftKeyOnly",(function(){return _})),i.d(e,"targetNotEditable",(function(){return b})),i.d(e,"mouseOnly",(function(){return w})),i.d(e,"primaryAction",(function(){return x}));var r=i("2524"),n=i("41ec"),o=i("0ead"),a=i("9734"),s=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},h=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},c=function(t){return t.target.getTargetElement()===document.activeElement},u=o["b"],l=function(t){return t.type==r["default"].CLICK},f=function(t){var e=t.originalEvent;return 0==e.button&&!(a["j"]&&a["e"]&&e.ctrlKey)},d=o["a"],p=function(t){return"pointermove"==t.type},g=function(t){return t.type==r["default"].SINGLECLICK},v=function(t){return t.type==r["default"].DBLCLICK},y=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},m=function(t){var e=t.originalEvent;return!e.altKey&&(a["e"]?e.metaKey:e.ctrlKey)&&!e.shiftKey},_=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},b=function(t){var e=t.originalEvent.target,i=e.tagName;return"INPUT"!==i&&"SELECT"!==i&&"TEXTAREA"!==i},w=function(t){var e=t.pointerEvent;return Object(n["a"])(void 0!==e,56),"mouse"==e.pointerType},x=function(t){var e=t.pointerEvent;return Object(n["a"])(void 0!==e,56),e.isPrimary&&0===e.button}},"615e":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},n={};n[r.DEGREES]=2*Math.PI*6370997/360,n[r.FEET]=.3048,n[r.METERS]=1,n[r.USFEET]=1200/3937,e["b"]=r},"617f":function(t,e,i){var r=i("0f26").f,n=i("7e33"),o=i("9336")("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},6299:function(t,e,i){var r=i("42ee");t.exports=function(t,e,i,n){try{return n?e(r(i)[0],i[1]):e(i)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6317:function(t,e,i){var r=i("4691");t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},6331:function(t,e,i){var r=i("cdf9"),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},6397:function(t,e,i){var r=i("0d63"),n=i("a06f"),o=i("b460");t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],a={};a[t]=e(i),r(r.S+r.F*o((function(){i(1)})),"Object",a)}},"63b3":function(t,e,i){"use strict";var r=i("0d63"),n=i("c7a3");r(r.S+r.F*i("b460")((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);while(e>t)n(i,t,arguments[t++]);return i.length=e,i}})},"63c5":function(t,e,i){"use strict";var r=i("d401"),n=i("0d63"),o=i("37ff"),a=i("6299"),s=i("3d01"),h=i("58d1"),c=i("c7a3"),u=i("575f");n(n.S+n.F*!i("3b9e")((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,n,l,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,y=0,m=u(f);if(v&&(g=r(g,p>2?arguments[2]:void 0,2)),void 0==m||d==Array&&s(m))for(e=h(f.length),i=new d(e);e>y;y++)c(i,y,v?g(f[y],y):f[y]);else for(l=m.call(f),i=new d;!(n=l.next()).done;y++)c(i,y,v?a(l,g,[n.value,y],!0):n.value);return i.length=y,i}})},6434:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"646b":function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6476:function(t,e,i){"use strict";i.d(e,"c",(function(){return h})),i.d(e,"b",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return d})),i.d(e,"i",(function(){return p})),i.d(e,"k",(function(){return g})),i.d(e,"l",(function(){return v})),i.d(e,"m",(function(){return y})),i.d(e,"j",(function(){return m})),i.d(e,"h",(function(){return _})),i.d(e,"o",(function(){return b})),i.d(e,"a",(function(){return E})),i.d(e,"p",(function(){return T})),i.d(e,"q",(function(){return C})),i.d(e,"s",(function(){return A})),i.d(e,"r",(function(){return L})),i.d(e,"n",(function(){return R}));var r=i("e9ee"),n=i("5f6b"),o=i("acdf"),a=i("a1ad"),s=i("d6b2"),h="10px sans-serif",c=[0,0,0,1],u="round",l=[],f=0,d="round",p=10,g=[0,0,0,1],v="center",y="middle",m=[0,0,0,0],_=1,b=new a["a"],w={},x=null,S={},E=function(){var t,e,i=60,n=w,a="32px ",s=["monospace","serif"],h=s.length,c="wmytzilWMYTZIL@#/&?$%10";function u(t){for(var i=O(),r=100;r<=700;r+=300){for(var n=r+" ",o=!0,u=0;u<h;++u){var l=s[u];if(i.font=n+a+l,e=i.measureText(c).width,t!=l){i.font=n+a+t+","+l;var f=i.measureText(c).width;o=o&&f!=e}}if(o)return!0}return!1}function l(){var e=!0;for(var r in n)n[r]<i&&(u(r)?(n[r]=i,Object(o["b"])(S),x=null,b.clear()):(++n[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Object(r["g"])(e);if(o)for(var a=0,s=o.length;a<s;++a){var h=o[a];h in n||(n[h]=i,u(h)||(n[h]=0,void 0===t&&(t=setInterval(l,32))))}}}();function O(){return x||(x=Object(n["a"])(1,1)),x}var T=function(){var t,e=S;return function(i){var r=e[i];return void 0==r&&(t||(t=document.createElement("span"),t.textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=i,document.body.appendChild(t),r=e[i]=t.offsetHeight,document.body.removeChild(t)),r}}();function C(t,e){var i=O();return t!=i.font&&(i.font=t),i.measureText(e).width}function A(t,e,i,r){0!==e&&(t.translate(i,r),t.rotate(e),t.translate(-i,-r))}var L=Object(s["c"])();function R(t,e,i,r,n,o,a,s,h,c,u){var l;1!=i&&(l=t.globalAlpha,t.globalAlpha=l*i),e&&t.setTransform.apply(t,e),t.drawImage(r,n,o,a,s,h,c,a*u,s*u),l&&(t.globalAlpha=l),e&&t.setTransform.apply(t,L)}},"64c1":function(t,e,i){"use strict";i.d(e,"b",(function(){return n}));var r=function(t){this.propagationStopped,this.type=t,this.target=null};function n(t){t.stopPropagation()}r.prototype.preventDefault=function(){this.propagationStopped=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},e["a"]=r},6529:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("ce2c"),s=i("a0a2"),h=i("bd30"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var i=2*Math.PI,r=this.points(),n=r,o=0!==this.tension()&&r.length>4;o&&(n=this.getTensionPoints());var a,s,h=r.length;o?(a=r[h-2]-(n[n.length-2]+n[n.length-4])/2,s=r[h-1]-(n[n.length-1]+n[n.length-3])/2):(a=r[h-2]-r[h-4],s=r[h-1]-r[h-3]);var c=(Math.atan2(s,a)+i)%i,u=this.pointerLength(),l=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[h-2],r[h-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-u,l/2),e.lineTo(-u,-l/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),o?(a=(n[0]+n[2])/2-r[0],s=(n[1]+n[3])/2-r[1]):(a=r[2]-r[0],s=r[3]-r[1]),e.rotate((Math.atan2(-s,-a)+i)%i),e.moveTo(0,0),e.lineTo(-u,l/2),e.lineTo(-u,-l/2),e.closePath(),e.restore());var f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),i=this.pointerWidth()/2;return{x:e.x-i,y:e.y-i,width:e.width+2*i,height:e.height+2*i}},e}(a.Line);e.Arrow=c,c.prototype.className="Arrow",h._registerNode(c),o.Factory.addGetterSetter(c,"pointerLength",10,s.getNumberValidator()),o.Factory.addGetterSetter(c,"pointerWidth",10,s.getNumberValidator()),o.Factory.addGetterSetter(c,"pointerAtBeginning",!1),n.Collection.mapMethods(c)},6536:function(t,e,i){"use strict";(function(e){e.crypto&&e.crypto.getRandomValues?t.exports.randomBytes=function(t){var i=new Uint8Array(t);return e.crypto.getRandomValues(i),i}:t.exports.randomBytes=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=Math.floor(256*Math.random());return e}}).call(this,i("c8ba"))},6585:function(t,e,i){"use strict";var r=i("e860"),n={};n[i("9336")("toStringTag")]="z",n+""!="[object z]"&&i("bd47")(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},"65e5":function(t,e,i){"use strict";var r=i("bc48"),n=i("cdf9"),o=i("58d1"),a=i("d401"),s=i("9336")("isConcatSpreadable");function h(t,e,i,c,u,l,f,d){var p,g,v=u,y=0,m=!!f&&a(f,d,3);while(y<c){if(y in i){if(p=m?m(i[y],y,e):i[y],g=!1,n(p)&&(g=p[s],g=void 0!==g?!!g:r(p)),g&&l>0)v=h(t,e,p,o(p.length),v,l-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=p}v++}y++}return v}t.exports=h},6646:function(t,e,i){"use strict";function r(t,e,i){var r,o,a=i||n,s=0,h=t.length,c=!1;while(s<h)r=s+(h-s>>1),o=+a(t[r],e),o<0?s=r+1:(h=r,c=!o);return c?s:~s}function n(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function a(t,e,i){var r,n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;if(i>0){for(r=1;r<n;++r)if(t[r]<e)return r-1}else if(i<0){for(r=1;r<n;++r)if(t[r]<=e)return r}else for(r=1;r<n;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return n-1}function s(t,e,i){while(e<i){var r=t[e];t[e]=t[i],t[i]=r,++e,--i}}function h(t,e){for(var i=Array.isArray(e)?e:[e],r=i.length,n=0;n<r;n++)t[t.length]=i[n]}function c(t,e){var i=t.indexOf(e),r=i>-1;return r&&t.splice(i,1),r}function u(t,e){for(var i,r=t.length>>>0,n=0;n<r;n++)if(i=t[n],e(i,n,t))return i;return null}function l(t,e){var i=t.length;if(i!==e.length)return!1;for(var r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0}function f(t,e){var i,r=t.length,n=Array(t.length);for(i=0;i<r;i++)n[i]={index:i,value:t[i]};for(n.sort((function(t,i){return e(t.value,i.value)||t.index-i.index})),i=0;i<t.length;i++)t[i]=n[i].value}function d(t,e){var i,r=!t.every((function(r,n){return i=n,!e(r,n,t)}));return r?i:-1}function p(t,e,i){var r=e||n;return t.every((function(e,n){if(0===n)return!0;var o=r(t[n-1],e);return!(o>0||i&&0===o)}))}i.d(e,"a",(function(){return r})),i.d(e,"i",(function(){return n})),i.d(e,"f",(function(){return o})),i.d(e,"h",(function(){return a})),i.d(e,"k",(function(){return s})),i.d(e,"c",(function(){return h})),i.d(e,"j",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"b",(function(){return l})),i.d(e,"l",(function(){return f})),i.d(e,"e",(function(){return d})),i.d(e,"g",(function(){return p}))},"664d":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("a0a2"),h=i("bd30"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(a.Shape);e.Circle=c,c.prototype._centroid=!0,c.prototype.className="Circle",c.prototype._attrsAffectingSize=["radius"],h._registerNode(c),o.Factory.addGetterSetter(c,"radius",0,s.getNumberValidator()),n.Collection.mapMethods(c)},"665e":function(t,e,i){"use strict";i("c7c1")("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},"665e8":function(t,e,i){"use strict";var r=i("0d63"),n=i("9e2d")(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("7671")(o)},"66a9":function(t,e,i){"use strict";var r=i("29cb"),n=i("388d"),o="WeakSet";i("aef6")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(n(this,o),t,!0)}},r,!1,!0)},"672b":function(t,e,i){i("17b2")("asyncIterator")},6739:function(t,e,i){t.exports=!i("b460")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},6744:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},67444:function(t,e,i){var r=i("0d63");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},6760:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("bd30"),h=i("a0a2"),c=i("bd30");function u(t){return Array.from(t)}e.stringToArray=u;var l,f="auto",d="center",p="justify",g="Change.konva",v="2d",y="-",m="left",_="text",b="Text",w="top",x="bottom",S="middle",E="normal",O="px ",T=" ",C="right",A="word",L="char",R="none",M="",I=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],P=I.length;function N(t){return t.split(",").map((function(t){t=t.trim();var e=t.indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!i&&(t='"'+t+'"'),t})).join(", ")}function F(){return l||(l=n.Util.createCanvasElement().getContext(v),l)}function k(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function j(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function D(t){return t=t||{},t.fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}var G=function(t){function e(e){var i=t.call(this,D(e))||this;i._partialTextX=0,i._partialTextY=0;for(var r=0;r<P;r++)i.on(I[r]+g,i._setTextData);return i._setTextData(),i}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.textArr,i=e.length;if(this.text()){var r,n=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,s=this.verticalAlign(),h=0,c=this.align(),l=this.getWidth(),f=this.letterSpacing(),g=this.fill(),v=this.textDecoration(),y=-1!==v.indexOf("underline"),_=-1!==v.indexOf("line-through"),b=0,w=(b=a/2,0),E=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",S),t.setAttr("textAlign",m),s===S?h=(this.getHeight()-i*a-2*n)/2:s===x&&(h=this.getHeight()-i*a-2*n),t.translate(n,h+n),r=0;r<i;r++){w=0,E=0;var O,T,A,L=e[r],R=L.text,M=L.width,I=r!==i-1;if(t.save(),c===C?w+=l-M-2*n:c===d&&(w+=(l-M-2*n)/2),y&&(t.save(),t.beginPath(),t.moveTo(w,b+E+Math.round(o/2)),O=R.split(" ").length-1,T=0===O,A=c===p&&I&&!T?l-2*n:M,t.lineTo(w+Math.round(A),b+E+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=g,t.stroke(),t.restore()),_&&(t.save(),t.beginPath(),t.moveTo(w,b+E),O=R.split(" ").length-1,T=0===O,A=c===p&&I&&!T?l-2*n:M,t.lineTo(w+Math.round(A),b+E),t.lineWidth=o/15,t.strokeStyle=g,t.stroke(),t.restore()),0!==f||c===p){O=R.split(" ").length-1;for(var P=u(R),N=0;N<P.length;N++){var F=P[N];" "===F&&r!==i-1&&c===p&&(w+=(l-2*n-M)/O),this._partialTextX=w,this._partialTextY=b+E,this._partialText=F,t.fillStrokeShape(this),w+=this.measureSize(F).width+f}}else this._partialTextX=w,this._partialTextY=b+E,this._partialText=R,t.fillStrokeShape(this);t.restore(),i>1&&(b+=a)}}},e.prototype._hitFunc=function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=n.Util._isString(t)?t:null===t||void 0===t?"":t+"";return this._setAttr(_,e),this},e.prototype.getWidth=function(){var t=this.attrs.width===f||void 0===this.attrs.width;return t?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){var t=this.attrs.height===f||void 0===this.attrs.height;return t?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,i=F(),r=this.fontSize();return i.save(),i.font=this._getContextFont(),e=i.measureText(t),i.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return s.Konva.UA.isIE?this.fontStyle()+T+this.fontSize()+O+this.fontFamily():this.fontStyle()+T+this.fontVariant()+T+(this.fontSize()+O)+N(this.fontFamily())},e.prototype._addTextLine=function(t){this.align()===p&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),i=t.length;return F().measureText(t).width+(i?e*(i-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),i=0,r=this.lineHeight()*e,n=this.attrs.width,o=this.attrs.height,a=n!==f&&void 0!==n,s=o!==f&&void 0!==o,h=this.padding(),c=n-2*h,u=o-2*h,l=0,d=this.wrap(),p=d!==R,g=d!==L&&p,v=this.ellipsis();this.textArr=[],F().font=this._getContextFont();for(var m=v?this._getTextWidth(M):0,_=0,b=t.length;_<b;++_){var w=t[_],x=this._getTextWidth(w);if(a&&x>c)while(w.length>0){var S=0,E=w.length,O="",C=0;while(S<E){var A=S+E>>>1,I=w.slice(0,A+1),P=this._getTextWidth(I)+m;P<=c?(S=A+1,O=I+(v?M:""),C=P):E=A}if(!O)break;if(g){var N,k=w[O.length],j=k===T||k===y;N=j&&C<=c?O.length:Math.max(O.lastIndexOf(T),O.lastIndexOf(y))+1,N>0&&(S=N,O=O.slice(0,S),C=this._getTextWidth(O))}if(O=O.trimRight(),this._addTextLine(O),i=Math.max(i,C),l+=r,!p||s&&l+r>u){var D=this.textArr[this.textArr.length-1];if(D&&v){var G=this._getTextWidth(D.text+M)<c;G||(D.text=D.text.slice(0,D.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(D.text+M)}break}if(w=w.slice(S),w=w.trimLeft(),w.length>0&&(x=this._getTextWidth(w),x<=c)){this._addTextLine(w),l+=r,i=Math.max(i,x);break}}else this._addTextLine(w),l+=r,i=Math.max(i,x);if(s&&l+r>u)break}this.textHeight=e,this.textWidth=i},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(a.Shape);e.Text=G,G.prototype._fillFunc=k,G.prototype._strokeFunc=j,G.prototype.className=b,G.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],c._registerNode(G),o.Factory.overWriteSetter(G,"width",h.getNumberOrAutoValidator()),o.Factory.overWriteSetter(G,"height",h.getNumberOrAutoValidator()),o.Factory.addGetterSetter(G,"fontFamily","Arial"),o.Factory.addGetterSetter(G,"fontSize",12,h.getNumberValidator()),o.Factory.addGetterSetter(G,"fontStyle",E),o.Factory.addGetterSetter(G,"fontVariant",E),o.Factory.addGetterSetter(G,"padding",0,h.getNumberValidator()),o.Factory.addGetterSetter(G,"align",m),o.Factory.addGetterSetter(G,"verticalAlign",w),o.Factory.addGetterSetter(G,"lineHeight",1,h.getNumberValidator()),o.Factory.addGetterSetter(G,"wrap",A),o.Factory.addGetterSetter(G,"ellipsis",!1,h.getBooleanValidator()),o.Factory.addGetterSetter(G,"letterSpacing",0,h.getNumberValidator()),o.Factory.addGetterSetter(G,"text","",h.getStringValidator()),o.Factory.addGetterSetter(G,"textDecoration",""),n.Collection.mapMethods(G)},"679a":function(t,e,i){var r=i("255a"),n=r.navigator;t.exports=n&&n.userAgent||""},6843:function(t,e,i){"use strict";var r=i("6f1e"),n=Object.prototype.toString;function o(t){return"[object Array]"===n.call(t)}function a(t){return"undefined"===typeof t}function s(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function h(t){return"[object ArrayBuffer]"===n.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function l(t){return"string"===typeof t}function f(t){return"number"===typeof t}function d(t){return null!==t&&"object"===typeof t}function p(t){return"[object Date]"===n.call(t)}function g(t){return"[object File]"===n.call(t)}function v(t){return"[object Blob]"===n.call(t)}function y(t){return"[object Function]"===n.call(t)}function m(t){return d(t)&&y(t.pipe)}function _(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function b(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function S(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=S(t[i],e):t[i]=e}for(var i=0,r=arguments.length;i<r;i++)x(arguments[i],e);return t}function E(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=E(t[i],e):t[i]="object"===typeof e?E({},e):e}for(var i=0,r=arguments.length;i<r;i++)x(arguments[i],e);return t}function O(t,e,i){return x(e,(function(e,n){t[n]=i&&"function"===typeof e?r(e,i):e})),t}t.exports={isArray:o,isArrayBuffer:h,isBuffer:s,isFormData:c,isArrayBufferView:u,isString:l,isNumber:f,isObject:d,isUndefined:a,isDate:p,isFile:g,isBlob:v,isFunction:y,isStream:m,isURLSearchParams:_,isStandardBrowserEnv:w,forEach:x,merge:S,deepMerge:E,extend:O,trim:b}},"684a":function(t,e,i){"use strict";i.r(e),i.d(e,"createRegularPolygon",(function(){return P})),i.d(e,"createBox",(function(){return N}));var r=i("eee0"),n=i("a045"),o=i("2524"),a=i("587a"),s=i("0acf"),h=i("4882"),c=i("a273"),u=i("64c1"),l=i("6157"),f=i("3d22"),d=i("0ead"),p=i("cc6d"),g=i("cc7a"),v=i("8d45"),y=i("f920"),m=i("d5b7"),_=i("5317"),b=i("1b85"),w=i("9eff"),x=i("c484"),S=i("346e"),E=i("1714"),O=i("2cfb"),T=i("dc15"),C=i("8a21"),A={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},L={DRAWSTART:"drawstart",DRAWEND:"drawend"},R=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u["a"]),M=function(t){function e(e){var i=e;i.stopDown||(i.stopDown=d["a"]),t.call(this,i),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=F(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===A.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:d["b"];var r=e.geometryFunction;if(!r)if(this.type_===g["default"].CIRCLE)r=function(t,e){var i=e||new p["a"]([NaN,NaN]),r=Object(h["i"])(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(r)),i};else{var n,o=this.mode_;o===A.POINT?n=w["a"]:o===A.LINE_STRING?n=v["a"]:o===A.POLYGON&&(n=x["default"]),r=function(t,e){var i=e;return i?o===A.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new n(t),i}}this.geometryFunction_=r,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new O["default"]({source:new T["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:I(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:l["noModifierKeys"],this.freehandCondition_,e.freehand?this.freehandCondition_=l["always"]:this.freehandCondition_=e.freehandCondition?e.freehandCondition:l["shiftKeyOnly"],Object(c["listen"])(this,Object(s["getChangeEventType"])(E["a"].ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===r["default"].CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==A.POINT&&this.freehandCondition_(e);var i=e.type===o["default"].POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===o["default"].POINTERDRAG){var a=Date.now();a-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,i=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===o["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),n=!1):this.freehand_&&e.type===o["default"].POINTERDOWN?n=!1:i?(n=e.type===o["default"].POINTERMOVE,n&&this.freehand_?n=this.handlePointerMove_(e):(e.pointerEvent.pointerType==b["b"]||e.type===o["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===o["default"].DBLCLICK&&(n=!1),t.prototype.handleEvent.call(this,e)&&n},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a["a"](o["default"].POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===A.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===A.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,r=e[0]-i[0],n=e[1]-i[1],o=r*r+n*n;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,r=[this.finishCoordinate_];if(this.mode_===A.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===A.POLYGON){var n=this.sketchCoords_;i=n[0].length>this.minPoints_,r=[n[0][0],n[0][n[0].length-2]]}if(i)for(var o=t.map,a=0,s=r.length;a<s;a++){var h=r[a],c=o.getPixelFromCoordinate(h),u=t.pixel,l=u[0]-c[0],f=u[1]-c[1],d=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(l*l+f*f)<=d,e){this.finishCoordinate_=h;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();if(this.sketchPoint_){var i=this.sketchPoint_.getGeometry();i.setCoordinates(e)}else this.sketchPoint_=new n["default"](new w["a"](e)),this.updateSketchFeatures_()},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===A.POINT?this.sketchCoords_=e.slice():this.mode_===A.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new n["default"](new v["a"](this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new n["default"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new R(L.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,i,r,o=t.coordinate,a=this.sketchFeature_.getGeometry();if(this.mode_===A.POINT?i=this.sketchCoords_:this.mode_===A.POLYGON?(e=this.sketchCoords_[0],i=e[e.length-1],this.atFinish_(t)&&(o=this.finishCoordinate_.slice())):(e=this.sketchCoords_,i=e[e.length-1]),i[0]=o[0],i[1]=o[1],this.geometryFunction_(this.sketchCoords_,a),this.sketchPoint_){var s=this.sketchPoint_.getGeometry();s.setCoordinates(o)}if(a.getType()==g["default"].POLYGON&&this.mode_!==A.POLYGON){this.sketchLine_||(this.sketchLine_=new n["default"]);var h=a.getLinearRing(0);r=this.sketchLine_.getGeometry(),r?(r.setFlatCoordinates(h.getLayout(),h.getFlatCoordinates()),r.changed()):(r=new v["a"](h.getFlatCoordinates(),h.getLayout()),this.sketchLine_.setGeometry(r))}else this.sketchLineCoords_&&(r=this.sketchLine_.getGeometry(),r.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,i,r=t.coordinate,n=this.sketchFeature_.getGeometry();this.mode_===A.LINE_STRING?(this.finishCoordinate_=r.slice(),i=this.sketchCoords_,i.length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(r.slice()),this.geometryFunction_(i,n)):this.mode_===A.POLYGON&&(i=this.sketchCoords_[0],i.length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(r.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,n)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e,i=this.sketchFeature_.getGeometry();this.mode_===A.LINE_STRING?(t=this.sketchCoords_,t.splice(-2,1),this.geometryFunction_(t,i),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===A.POLYGON&&(t=this.sketchCoords_[0],t.splice(-2,1),e=this.sketchLine_.getGeometry(),e.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,i)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===A.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===A.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===g["default"].MULTI_POINT?t.setGeometry(new m["a"]([e])):this.type_===g["default"].MULTI_LINE_STRING?t.setGeometry(new y["a"]([e])):this.type_===g["default"].MULTI_POLYGON&&t.setGeometry(new _["a"]([e])),this.dispatchEvent(new R(L.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry(),i=e;this.sketchFeature_=t,this.sketchCoords_=i.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new R(L.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(S["b"]);function I(){var t=Object(C["b"])();return function(e,i){return t[e.getGeometry().getType()]}}function P(t,e){return function(i,r){var n=i[0],o=i[1],a=Math.sqrt(Object(h["i"])(n,o)),s=r||Object(x["fromCircle"])(new p["a"](n),t),c=e;if(!e){var u=o[0]-n[0],l=o[1]-n[1];c=Math.atan(l/u)-(u<0?Math.PI:0)}return Object(x["makeRegular"])(s,n,a,c),s}}function N(){return function(t,e){var i=Object(f["boundingExtent"])(t),r=[[Object(f["getBottomLeft"])(i),Object(f["getBottomRight"])(i),Object(f["getTopRight"])(i),Object(f["getTopLeft"])(i),Object(f["getBottomLeft"])(i)]],n=e;return n?n.setCoordinates(r):n=new x["default"](r),n}}function F(t){var e;return t===g["default"].POINT||t===g["default"].MULTI_POINT?e=A.POINT:t===g["default"].LINE_STRING||t===g["default"].MULTI_LINE_STRING?e=A.LINE_STRING:t===g["default"].POLYGON||t===g["default"].MULTI_POLYGON?e=A.POLYGON:t===g["default"].CIRCLE&&(e=A.CIRCLE),e}e["default"]=M},"696e":function(t,e,i){"use strict";i.r(e),i.d(e,"BingMaps",(function(){return q})),i.d(e,"CartoDB",(function(){return K})),i.d(e,"Cluster",(function(){return et})),i.d(e,"Image",(function(){return dt})),i.d(e,"ImageArcGISRest",(function(){return yt})),i.d(e,"ImageCanvas",(function(){return bt})),i.d(e,"ImageMapGuide",(function(){return St})),i.d(e,"ImageStatic",(function(){return Ot})),i.d(e,"ImageWMS",(function(){return Mt})),i.d(e,"OSM",(function(){return Nt})),i.d(e,"Raster",(function(){return te})),i.d(e,"Source",(function(){return ht["a"]})),i.d(e,"Stamen",(function(){return oe})),i.d(e,"Tile",(function(){return P["b"]})),i.d(e,"TileArcGISRest",(function(){return ce})),i.d(e,"TileDebug",(function(){return fe})),i.d(e,"TileImage",(function(){return B})),i.d(e,"TileJSON",(function(){return pe})),i.d(e,"TileWMS",(function(){return ye})),i.d(e,"UrlTile",(function(){return k})),i.d(e,"UTFGrid",(function(){return be})),i.d(e,"Vector",(function(){return Q["default"]})),i.d(e,"VectorTile",(function(){return Ee})),i.d(e,"WMTS",(function(){return Ce})),i.d(e,"XYZ",(function(){return W})),i.d(e,"Zoomify",(function(){return Ne}));var r=i("41ec"),n=i("136c"),o=i("79ff");function a(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,h,c){return s?t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,(function(){var t=-s[2]-1;return t.toString()})).replace(a,(function(){var t=s[0],i=e.getFullTileRange(t);Object(r["a"])(i,55);var n=i.getHeight()+s[2];return n.toString()})):void 0}}function s(t,e){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=a(t[n],e);return h(r)}function h(t){return 1===t.length?t[0]:function(e,i,r){if(e){var a=Object(o["e"])(e),s=Object(n["d"])(a,t.length);return t[s](e,i,r)}}}function c(t,e,i){}function u(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r,n=i[1].charCodeAt(0),o=i[2].charCodeAt(0);for(r=n;r<=o;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t),i){for(var a=parseInt(i[2],10),s=parseInt(i[1],10);s<=a;s++)e.push(t.replace(i[0],s.toString()));return e}return e.push(t),e}var l=i("3d22"),f=i("fd21");function d(t,e,i,r){var n=document.createElement("script"),o="olc_"+Object(f["c"])(e);function a(){delete window[o],n.parentNode.removeChild(n)}n.async=!0,n.src=t+(-1==t.indexOf("?")?"?":"&")+(r||"callback")+"="+o;var s=setTimeout((function(){a(),i&&i()}),1e4);window[o]=function(t){clearTimeout(s),a(),e(t)},document.getElementsByTagName("head")[0].appendChild(n)}var p=i("5f62"),g=i("a7f3"),v=i("bef6"),y=i("1346"),m=i("f7bb"),_=i("d5b5"),b=i("a273"),w=i("eee0"),x=i("5eee"),S=i("5f6b");function E(t,e,i,r){var n=Object(p["transform"])(i,e,t),o=Object(p["getPointResolution"])(e,r,i),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var h=t.getExtent();if(!h||Object(l["containsCoordinate"])(h,n)){var c=Object(p["getPointResolution"])(t,o,n)/o;isFinite(c)&&c>0&&(o/=c)}return o}function O(t,e,i,r){var n=i-t,o=r-e,a=Math.sqrt(n*n+o*o);return[Math.round(i+n/a),Math.round(r+o/a)]}function T(t,e,i,r,o,a,s,h,c,u,f){var d=Object(S["a"])(Math.round(i*t),Math.round(i*e));if(0===c.length)return d.canvas;d.scale(i,i);var p=Object(l["createEmpty"])();c.forEach((function(t,e,i){Object(l["extend"])(p,t.extent)}));var g=Object(l["getWidth"])(p),v=Object(l["getHeight"])(p),y=Object(S["a"])(Math.round(i*g/r),Math.round(i*v/r)),m=i/r;c.forEach((function(t,e,i){var r=t.extent[0]-p[0],n=-(t.extent[3]-p[3]),o=Object(l["getWidth"])(t.extent),a=Object(l["getHeight"])(t.extent);y.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,r*m,n*m,o*m,a*m)}));var _=Object(l["getTopLeft"])(s);return h.getTriangles().forEach((function(t,e,o){var s=t.source,h=t.target,c=s[0][0],u=s[0][1],l=s[1][0],f=s[1][1],g=s[2][0],v=s[2][1],m=(h[0][0]-_[0])/a,b=-(h[0][1]-_[1])/a,w=(h[1][0]-_[0])/a,x=-(h[1][1]-_[1])/a,S=(h[2][0]-_[0])/a,E=-(h[2][1]-_[1])/a,T=c,C=u;c=0,u=0,l-=T,f-=C,g-=T,v-=C;var A=[[l,f,0,0,w-m],[g,v,0,0,S-m],[0,0,l,f,x-b],[0,0,g,v,E-b]],L=Object(n["f"])(A);if(L){d.save(),d.beginPath();var R=(m+w+S)/3,M=(b+x+E)/3,I=O(R,M,m,b),P=O(R,M,w,x),N=O(R,M,S,E);d.moveTo(P[0],P[1]),d.lineTo(I[0],I[1]),d.lineTo(N[0],N[1]),d.clip(),d.transform(L[0],L[2],L[1],L[3],m,b),d.translate(p[0]-T,p[3]-C),d.scale(r/i,-r/i),d.drawImage(y.canvas,0,0),d.restore()}})),f&&(d.save(),d.strokeStyle="black",d.lineWidth=1,h.getTriangles().forEach((function(t,e,i){var r=t.target,n=(r[0][0]-_[0])/a,o=-(r[0][1]-_[1])/a,s=(r[1][0]-_[0])/a,h=-(r[1][1]-_[1])/a,c=(r[2][0]-_[0])/a,u=-(r[2][1]-_[1])/a;d.beginPath(),d.moveTo(s,h),d.lineTo(n,o),d.lineTo(c,u),d.closePath(),d.stroke()})),d.restore()),d.canvas}var C=10,A=.25,L=function(t,e,i,r,n){this.sourceProj_=t,this.targetProj_=e;var o={},a=Object(p["getTransform"])(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=n*n,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(l["getWidth"])(r)==Object(l["getWidth"])(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(l["getWidth"])(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(l["getWidth"])(this.targetProj_.getExtent()):null;var s=Object(l["getTopLeft"])(i),h=Object(l["getTopRight"])(i),c=Object(l["getBottomRight"])(i),u=Object(l["getBottomLeft"])(i),f=this.transformInv_(s),d=this.transformInv_(h),g=this.transformInv_(c),v=this.transformInv_(u);if(this.addQuad_(s,h,c,u,f,d,g,v,C),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,i){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]),r=Math.max(e[0][0],e[1][0],e[2][0]);r-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};L.prototype.addTriangle_=function(t,e,i,r,n,o){this.triangles_.push({source:[r,n,o],target:[t,e,i]})},L.prototype.addQuad_=function(t,e,i,r,o,a,s,h,c){var u=Object(l["boundingExtent"])([o,a,s,h]),f=this.sourceWorldWidth_?Object(l["getWidth"])(u)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&f>.5&&f<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=Object(l["boundingExtent"])([t,e,i,r]),y=Object(l["getWidth"])(v)/this.targetWorldWidth_;g=y>A||g}!p&&this.sourceProj_.isGlobal()&&f&&(g=f>A||g)}if(g||!this.maxSourceExtent_||Object(l["intersects"])(u,this.maxSourceExtent_)){if(!g&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(h[0])||!isFinite(h[1]))){if(!(c>0))return;g=!0}if(c>0){if(!g){var m,_=[(t[0]+i[0])/2,(t[1]+i[1])/2],b=this.transformInv_(_);if(p){var w=(Object(n["d"])(o[0],d)+Object(n["d"])(s[0],d))/2;m=w-Object(n["d"])(b[0],d)}else m=(o[0]+s[0])/2-b[0];var x=(o[1]+s[1])/2-b[1],S=m*m+x*x;g=S>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var E=[(e[0]+i[0])/2,(e[1]+i[1])/2],O=this.transformInv_(E),T=[(r[0]+t[0])/2,(r[1]+t[1])/2],C=this.transformInv_(T);this.addQuad_(t,e,E,T,o,a,O,C,c-1),this.addQuad_(T,E,i,r,C,O,s,h,c-1)}else{var L=[(t[0]+e[0])/2,(t[1]+e[1])/2],R=this.transformInv_(L),M=[(i[0]+r[0])/2,(i[1]+r[1])/2],I=this.transformInv_(M);this.addQuad_(t,L,M,r,o,R,I,h,c-1),this.addQuad_(L,e,i,M,R,a,s,I,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,r,o,s,h),this.addTriangle_(t,e,i,o,a,s)}},L.prototype.calculateSourceExtent=function(){var t=Object(l["createEmpty"])();return this.triangles_.forEach((function(e,i,r){var n=e.source;Object(l["extendCoordinate"])(t,n[0]),Object(l["extendCoordinate"])(t,n[1]),Object(l["extendCoordinate"])(t,n[2])})),t},L.prototype.getTriangles=function(){return this.triangles_};var R=L,M=function(t){function e(e,i,r,o,a,s,h,c,u,f,d){t.call(this,a,_["a"].IDLE),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=h,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=o,this.wrappedTileCoord_=s||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var p=o.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),y=this.sourceTileGrid_.getExtent(),m=g?Object(l["getIntersection"])(p,g):p;if(0!==Object(l["getArea"])(m)){var b=e.getExtent();b&&(y=y?Object(l["getIntersection"])(y,b):b);var w=o.getResolution(this.wrappedTileCoord_[0]),x=Object(l["getCenter"])(m),S=E(e,r,x,w);if(!isFinite(S)||S<=0)this.state=_["a"].EMPTY;else{var O=void 0!==f?f:v["b"];if(this.triangulation_=new R(e,r,m,y,S*O),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(S);var T=this.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(T[1]=Object(n["a"])(T[1],y[1],y[3]),T[3]=Object(n["a"])(T[3],y[1],y[3])):T=Object(l["getIntersection"])(T,y)),Object(l["getArea"])(T)){for(var C=i.getTileRangeForExtentAndZ(T,this.sourceZ_),A=C.minX;A<=C.maxX;A++)for(var L=C.minY;L<=C.maxY;L++){var M=u(this.sourceZ_,A,L,h);M&&this.sourceTiles_.push(M)}0===this.sourceTiles_.length&&(this.state=_["a"].EMPTY)}else this.state=_["a"].EMPTY}else this.state=_["a"].EMPTY}}else this.state=_["a"].EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==_["a"].LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==_["a"].LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=_["a"].ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"===typeof i?i:i[0],n="number"===typeof i?i:i[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=T(r,n,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=_["a"].LOADED}this.changed()},e.prototype.load=function(){if(this.state==_["a"].IDLE){this.state=_["a"].LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var n=e.getState();if(n==_["a"].IDLE||n==_["a"].LOADING){t++;var o=Object(b["listen"])(e,w["default"].CHANGE,(function(i){var r=e.getState();r!=_["a"].LOADED&&r!=_["a"].ERROR&&r!=_["a"].EMPTY||(Object(b["unlistenByKey"])(o),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){var r=t.getState();r==_["a"].IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(b["unlistenByKey"]),this.sourcesListenerKeys_=null},e}(x["a"]),I=M,P=i("09db"),N={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},F=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):c,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,r=Object(f["c"])(i),n=i.getState();n==_["a"].LOADING?(this.tileLoadingKeys_[r]=!0,e=N.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=n==_["a"].ERROR?N.TILELOADERROR:n==_["a"].LOADED||n==_["a"].ABORT?N.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new P["a"](e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=u(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(s(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var r=Object(o["d"])(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(P["b"]),k=F,j=i("d96e"),D=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:G,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:y["a"],this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!v["a"])return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(v["a"]){var r=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[n];o.expireCache(o==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return v["a"]&&this.getProjection()&&t&&!Object(p["equivalent"])(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(v["a"]&&this.getProjection()&&e&&!Object(p["equivalent"])(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!v["a"])return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!Object(p["equivalent"])(i,e)){var r=Object(f["c"])(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Object(j["getForProjection"])(e)),this.tileGridForProjection[r]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!v["a"])return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||Object(p["equivalent"])(i,e))return this.tileCache;var r=Object(f["c"])(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new m["a"](this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,e,i,r,n,o){var a=[t,e,i],s=this.getTileCoordForTileUrlFunction(a,n),h=s?this.tileUrlFunction(s,r,n):void 0,c=new this.tileClass(a,void 0!==h?_["a"].IDLE:_["a"].EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,Object(b["listen"])(c,w["default"].CHANGE,this.handleTileChange,this),c},e.prototype.getTile=function(t,e,i,r,n){var a=this.getProjection();if(v["a"]&&a&&n&&!Object(p["equivalent"])(a,n)){var s,h=this.getTileCacheForProjection(n),c=[t,e,i],u=Object(o["c"])(c);h.containsKey(u)&&(s=h.get(u));var l=this.getKey();if(s&&s.key==l)return s;var f=this.getTileGridForProjection(a),d=this.getTileGridForProjection(n),g=this.getTileCoordForTileUrlFunction(c,n),y=new I(a,f,n,d,c,g,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return y.key=l,s?(y.interimTile=s,y.refreshInterimChain(),h.replace(u,y)):h.set(u,y),y}return this.getTileInternal(t,e,i,r,a||n)},e.prototype.getTileInternal=function(t,e,i,r,n){var a=null,s=Object(o["d"])(t,e,i),h=this.getKey();if(this.tileCache.containsKey(s)){if(a=this.tileCache.get(s),a.key!=h){var c=a;a=this.createTile_(t,e,i,r,n,h),c.getState()==_["a"].IDLE?a.interimTile=c.interimTile:a.interimTile=c,a.refreshInterimChain(),this.tileCache.replace(s,a)}}else a=this.createTile_(t,e,i,r,n,h),this.tileCache.set(s,a);return a},e.prototype.setRenderReprojectionEdges=function(t){if(v["a"]&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(v["a"]){var i=Object(p["get"])(t);if(i){var r=Object(f["c"])(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},e}(k);function G(t,e){t.getImage().src=e}var B=D,U='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>',z=function(t){function e(e){var i=void 0!==e.hidpi&&e.hidpi;t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(p["get"])("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:g["a"].LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.hidpi_=i,this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet;var r="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;d(r,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],i=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,r=this.getProjection(),n=Object(j["extentFromProjection"])(r),a=this.hidpi_?2:1,s=e.imageWidth==e.imageHeight?e.imageWidth/a:[e.imageWidth/a,e.imageHeight/a],c=Object(j["createXYZ"])({extent:n,minZoom:e.zoomMin,maxZoom:i,tileSize:s});this.tileGrid=c;var u=this.culture_,f=this.hidpi_;if(this.tileUrlFunction=h(e.imageUrlSubdomains.map((function(t){var i=[0,0,0],r=e.imageUrl.replace("{subdomain}",t).replace("{culture}",u);return function(t,e,n){if(t){Object(o["a"])(t[0],t[1],-t[2]-1,i);var a=r;return f&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",Object(o["f"])(i))}}}))),e.imageryProviders){var d=Object(p["getTransformFromProjections"])(Object(p["get"])("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var i=[],r=t.viewState,n=this.getTileGrid(),o=n.getTileCoordForCoordAndResolution(r.center,r.resolution),a=o[0];return e.imageryProviders.map((function(e){for(var r=!1,n=e.coverageAreas,o=0,s=n.length;o<s;++o){var h=n[o];if(a>=h.zoomMin&&a<=h.zoomMax){var c=h.bbox,u=[c[1],c[0],c[3],c[2]],f=Object(l["applyTransform"])(u,d);if(Object(l["intersects"])(f,t.extent)){r=!0;break}}}r&&i.push(e.attribution)})),i.push(U),i}.bind(this))}this.setState(g["a"].READY)}else this.setState(g["a"].ERROR)},e}(B),q=z,V=i("acdf"),H=function(t){function e(e){var i=e||{},r=void 0!==i.projection?i.projection:"EPSG:3857",n=void 0!==i.tileGrid?i.tileGrid:Object(j["createXYZ"])({extent:Object(j["extentFromProjection"])(r),maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:r,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(B),W=H,Y=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,wrapX:e.wrapX}),this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},this.initializeMap_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){Object(V["a"])(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var i=new XMLHttpRequest;i.addEventListener("load",this.handleInitResponse_.bind(this,t)),i.addEventListener("error",this.handleInitError_.bind(this)),i.open("POST",e),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var i=e.target;if(!i.status||i.status>=200&&i.status<300){var r;try{r=JSON.parse(i.responseText)}catch(n){return void this.setState(g["a"].ERROR)}this.applyTemplate_(r),this.templateCache_[t]=r,this.setState(g["a"].READY)}else this.setState(g["a"].ERROR)},e.prototype.handleInitError_=function(t){this.setState(g["a"].ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(W),K=Y,X=i("a045"),Z=i("cc7a"),$=i("4882"),J=i("9eff"),Q=i("dc15"),tt=function(t){function e(e){t.call(this,{attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.features=[],this.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return Object(r["a"])(e.getType()==Z["default"].POINT,10),e},this.source=e.source,Object(b["listen"])(this.source,w["default"].CHANGE,this.refresh,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),t.prototype.refresh.call(this)},e.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=Object(l["createEmpty"])(),e=this.distance*this.resolution,i=this.source.getFeatures(),r={},n=0,o=i.length;n<o;n++){var a=i[n];if(!(Object(f["c"])(a)in r)){var s=this.geometryFunction(a);if(s){var h=s.getCoordinates();Object(l["createOrUpdateFromCoordinate"])(h,t),Object(l["buffer"])(t,e,t);var c=this.source.getFeaturesInExtent(t);c=c.filter((function(t){var e=Object(f["c"])(t);return!(e in r)&&(r[e]=!0,!0)})),this.features.push(this.createCluster(c))}}}}},e.prototype.createCluster=function(t){for(var e=[0,0],i=t.length-1;i>=0;--i){var r=this.geometryFunction(t[i]);r?Object($["a"])(e,r.getCoordinates()):t.splice(i,1)}Object($["h"])(e,1/t.length);var n=new X["default"](new J["a"](e));return n.set("features",t),n},e}(Q["default"]),et=tt,it=i("4a3a"),rt=i("6646"),nt=i("64c1"),ot=i("0ee3"),at=function(t){function e(e,i,r,n,o,a){var s=e.getExtent(),h=i.getExtent(),c=h?Object(l["getIntersection"])(r,h):r,u=Object(l["getCenter"])(c),f=E(e,i,u,n),d=v["b"],p=new R(e,i,c,s,f*d),g=p.calculateSourceExtent(),y=a(g,f,o),m=it["a"].LOADED;y&&(m=it["a"].IDLE);var _=y?y.getPixelRatio():1;t.call(this,r,n,_,m),this.targetProj_=i,this.maxSourceExtent_=s,this.triangulation_=p,this.targetResolution_=n,this.targetExtent_=r,this.sourceImage_=y,this.sourcePixelRatio_=_,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==it["a"].LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==it["a"].LOADED){var e=Object(l["getWidth"])(this.targetExtent_)/this.targetResolution_,i=Object(l["getHeight"])(this.targetExtent_)/this.targetResolution_;this.canvas_=T(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==it["a"].IDLE){this.state=it["a"].LOADING,this.changed();var t=this.sourceImage_.getState();t==it["a"].LOADED||t==it["a"].ERROR?this.reproject_():(this.sourceListenerKey_=Object(b["listen"])(this.sourceImage_,w["default"].CHANGE,(function(t){var e=this.sourceImage_.getState();e!=it["a"].LOADED&&e!=it["a"].ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){Object(b["unlistenByKey"])(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(ot["a"]),st=at,ht=i("8393"),ct={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},ut=function(t){function e(e,i){t.call(this,e),this.image=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(nt["a"]),lt=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(rt["h"])(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,i,r){var n=this.getProjection();if(v["a"]&&n&&r&&!Object(p["equivalent"])(n,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(p["equivalent"])(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&Object(l["equals"])(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new st(n,r,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,n)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return n&&(r=n),this.getImageInternal(t,e,i,r)},e.prototype.getImageInternal=function(t,e,i,r){return Object(f["b"])()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case it["a"].LOADING:this.loading=!0,this.dispatchEvent(new ut(ct.IMAGELOADSTART,e));break;case it["a"].LOADED:this.loading=!1,this.dispatchEvent(new ut(ct.IMAGELOADEND,e));break;case it["a"].ERROR:this.loading=!1,this.dispatchEvent(new ut(ct.IMAGELOADERROR,e));break;default:}},e}(ht["a"]);function ft(t,e){t.getImage().src=e}var dt=lt,pt=i("cee4");function gt(t,e){var i=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))}));var r=i.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+r}var vt=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.hidpi_=void 0===i.hidpi||i.hidpi,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:ft,this.params_=i.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){if(void 0===this.url_)return null;e=this.findNearestResolution(e),i=this.hidpi_?i:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==i&&Object(l["containsExtent"])(n.getExtent(),t))return n;var o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(V["a"])(o,this.params_),t=t.slice();var a=(t[0]+t[2])/2,s=(t[1]+t[3])/2;if(1!=this.ratio_){var h=this.ratio_*Object(l["getWidth"])(t)/2,c=this.ratio_*Object(l["getHeight"])(t)/2;t[0]=a-h,t[1]=s-c,t[2]=a+h,t[3]=s+c}var u=e/i,f=Math.ceil(Object(l["getWidth"])(t)/u),d=Math.ceil(Object(l["getHeight"])(t)/u);t[0]=a-u*f/2,t[2]=a+u*f/2,t[1]=s-u*d/2,t[3]=s+u*d/2,this.imageSize_[0]=f,this.imageSize_[1]=d;var p=this.getRequestUrl_(t,this.imageSize_,i,r,o);return this.image_=new pt["a"](t,e,i,p,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(b["listen"])(this.image_,w["default"].CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,n,o){var a=n.getCode().split(":").pop();o["SIZE"]=e[0]+","+e[1],o["BBOX"]=t.join(","),o["BBOXSR"]=a,o["IMAGESR"]=a,o["DPI"]=Math.round(90*i);var s=this.url_,h=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return h==s&&Object(r["a"])(!1,50),gt(h,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(V["a"])(this.params_,t),this.image_=null,this.changed()},e}(dt),yt=vt,mt=i("3175"),_t=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions,state:i.state}),this.canvasFunction_=i.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageInternal=function(t,e,i,r){e=this.findNearestResolution(e);var n=this.canvas_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==i&&Object(l["containsExtent"])(n.getExtent(),t))return n;t=t.slice(),Object(l["scaleFromCenter"])(t,this.ratio_);var o=Object(l["getWidth"])(t)/e,a=Object(l["getHeight"])(t)/e,s=[o*i,a*i],h=this.canvasFunction_.call(this,t,e,i,s,r);return h&&(n=new mt["a"](t,e,i,h)),this.canvas_=n,this.renderedRevision_=this.getRevision(),n},e}(dt),bt=_t,wt=function(t){function e(e){t.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:ft,this.hidpi_=void 0===e.hidpi||e.hidpi,this.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,this.ratio_=void 0!==e.ratio?e.ratio:1,this.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,this.image_=null,this.renderedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){e=this.findNearestResolution(e),i=this.hidpi_?i:1;var n=this.image_;if(n&&this.renderedRevision_==this.getRevision()&&n.getResolution()==e&&n.getPixelRatio()==i&&Object(l["containsExtent"])(n.getExtent(),t))return n;1!=this.ratio_&&(t=t.slice(),Object(l["scaleFromCenter"])(t,this.ratio_));var o=Object(l["getWidth"])(t)/e,a=Object(l["getHeight"])(t)/e,s=[o*i,a*i];if(void 0!==this.url_){var h=this.getUrl(this.url_,this.params_,t,s,r);n=new pt["a"](t,e,i,h,this.crossOrigin_,this.imageLoadFunction_),Object(b["listen"])(n,w["default"].CHANGE,this.handleImageChange,this)}else n=null;return this.image_=n,this.renderedRevision_=this.getRevision(),n},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){Object(V["a"])(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,i,r,n){var o=xt(i,r,this.metersPerUnit_,this.displayDpi_),a=Object(l["getCenter"])(i),s={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:o,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return Object(V["a"])(s,e),gt(t,s)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(dt);function xt(t,e,i,r){var n=Object(l["getWidth"])(t),o=Object(l["getHeight"])(t),a=e[0],s=e[1],h=.0254/r;return s*n>a*o?n*i/(a*h):o*i/(s*h)}var St=wt,Et=function(t){function e(e){var i=void 0!==e.crossOrigin?e.crossOrigin:null,r=void 0!==e.imageLoadFunction?e.imageLoadFunction:ft;t.call(this,{attributions:e.attributions,projection:Object(p["get"])(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image_=new pt["a"](this.imageExtent_,void 0,1,this.url_,i,r),this.imageSize_=e.imageSize?e.imageSize:null,Object(b["listen"])(this.image_,w["default"].CHANGE,this.handleImageChange,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,i,r){return Object(l["intersects"])(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==it["a"].LOADED){var i,r,n=this.image_.getExtent(),o=this.image_.getImage();this.imageSize_?(i=this.imageSize_[0],r=this.imageSize_[1]):(i=o.width,r=o.height);var a=Object(l["getHeight"])(n)/r,s=Math.ceil(Object(l["getWidth"])(n)/a);if(s!=i){var h=Object(S["a"])(s,r),c=h.canvas;h.drawImage(o,0,0,i,r,0,0,c.width,c.height),this.image_.setImage(c)}}t.prototype.handleImageChange.call(this,e)},e}(dt),Ot=Et,Tt="1.3.0",Ct=i("8c02"),At=i("7d23"),Lt=[101,101],Rt=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:ft,this.params_=i.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){if(void 0!==this.url_){var n=Object(p["get"])(i),o=this.getProjection();o&&o!==n&&(e=E(o,n,t,e),t=Object(p["transform"])(t,n,o));var a=Object(l["getForViewAndSize"])(t,e,0,Lt),s={SERVICE:"WMS",VERSION:Tt,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_["LAYERS"]};Object(V["a"])(s,this.params_,r);var h=Math.floor((t[0]-a[0])/e),c=Math.floor((a[3]-t[1])/e);return s[this.v13_?"I":"X"]=h,s[this.v13_?"J":"Y"]=c,this.getRequestUrl_(a,Lt,1,o||n,s)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var n=e/i,o=Object(l["getCenter"])(t),a=Math.ceil(Object(l["getWidth"])(t)/n),s=Math.ceil(Object(l["getHeight"])(t)/n),h=Object(l["getForViewAndSize"])(o,n,0,[a,s]),c=Math.ceil(this.ratio_*Object(l["getWidth"])(t)/n),u=Math.ceil(this.ratio_*Object(l["getHeight"])(t)/n),f=Object(l["getForViewAndSize"])(o,n,0,[c,u]),d=this.image_;if(d&&this.renderedRevision_==this.getRevision()&&d.getResolution()==e&&d.getPixelRatio()==i&&Object(l["containsExtent"])(d.getExtent(),h))return d;var p={SERVICE:"WMS",VERSION:Tt,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(V["a"])(p,this.params_),this.imageSize_[0]=Math.round(Object(l["getWidth"])(f)/n),this.imageSize_[1]=Math.round(Object(l["getHeight"])(f)/n);var g=this.getRequestUrl_(f,this.imageSize_,i,r,p);return this.image_=new pt["a"](f,e,i,g,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),Object(b["listen"])(this.image_,w["default"].CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,n,o){if(Object(r["a"])(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(o["STYLES"]=""),1!=i)switch(this.serverType_){case Ct["default"].GEOSERVER:var a=90*i+.5|0;"FORMAT_OPTIONS"in o?o["FORMAT_OPTIONS"]+=";dpi:"+a:o["FORMAT_OPTIONS"]="dpi:"+a;break;case Ct["default"].MAPSERVER:o["MAP_RESOLUTION"]=90*i;break;case Ct["default"].CARMENTA_SERVER:case Ct["default"].QGIS:o["DPI"]=90*i;break;default:Object(r["a"])(!1,8);break}o["WIDTH"]=e[0],o["HEIGHT"]=e[1];var s,h=n.getAxisOrientation();return s=this.v13_&&"ne"==h.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,o["BBOX"]=s.join(","),gt(this.url_,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){Object(V["a"])(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_["VERSION"]||Tt;this.v13_=Object(At["a"])(t,"1.3")>=0},e}(dt),Mt=Rt,It='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',Pt=function(t){function e(e){var i,r=e||{};i=void 0!==r.attributions?r.attributions:[It];var n=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",o=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:i,cacheSize:r.cacheSize,crossOrigin:n,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:o,wrapX:r.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(W),Nt=Pt,Ft=i("eefa"),kt=i("20e3"),jt=i("a6a2"),Dt=i("9418"),Gt=i("e604"),Bt=i("4b99"),Ut=i("100a"),zt=i("d6b2"),qt={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"},Vt={PIXEL:"pixel",IMAGE:"image"},Ht=function(t){function e(e,i,r){t.call(this,e),this.extent=i.extent,this.resolution=i.viewState.resolution/i.pixelRatio,this.data=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(nt["a"]),Wt=function(t){function e(e){t.call(this,{projection:null}),this.worker_=null,this.operationType_=void 0!==e.operationType?e.operationType:Vt.PIXEL,this.threads_=void 0!==e.threads?e.threads:1,this.renderers_=Zt(e.sources);for(var i=0,r=this.renderers_.length;i<r;++i)Object(b["listen"])(this.renderers_[i],w["default"].CHANGE,this.changed,this);this.tileQueue_=new Ft["a"]((function(){return 1}),this.changed.bind(this));for(var n=Xt(this.renderers_),o={},a=0,s=n.length;a<s;++a)o[Object(f["c"])(n[a].layer)]=n[a];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Object(zt["c"])(),extent:null,focus:null,index:0,layerStates:o,layerStatesArray:n,pixelRatio:1,pixelToCoordinateTransform:Object(zt["c"])(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},void 0!==e.operation&&this.setOperation(e.operation,e.lib)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setOperation=function(t,e){this.worker_=new kt["Processor"]({operation:t,imageOps:this.operationType_===Vt.IMAGE,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,i){var r=Object(V["a"])({},this.frameState_);r.viewState=Object(V["a"])({},r.viewState);var n=Object(l["getCenter"])(t);r.extent=t.slice(),r.focus=n,r.size[0]=Math.round(Object(l["getWidth"])(t)/e),r.size[1]=Math.round(Object(l["getHeight"])(t)/e),r.time=Date.now(),r.animate=!1;var o=r.viewState;return o.center=n,o.projection=i,o.resolution=e,r},e.prototype.allSourcesReady_=function(){for(var t,e=!0,i=0,r=this.renderers_.length;i<r;++i)if(t=this.renderers_[i].getLayer().getSource(),t.getState()!==g["a"].READY){e=!1;break}return e},e.prototype.getImage=function(t,e,i,r){if(!this.allSourcesReady_())return null;var n=this.updateFrameState_(t,e,r);if(this.requestedFrameState_=n,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();e===o&&Object(l["equals"])(t,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),n.tileQueue.loadMoreTiles(16,16),n.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.renderers_.length,i=new Array(e),r=0;r<e;++r){var n=Kt(this.renderers_[r],t,t.layerStatesArray[r]);if(!n)return;i[r]=n}var o={};this.dispatchEvent(new Ht(qt.BEFOREOPERATIONS,t,o)),this.worker_.process(i,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,i,r){if(!e&&i){var n=t.extent,o=t.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&Object(l["equals"])(n,this.requestedFrameState_.extent)){var a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{var s=Math.round(Object(l["getWidth"])(n)/o),h=Math.round(Object(l["getHeight"])(n)/o);a=Object(S["a"])(s,h),this.renderedImageCanvas_=new mt["a"](n,o,1,a.canvas)}a.putImageData(i,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Ht(qt.AFTEROPERATIONS,t,r))}}},e.prototype.getImageInternal=function(){return null},e}(dt),Yt=null;function Kt(t,e,i){if(!t.prepareFrame(e,i))return null;var r=e.size[0],n=e.size[1];if(Yt){var o=Yt.canvas;o.width!==r||o.height!==n?Yt=Object(S["a"])(r,n):Yt.clearRect(0,0,r,n)}else Yt=Object(S["a"])(r,n);return t.composeFrame(e,i,Yt),Yt.getImageData(0,0,r,n)}function Xt(t){return t.map((function(t){return t.getLayer().getLayerState()}))}function Zt(t){for(var e=t.length,i=new Array(e),r=0;r<e;++r)i[r]=$t(t[r]);return i}function $t(t){var e=t,i=t,r=t,n=null;return"function"===typeof e.getTile?n=Qt(e):"function"===typeof i.getImage?n=Jt(i):r.getType()===jt["a"].TILE?n=new Ut["a"](r):r.getType()!=jt["a"].IMAGE&&r.getType()!=jt["a"].VECTOR||(n=new Bt["a"](r)),n}function Jt(t){var e=new Dt["a"]({source:t});return new Bt["a"](e)}function Qt(t){var e=new Gt["a"]({source:t});return new Ut["a"](e)}var te=Wt,ee=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.',It],ie={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},re={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},ne=function(t){function e(e){var i=e.layer.indexOf("-"),r=-1==i?e.layer:e.layer.slice(0,i),n=re[r],o=ie[e.layer],a=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+o.extension;t.call(this,{attributions:ee,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=e.maxZoom?e.maxZoom:n.maxZoom,minZoom:void 0!=e.minZoom?e.minZoom:n.minZoom,opaque:o.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:a,wrapX:e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(W),oe=ne,ae=i("dbf9"),se=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:he,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.params_=i.params||{},this.tmpExtent_=Object(l["createEmpty"])(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,r,a,s){var h=this.urls;if(h){var c,u=a.getCode().split(":").pop();if(s["SIZE"]=e[0]+","+e[1],s["BBOX"]=i.join(","),s["BBOXSR"]=u,s["IMAGESR"]=u,s["DPI"]=Math.round(s["DPI"]?s["DPI"]*r:90*r),1==h.length)c=h[0];else{var l=Object(n["d"])(Object(o["e"])(t),h.length);c=h[l]}var f=c.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return gt(f,s)}},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.updateParams=function(t){Object(V["a"])(this.params_,t),this.setKey(this.getKeyForParams_())},e}(B);function he(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){var n=r.getTileCoordExtent(t,this.tmpExtent_),o=Object(ae["d"])(r.getTileSize(t[0]),this.tmpSize);1!=e&&(o=Object(ae["c"])(o,e,this.tmpSize));var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(V["a"])(a,this.params_),this.getRequestUrl_(t,o,n,e,i,a)}}var ce=se,ue=function(t){function e(e,i,r){t.call(this,e,_["a"].LOADED),this.tileSize_=i,this.text_=r,this.canvas_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=Object(S["a"])(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.text_,t[0]/2,t[1]/2),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(x["a"]),le=function(t){function e(e){t.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0===e.wrapX||e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTile=function(t,e,i){var r=Object(o["d"])(t,e,i);if(this.tileCache.containsKey(r))return this.tileCache.get(r);var n=Object(ae["d"])(this.tileGrid.getTileSize(t)),a=[t,e,i],s=this.getTileCoordForTileUrlFunction(a),h=s?this.getTileCoordForTileUrlFunction(s).toString():"",c=new ue(a,n,h);return this.tileCache.set(r,c),c},e}(P["b"]),fe=le,de=function(t){function e(e){if(t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:Object(p["get"])("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:g["a"].LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.tileJSON_=null,e.url)if(e.jsonp)d(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var i=new XMLHttpRequest;i.addEventListener("load",this.onXHRLoad_.bind(this)),i.addEventListener("error",this.onXHRError_.bind(this)),i.open("GET",e.url),i.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(r["a"])(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(r){return void this.handleTileJSONError()}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,i=Object(p["get"])("EPSG:4326"),r=this.getProjection();if(void 0!==t["bounds"]){var n=Object(p["getTransformFromProjections"])(i,r);e=Object(l["applyTransform"])(t["bounds"],n)}var o=t["minzoom"]||0,a=t["maxzoom"]||22,h=Object(j["createXYZ"])({extent:Object(j["extentFromProjection"])(r),maxZoom:a,minZoom:o});if(this.tileGrid=h,this.tileUrlFunction=s(t["tiles"],h),void 0!==t["attribution"]&&!this.getAttributions()){var c=void 0!==e?e:i.getExtent();this.setAttributions((function(e){return Object(l["intersects"])(c,e.extent)?[t["attribution"]]:null}))}this.tileJSON_=t,this.setState(g["a"].READY)},e.prototype.handleTileJSONError=function(){this.setState(g["a"].ERROR)},e}(B),pe=de,ge=function(t){function e(e){var i=e||{},r=i.params||{},n=!("TRANSPARENT"in r)||r["TRANSPARENT"];t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!n,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:ve,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.gutter_=void 0!==i.gutter?i.gutter:0,this.params_=r,this.v13_=!0,this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.tmpExtent_=Object(l["createEmpty"])(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){var n=Object(p["get"])(i),o=this.getProjection(),a=this.getTileGrid();a||(a=this.getTileGridForProjection(n));var s=a.getTileCoordForCoordAndResolution(t,e);if(!(a.getResolutions().length<=s[0])){var h=a.getResolution(s[0]),c=a.getTileCoordExtent(s,this.tmpExtent_),u=Object(ae["d"])(a.getTileSize(s[0]),this.tmpSize),f=this.gutter_;0!==f&&(u=Object(ae["a"])(u,f,this.tmpSize),c=Object(l["buffer"])(c,h*f,c)),o&&o!==n&&(h=E(o,n,t,h),c=Object(p["transformExtent"])(c,n,o),t=Object(p["transform"])(t,n,o));var d={SERVICE:"WMS",VERSION:Tt,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_["LAYERS"]};Object(V["a"])(d,this.params_,r);var g=Math.floor((t[0]-c[0])/h),v=Math.floor((c[3]-t[1])/h);return d[this.v13_?"I":"X"]=g,d[this.v13_?"J":"Y"]=v,this.getRequestUrl_(s,u,c,1,o||n,d)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,a,s,h){var c=this.urls;if(c){if(h["WIDTH"]=e[0],h["HEIGHT"]=e[1],h[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(h["STYLES"]=""),1!=a)switch(this.serverType_){case Ct["default"].GEOSERVER:var u=90*a+.5|0;"FORMAT_OPTIONS"in h?h["FORMAT_OPTIONS"]+=";dpi:"+u:h["FORMAT_OPTIONS"]="dpi:"+u;break;case Ct["default"].MAPSERVER:h["MAP_RESOLUTION"]=90*a;break;case Ct["default"].CARMENTA_SERVER:case Ct["default"].QGIS:h["DPI"]=90*a;break;default:Object(r["a"])(!1,52);break}var l,f,d=s.getAxisOrientation(),p=i;if(this.v13_&&"ne"==d.substr(0,2))l=i[0],p[0]=i[1],p[1]=l,l=i[2],p[2]=i[3],p[3]=l;if(h["BBOX"]=p.join(","),1==c.length)f=c[0];else{var g=Object(n["d"])(Object(o["e"])(t),c.length);f=c[g]}return gt(f,h)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.updateParams=function(t){Object(V["a"])(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_["VERSION"]||Tt;this.v13_=Object(At["a"])(t,"1.3")>=0},e}(B);function ve(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var n=r.getResolution(t[0]),o=r.getTileCoordExtent(t,this.tmpExtent_),a=Object(ae["d"])(r.getTileSize(t[0]),this.tmpSize),s=this.gutter_;0!==s&&(a=Object(ae["a"])(a,s,this.tmpSize),o=Object(l["buffer"])(o,n*s,o)),1!=e&&(a=Object(ae["c"])(a,e,this.tmpSize));var h={SERVICE:"WMS",VERSION:Tt,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(V["a"])(h,this.params_),this.getRequestUrl_(t,a,o,e,i,h)}}var ye=ge,me=function(t){function e(e,i,r,n,o,a){t.call(this,e,i),this.src_=r,this.extent_=n,this.preemptive_=o,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),i=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),r=this.grid_[Math.floor((1-i)*this.grid_.length)];if("string"!==typeof r)return null;var n=r.charCodeAt(Math.floor(e*r.length));n>=93&&n--,n>=35&&n--,n-=32;var o=null;if(n in this.keys_){var a=this.keys_[n];o=this.data_&&a in this.data_?this.data_[a]:a}return o},e.prototype.forDataAtCoordinate=function(t,e,i,r){this.state==_["a"].IDLE&&!0===r?(Object(b["listenOnce"])(this,w["default"].CHANGE,(function(r){e.call(i,this.getData(t))}),this),this.loadInternal_()):!0===r?setTimeout(function(){e.call(i,this.getData(t))}.bind(this),0):e.call(i,this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=_["a"].ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t["grid"],this.keys_=t["keys"],this.data_=t["data"],this.state=_["a"].EMPTY,this.changed()},e.prototype.loadInternal_=function(){if(this.state==_["a"].IDLE)if(this.state=_["a"].LOADING,this.jsonp_)d(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(r){return void this.handleError_()}this.handleLoad_(i)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_&&this.loadInternal_()},e}(x["a"]),_e=function(t){function e(e){if(t.call(this,{projection:Object(p["get"])("EPSG:3857"),state:g["a"].LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=c,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)d(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var i=new XMLHttpRequest;i.addEventListener("load",this.onXHRLoad_.bind(this)),i.addEventListener("error",this.onXHRError_.bind(this)),i.open("GET",e.url),i.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):Object(r["a"])(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(r){return void this.handleTileJSONError()}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,i,r){if(this.tileGrid){var n=this.tileGrid.getTileCoordForCoordAndResolution(t,e),o=this.getTile(n[0],n[1],n[2],1,this.getProjection());o.forDataAtCoordinate(t,i,null,r)}else!0===r?setTimeout((function(){i(null)}),0):i(null)},e.prototype.handleTileJSONError=function(){this.setState(g["a"].ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,i=Object(p["get"])("EPSG:4326"),r=this.getProjection();if(void 0!==t["bounds"]){var n=Object(p["getTransformFromProjections"])(i,r);e=Object(l["applyTransform"])(t["bounds"],n)}var o=t["minzoom"]||0,a=t["maxzoom"]||22,h=Object(j["createXYZ"])({extent:Object(j["extentFromProjection"])(r),maxZoom:a,minZoom:o});this.tileGrid=h,this.template_=t["template"];var c=t["grids"];if(c){if(this.tileUrlFunction_=s(c,h),void 0!==t["attribution"]){var u=void 0!==e?e:i.getExtent();this.setAttributions((function(e){return Object(l["intersects"])(u,e.extent)?[t["attribution"]]:null}))}this.setState(g["a"].READY)}else this.setState(g["a"].ERROR)},e.prototype.getTile=function(t,e,i,r,n){var a=Object(o["d"])(t,e,i);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var s=[t,e,i],h=this.getTileCoordForTileUrlFunction(s,n),c=this.tileUrlFunction_(h,r,n),u=new me(s,void 0!==c?_["a"].IDLE:_["a"].EMPTY,void 0!==c?c:"",this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(a,u),u},e.prototype.useTile=function(t,e,i){var r=Object(o["d"])(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(P["b"]),be=_e,we=i("f780"),xe=i("546e"),Se=function(t){function e(e){var i=e.projection||"EPSG:3857",r=e.extent||Object(j["extentFromProjection"])(i),n=e.tileGrid||Object(j["createXYZ"])({extent:r,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});t.call(this,{attributions:e.attributions,cacheSize:void 0!==e.cacheSize?e.cacheSize:128,opaque:!1,projection:i,state:e.state,tileGrid:n,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:we["b"],tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.format_=e.format?e.format:null,this.sourceTiles_={},this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:xe["a"],this.tileGrids_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},e.prototype.getTile=function(t,e,i,r,n){var a=Object(o["d"])(t,e,i);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var s=[t,e,i],h=this.getTileCoordForTileUrlFunction(s,n),c=new we["a"](s,null!==h?_["a"].IDLE:_["a"].EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,h,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(n),this.sourceTiles_,r,n,this.tileClass,this.handleTileChange.bind(this),s[0]);return this.tileCache.set(a,c),c},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),i=this.tileGrids_[e];if(!i){var r=this.tileGrid;i=this.tileGrids_[e]=Object(j["createForProjection"])(t,void 0,r?r.getTileSize(r.getMinZoom()):void 0)}return i},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),n=Object(ae["d"])(r.getTileSize(t),this.tmpSize);return[Math.round(n[0]*e),Math.round(n[1]*e)]},e}(k),Ee=Se,Oe={KVP:"KVP",REST:"REST"},Te=(i("f95f"),function(t){function e(e){var i=void 0!==e.requestEncoding?e.requestEncoding:Oe.KVP,r=e.tileGrid,n=e.urls;void 0===n&&void 0!==e.url&&(n=u(e.url)),t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:c,urls:n,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=i,this.setKey(this.getKeyForDimensions_()),n&&n.length>0&&(this.tileUrlFunction=h(n.map(Ae.bind(this))))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(h(t.map(Ae.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},e.prototype.updateDimensions=function(t){Object(V["a"])(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(B)),Ce=Te;function Ae(t){var e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Oe.KVP&&Object(V["a"])(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Oe.KVP?gt(t,i):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in i?i[e.toLowerCase()]:t}));var r=this.tileGrid,n=this.dimensions_;return function(i,o,a){if(i){var s={TileMatrix:r.getMatrixId(i[0]),TileCol:i[1],TileRow:-i[2]-1};Object(V["a"])(s,n);var h=t;return h=e==Oe.KVP?gt(h,s):h.replace(/\{(\w+?)\}/g,(function(t,e){return s[e]})),h}}}var Le=i("5e7b"),Re=i("e71d"),Me={DEFAULT:"default",TRUNCATED:"truncated"},Ie=function(t){function e(e,i,r,n,o,a,s){t.call(this,i,r,n,o,a,s),this.zoomifyImage_=null,this.tileSize_=Object(ae["d"])(e.getTileSize(i[0]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==_["a"].LOADED){var i=this.tileSize_;if(e.width==i[0]&&e.height==i[1])return this.zoomifyImage_=e,e;var r=Object(S["a"])(i[0],i[1]);return r.drawImage(e,0,0),this.zoomifyImage_=r.canvas,r.canvas}return e},e}(y["a"]),Pe=function(t){function e(e){var i=e||{},n=i.size,o=void 0!==i.tierSizeCalculation?i.tierSizeCalculation:Me.DEFAULT,a=n[0],s=n[1],c=i.extent||[0,-n[1],n[0],0],f=[],d=i.tileSize||Le["b"],p=d;switch(o){case Me.DEFAULT:while(a>p||s>p)f.push([Math.ceil(a/p),Math.ceil(s/p)]),p+=p;break;case Me.TRUNCATED:var g=a,v=s;while(g>p||v>p)f.push([Math.ceil(g/p),Math.ceil(v/p)]),g>>=1,v>>=1;break;default:Object(r["a"])(!1,53);break}f.push([1,1]),f.reverse();for(var y=[1],m=[0],_=1,b=f.length;_<b;_++)y.push(1<<_),m.push(f[_-1][0]*f[_-1][1]+m[_-1]);y.reverse();var w=new Re["default"]({tileSize:d,extent:c,origin:Object(l["getTopLeft"])(c),resolutions:y}),x=i.url;x&&-1==x.indexOf("{TileGroup}")&&-1==x.indexOf("{tileIndex}")&&(x+="{TileGroup}/{z}-{x}-{y}.jpg");var S=u(x);function E(t){return function(e,i,r){if(e){var n=e[0],o=e[1],a=-e[2]-1,s=o+a*f[n][0],h=w.getTileSize(n),c=Array.isArray(h)?h[0]:h,u=(s+m[n])/c|0,l={z:n,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+u};return t.replace(/\{(\w+?)\}/g,(function(t,e){return l[e]}))}}}var O=h(S.map(E)),T=Ie.bind(null,w);t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:T,tileGrid:w,tileUrlFunction:O,transition:i.transition})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(B),Ne=Pe},"69ce":function(t,e,i){t.exports=!i("a32c")&&!i("6434")((function(){return 7!=Object.defineProperty(i("3bb3")("div"),"a",{get:function(){return 7}}).a}))},"6a35":function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"6ae4":function(t,e,i){"use strict";i.r(e),i.d(e,"DEFAULT_RADIUS",(function(){return o})),i.d(e,"getDistance",(function(){return a})),i.d(e,"getLength",(function(){return h})),i.d(e,"getArea",(function(){return u})),i.d(e,"offset",(function(){return l}));var r=i("136c"),n=i("cc7a"),o=6371008.8;function a(t,e,i){var n=i||o,a=Object(r["j"])(t[1]),s=Object(r["j"])(e[1]),h=(s-a)/2,c=Object(r["j"])(e[0]-t[0])/2,u=Math.sin(h)*Math.sin(h)+Math.sin(c)*Math.sin(c)*Math.cos(a)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function s(t,e){for(var i=0,r=0,n=t.length;r<n-1;++r)i+=a(t[r],t[r+1],e);return i}function h(t,e){var i=e||{},r=i.radius||o,a=i.projection||"EPSG:3857",c=t.getType();c!==n["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(a,"EPSG:4326"));var u,l,f,d,p,g,v=0;switch(c){case n["default"].POINT:case n["default"].MULTI_POINT:break;case n["default"].LINE_STRING:case n["default"].LINEAR_RING:u=t.getCoordinates(),v=s(u,r);break;case n["default"].MULTI_LINE_STRING:case n["default"].POLYGON:for(u=t.getCoordinates(),f=0,d=u.length;f<d;++f)v+=s(u[f],r);break;case n["default"].MULTI_POLYGON:for(u=t.getCoordinates(),f=0,d=u.length;f<d;++f)for(l=u[f],p=0,g=l.length;p<g;++p)v+=s(l[p],r);break;case n["default"].GEOMETRY_COLLECTION:var y=t.getGeometries();for(f=0,d=y.length;f<d;++f)v+=h(y[f],e);break;default:throw new Error("Unsupported geometry type: "+c)}return v}function c(t,e){for(var i=0,n=t.length,o=t[n-1][0],a=t[n-1][1],s=0;s<n;s++){var h=t[s][0],c=t[s][1];i+=Object(r["j"])(h-o)*(2+Math.sin(Object(r["j"])(a))+Math.sin(Object(r["j"])(c))),o=h,a=c}return i*e*e/2}function u(t,e){var i=e||{},r=i.radius||o,a=i.projection||"EPSG:3857",s=t.getType();s!==n["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(a,"EPSG:4326"));var h,l,f,d,p,g,v=0;switch(s){case n["default"].POINT:case n["default"].MULTI_POINT:case n["default"].LINE_STRING:case n["default"].MULTI_LINE_STRING:case n["default"].LINEAR_RING:break;case n["default"].POLYGON:for(h=t.getCoordinates(),v=Math.abs(c(h[0],r)),f=1,d=h.length;f<d;++f)v-=Math.abs(c(h[f],r));break;case n["default"].MULTI_POLYGON:for(h=t.getCoordinates(),f=0,d=h.length;f<d;++f)for(l=h[f],v+=Math.abs(c(l[0],r)),p=1,g=l.length;p<g;++p)v-=Math.abs(c(l[p],r));break;case n["default"].GEOMETRY_COLLECTION:var y=t.getGeometries();for(f=0,d=y.length;f<d;++f)v+=u(y[f],e);break;default:throw new Error("Unsupported geometry type: "+s)}return v}function l(t,e,i,n){var a=n||o,s=Object(r["j"])(t[1]),h=Object(r["j"])(t[0]),c=e/a,u=Math.asin(Math.sin(s)*Math.cos(c)+Math.cos(s)*Math.sin(c)*Math.cos(i)),l=h+Math.atan2(Math.sin(i)*Math.sin(c)*Math.cos(s),Math.cos(c)-Math.sin(s)*Math.sin(u));return[Object(r["i"])(l),Object(r["i"])(u)]}},"6b47":function(t,e){function i(t){var e=t.target||t.srcElement;e.__resizeRAF__&&cancelAnimationFrame(e.__resizeRAF__),e.__resizeRAF__=requestAnimationFrame((function(){var i=e.__resizeTrigger__,r=i&&i.__resizeListeners__;r&&r.forEach((function(e){e.call(i,t)}))}))}e=function(t,e){var r,n=this,o=n.document,a=o.attachEvent;function s(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",i)}if("undefined"!==typeof navigator&&(r=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!t.__resizeListeners__)if(t.__resizeListeners__=[],a)t.__resizeTrigger__=t,t.attachEvent("onresize",i);else{"static"===getComputedStyle(t).position&&(t.style.position="relative");var h=t.__resizeTrigger__=o.createElement("object");h.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),h.setAttribute("class","resize-sensor"),h.setAttribute("tabindex","-1"),h.__resizeElement__=t,h.onload=s,h.type="text/html",r&&t.appendChild(h),h.data="about:blank",r||t.appendChild(h)}t.__resizeListeners__.push(e)};t.exports="undefined"===typeof window?e:e.bind(window),t.exports.unbind=function(t,e){var r=document.attachEvent,n=t.__resizeListeners__||[];if(e){var o=n.indexOf(e);-1!==o&&n.splice(o,1)}else n=t.__resizeListeners__=[];if(!n.length){if(r)t.detachEvent("onresize",i);else if(t.__resizeTrigger__){var a=t.__resizeTrigger__.contentDocument,s=a&&a.defaultView;s&&(s.removeEventListener("resize",i),delete s.__resizeTrigger__),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)}delete t.__resizeListeners__}}},"6bd8":function(t,e,i){"use strict";var r=i("1499"),n=i("bf07");function o(t,e,i,r){n.call(this,t,e,i,r)}r(o,n),o.enabled=n.enabled&&n.supportsCORS,t.exports=o},"6d02":function(t,e,i){"use strict";var r=i("08fa"),n=i("f355"),o="#333",a=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r["a"]({color:o}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:n["a"].POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};a.prototype.clone=function(){return new a({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},a.prototype.getOverflow=function(){return this.overflow_},a.prototype.getFont=function(){return this.font_},a.prototype.getMaxAngle=function(){return this.maxAngle_},a.prototype.getPlacement=function(){return this.placement_},a.prototype.getOffsetX=function(){return this.offsetX_},a.prototype.getOffsetY=function(){return this.offsetY_},a.prototype.getFill=function(){return this.fill_},a.prototype.getRotateWithView=function(){return this.rotateWithView_},a.prototype.getRotation=function(){return this.rotation_},a.prototype.getScale=function(){return this.scale_},a.prototype.getStroke=function(){return this.stroke_},a.prototype.getText=function(){return this.text_},a.prototype.getTextAlign=function(){return this.textAlign_},a.prototype.getTextBaseline=function(){return this.textBaseline_},a.prototype.getBackgroundFill=function(){return this.backgroundFill_},a.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},a.prototype.getPadding=function(){return this.padding_},a.prototype.setOverflow=function(t){this.overflow_=t},a.prototype.setFont=function(t){this.font_=t},a.prototype.setMaxAngle=function(t){this.maxAngle_=t},a.prototype.setOffsetX=function(t){this.offsetX_=t},a.prototype.setOffsetY=function(t){this.offsetY_=t},a.prototype.setPlacement=function(t){this.placement_=t},a.prototype.setFill=function(t){this.fill_=t},a.prototype.setRotation=function(t){this.rotation_=t},a.prototype.setScale=function(t){this.scale_=t},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.setText=function(t){this.text_=t},a.prototype.setTextAlign=function(t){this.textAlign_=t},a.prototype.setTextBaseline=function(t){this.textBaseline_=t},a.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},a.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},a.prototype.setPadding=function(t){this.padding_=t},e["a"]=a},"6d75":function(t,e,i){"use strict";var r,n,o,a,s=i("3b77"),h=i("255a"),c=i("d401"),u=i("e860"),l=i("0d63"),f=i("cdf9"),d=i("7480"),p=i("4b13"),g=i("3032"),v=i("0a7d"),y=i("c914").set,m=i("d6b9")(),_=i("978e"),b=i("aa6f"),w=i("679a"),x=i("c50d"),S="Promise",E=h.TypeError,O=h.process,T=O&&O.versions,C=T&&T.v8||"",A=h[S],L="process"==u(O),R=function(){},M=n=_.f,I=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[i("9336")("species")]=function(t){t(R,R)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(r){}}(),P=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var i=t._c;m((function(){var r=t._v,n=1==t._s,o=0,a=function(e){var i,o,a,s=n?e.ok:e.fail,h=e.resolve,c=e.reject,u=e.domain;try{s?(n||(2==t._h&&j(t),t._h=1),!0===s?i=r:(u&&u.enter(),i=s(r),u&&(u.exit(),a=!0)),i===e.promise?c(E("Promise-chain cycle")):(o=P(i))?o.call(i,h,c):h(i)):c(r)}catch(l){u&&!a&&u.exit(),c(l)}};while(i.length>o)a(i[o++]);t._c=[],t._n=!1,e&&!t._h&&F(t)}))}},F=function(t){y.call(h,(function(){var e,i,r,n=t._v,o=k(t);if(o&&(e=b((function(){L?O.emit("unhandledRejection",n,t):(i=h.onunhandledrejection)?i({promise:t,reason:n}):(r=h.console)&&r.error&&r.error("Unhandled promise rejection",n)})),t._h=L||k(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){y.call(h,(function(){var e;L?O.emit("rejectionHandled",t):(e=h.onrejectionhandled)&&e({promise:t,reason:t._v})}))},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},G=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw E("Promise can't be resolved itself");(e=P(t))?m((function(){var r={_w:i,_d:!1};try{e.call(t,c(G,r,1),c(D,r,1))}catch(n){D.call(r,n)}})):(i._v=t,i._s=1,N(i,!1))}catch(r){D.call({_w:i,_d:!1},r)}}};I||(A=function(t){p(this,A,S,"_h"),d(t),r.call(this);try{t(c(G,this,1),c(D,this,1))}catch(e){D.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=i("e603")(A.prototype,{then:function(t,e){var i=M(v(this,A));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=L?O.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&N(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(G,t,1),this.reject=c(D,t,1)},_.f=M=function(t){return t===A||t===a?new o(t):n(t)}),l(l.G+l.W+l.F*!I,{Promise:A}),i("617f")(A,S),i("dbc5")(S),a=i("a06f")[S],l(l.S+l.F*!I,S,{reject:function(t){var e=M(this),i=e.reject;return i(t),e.promise}}),l(l.S+l.F*(s||!I),S,{resolve:function(t){return x(s&&this===a?A:this,t)}}),l(l.S+l.F*!(I&&i("3b9e")((function(t){A.all(t)["catch"](R)}))),S,{all:function(t){var e=this,i=M(e),r=i.resolve,n=i.reject,o=b((function(){var i=[],o=0,a=1;g(t,!1,(function(t){var s=o++,h=!1;i.push(void 0),a++,e.resolve(t).then((function(t){h||(h=!0,i[s]=t,--a||r(i))}),n)})),--a||r(i)}));return o.e&&n(o.v),i.promise},race:function(t){var e=this,i=M(e),r=i.reject,n=b((function(){g(t,!1,(function(t){e.resolve(t).then(i.resolve,r)}))}));return n.e&&r(n.v),i.promise}})},"6d89":function(t,e,i){"use strict";var r=i("d8b2"),n=i("6744");t.exports=function(t){var e=String(n(this)),i="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},"6dcc":function(t,e,i){"use strict";var r=i("0d63"),n=i("58d1"),o=i("f49a"),a="endsWith",s=""[a];r(r.P+r.F*i("9ec8")(a),"String",{endsWith:function(t){var e=o(this,t,a),i=arguments.length>1?arguments[1]:void 0,r=n(e.length),h=void 0===i?r:Math.min(n(i),r),c=String(t);return s?s.call(e,c,h):e.slice(h-c.length,h)===c}})},"6df3":function(t,e,i){"use strict";var r=i("0a36").EventEmitter,n=i("1499"),o=i("a87f"),a=i("21b7"),s=i("6bd8"),h=i("5338"),c=i("01a9e"),u=i("4aa8"),l=i("6fea"),f=function(){};function d(t,e){f(t);var i=this;r.call(this),setTimeout((function(){i.doXhr(t,e)}),0)}n(d,r),d._getReceiver=function(t,e,i){return i.sameOrigin?new l(e,h):s.enabled?new l(e,s):a.enabled&&i.sameScheme?new l(e,a):u.enabled()?new u(t,e):new l(e,c)},d.prototype.doXhr=function(t,e){var i=this,r=o.addPath(t,"/info");f("doXhr",r),this.xo=d._getReceiver(t,r,e),this.timeoutRef=setTimeout((function(){f("timeout"),i._cleanup(!1),i.emit("finish")}),d.timeout),this.xo.once("finish",(function(t,e){f("finish",t,e),i._cleanup(!0),i.emit("finish",t,e)}))},d.prototype._cleanup=function(t){f("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){f("close"),this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,t.exports=d},"6e35":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("1613"),h=i("a0a2"),c=i("bd30"),u=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],l="Change.konva",f="none",d="up",p="right",g="down",v="left",y=u.length,m=function(t){function e(e){var i=t.call(this,e)||this;return i.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),i}return r(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,i=this,r=function(){i._sync()};for(e=0;e<y;e++)t.on(u[e]+l,r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,i,r,n,o,a,s=this.getText(),h=this.getTag();if(s&&h){switch(t=s.width(),e=s.height(),i=h.pointerDirection(),r=h.pointerWidth(),a=h.pointerHeight(),n=0,o=0,i){case d:n=t/2,o=-1*a;break;case p:n=t+r,o=e/2;break;case g:n=t/2,o=e+a;break;case v:n=-1*r,o=e/2;break}h.setAttrs({x:-1*n,y:-1*o,width:t,height:e}),s.setAttrs({x:-1*n,y:-1*o})}},e}(s.Group);e.Label=m,m.prototype.className="Label",c._registerNode(m),n.Collection.mapMethods(m);var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),i=this.height(),r=this.pointerDirection(),n=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),s=0,h=0,c=0,u=0;"number"===typeof a?s=h=c=u=Math.min(a,e/2,i/2):(s=Math.min(a[0]||0,e/2,i/2),h=Math.min(a[1]||0,e/2,i/2),u=Math.min(a[2]||0,e/2,i/2),c=Math.min(a[3]||0,e/2,i/2)),t.beginPath(),t.moveTo(s,0),r===d&&(t.lineTo((e-n)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+n)/2,0)),t.lineTo(e-h,0),t.arc(e-h,h,h,3*Math.PI/2,0,!1),r===p&&(t.lineTo(e,(i-o)/2),t.lineTo(e+n,i/2),t.lineTo(e,(i+o)/2)),t.lineTo(e,i-u),t.arc(e-u,i-u,u,0,Math.PI/2,!1),r===g&&(t.lineTo((e+n)/2,i),t.lineTo(e/2,i+o),t.lineTo((e-n)/2,i)),t.lineTo(c,i),t.arc(c,i-c,c,Math.PI/2,Math.PI,!1),r===v&&(t.lineTo(0,(i+o)/2),t.lineTo(-1*n,i/2),t.lineTo(0,(i-o)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,i=this.pointerWidth(),r=this.pointerHeight(),n=this.pointerDirection(),o=this.width(),a=this.height();return n===d?(e-=r,a+=r):n===g?a+=r:n===v?(t-=1.5*i,o+=i):n===p&&(o+=1.5*i),{x:t,y:e,width:o,height:a}},e}(a.Shape);e.Tag=_,_.prototype.className="Tag",c._registerNode(_),o.Factory.addGetterSetter(_,"pointerDirection",f),o.Factory.addGetterSetter(_,"pointerWidth",0,h.getNumberValidator()),o.Factory.addGetterSetter(_,"pointerHeight",0,h.getNumberValidator()),o.Factory.addGetterSetter(_,"cornerRadius",0,h.getNumberOrArrayOfNumbersValidator(4)),n.Collection.mapMethods(_)},"6e76":function(t,e,i){var r=i("37ff"),n=i("b7e2");i("6397")("keys",(function(){return function(t){return n(r(t))}}))},"6f1e":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return t.apply(e,i)}}},"6f54":function(t,e){var i=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=i)},"6f88":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("c33e"),o=i("213f"),a=i("a0a2");e.Pixelate=function(t){var e,i,r,o,a,s,h,c,u,l,f,d,p,g,v=Math.ceil(this.pixelSize()),y=t.width,m=t.height,_=Math.ceil(y/v),b=Math.ceil(m/v),w=t.data;if(v<=0)n.Util.error("pixelSize value can not be <= 0");else for(d=0;d<_;d+=1)for(p=0;p<b;p+=1){for(o=0,a=0,s=0,h=0,c=d*v,u=c+v,l=p*v,f=l+v,g=0,e=c;e<u;e+=1)if(!(e>=y))for(i=l;i<f;i+=1)i>=m||(r=4*(y*i+e),o+=w[r+0],a+=w[r+1],s+=w[r+2],h+=w[r+3],g+=1);for(o/=g,a/=g,s/=g,h/=g,e=c;e<u;e+=1)if(!(e>=y))for(i=l;i<f;i+=1)i>=m||(r=4*(y*i+e),w[r+0]=o,w[r+1]=a,w[r+2]=s,w[r+3]=h)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,a.getNumberValidator(),r.Factory.afterSetFilter)},"6fea":function(t,e,i){"use strict";var r=i("0a36").EventEmitter,n=i("1499"),o=i("5db0"),a=i("3aa6"),s=function(){};function h(t,e){r.call(this);var i=this,n=+new Date;this.xo=new e("GET",t),this.xo.once("finish",(function(t,e){var r,h;if(200===t){if(h=+new Date-n,e)try{r=o.parse(e)}catch(c){s("bad json",e)}a.isObject(r)||(r={})}i.emit("finish",r,h),i.removeAllListeners()}))}n(h,r),h.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=h},7002:function(t,e,i){var r=i("0d63");r(r.G+r.W+r.F*!i("7634").ABV,{DataView:i("5d88").DataView})},7057:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var r=i("981d"),n=[r["a"].POLYGON,r["a"].CIRCLE,r["a"].LINE_STRING,r["a"].IMAGE,r["a"].TEXT,r["a"].DEFAULT],o={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1}},7073:function(t,e,i){"use strict";i.d(e,"b",(function(){return p}));var r=i("fd21"),n=i("09b5"),o=i("a273"),a=i("eee0"),s=i("3d22"),h=i("0ead"),c=i("3f2c"),u=i("d32d"),l=i("d6b2"),f=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(r["b"])()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Object(l["b"])(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(l["d"])(Object(l["i"])(r,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,o,a,h){var u,l=e.viewState,f=l.resolution;function d(t,i){var a=e.layerStates[Object(r["c"])(i)].managed;if(!(Object(r["c"])(t)in e.skippedFeatureUids)||a)return n.call(o,t,a?i:null)}var p=l.projection,g=t;if(p.canWrapX()){var v=p.getExtent(),y=Object(s["getWidth"])(v),m=t[0];if(m<v[0]||m>v[2]){var _=Math.ceil((v[0]-m)/y);g=[m+y*_,t[1]]}}var b,w=e.layerStatesArray,x=w.length;for(b=x-1;b>=0;--b){var S=w[b],E=S.layer;if(Object(c["b"])(S,f)&&a.call(h,E)){var O=this.getLayerRenderer(E),T=E.getSource();if(T&&(u=O.forEachFeatureAtCoordinate(T.getWrapX()?g:t,e,i,d)),u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,i,n,o,a,s){return Object(r["b"])()},e.prototype.hasFeatureAtCoordinate=function(t,e,i,r,n){var o=this.forEachFeatureAtCoordinate(t,e,i,h["b"],this,r,n);return void 0!==o},e.prototype.getLayerRenderer=function(t){var e=Object(r["c"])(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,n=0,s=this.layerRendererConstructors_.length;n<s;++n){var h=this.layerRendererConstructors_[n];if(h["handles"](t)){i=h["create"](this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=Object(o["listen"])(i,a["default"].CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(o["unlistenByKey"])(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.renderFrame=function(t){Object(r["b"])()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(d)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(n["a"]);function d(t,e){u["a"].expire()}function p(t,e){return t.zIndex-e.zIndex}e["a"]=f},"708c":function(t,e,i){"use strict";var r=i("1499"),n=i("0a36").EventEmitter,o=i("ebfc"),a=function(){};function s(t){a(t),n.call(this);var e=this,i=this.es=new o(t);i.onmessage=function(t){a("message",t.data),e.emit("message",decodeURI(t.data))},i.onerror=function(t){a("error",i.readyState,t);var r=2!==i.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(s,n),s.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},s.prototype._cleanup=function(){a("cleanup");var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},s.prototype._close=function(t){a("close",t);var e=this;setTimeout((function(){e.emit("close",null,t),e.removeAllListeners()}),200)},t.exports=s},"70be":function(t,e,i){var r=i("255a").parseInt,n=i("b92f").trim,o=i("5cb8"),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var i=n(String(t),3);return r(i,e>>>0||(a.test(i)?16:10))}:r},"70e4":function(t,e,i){"use strict";var r=i("a273"),n=i("eee0"),o=i("efc8"),a=i("e9ee"),s=i("4641"),h=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var o=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,h=void 0!==i.zoomInLabel?i.zoomInLabel:"+",c=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",u=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",l=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=o+"-in",f.setAttribute("type","button"),f.title=u,f.appendChild("string"===typeof h?document.createTextNode(h):h),Object(r["listen"])(f,n["default"].CLICK,this.handleClick_.bind(this,s));var d=document.createElement("button");d.className=o+"-out",d.setAttribute("type","button"),d.title=l,d.appendChild("string"===typeof c?document.createTextNode(c):c),Object(r["listen"])(d,n["default"].CLICK,this.handleClick_.bind(this,-s));var p=o+" "+a["e"]+" "+a["b"],g=this.element;g.className=p,g.appendChild(f),g.appendChild(d),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap(),i=e.getView();if(i){var r=i.getResolution();if(r){var n=i.constrainResolution(r,t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:n,duration:this.duration_,easing:s["easeOut"]})):i.setResolution(n)}}},e}(o["default"]);e["a"]=h},"70ea":function(t,e,i){"use strict";var r=i("1499"),n=i("0a36").EventEmitter,o=i("5db0"),a=i("5338"),s=i("6fea");function h(t){var e=this;n.call(this),this.ir=new s(t,a),this.ir.once("finish",(function(t,i){e.ir=null,e.emit("message",o.stringify([t,i]))}))}r(h,n),h.transportName="iframe-info-receiver",h.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=h},7186:function(t,e,i){"use strict";i.r(e),i.d(e,"unByKey",(function(){return s}));var r=i("a273"),n=i("5537"),o=i("eee0"),a=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o["default"].CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),o=0;o<i;++o)n[o]=Object(r["listen"])(this,t[o],e);return n}return Object(r["listen"])(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),o=0;o<i;++o)n[o]=Object(r["listenOnce"])(this,t[o],e);return n}return Object(r["listenOnce"])(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var i=0,n=t.length;i<n;++i)Object(r["unlisten"])(this,t[i],e);else Object(r["unlisten"])(this,t,e)},e}(n["a"]);function s(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)Object(r["unlistenByKey"])(t[e]);else Object(r["unlistenByKey"])(t)}e["default"]=a},"71a0":function(t,e,i){"use strict";i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return d}));var r=i("fd21"),n=i("4a3a"),o=i("cc7a"),a=i("981d"),s=.5,h={Point:b,LineString:y,Polygon:x,MultiPoint:w,MultiLineString:m,MultiPolygon:_,GeometryCollection:v,Circle:f};function c(t,e){return parseInt(Object(r["c"])(t),10)-parseInt(Object(r["c"])(e),10)}function u(t,e){var i=l(t,e);return i*i}function l(t,e){return s*t/e}function f(t,e,i,r){var n=i.getFill(),o=i.getStroke();if(n||o){var s=t.getReplay(i.getZIndex(),a["a"].CIRCLE);s.setFillStrokeStyle(n,o),s.drawCircle(e,r)}var h=i.getText();if(h){var c=t.getReplay(i.getZIndex(),a["a"].TEXT);c.setTextStyle(h,t.addDeclutter(!1)),c.drawText(e,r)}}function d(t,e,i,r,o,a){var s=!1,h=i.getImage();if(h){var c=h.getImageState();c==n["a"].LOADED||c==n["a"].ERROR?h.unlistenImageChange(o,a):(c==n["a"].IDLE&&h.load(),c=h.getImageState(),h.listenImageChange(o,a),s=!0)}return p(t,e,i,r),s}function p(t,e,i,r){var n=i.getGeometryFunction()(e);if(n){var o=n.getSimplifiedGeometry(r),a=i.getRenderer();if(a)g(t,o,i,e);else{var s=h[o.getType()];s(t,o,i,e)}}}function g(t,e,i,r){if(e.getType()!=o["default"].GEOMETRY_COLLECTION){var n=t.getReplay(i.getZIndex(),a["a"].DEFAULT);n.drawCustom(e,r,i.getRenderer())}else for(var s=e.getGeometries(),h=0,c=s.length;h<c;++h)g(t,s[h],i,r)}function v(t,e,i,r){var n,o,a=e.getGeometriesArray();for(n=0,o=a.length;n<o;++n){var s=h[a[n].getType()];s(t,a[n],i,r)}}function y(t,e,i,r){var n=i.getStroke();if(n){var o=t.getReplay(i.getZIndex(),a["a"].LINE_STRING);o.setFillStrokeStyle(null,n),o.drawLineString(e,r)}var s=i.getText();if(s){var h=t.getReplay(i.getZIndex(),a["a"].TEXT);h.setTextStyle(s,t.addDeclutter(!1)),h.drawText(e,r)}}function m(t,e,i,r){var n=i.getStroke();if(n){var o=t.getReplay(i.getZIndex(),a["a"].LINE_STRING);o.setFillStrokeStyle(null,n),o.drawMultiLineString(e,r)}var s=i.getText();if(s){var h=t.getReplay(i.getZIndex(),a["a"].TEXT);h.setTextStyle(s,t.addDeclutter(!1)),h.drawText(e,r)}}function _(t,e,i,r){var n=i.getFill(),o=i.getStroke();if(o||n){var s=t.getReplay(i.getZIndex(),a["a"].POLYGON);s.setFillStrokeStyle(n,o),s.drawMultiPolygon(e,r)}var h=i.getText();if(h){var c=t.getReplay(i.getZIndex(),a["a"].TEXT);c.setTextStyle(h,t.addDeclutter(!1)),c.drawText(e,r)}}function b(t,e,i,r){var o=i.getImage();if(o){if(o.getImageState()!=n["a"].LOADED)return;var s=t.getReplay(i.getZIndex(),a["a"].IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,r)}var h=i.getText();if(h){var c=t.getReplay(i.getZIndex(),a["a"].TEXT);c.setTextStyle(h,t.addDeclutter(!!o)),c.drawText(e,r)}}function w(t,e,i,r){var o=i.getImage();if(o){if(o.getImageState()!=n["a"].LOADED)return;var s=t.getReplay(i.getZIndex(),a["a"].IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,r)}var h=i.getText();if(h){var c=t.getReplay(i.getZIndex(),a["a"].TEXT);c.setTextStyle(h,t.addDeclutter(!!o)),c.drawText(e,r)}}function x(t,e,i,r){var n=i.getFill(),o=i.getStroke();if(n||o){var s=t.getReplay(i.getZIndex(),a["a"].POLYGON);s.setFillStrokeStyle(n,o),s.drawPolygon(e,r)}var h=i.getText();if(h){var c=t.getReplay(i.getZIndex(),a["a"].TEXT);c.setTextStyle(h,t.addDeclutter(!1)),c.drawText(e,r)}}},"71bf":function(t,e,i){"use strict";var r=i("fd21"),n=i("3d22"),o=i("0ead"),a=i("2cc6"),s=i("9ee7"),h=i("6476"),c=i("42ae"),u=i("cf38"),l=i("d6b2"),f=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(l["c"])()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var r=e.pixelRatio,o=e.size[0]*r,a=e.size[1]*r,s=e.viewState.rotation,c=Object(n["getTopLeft"])(i),u=Object(n["getTopRight"])(i),f=Object(n["getBottomRight"])(i),d=Object(n["getBottomLeft"])(i);Object(l["a"])(e.coordinateToPixelTransform,c),Object(l["a"])(e.coordinateToPixelTransform,u),Object(l["a"])(e.coordinateToPixelTransform,f),Object(l["a"])(e.coordinateToPixelTransform,d),t.save(),Object(h["s"])(t,-s,o/2,a/2),t.beginPath(),t.moveTo(c[0]*r,c[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(f[0]*r,f[1]*r),t.lineTo(d[0]*r,d[1]*r),t.clip(),Object(h["s"])(t,s,o/2,a/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,r){var n=this.getLayer();if(n.hasListener(t)){var o=i.size[0]*i.pixelRatio,s=i.size[1]*i.pixelRatio,u=i.viewState.rotation;Object(h["s"])(e,-u,o/2,s/2);var l=void 0!==r?r:this.getTransform(i,0),f=new c["a"](e,i.pixelRatio,i.extent,l,i.viewState.rotation),d=new a["a"](t,f,i,e,null);n.dispatchEvent(d),Object(h["s"])(e,u,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,r,n){var a=this.forEachFeatureAtCoordinate(t,e,i,o["b"]);return a?r.call(n,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,r){this.dispatchComposeEvent_(s["a"].POSTCOMPOSE,t,e,r)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(s["a"].PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(s["a"].RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,r=t.pixelRatio,n=r*t.size[0]/2,o=r*t.size[1]/2,a=r/i.resolution,s=-a,h=-i.rotation,c=-i.center[0]+e,u=-i.center[1];return Object(l["b"])(this.transform_,n,o,a,s,h,c,u)},e.prototype.composeFrame=function(t,e,i){Object(r["b"])()},e.prototype.prepareFrame=function(t,e){return Object(r["b"])()},e}(u["a"]);e["a"]=f},"71d8":function(t,e,i){var r=i("0d63");r(r.S,"Reflect",{has:function(t,e){return e in t}})},"71db":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("c8a3"),h=i("a0a2"),c=i("bd30"),u=function(t){function e(e){var i=t.call(this,e)||this;return i._updated=!0,i.anim=new s.Animation((function(){var t=i._updated;return i._updated=!1,t})),i.on("animationChange.konva",(function(){this.frameIndex(0)})),i.on("frameIndexChange.konva",(function(){this._updated=!0})),i.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),i}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),i=this.frameIndex(),r=4*i,n=this.animations()[e],o=this.frameOffsets(),a=n[r+0],s=n[r+1],h=n[r+2],c=n[r+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,h,c),t.closePath(),t.fillStrokeShape(this)),u)if(o){var l=o[e],f=2*i;t.drawImage(u,a,s,h,c,l[f+0],l[f+1],h,c)}else t.drawImage(u,a,s,h,c,0,0,h,c)},e.prototype._hitFunc=function(t){var e=this.animation(),i=this.frameIndex(),r=4*i,n=this.animations()[e],o=this.frameOffsets(),a=n[r+2],s=n[r+3];if(t.beginPath(),o){var h=o[e],c=2*i;t.rect(h[c+0],h[c+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation(),i=this.animations(),r=i[e],n=r.length/4;t<n-1?this.frameIndex(t+1):this.frameIndex(0)},e}(a.Shape);e.Sprite=u,u.prototype.className="Sprite",c._registerNode(u),o.Factory.addGetterSetter(u,"animation"),o.Factory.addGetterSetter(u,"animations"),o.Factory.addGetterSetter(u,"frameOffsets"),o.Factory.addGetterSetter(u,"image"),o.Factory.addGetterSetter(u,"frameIndex",0,h.getNumberValidator()),o.Factory.addGetterSetter(u,"frameRate",17,h.getNumberValidator()),o.Factory.backCompat(u,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),n.Collection.mapMethods(u)},7255:function(t,e,i){var r=Date.prototype,n="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=n&&i("bd47")(r,o,(function(){var t=s.call(this);return t===t?a.call(this):n}))},"72d2":function(t,e,i){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},"733b":function(t,e,i){var r=i("0d63");r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},7371:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var r=i("0ead"),n=i("79ff0");function o(t,e,i,r){return function(o,a,s){var h=new XMLHttpRequest;h.open("GET","function"===typeof t?t(o,a,s):t,!0),e.getType()==n["a"].ARRAY_BUFFER&&(h.responseType="arraybuffer"),h.onload=function(t){if(!h.status||h.status>=200&&h.status<300){var o,a=e.getType();a==n["a"].JSON||a==n["a"].TEXT?o=h.responseText:a==n["a"].XML?(o=h.responseXML,o||(o=(new DOMParser).parseFromString(h.responseText,"application/xml"))):a==n["a"].ARRAY_BUFFER&&(o=h.response),o?i.call(this,e.readFeatures(o,{featureProjection:s}),e.readProjection(o),e.getLastExtent()):r.call(this)}else r.call(this)}.bind(this),h.onerror=function(){r.call(this)}.bind(this),h.send()}}function a(t,e){return o(t,e,(function(t,e){var i=this;"function"===typeof i.addFeatures&&i.addFeatures(t)}),r["c"])}},"73ed":function(t,e,i){"use strict";var r=i("3d22"),n=i("34f5"),o=i("cc7a"),a=i("1ea9"),s=i("0985"),h=i("9b05"),c=i("d5d0"),u=i("c5e9"),l=i("caa0"),f=function(t){function e(e,i){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<Object(r["closestSquaredDistanceXY"])(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.getArea=function(){return Object(s["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(u["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(l["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,n["a"].XY)},e.prototype.getType=function(){return o["default"].LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c["b"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a["a"]);e["a"]=f},7416:function(t,e,i){var r=i("cdf9");i("6397")("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},7480:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},7484:function(t,e,i){"use strict";var r=i("0d63"),n=i("cb03")(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!i("60a1")(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:n(this,t,arguments[1])}})},"753b":function(t,e,i){"use strict";var r=i("0d63"),n=i("9c55"),o=i("679a"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},"75b6":function(t,e,i){"use strict";i("c7c1")("small",(function(t){return function(){return t(this,"small","","")}}))},"75f3":function(t,e,i){var r=i("0d63");r(r.S+r.F*!i("6739"),"Object",{defineProperty:i("0f26").f})},"75f3a":function(t,e,i){"use strict";t.exports=function(t,e,i,r,n){return t.config=e,i&&(t.code=i),t.request=r,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},"761c":function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},7634:function(t,e,i){var r,n=i("255a"),o=i("c3fa"),a=i("a909"),s=a("typed_array"),h=a("view"),c=!(!n.ArrayBuffer||!n.DataView),u=c,l=0,f=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(l<f)(r=n[d[l++]])?(o(r.prototype,s,!0),o(r.prototype,h,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:h}},"766b":function(t,e,i){i("eaf3"),t.exports=i("a06f").Array.flatMap},7671:function(t,e,i){var r=i("9336")("unscopables"),n=Array.prototype;void 0==n[r]&&i("c3fa")(n,r,{}),t.exports=function(t){n[r][t]=!0}},"76a7":function(t,e,i){var r=i("0d63"),n=i("ea05").f,o=i("42ee");r(r.S,"Reflect",{deleteProperty:function(t,e){var i=n(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},"76dc":function(t,e,i){"use strict";var r=i("6843");t.exports=function(t,e){r.forEach(t,(function(i,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[r])}))}},7881:function(t,e,i){"use strict";var r=i("5e7b"),n=i("fd21"),o=i("0ead"),a=i("136c");function s(t){return function(e){return e?[Object(a["a"])(e[0],t[0],t[2]),Object(a["a"])(e[1],t[1],t[3])]:void 0}}function h(t){return t}var c=i("0acf"),u=i("6646");function l(t){return function(e,i,r){if(void 0!==e){var n=Object(u["h"])(t,e,r);n=Object(a["a"])(n+i,0,t.length-1);var o=Math.floor(n);if(n!=o&&o<t.length-1){var s=t[o]/t[o+1];return t[o]/Math.pow(s,n-o)}return t[o]}}}function f(t,e,i){return function(r,n,o){if(void 0!==r){var a=-o/2+.5,s=Math.floor(Math.log(e/r)/Math.log(t)+a),h=Math.max(s+n,0);return void 0!==i&&(h=Math.min(h,i)),e/Math.pow(t,h)}}}var d=i("3e6d"),p=i("3881"),g=i("7c99"),v=i("41ec"),y=i("4882"),m=i("4641"),_=i("3d22"),b=i("cc7a"),w=i("c484"),x=i("acdf"),S=i("5f62"),E=i("615e"),O=0,T=function(t){function e(e){t.call(this);var i=Object(x["a"])({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(S["createProjection"])(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[g["a"].CENTER]=void 0!==t.center?t.center:null;var i=L(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var r=A(t),n=i.constraint,o=R(t);this.constraints_={center:r,resolution:n,rotation:o},void 0!==t.resolution?e[g["a"].RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[g["a"].RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[g["a"].RESOLUTION]=Object(a["a"])(Number(this.getResolution()||e[g["a"].RESOLUTION]),this.minResolution_,this.maxResolution_))),e[g["a"].ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(x["a"])({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(x["a"])({},e,t)},e.prototype.animate=function(t){var e,i=arguments,r=arguments.length;if(r>1&&"function"===typeof arguments[r-1]&&(e=arguments[r-1],--r),!this.isDef()){var n=arguments[r-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&C(e,!0))}for(var o=Date.now(),s=this.getCenter().slice(),h=this.getResolution(),c=this.getRotation(),u=[],l=0;l<r;++l){var f=i[l],d={start:o,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||m["inAndOut"]};if(f.center&&(d.sourceCenter=s,d.targetCenter=f.center,s=d.targetCenter),void 0!==f.zoom?(d.sourceResolution=h,d.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0),h=d.targetResolution):f.resolution&&(d.sourceResolution=h,d.targetResolution=f.resolution,h=d.targetResolution),void 0!==f.rotation){d.sourceRotation=c;var g=Object(a["d"])(f.rotation-c+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=c+g,c=d.targetRotation}d.callback=e,M(d)?d.complete=!0:o+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(p["a"].ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[p["a"].ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[p["a"].INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(p["a"].ANIMATING,-this.hints_[p["a"].ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&C(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var r=this.animations_[i],n=!0,o=0,s=r.length;o<s;++o){var h=r[o];if(!h.complete){var c=t-h.start,u=h.duration>0?c/h.duration:1;u>=1?(h.complete=!0,u=1):n=!1;var l=h.easing(u);if(h.sourceCenter){var f=h.sourceCenter[0],d=h.sourceCenter[1],v=h.targetCenter[0],y=h.targetCenter[1],m=f+l*(v-f),_=d+l*(y-d);this.set(g["a"].CENTER,[m,_])}if(h.sourceResolution&&h.targetResolution){var b=1===l?h.targetResolution:h.sourceResolution+l*(h.targetResolution-h.sourceResolution);h.anchor&&this.set(g["a"].CENTER,this.calculateCenterZoom(b,h.anchor)),this.set(g["a"].RESOLUTION,b)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var w=1===l?Object(a["d"])(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+l*(h.targetRotation-h.sourceRotation);h.anchor&&this.set(g["a"].CENTER,this.calculateCenterRotate(w,h.anchor)),this.set(g["a"].ROTATION,w)}if(e=!0,!h.complete)break}}if(n){this.animations_[i]=null,this.setHint(p["a"].ANIMATING,-1);var x=r[0].callback;x&&C(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,r=this.getCenter();return void 0!==r&&(i=[r[0]-e[0],r[1]-e[1]],Object(y["g"])(i,t-this.getRotation()),Object(y["a"])(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,r=this.getCenter(),n=this.getResolution();if(void 0!==r&&void 0!==n){var o=e[0]-t*(e[0]-r[0])/n,a=e[1]-t*(e[1]-r[1])/n;i=[o,a]}return i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(n["c"])(this)+'"]',i=document.querySelector(e);if(i){var r=getComputedStyle(i);t[0]=parseInt(r.width,10),t[1]=parseInt(r.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var r=e||0,n=i||0;return this.constraints_.resolution(t,r,n)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(g["a"].CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();Object(v["a"])(i,1);var r=this.getResolution();Object(v["a"])(void 0!==r,2);var n=this.getRotation();return Object(v["a"])(void 0!==n,3),Object(_["getForViewAndSize"])(i,r,n,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(g["a"].RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),r=Object(_["getWidth"])(t)/i[0],n=Object(_["getHeight"])(t)/i[1];return Math.max(r,n)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,r=this.minResolution_,n=Math.log(i/r)/Math.log(e);return function(t){var r=i/Math.pow(e,t*n);return r}},e.prototype.getRotation=function(){return this.get(g["a"].ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,r=this.minResolution_,n=Math.log(i/r)/Math.log(e);return function(t){var r=Math.log(i/t)/Math.log(e)/n;return r}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),r=this.getResolution(),n=r/t,o=this.getRotation();return{center:[Math.round(e[0]/n)*n,Math.round(e[1]/n)*n],projection:void 0!==i?i:null,resolution:r,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,r=this.minZoom_||0;if(this.resolutions_){var n=Object(u["h"])(this.resolutions_,t,1);r=n,e=this.resolutions_[n],i=n==this.resolutions_.length-1?2:e/this.resolutions_[n+1]}else e=this.maxResolution_,i=this.zoomFactor_;return r+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,r=e||{},n=r.size;n||(n=this.getSizeFromViewport_()),Object(v["a"])(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(v["a"])(!Object(_["isEmpty"])(t),25),i=Object(w["fromExtent"])(t)):t.getType()===b["default"].CIRCLE?(t=t.getExtent(),i=Object(w["fromExtent"])(t),i.rotate(this.getRotation(),Object(_["getCenter"])(t))):i=t;var a,s=void 0!==r.padding?r.padding:[0,0,0,0],h=void 0===r.constrainResolution||r.constrainResolution,c=void 0!==r.nearest&&r.nearest;a=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.constrainResolution(this.maxResolution_,r.maxZoom-this.minZoom_,0):0;for(var u=i.getFlatCoordinates(),l=this.getRotation(),f=Math.cos(-l),d=Math.sin(-l),p=1/0,g=1/0,y=-1/0,m=-1/0,x=i.getStride(),S=0,E=u.length;S<E;S+=x){var O=u[S]*f-u[S+1]*d,T=u[S]*d+u[S+1]*f;p=Math.min(p,O),g=Math.min(g,T),y=Math.max(y,O),m=Math.max(m,T)}var A=this.getResolutionForExtent([p,g,y,m],[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]);if(A=isNaN(A)?a:Math.max(A,a),h){var L=this.constrainResolution(A,0,0);!c&&L<A&&(L=this.constrainResolution(L,-1,0)),A=L}d=-d;var R=(p+y)/2,M=(g+m)/2;R+=(s[1]-s[3])/2*A,M+=(s[0]-s[2])/2*A;var I=R*f-M*d,P=M*f+R*d,N=[I,P],F=r.callback?r.callback:o["c"];void 0!==r.duration?this.animate({resolution:A,center:N,duration:r.duration,easing:r.easing},F):(this.setResolution(A),this.setCenter(N),C(F,!0))},e.prototype.centerOn=function(t,e,i){var r=this.getRotation(),n=Math.cos(-r),o=Math.sin(-r),a=t[0]*n-t[1]*o,s=t[1]*n+t[0]*o,h=this.getResolution();a+=(e[0]/2-i[0])*h,s+=(i[1]-e[1]/2)*h,o=-o;var c=a*n-s*o,u=s*n+a*o;this.setCenter([c,u])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(g["a"].CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(g["a"].RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(g["a"].ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(c["default"]);function C(t,e){setTimeout((function(){t(e)}),0)}function A(t){return void 0!==t.extent?s(t.extent):h}function L(t){var e,i,n,o=28,a=2,s=void 0!==t.minZoom?t.minZoom:O,h=void 0!==t.maxZoom?t.maxZoom:o,c=void 0!==t.zoomFactor?t.zoomFactor:a;if(void 0!==t.resolutions){var u=t.resolutions;i=u[s],n=void 0!==u[h]?u[h]:u[u.length-1],e=l(u)}else{var d=Object(S["createProjection"])(t.projection,"EPSG:3857"),p=d.getExtent(),g=p?Math.max(Object(_["getWidth"])(p),Object(_["getHeight"])(p)):360*S["METERS_PER_UNIT"][E["b"].DEGREES]/d.getMetersPerUnit(),v=g/r["b"]/Math.pow(a,O),y=v/Math.pow(a,o-O);i=t.maxResolution,void 0!==i?s=0:i=v/Math.pow(c,s),n=t.minResolution,void 0===n&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(c,h):v/Math.pow(c,h):y),h=s+Math.floor(Math.log(i/n)/Math.log(c)),n=i/Math.pow(c,h-s),e=f(c,i,h-s)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:c}}function R(t){var e=void 0===t.enableRotation||t.enableRotation;if(e){var i=t.constrainRotation;return void 0===i||!0===i?Object(d["b"])():!1===i?d["d"]:"number"===typeof i?Object(d["a"])(i):d["d"]}return d["c"]}function M(t){return!(t.sourceCenter&&t.targetCenter&&!Object(y["f"])(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e["a"]=T},"78f9":function(t,e,i){var r=i("b7e2"),n=i("e038"),o=i("9a27");t.exports=function(t){var e=r(t),i=n.f;if(i){var a,s=i(t),h=o.f,c=0;while(s.length>c)h.call(t,a=s[c++])&&e.push(a)}return e}},"79ff":function(t,e,i){"use strict";function r(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function n(t,e,i){return t+"/"+e+"/"+i}function o(t){return n(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function h(t){var e,i,r=t[0],n=new Array(r),o=1<<r-1;for(e=0;e<r;++e)i=48,t[1]&o&&(i+=1),t[2]&o&&(i+=2),n[e]=String.fromCharCode(i),o>>=1;return n.join("")}function c(t,e){var i=t[0],r=t[1],n=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var o,a=e.getExtent();return o=a?e.getTileRangeForExtentAndZ(a,i):e.getFullTileRange(i),!o||o.containsXY(r,n)}i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"f",(function(){return h})),i.d(e,"g",(function(){return c}))},"79ff0":function(t,e,i){"use strict";e["a"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},"7a00":function(t,e,i){var r=i("0d63"),n=i("7480"),o=i("42ee"),a=(i("255a").Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!i("b460")((function(){a((function(){}))})),"Reflect",{apply:function(t,e,i){var r=n(t),h=o(i);return a?a(r,e,h):s.call(r,e,h)}})},"7a09":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],h=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(t,e){var i,r,n,o,c,u,l,f,d,p,g,v,y,m,_,b,w,x,S,E,O,T,C,A,L=t.data,R=t.width,M=t.height,I=e+e+1,P=R-1,N=M-1,F=e+1,k=F*(F+1)/2,j=new a,D=null,G=j,B=null,U=null,z=s[e],q=h[e];for(n=1;n<I;n++)G=G.next=new a,n===F&&(D=G);for(G.next=j,l=u=0,r=0;r<M;r++){for(b=w=x=S=f=d=p=g=0,v=F*(E=L[u]),y=F*(O=L[u+1]),m=F*(T=L[u+2]),_=F*(C=L[u+3]),f+=k*E,d+=k*O,p+=k*T,g+=k*C,G=j,n=0;n<F;n++)G.r=E,G.g=O,G.b=T,G.a=C,G=G.next;for(n=1;n<F;n++)o=u+((P<n?P:n)<<2),f+=(G.r=E=L[o])*(A=F-n),d+=(G.g=O=L[o+1])*A,p+=(G.b=T=L[o+2])*A,g+=(G.a=C=L[o+3])*A,b+=E,w+=O,x+=T,S+=C,G=G.next;for(B=j,U=D,i=0;i<R;i++)L[u+3]=C=g*z>>q,0!==C?(C=255/C,L[u]=(f*z>>q)*C,L[u+1]=(d*z>>q)*C,L[u+2]=(p*z>>q)*C):L[u]=L[u+1]=L[u+2]=0,f-=v,d-=y,p-=m,g-=_,v-=B.r,y-=B.g,m-=B.b,_-=B.a,o=l+((o=i+e+1)<P?o:P)<<2,b+=B.r=L[o],w+=B.g=L[o+1],x+=B.b=L[o+2],S+=B.a=L[o+3],f+=b,d+=w,p+=x,g+=S,B=B.next,v+=E=U.r,y+=O=U.g,m+=T=U.b,_+=C=U.a,b-=E,w-=O,x-=T,S-=C,U=U.next,u+=4;l+=R}for(i=0;i<R;i++){for(w=x=S=b=d=p=g=f=0,u=i<<2,v=F*(E=L[u]),y=F*(O=L[u+1]),m=F*(T=L[u+2]),_=F*(C=L[u+3]),f+=k*E,d+=k*O,p+=k*T,g+=k*C,G=j,n=0;n<F;n++)G.r=E,G.g=O,G.b=T,G.a=C,G=G.next;for(c=R,n=1;n<=e;n++)u=c+i<<2,f+=(G.r=E=L[u])*(A=F-n),d+=(G.g=O=L[u+1])*A,p+=(G.b=T=L[u+2])*A,g+=(G.a=C=L[u+3])*A,b+=E,w+=O,x+=T,S+=C,G=G.next,n<N&&(c+=R);for(u=i,B=j,U=D,r=0;r<M;r++)o=u<<2,L[o+3]=C=g*z>>q,C>0?(C=255/C,L[o]=(f*z>>q)*C,L[o+1]=(d*z>>q)*C,L[o+2]=(p*z>>q)*C):L[o]=L[o+1]=L[o+2]=0,f-=v,d-=y,p-=m,g-=_,v-=B.r,y-=B.g,m-=B.b,_-=B.a,o=i+((o=r+F)<N?o:N)*R<<2,f+=b+=B.r=L[o],d+=w+=B.g=L[o+1],p+=x+=B.b=L[o+2],g+=S+=B.a=L[o+3],B=B.next,v+=E=U.r,y+=O=U.g,m+=T=U.b,_+=C=U.a,b-=E,w-=O,x-=T,S-=C,U=U.next,u+=R}}e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&c(t,e)},r.Factory.addGetterSetter(n.Node,"blurRadius",0,o.getNumberValidator(),r.Factory.afterSetFilter)},"7a77":function(t,e,i){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"7aac":function(t,e,i){"use strict";var r=i("c532");t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,i,n,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),r.isString(n)&&s.push("path="+n),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b42":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var r=i("6646"),n=i("e620");function o(t,e,i,o,a,s,h){for(var c,u,l,f,d,p,g,v=a[s+1],y=[],m=0,_=i.length;m<_;++m){var b=i[m];for(f=t[b-o],p=t[b-o+1],c=e;c<b;c+=o)d=t[c],g=t[c+1],(v<=p&&g<=v||p<=v&&v<=g)&&(l=(v-p)/(g-p)*(d-f)+f,y.push(l)),f=d,p=g}var w=NaN,x=-1/0;for(y.sort(r["i"]),f=y[0],c=1,u=y.length;c<u;++c){d=y[c];var S=Math.abs(d-f);S>x&&(l=(f+d)/2,Object(n["c"])(t,e,i,o,l,v)&&(w=l,x=S)),f=d}return isNaN(w)&&(w=a[s]),h?(h.push(w,v,x),h):[w,v,x]}function a(t,e,i,r,n){for(var a=[],s=0,h=i.length;s<h;++s){var c=i[s];a=o(t,e,c,r,n,2*s,a),e=c[c.length-1]}return a}},"7b84":function(t,e,i){"use strict";var r=i("64c1"),n=function(t){function e(e,i,r){t.call(this,e),this.map=i,this.frameState=void 0!==r?r:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["a"]);e["a"]=n},"7c99":function(t,e,i){"use strict";e["a"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},"7d23":function(t,e,i){"use strict";function r(t,e,i){var r=void 0!==i?t.toFixed(i):""+t,n=r.indexOf(".");return n=-1===n?r.length:n,n>e?r:new Array(1+e-n).join("0")+r}function n(t,e){for(var i=(""+t).split("."),r=(""+e).split("."),n=0;n<Math.max(i.length,r.length);n++){var o=parseInt(i[n]||"0",10),a=parseInt(r[n]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return n}))},"7e33":function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},"7f06":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return u}));var r=i("3d22"),n=i("e620"),o=i("9ea6");function a(t,e,i,n,a){var s=Object(r["extendFlatCoordinates"])(Object(r["createEmpty"])(),t,e,i,n);return!!Object(r["intersects"])(a,s)&&(!!Object(r["containsExtent"])(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(o["a"])(t,e,i,n,(function(t,e){return Object(r["intersectsSegment"])(a,t,e)})))))}function s(t,e,i,r,n){for(var o=0,s=i.length;o<s;++o){if(a(t,e,i[o],r,n))return!0;e=i[o]}return!1}function h(t,e,i,r,o){return!!a(t,e,i,r,o)||(!!Object(n["b"])(t,e,i,r,o[0],o[1])||(!!Object(n["b"])(t,e,i,r,o[0],o[3])||(!!Object(n["b"])(t,e,i,r,o[2],o[1])||!!Object(n["b"])(t,e,i,r,o[2],o[3]))))}function c(t,e,i,r,o){if(!h(t,e,i[0],r,o))return!1;if(1===i.length)return!0;for(var s=1,c=i.length;s<c;++s)if(Object(n["a"])(t,i[s-1],i[s],r,o)&&!a(t,i[s-1],i[s],r,o))return!1;return!0}function u(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o){var s=i[o];if(c(t,e,s,r,n))return!0;e=s[s.length-1]}return!1}},"7f1c":function(t,e,i){i("933e")("Uint8",1,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},"7f1c1":function(t,e,i){"use strict";var r=i("1499"),n=i("0a36").EventEmitter,o=function(){};function a(t,e){o(t),n.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(a,n),a.prototype.send=function(t){o("send",t),this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},a.prototype.sendScheduleWait=function(){o("sendScheduleWait");var t,e=this;this.sendStop=function(){o("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout((function(){o("timeout"),e.sendStop=null,e.sendSchedule()}),25)},a.prototype.sendSchedule=function(){o("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,(function(e){t.sendStop=null,e?(o("error",e),t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()})),this.sendBuffer=[]}},a.prototype._cleanup=function(){o("_cleanup"),this.removeAllListeners()},a.prototype.close=function(){o("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=a},8122:function(t,e,i){var r=i("0d63");r(r.S+r.F*!i("6739"),"Object",{defineProperties:i("2035")})},"81ae":function(t,e,i){"use strict";i.r(e),i.d(e,"asString",(function(){return s})),i.d(e,"fromString",(function(){return c})),i.d(e,"asArray",(function(){return u})),i.d(e,"normalize",(function(){return f})),i.d(e,"toString",(function(){return d}));var r=i("41ec"),n=i("136c"),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$/i;function s(t){return"string"===typeof t?t:d(t)}function h(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}var c=function(){var t=1024,e={},i=0;return function(r){var n;if(e.hasOwnProperty(r))n=e[r];else{if(i>=t){var o=0;for(var a in e)0===(3&o++)&&(delete e[a],--i)}n=l(r),e[r]=n,++i}return n}}();function u(t){return Array.isArray(t)?t:c(t)}function l(t){var e,i,n,s,c;if(a.exec(t)&&(t=h(t)),o.exec(t)){var u,l=t.length-1;u=l<=4?1:2;var d=4===l||8===l;e=parseInt(t.substr(1+0*u,u),16),i=parseInt(t.substr(1+1*u,u),16),n=parseInt(t.substr(1+2*u,u),16),s=d?parseInt(t.substr(1+3*u,u),16):255,1==u&&(e=(e<<4)+e,i=(i<<4)+i,n=(n<<4)+n,d&&(s=(s<<4)+s)),c=[e,i,n,s/255]}else 0==t.indexOf("rgba(")?(c=t.slice(5,-1).split(",").map(Number),f(c)):0==t.indexOf("rgb(")?(c=t.slice(4,-1).split(",").map(Number),c.push(1),f(c)):Object(r["a"])(!1,14);return c}function f(t){return t[0]=Object(n["a"])(t[0]+.5|0,0,255),t[1]=Object(n["a"])(t[1]+.5|0,0,255),t[2]=Object(n["a"])(t[2]+.5|0,0,255),t[3]=Object(n["a"])(t[3],0,1),t}function d(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var r=t[2];r!=(0|r)&&(r=r+.5|0);var n=void 0===t[3]?1:t[3];return"rgba("+e+","+i+","+r+","+n+")"}},"81e6":function(t,e,i){var r=i("0d63");r(r.S,"Object",{setPrototypeOf:i("30c9").set})},8267:function(t,e,i){"use strict";i("b92f")("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},"830e":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("bd30"),h=i("a0a2"),c=i("bd30"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=s.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);e.Arc=u,u.prototype._centroid=!0,u.prototype.className="Arc",u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],c._registerNode(u),o.Factory.addGetterSetter(u,"innerRadius",0,h.getNumberValidator()),o.Factory.addGetterSetter(u,"outerRadius",0,h.getNumberValidator()),o.Factory.addGetterSetter(u,"angle",0,h.getNumberValidator()),o.Factory.addGetterSetter(u,"clockwise",!1,h.getBooleanValidator()),n.Collection.mapMethods(u)},8366:function(t,e,i){"use strict";i("4027"),i("9388"),i("766b"),i("ab36"),i("9390"),i("1455"),i("16ee"),i("b70b"),i("c63d"),i("3b19"),i("012b"),i("fda5"),i("26aa"),i("96cf")},"837c":function(t,e,i){var r=i("37ff"),n=i("ad06");i("6397")("getPrototypeOf",(function(){return function(t){return n(r(t))}}))},8381:function(t,e,i){"use strict";i.r(e);var r=i("eafb"),n=i("0acf"),o=i("1e27"),a=i("e9ee"),s=i("5f6b"),h=i("a273"),c=i("3d22"),u={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},l=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+a["d"],this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(h["listen"])(this,Object(n["getChangeEventType"])(u.ELEMENT),this.handleElementChanged,this),Object(h["listen"])(this,Object(n["getChangeEventType"])(u.MAP),this.handleMapChanged,this),Object(h["listen"])(this,Object(n["getChangeEventType"])(u.OFFSET),this.handleOffsetChanged,this),Object(h["listen"])(this,Object(n["getChangeEventType"])(u.POSITION),this.handlePositionChanged,this),Object(h["listen"])(this,Object(n["getChangeEventType"])(u.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:o["default"].TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(u.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(u.MAP)},e.prototype.getOffset=function(){return this.get(u.OFFSET)},e.prototype.getPosition=function(){return this.get(u.POSITION)},e.prototype.getPositioning=function(){return this.get(u.POSITIONING)},e.prototype.handleElementChanged=function(){Object(s["d"])(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(s["e"])(this.element),Object(h["unlistenByKey"])(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(h["listen"])(t,r["a"].POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(u.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(u.ELEMENT,t)},e.prototype.setMap=function(t){this.set(u.MAP,t)},e.prototype.setOffset=function(t){this.set(u.OFFSET,t)},e.prototype.setPosition=function(t){this.set(u.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),r=this.getRect(i,[Object(s["c"])(i),Object(s["b"])(i)]),n=this.autoPanMargin;if(!Object(c["containsExtent"])(e,r)){var o=r[0]-e[0],a=e[2]-r[2],h=r[1]-e[1],u=e[3]-r[3],l=[0,0];if(o<0?l[0]=o-n:a<0&&(l[0]=Math.abs(a)+n),h<0?l[1]=h-n:u<0&&(l[1]=Math.abs(u)+n),0!==l[0]||0!==l[1]){var f=t.getView().getCenter(),d=t.getPixelFromCoordinate(f),p=[d[0]+l[0],d[1]+l[1]];t.getView().animate({center:t.getCoordinateFromPixel(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),r=i.left+window.pageXOffset,n=i.top+window.pageYOffset;return[r,n,r+e[0],n+e[1]]},e.prototype.setPositioning=function(t){this.set(u.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(i,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,r=this.getOffset(),n=this.getPositioning();this.setVisible(!0);var a=r[0],s=r[1];if(n==o["default"].BOTTOM_RIGHT||n==o["default"].CENTER_RIGHT||n==o["default"].TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=i.left="");var h=Math.round(e[0]-t[0]-a)+"px";this.rendered.right_!=h&&(this.rendered.right_=i.right=h)}else{""!==this.rendered.right_&&(this.rendered.right_=i.right=""),n!=o["default"].BOTTOM_CENTER&&n!=o["default"].CENTER_CENTER&&n!=o["default"].TOP_CENTER||(a-=this.element.offsetWidth/2);var c=Math.round(t[0]+a)+"px";this.rendered.left_!=c&&(this.rendered.left_=i.left=c)}if(n==o["default"].BOTTOM_LEFT||n==o["default"].BOTTOM_CENTER||n==o["default"].BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=i.top="");var u=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=u&&(this.rendered.bottom_=i.bottom=u)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=i.bottom=""),n!=o["default"].CENTER_LEFT&&n!=o["default"].CENTER_CENTER&&n!=o["default"].CENTER_RIGHT||(s-=this.element.offsetHeight/2);var l=Math.round(t[1]+s)+"px";this.rendered.top_!=l&&(this.rendered.top_=i.top=l)}},e.prototype.getOptions=function(){return this.options},e}(n["default"]);e["default"]=l},8393:function(t,e,i){"use strict";var r=i("fd21"),n=i("0acf"),o=i("5f62"),a=i("a7f3"),s=function(t){function e(e){t.call(this),this.projection_=Object(o["get"])(e.projection),this.attributions_=h(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:a["a"].READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(r["b"])()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=h(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(n["default"]);function h(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}e["a"]=s},"83b9":function(t,e,i){"use strict";var r=i("d925"),n=i("e683");t.exports=function(t,e){return t&&!r(e)?n(t,e):e}},"848f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("c33e"),a=i("a0a2"),s=function(t,e,i){var r,n,o,a,s=t.data,h=e.data,c=t.width,u=t.height,l=i.polarCenterX||c/2,f=i.polarCenterY||u/2,d=0,p=0,g=0,v=0,y=Math.sqrt(l*l+f*f);n=c-l,o=u-f,a=Math.sqrt(n*n+o*o),y=a>y?a:y;var m,_,b,w,x=u,S=c,E=360/S*Math.PI/180;for(_=0;_<S;_+=1)for(b=Math.sin(_*E),w=Math.cos(_*E),m=0;m<x;m+=1)n=Math.floor(l+y*m/x*w),o=Math.floor(f+y*m/x*b),r=4*(o*c+n),d=s[r+0],p=s[r+1],g=s[r+2],v=s[r+3],r=4*(_+m*c),h[r+0]=d,h[r+1]=p,h[r+2]=g,h[r+3]=v},h=function(t,e,i){var r,n,o,a,s,h,c=t.data,u=e.data,l=t.width,f=t.height,d=i.polarCenterX||l/2,p=i.polarCenterY||f/2,g=0,v=0,y=0,m=0,_=Math.sqrt(d*d+p*p);n=l-d,o=f-p,h=Math.sqrt(n*n+o*o),_=h>_?h:_;var b,w,x,S,E=f,O=l,T=i.polarRotation||0;for(n=0;n<l;n+=1)for(o=0;o<f;o+=1)a=n-d,s=o-p,b=Math.sqrt(a*a+s*s)*E/_,w=(180*Math.atan2(s,a)/Math.PI+360+T)%360,w=w*O/360,x=Math.floor(w),S=Math.floor(b),r=4*(S*l+x),g=c[r+0],v=c[r+1],y=c[r+2],m=c[r+3],r=4*(o*l+n),u[r+0]=g,u[r+1]=v,u[r+2]=y,u[r+3]=m};e.Kaleidoscope=function(t){var e,i,r,n,a,c,u,l,f,d,p=t.width,g=t.height,v=Math.round(this.kaleidoscopePower()),y=Math.round(this.kaleidoscopeAngle()),m=Math.floor(p*(y%360)/360);if(!(v<1)){var _=o.Util.createCanvasElement();_.width=p,_.height=g;var b=_.getContext("2d").getImageData(0,0,p,g);s(t,b,{polarCenterX:p/2,polarCenterY:g/2});var w=p/Math.pow(2,v);while(w<=8)w*=2,v-=1;w=Math.ceil(w);var x=w,S=0,E=x,O=1;for(m+w>p&&(S=x,E=0,O=-1),i=0;i<g;i+=1)for(e=S;e!==E;e+=O)r=Math.round(e+m)%p,f=4*(p*i+r),a=b.data[f+0],c=b.data[f+1],u=b.data[f+2],l=b.data[f+3],d=4*(p*i+e),b.data[d+0]=a,b.data[d+1]=c,b.data[d+2]=u,b.data[d+3]=l;for(i=0;i<g;i+=1)for(x=Math.floor(w),n=0;n<v;n+=1){for(e=0;e<x+1;e+=1)f=4*(p*i+e),a=b.data[f+0],c=b.data[f+1],u=b.data[f+2],l=b.data[f+3],d=4*(p*i+2*x-e-1),b.data[d+0]=a,b.data[d+1]=c,b.data[d+2]=u,b.data[d+3]=l;x*=2}h(b,t,{polarRotation:0})}},r.Factory.addGetterSetter(n.Node,"kaleidoscopePower",2,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"kaleidoscopeAngle",0,a.getNumberValidator(),r.Factory.afterSetFilter)},"867a":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i("9cc9"),n=i("88f2"),o=i("8efc"),a=i("70e4");function s(t){var e=t||{},i=new r["default"],s=void 0===e.zoom||e.zoom;s&&i.push(new a["a"](e.zoomOptions));var h=void 0===e.rotate||e.rotate;h&&i.push(new o["a"](e.rotateOptions));var c=void 0===e.attribution||e.attribution;return c&&i.push(new n["a"](e.attributionOptions)),i}},"876c":function(t,e,i){"use strict";var r=i("6843");function n(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var o;if(i)o=i(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(n(e)+"="+n(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},8820:function(t,e,i){var r=i("0d63"),n=i("1fd1"),o=i("ceb6"),a=i("ea05"),s=i("c7a3");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,i,r=o(t),h=a.f,c=n(r),u={},l=0;while(c.length>l)i=h(r,e=c[l++]),void 0!==i&&s(u,e,i);return u}})},"883b":function(t,e,i){var r=i("0d63"),n=i("42ee"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return n(t),!o||o(t)}})},"887c":function(t,e,i){var r=i("cdf9"),n=i("30c9").set;t.exports=function(t,e,i){var o,a=e.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&r(o)&&n&&n(t,o),t}},"88ec":function(t,e,i){var r=i("0d63");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},"88f2":function(t,e,i){"use strict";var r=i("6646"),n=i("efc8"),o=i("e9ee"),a=i("5f6b"),s=i("a273"),h=i("eee0"),c=i("3f2c"),u=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||l,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",n=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.collapseLabel?i.collapseLabel:"";"string"===typeof a?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a):this.collapseLabel_=a;var c=void 0!==i.label?i.label:"i";"string"===typeof c?(this.label_=document.createElement("span"),this.label_.textContent=c):this.label_=c;var u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=n,f.appendChild(u),Object(s["listen"])(f,h["default"].CLICK,this.handleClick_,this);var d=r+" "+o["e"]+" "+o["b"]+(this.collapsed_&&this.collapsible_?" "+o["a"]:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=d,p.appendChild(this.ulElement_),p.appendChild(f),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],r=t.layerStatesArray,n=t.viewState.resolution,o=0,a=r.length;o<a;++o){var s=r[o];if(Object(c["b"])(s,n)){var h=s.layer.getSource();if(h){var u=h.getAttributions();if(u){var l=u(t);if(l)if(this.overrideCollapsible_||!1!==h.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(l))for(var f=0,d=l.length;f<d;++f)l[f]in e||(i.push(l[f]),e[l[f]]=!0);else l in e||(i.push(l),e[l]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Object(r["b"])(e,this.renderedAttributions_)){Object(a["d"])(this.ulElement_);for(var n=0,o=e.length;n<o;++n){var s=document.createElement("li");s.innerHTML=e[n],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(o["a"]),this.collapsed_?Object(a["f"])(this.collapseLabel_,this.label_):Object(a["f"])(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(n["default"]);function l(t){this.updateElement_(t.frameState)}e["a"]=u},"89c3":function(t,e,i){var r=i("0d63"),n=i("6331"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return n(t)&&o(t)<=9007199254740991}})},"8a21":function(t,e,i){"use strict";i.d(e,"d",(function(){return c})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return f}));var r=i("41ec"),n=i("cc7a"),o=i("5c7d"),a=i("08fa"),s=i("abe5"),h=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=d,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function c(t){var e;if("function"===typeof t)e=t;else{var i;if(Array.isArray(t))i=t;else{Object(r["a"])("function"===typeof t.getZIndex,41);var n=t;i=[n]}e=function(){return i}}return e}h.prototype.clone=function(){var t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new h({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},h.prototype.getRenderer=function(){return this.renderer_},h.prototype.setRenderer=function(t){this.renderer_=t},h.prototype.getGeometry=function(){return this.geometry_},h.prototype.getGeometryFunction=function(){return this.geometryFunction_},h.prototype.getFill=function(){return this.fill_},h.prototype.setFill=function(t){this.fill_=t},h.prototype.getImage=function(){return this.image_},h.prototype.setImage=function(t){this.image_=t},h.prototype.getStroke=function(){return this.stroke_},h.prototype.setStroke=function(t){this.stroke_=t},h.prototype.getText=function(){return this.text_},h.prototype.setText=function(t){this.text_=t},h.prototype.getZIndex=function(){return this.zIndex_},h.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=d,this.geometry_=t},h.prototype.setZIndex=function(t){this.zIndex_=t};var u=null;function l(t,e){if(!u){var i=new a["a"]({color:"rgba(255,255,255,0.4)"}),r=new s["a"]({color:"#3399CC",width:1.25});u=[new h({image:new o["a"]({fill:i,stroke:r,radius:5}),fill:i,stroke:r})]}return u}function f(){var t={},e=[255,255,255,1],i=[0,153,255,1],r=3;return t[n["default"].POLYGON]=[new h({fill:new a["a"]({color:[255,255,255,.5]})})],t[n["default"].MULTI_POLYGON]=t[n["default"].POLYGON],t[n["default"].LINE_STRING]=[new h({stroke:new s["a"]({color:e,width:r+2})}),new h({stroke:new s["a"]({color:i,width:r})})],t[n["default"].MULTI_LINE_STRING]=t[n["default"].LINE_STRING],t[n["default"].CIRCLE]=t[n["default"].POLYGON].concat(t[n["default"].LINE_STRING]),t[n["default"].POINT]=[new h({image:new o["a"]({radius:2*r,fill:new a["a"]({color:i}),stroke:new s["a"]({color:e,width:r/2})}),zIndex:1/0})],t[n["default"].MULTI_POINT]=t[n["default"].POINT],t[n["default"].GEOMETRY_COLLECTION]=t[n["default"].POLYGON].concat(t[n["default"].LINE_STRING],t[n["default"].POINT]),t}function d(t){return t.getGeometry()}e["c"]=h},"8a49":function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n,o=i("c33e"),a=i("157d"),s=i("213f"),h=i("a0a2"),c=i("bd30"),u=i("14ede"),l="hasShadow",f="shadowRGBA",d="patternImage",p="linearGradient",g="radialGradient";function v(){return n||(n=o.Util.createCanvasElement().getContext("2d"),n)}function y(t){t.fill()}function m(t){t.stroke()}function _(t){t.fill()}function b(t){t.stroke()}function w(){this._clearCache(l)}function x(){this._clearCache(f)}function S(){this._clearCache(d)}function E(){this._clearCache(p)}function O(){this._clearCache(g)}e.shapes={};var T=function(t){function i(i){var r,n=t.call(this,i)||this;while(1)if(r=o.Util.getRandomColor(),r&&!(r in e.shapes))break;return n.colorKey=r,e.shapes[r]=n,n}return r(i,t),i.prototype.getContext=function(){return this.getLayer().getContext()},i.prototype.getCanvas=function(){return this.getLayer().getCanvas()},i.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this["_sceneFunc"]},i.prototype.getHitFunc=function(){return this.attrs.hitFunc||this["_hitFunc"]},i.prototype.hasShadow=function(){return this._getCache(l,this._hasShadow)},i.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},i.prototype._getFillPattern=function(){return this._getCache(d,this.__getFillPattern)},i.prototype.__getFillPattern=function(){if(this.fillPatternImage()){var t=v(),e=t.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");return e&&e.setTransform&&e.setTransform({a:this.fillPatternScaleX(),b:0,c:0,d:this.fillPatternScaleY(),e:0,f:0}),e}},i.prototype._getLinearGradient=function(){return this._getCache(p,this.__getLinearGradient)},i.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=v(),i=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),n=e.createLinearGradient(i.x,i.y,r.x,r.y),o=0;o<t.length;o+=2)n.addColorStop(t[o],t[o+1]);return n}},i.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},i.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=v(),i=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),n=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)n.addColorStop(t[o],t[o+1]);return n}},i.prototype.getShadowRGBA=function(){return this._getCache(f,this._getShadowRGBA)},i.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=o.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},i.prototype.hasFill=function(){var t=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return t.fillEnabled()&&!!(t.fill()||t.fillPatternImage()||t.fillLinearGradientColorStops()||t.fillRadialGradientColorStops())}))},i.prototype.hasStroke=function(){var t=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return t.strokeEnabled()&&t.strokeWidth()&&!(!t.stroke()&&!t.strokeLinearGradientColorStops())}))},i.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},i.prototype.intersects=function(t){var e,i=this.getStage(),r=i.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r),e=r.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,e[3]>0},i.prototype.destroy=function(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},i.prototype._useBufferCanvas=function(t){var e;if(!this.getStage())return!1;var i=null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e;if(!i)return!1;var r=t||this.hasFill(),n=this.hasStroke(),o=1!==this.getAbsoluteOpacity();if(r&&n&&o)return!0;var a=this.hasShadow(),s=this.shadowForStrokeEnabled();return!!(r&&n&&a&&s)},i.prototype.setStrokeHitEnabled=function(t){o.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},i.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},i.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},i.prototype.getClientRect=function(t){void 0===t&&(t={});var e=t.skipTransform,i=t.relativeTo,r=this.getSelfRect(),n=!t.skipStroke&&this.hasStroke(),o=n&&this.strokeWidth()||0,a=r.width+o,s=r.height+o,h=!t.skipShadow&&this.hasShadow(),c=h?this.shadowOffsetX():0,u=h?this.shadowOffsetY():0,l=a+Math.abs(c),f=s+Math.abs(u),d=h&&this.shadowBlur()||0,p=l+2*d,g=f+2*d,v=0;Math.round(o/2)!==o/2&&(v=1);var y={width:p+v,height:g+v,x:-Math.round(o/2+d)+Math.min(c,0)+r.x,y:-Math.round(o/2+d)+Math.min(u,0)+r.y};return e?y:this._transformedRect(y,i)},i.prototype.drawScene=function(t,e){var i,r,n,o=this.getLayer(),a=t||o.getCanvas(),s=a.getContext(),h=this._getCanvasCache(),c=this.getSceneFunc(),u=this.hasShadow(),l=a.isCache,f=a.isCache,d=e===this;if(!this.isVisible()&&!l)return this;if(h){s.save();var p=this.getAbsoluteTransform(e).getMatrix();return s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!c)return this;if(s.save(),this._useBufferCanvas()&&!f){i=this.getStage(),r=i.bufferCanvas,n=r.getContext(),n.clear(),n.save(),n._applyLineJoin(this);var g=this.getAbsoluteTransform(e).getMatrix();n.transform(g[0],g[1],g[2],g[3],g[4],g[5]),c.call(this,n,this),n.restore();var v=r.pixelRatio;u&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(r._canvas,0,0,r.width/v,r.height/v)}else{if(s._applyLineJoin(this),!d){g=this.getAbsoluteTransform(e).getMatrix();s.transform(g[0],g[1],g[2],g[3],g[4],g[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}u&&s._applyShadow(this),c.call(this,s,this)}return s.restore(),this},i.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var i=this.getLayer(),r=t||i.hitCanvas,n=r&&r.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),h=s&&s.hit;if(this.colorKey||(console.log(this),o.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),h){n.save();var c=this.getAbsoluteTransform(e).getMatrix();return n.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(n),n.restore(),this}if(!a)return this;n.save(),n._applyLineJoin(this);var u=this===e;if(!u){var l=this.getAbsoluteTransform(e).getMatrix();n.transform(l[0],l[1],l[2],l[3],l[4],l[5])}return a.call(this,n,this),n.restore(),this},i.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,i,r,n,a,s,h=this._getCanvasCache(),c=this._getCachedSceneCanvas(),u=h.hit,l=u.getContext(),f=u.getWidth(),d=u.getHeight();l.clear(),l.drawImage(c._canvas,0,0,f,d);try{for(e=l.getImageData(0,0,f,d),i=e.data,r=i.length,n=o.Util._hexToRgb(this.colorKey),a=0;a<r;a+=4)s=i[a+3],s>t?(i[a]=n.r,i[a+1]=n.g,i[a+2]=n.b,i[a+3]=255):i[a+3]=0;l.putImageData(e,0,0)}catch(p){o.Util.error("Unable to draw hit graph from cached scene canvas. "+p.message)}return this},i.prototype.hasPointerCapture=function(t){return u.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){u.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){u.releaseCapture(t,this)},i}(s.Node);e.Shape=T,T.prototype._fillFunc=y,T.prototype._strokeFunc=m,T.prototype._fillFuncHit=_,T.prototype._strokeFuncHit=b,T.prototype._centroid=!1,T.prototype.nodeType="Shape",c._registerNode(T),T.prototype.eventListeners={},T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",S),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",E),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",O),a.Factory.addGetterSetter(T,"stroke",void 0,h.getStringOrGradientValidator()),a.Factory.addGetterSetter(T,"strokeWidth",2,h.getNumberValidator()),a.Factory.addGetterSetter(T,"fillAfterStrokeEnabled",!1),a.Factory.addGetterSetter(T,"hitStrokeWidth","auto",h.getNumberOrAutoValidator()),a.Factory.addGetterSetter(T,"strokeHitEnabled",!0,h.getBooleanValidator()),a.Factory.addGetterSetter(T,"perfectDrawEnabled",!0,h.getBooleanValidator()),a.Factory.addGetterSetter(T,"shadowForStrokeEnabled",!0,h.getBooleanValidator()),a.Factory.addGetterSetter(T,"lineJoin"),a.Factory.addGetterSetter(T,"lineCap"),a.Factory.addGetterSetter(T,"sceneFunc"),a.Factory.addGetterSetter(T,"hitFunc"),a.Factory.addGetterSetter(T,"dash"),a.Factory.addGetterSetter(T,"dashOffset",0,h.getNumberValidator()),a.Factory.addGetterSetter(T,"shadowColor",void 0,h.getStringValidator()),a.Factory.addGetterSetter(T,"shadowBlur",0,h.getNumberValidator()),a.Factory.addGetterSetter(T,"shadowOpacity",1,h.getNumberValidator()),a.Factory.addComponentsGetterSetter(T,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(T,"shadowOffsetX",0,h.getNumberValidator()),a.Factory.addGetterSetter(T,"shadowOffsetY",0,h.getNumberValidator()),a.Factory.addGetterSetter(T,"fillPatternImage"),a.Factory.addGetterSetter(T,"fill",void 0,h.getStringOrGradientValidator()),a.Factory.addGetterSetter(T,"fillPatternX",0,h.getNumberValidator()),a.Factory.addGetterSetter(T,"fillPatternY",0,h.getNumberValidator()),a.Factory.addGetterSetter(T,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(T,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(T,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(T,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(T,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(T,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(T,"fillEnabled",!0),a.Factory.addGetterSetter(T,"strokeEnabled",!0),a.Factory.addGetterSetter(T,"shadowEnabled",!0),a.Factory.addGetterSetter(T,"dashEnabled",!0),a.Factory.addGetterSetter(T,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(T,"fillPriority","color"),a.Factory.addComponentsGetterSetter(T,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(T,"fillPatternOffsetX",0,h.getNumberValidator()),a.Factory.addGetterSetter(T,"fillPatternOffsetY",0,h.getNumberValidator()),a.Factory.addComponentsGetterSetter(T,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(T,"fillPatternScaleX",1,h.getNumberValidator()),a.Factory.addGetterSetter(T,"fillPatternScaleY",1,h.getNumberValidator()),a.Factory.addComponentsGetterSetter(T,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(T,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(T,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(T,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(T,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(T,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(T,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(T,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(T,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(T,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(T,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(T,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(T,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(T,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(T,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(T,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(T,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(T,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(T,"fillPatternRotation",0),a.Factory.backCompat(T,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),o.Collection.mapMethods(T)},"8abe":function(t,e,i){"use strict";var r=i("6843");t.exports=function(t,e){e=e||{};var i={},n=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(n,(function(t){"undefined"!==typeof e[t]&&(i[t]=e[t])})),r.forEach(o,(function(n){r.isObject(e[n])?i[n]=r.deepMerge(t[n],e[n]):"undefined"!==typeof e[n]?i[n]=e[n]:r.isObject(t[n])?i[n]=r.deepMerge(t[n]):"undefined"!==typeof t[n]&&(i[n]=t[n])})),r.forEach(a,(function(r){"undefined"!==typeof e[r]?i[r]=e[r]:"undefined"!==typeof t[r]&&(i[r]=t[r])}));var s=n.concat(o).concat(a),h=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(h,(function(r){"undefined"!==typeof e[r]?i[r]=e[r]:"undefined"!==typeof t[r]&&(i[r]=t[r])})),i}},"8c02":function(t,e,i){"use strict";i.r(e),e["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},"8c86":function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"8cc4":function(t,e,i){"use strict";var r=i("42ee"),n=i("37ff"),o=i("58d1"),a=i("d8b2"),s=i("9b0c"),h=i("e5bc"),c=Math.max,u=Math.min,l=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};i("ebca")("replace",2,(function(t,e,i,g){return[function(r,n){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,n):i.call(String(o),r,n)},function(t,e){var n=g(i,t,this,e);if(n.done)return n.value;var l=r(t),f=String(this),d="function"===typeof e;d||(e=String(e));var y=l.global;if(y){var m=l.unicode;l.lastIndex=0}var _=[];while(1){var b=h(l,f);if(null===b)break;if(_.push(b),!y)break;var w=String(b[0]);""===w&&(l.lastIndex=s(f,o(l.lastIndex),m))}for(var x="",S=0,E=0;E<_.length;E++){b=_[E];for(var O=String(b[0]),T=c(u(a(b.index),f.length),0),C=[],A=1;A<b.length;A++)C.push(p(b[A]));var L=b.groups;if(d){var R=[O].concat(C,T,f);void 0!==L&&R.push(L);var M=String(e.apply(void 0,R))}else M=v(O,f,T,C,L,e);T>=S&&(x+=f.slice(S,T)+M,S=T+O.length)}return x+f.slice(S)}];function v(t,e,r,o,a,s){var h=r+t.length,c=o.length,u=d;return void 0!==a&&(a=n(a),u=f),i.call(s,u,(function(i,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(h);case"<":s=a[n.slice(1,-1)];break;default:var u=+n;if(0===u)return i;if(u>c){var f=l(u/10);return 0===f?i:f<=c?void 0===o[f-1]?n.charAt(1):o[f-1]+n.charAt(1):i}s=o[u-1]}return void 0===s?"":s}))}}))},"8d29":function(t,e,i){"use strict";var r=i("37ff"),n=i("51ac"),o=i("58d1");t.exports=function(t){var e=r(this),i=o(e.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,i),h=a>2?arguments[2]:void 0,c=void 0===h?i:n(h,i);while(c>s)e[s++]=t;return e}},"8d2e":function(t,e){t.exports={}},"8d33":function(t,e,i){"use strict";var r=i("3b77"),n=i("0d63"),o=i("bd47"),a=i("c3fa"),s=i("8d2e"),h=i("60fa"),c=i("617f"),u=i("ad06"),l=i("9336")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",g="values",v=function(){return this};t.exports=function(t,e,i,y,m,_,b){h(i,e,y);var w,x,S,E=function(t){if(!f&&t in A)return A[t];switch(t){case p:return function(){return new i(this,t)};case g:return function(){return new i(this,t)}}return function(){return new i(this,t)}},O=e+" Iterator",T=m==g,C=!1,A=t.prototype,L=A[l]||A[d]||m&&A[m],R=L||E(m),M=m?T?E("entries"):R:void 0,I="Array"==e&&A.entries||L;if(I&&(S=u(I.call(new t)),S!==Object.prototype&&S.next&&(c(S,O,!0),r||"function"==typeof S[l]||a(S,l,v))),T&&L&&L.name!==g&&(C=!0,R=function(){return L.call(this)}),r&&!b||!f&&!C&&A[l]||a(A,l,R),s[e]=R,s[O]=v,m)if(w={values:T?R:E(g),keys:_?R:E(p),entries:M},b)for(x in w)x in A||o(A,x,w[x]);else n(n.P+n.F*(f||C),e,w);return w}},"8d45":function(t,e,i){"use strict";var r=i("6646"),n=i("3d22"),o=i("34f5"),a=i("cc7a"),s=i("1ea9"),h=i("9b05"),c=i("d5d0"),u=i("c5e9"),l=i("2ed0"),f=i("7f06"),d=i("ca54"),p=i("9ea6"),g=i("caa0"),v=function(t){function e(e,i){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(r["c"])(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(n["closestSquaredDistanceXY"])(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(h["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(h["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,r))},e.prototype.forEachSegment=function(t){return Object(p["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o["a"].XYM&&this.layout!=o["a"].XYZM)return null;var i=void 0!==e&&e;return Object(l["b"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return Object(u["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(l["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(d["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=Object(g["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,o["a"].XY)},e.prototype.getType=function(){return a["default"].LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(f["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c["b"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s["a"]);e["a"]=v},"8de70":function(t,e,i){"use strict";(function(e){var r=i("1499"),n=i("94c2"),o=i("a87f"),a=i("0a36").EventEmitter,s=i("1ebb"),h=function(){};function c(t){h(t),a.call(this);var i=this;n.polluteGlobalNamespace(),this.id="a"+s.string(6),t=o.addQuery(t,"c="+decodeURIComponent(n.WPrefix+"."+this.id)),h("using htmlfile",c.htmlfileEnabled);var r=c.htmlfileEnabled?n.createHtmlfile:n.createIframe;e[n.WPrefix][this.id]={start:function(){h("start"),i.iframeObj.loaded()},message:function(t){h("message",t),i.emit("message",t)},stop:function(){h("stop"),i._cleanup(),i._close("network")}},this.iframeObj=r(t,(function(){h("callback"),i._cleanup(),i._close("permanent")}))}r(c,a),c.prototype.abort=function(){h("abort"),this._cleanup(),this._close("user")},c.prototype._cleanup=function(){h("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete e[n.WPrefix][this.id]},c.prototype._close=function(t){h("_close",t),this.emit("close",null,t),this.removeAllListeners()},c.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in e)try{c.htmlfileEnabled=!!new e[u]("htmlfile")}catch(l){}c.enabled=c.htmlfileEnabled||n.iframeEnabled,t.exports=c}).call(this,i("c8ba"))},"8df4":function(t,e,i){"use strict";var r=i("7a77");function n(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;t((function(t){i.reason||(i.reason=new r(t),e(i.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var t,e=new n((function(e){t=e}));return{token:e,cancel:t}},t.exports=n},"8dfc":function(t,e,i){var r=i("0f26"),n=i("0d63"),o=i("42ee"),a=i("1bfb");n(n.S+n.F*i("b460")((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,i){o(t),e=a(e,!0),o(i);try{return r.f(t,e,i),!0}catch(n){return!1}}})},"8e85":function(t,e,i){var r=i("dfa5");t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},"8e8c":function(t,e,i){for(var r=i("221b"),n=i("b7e2"),o=i("bd47"),a=i("255a"),s=i("c3fa"),h=i("8d2e"),c=i("9336"),u=c("iterator"),l=c("toStringTag"),f=h.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(d),g=0;g<p.length;g++){var v,y=p[g],m=d[y],_=a[y],b=_&&_.prototype;if(b&&(b[u]||s(b,u,f),b[l]||s(b,l,y),h[y]=f,m))for(v in r)b[v]||o(b,v,r[v],!0)}},"8efc":function(t,e,i){"use strict";var r=i("efc8"),n=i("e9ee"),o=i("4641"),a=i("a273"),s=i("eee0"),h=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||c,target:i.target});var r=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"";this.label_=null,"string"===typeof o?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=o):(this.label_=o,this.label_.classList.add("ol-compass"));var h=i.tipLabel?i.tipLabel:"Reset rotation",u=document.createElement("button");u.className=r+"-reset",u.setAttribute("type","button"),u.title=h,u.appendChild(this.label_),Object(a["listen"])(u,s["default"].CLICK,this.handleClick_,this);var l=r+" "+n["e"]+" "+n["b"],f=this.element;f.className=l,f.appendChild(u),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(n["c"])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();e&&void 0!==e.getRotation()&&(this.duration_>0?e.animate({rotation:0,duration:this.duration_,easing:o["easeOut"]}):e.setRotation(0))},e}(r["default"]);function c(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var r="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(n["c"]);o||0!==i?o&&0!==i&&this.element.classList.remove(n["c"]):this.element.classList.add(n["c"])}this.label_.style.msTransform=r,this.label_.style.webkitTransform=r,this.label_.style.transform=r}this.rotation_=i}}e["a"]=h},"8efe":function(t,e,i){"use strict";var r=i("5f6b"),n=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=Object(r["a"])(t,t),this.canvas_=this.context_.canvas};n.prototype.get=function(t){return this.entries_[t]||null},n.prototype.add=function(t,e,i,r,n){for(var o=0,a=this.emptyBlocks_.length;o<a;++o){var s=this.emptyBlocks_[o];if(s.width>=e+this.space_&&s.height>=i+this.space_){var h={offsetX:s.x+this.space_,offsetY:s.y+this.space_,image:this.canvas_};return this.entries_[t]=h,r.call(n,this.context_,s.x+this.space_,s.y+this.space_),this.split_(o,s,e+this.space_,i+this.space_),h}}return null},n.prototype.split_=function(t,e,i,r){var n,o,a=e.width-i,s=e.height-r;a>s?(n={x:e.x+i,y:e.y,width:e.width-i,height:e.height},o={x:e.x,y:e.y+r,width:i,height:e.height-r},this.updateBlocks_(t,n,o)):(n={x:e.x+i,y:e.y,width:e.width-i,height:r},o={x:e.x,y:e.y+r,width:e.width,height:e.height-r},this.updateBlocks_(t,n,o))},n.prototype.updateBlocks_=function(t,e,i){var r=[t,1];e.width>0&&e.height>0&&r.push(e),i.width>0&&i.height>0&&r.push(i),this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)},e["a"]=n},"8f55":function(t,e,i){"use strict";var r=i("fd21"),n=i("93c4"),o=i.n(n),a=i("3d22"),s=i("acdf"),h=function(t){this.rbush_=o()(t,void 0),this.items_={}};h.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[Object(r["c"])(e)]=i},h.prototype.load=function(t,e){for(var i=new Array(e.length),n=0,o=e.length;n<o;n++){var a=t[n],s=e[n],h={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};i[n]=h,this.items_[Object(r["c"])(s)]=h}this.rbush_.load(i)},h.prototype.remove=function(t){var e=Object(r["c"])(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},h.prototype.update=function(t,e){var i=this.items_[Object(r["c"])(e)],n=[i.minX,i.minY,i.maxX,i.maxY];Object(a["equals"])(n,t)||(this.remove(e),this.insert(t,e))},h.prototype.getAll=function(){var t=this.rbush_.all();return t.map((function(t){return t.value}))},h.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},i=this.rbush_.search(e);return i.map((function(t){return t.value}))},h.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},h.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},h.prototype.forEach_=function(t,e,i){for(var r,n=0,o=t.length;n<o;n++)if(r=e.call(i,t[n]),r)return r;return r},h.prototype.isEmpty=function(){return Object(s["d"])(this.items_)},h.prototype.clear=function(){this.rbush_.clear(),this.items_={}},h.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(a["createOrUpdate"])(e.minX,e.minY,e.maxX,e.maxY,t)},h.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},e["a"]=h},"8f82":function(t,e,i){"use strict";i("c7c1")("sup",(function(t){return function(){return t(this,"sup","","")}}))},"8f8a":function(t,e,i){"use strict";i("c7c1")("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},"905f":function(t,e,i){var r=i("0d63"),n=i("5051")(!1);r(r.S,"Object",{values:function(t){return n(t)}})},"918d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.Threshold=function(t){var e,i=255*this.threshold(),r=t.data,n=r.length;for(e=0;e<n;e+=1)r[e]=r[e]<i?0:255},r.Factory.addGetterSetter(n.Node,"threshold",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},"922b":function(t,e,i){var r=i("0d63");r(r.S,"Math",{sign:i("a036")})},9322:function(t,e,i){"use strict";var r=i("6843");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(t){var r=t;return e&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=n(window.location.href),function(e){var i=r.isString(e)?n(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},9336:function(t,e,i){var r=i("94e4")("wks"),n=i("a909"),o=i("255a").Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:n)("Symbol."+t))};s.store=r},"933e":function(t,e,i){"use strict";if(i("6739")){var r=i("3b77"),n=i("255a"),o=i("b460"),a=i("0d63"),s=i("7634"),h=i("5d88"),c=i("d401"),u=i("4b13"),l=i("154b"),f=i("c3fa"),d=i("e603"),p=i("d8b2"),g=i("58d1"),v=i("482b"),y=i("51ac"),m=i("1bfb"),_=i("7e33"),b=i("e860"),w=i("cdf9"),x=i("37ff"),S=i("3d01"),E=i("af33"),O=i("ad06"),T=i("993b").f,C=i("575f"),A=i("a909"),L=i("9336"),R=i("9e2d"),M=i("cb03"),I=i("0a7d"),P=i("221b"),N=i("8d2e"),F=i("3b9e"),k=i("dbc5"),j=i("8d29"),D=i("c491"),G=i("0f26"),B=i("ea05"),U=G.f,z=B.f,q=n.RangeError,V=n.TypeError,H=n.Uint8Array,W="ArrayBuffer",Y="Shared"+W,K="BYTES_PER_ELEMENT",X="prototype",Z=Array[X],$=h.ArrayBuffer,J=h.DataView,Q=R(0),tt=R(2),et=R(3),it=R(4),rt=R(5),nt=R(6),ot=M(!0),at=M(!1),st=P.values,ht=P.keys,ct=P.entries,ut=Z.lastIndexOf,lt=Z.reduce,ft=Z.reduceRight,dt=Z.join,pt=Z.sort,gt=Z.slice,vt=Z.toString,yt=Z.toLocaleString,mt=L("iterator"),_t=L("toStringTag"),bt=A("typed_constructor"),wt=A("def_constructor"),xt=s.CONSTR,St=s.TYPED,Et=s.VIEW,Ot="Wrong length!",Tt=R(1,(function(t,e){return Mt(I(t,t[wt]),e)})),Ct=o((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),At=!!H&&!!H[X].set&&o((function(){new H(1).set({})})),Lt=function(t,e){var i=p(t);if(i<0||i%e)throw q("Wrong offset!");return i},Rt=function(t){if(w(t)&&St in t)return t;throw V(t+" is not a typed array!")},Mt=function(t,e){if(!w(t)||!(bt in t))throw V("It is not a typed array constructor!");return new t(e)},It=function(t,e){return Pt(I(t,t[wt]),e)},Pt=function(t,e){var i=0,r=e.length,n=Mt(t,r);while(r>i)n[i]=e[i++];return n},Nt=function(t,e,i){U(t,e,{get:function(){return this._d[i]}})},Ft=function(t){var e,i,r,n,o,a,s=x(t),h=arguments.length,u=h>1?arguments[1]:void 0,l=void 0!==u,f=C(s);if(void 0!=f&&!S(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(l&&h>2&&(u=c(u,arguments[2],2)),e=0,i=g(s.length),n=Mt(this,i);i>e;e++)n[e]=l?u(s[e],e):s[e];return n},kt=function(){var t=0,e=arguments.length,i=Mt(this,e);while(e>t)i[t]=arguments[t++];return i},jt=!!H&&o((function(){yt.call(new H(1))})),Dt=function(){return yt.apply(jt?gt.call(Rt(this)):Rt(this),arguments)},Gt={copyWithin:function(t,e){return D.call(Rt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(Rt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Rt(this),arguments)},filter:function(t){return It(this,tt(Rt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return nt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Rt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Rt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Rt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return dt.apply(Rt(this),arguments)},lastIndexOf:function(t){return ut.apply(Rt(this),arguments)},map:function(t){return Tt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Rt(this),arguments)},reduceRight:function(t){return ft.apply(Rt(this),arguments)},reverse:function(){var t,e=this,i=Rt(e).length,r=Math.floor(i/2),n=0;while(n<r)t=e[n],e[n++]=e[--i],e[i]=t;return e},some:function(t){return et(Rt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Rt(this),t)},subarray:function(t,e){var i=Rt(this),r=i.length,n=y(t,r);return new(I(i,i[wt]))(i.buffer,i.byteOffset+n*i.BYTES_PER_ELEMENT,g((void 0===e?r:y(e,r))-n))}},Bt=function(t,e){return It(this,gt.call(Rt(this),t,e))},Ut=function(t){Rt(this);var e=Lt(arguments[1],1),i=this.length,r=x(t),n=g(r.length),o=0;if(n+e>i)throw q(Ot);while(o<n)this[e+o]=r[o++]},zt={entries:function(){return ct.call(Rt(this))},keys:function(){return ht.call(Rt(this))},values:function(){return st.call(Rt(this))}},qt=function(t,e){return w(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function(t,e){return qt(t,e=m(e,!0))?l(2,t[e]):z(t,e)},Ht=function(t,e,i){return!(qt(t,e=m(e,!0))&&w(i)&&_(i,"value"))||_(i,"get")||_(i,"set")||i.configurable||_(i,"writable")&&!i.writable||_(i,"enumerable")&&!i.enumerable?U(t,e,i):(t[e]=i.value,t)};xt||(B.f=Vt,G.f=Ht),a(a.S+a.F*!xt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:Ht}),o((function(){vt.call({})}))&&(vt=yt=function(){return dt.call(this)});var Wt=d({},Gt);d(Wt,zt),f(Wt,mt,zt.values),d(Wt,{slice:Bt,set:Ut,constructor:function(){},toString:vt,toLocaleString:Dt}),Nt(Wt,"buffer","b"),Nt(Wt,"byteOffset","o"),Nt(Wt,"byteLength","l"),Nt(Wt,"length","e"),U(Wt,_t,{get:function(){return this[St]}}),t.exports=function(t,e,i,h){h=!!h;var c=t+(h?"Clamped":"")+"Array",l="get"+t,d="set"+t,p=n[c],y=p||{},m=p&&O(p),_=!p||!s.ABV,x={},S=p&&p[X],C=function(t,i){var r=t._d;return r.v[l](i*e+r.o,Ct)},A=function(t,i,r){var n=t._d;h&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),n.v[d](i*e+n.o,r,Ct)},L=function(t,e){U(t,e,{get:function(){return C(this,e)},set:function(t){return A(this,e,t)},enumerable:!0})};_?(p=i((function(t,i,r,n){u(t,p,c,"_d");var o,a,s,h,l=0,d=0;if(w(i)){if(!(i instanceof $||(h=b(i))==W||h==Y))return St in i?Pt(p,i):Ft.call(p,i);o=i,d=Lt(r,e);var y=i.byteLength;if(void 0===n){if(y%e)throw q(Ot);if(a=y-d,a<0)throw q(Ot)}else if(a=g(n)*e,a+d>y)throw q(Ot);s=a/e}else s=v(i),a=s*e,o=new $(a);f(t,"_d",{b:o,o:d,l:a,e:s,v:new J(o)});while(l<s)L(t,l++)})),S=p[X]=E(Wt),f(S,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&F((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=i((function(t,i,r,n){var o;return u(t,p,c),w(i)?i instanceof $||(o=b(i))==W||o==Y?void 0!==n?new y(i,Lt(r,e),n):void 0!==r?new y(i,Lt(r,e)):new y(i):St in i?Pt(p,i):Ft.call(p,i):new y(v(i))})),Q(m!==Function.prototype?T(y).concat(T(m)):T(y),(function(t){t in p||f(p,t,y[t])})),p[X]=S,r||(S.constructor=p));var R=S[mt],M=!!R&&("values"==R.name||void 0==R.name),I=zt.values;f(p,bt,!0),f(S,St,c),f(S,Et,!0),f(S,wt,p),(h?new p(1)[_t]==c:_t in S)||U(S,_t,{get:function(){return c}}),x[c]=p,a(a.G+a.W+a.F*(p!=y),x),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){y.of.call(p,1)})),c,{from:Ft,of:kt}),K in S||f(S,K,e),a(a.P,c,Gt),k(c),a(a.P+a.F*At,c,{set:Ut}),a(a.P+a.F*!M,c,zt),r||S.toString==vt||(S.toString=vt),a(a.P+a.F*o((function(){new p(1).slice()})),c,{slice:Bt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:Dt}),N[c]=M?R:I,r||M||f(S,mt,I)}}else t.exports=function(){}},9388:function(t,e,i){i("46d8"),t.exports=i("a06f").Array.includes},9390:function(t,e,i){i("4a60"),t.exports=i("a06f").String.padEnd},"93c4":function(t,e,i){"use strict";t.exports=n,t.exports.default=n;var r=i("553c");function n(t,e){if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,r,n){n||(n=y(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o,a=e;a<i;a++)o=t.children[a],h(n,t.leaf?r(o):o);return n}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),n=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,n-i)*Math.max(0,o-r)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function v(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,i,n,o){var a,s=[e,i];while(s.length)i=s.pop(),e=s.pop(),i-e<=n||(a=e+Math.ceil((i-e)/n/2)*n,r(t,a,e,i,o),s.push(e,a,a,i))}n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!v(t,e))return i;var n,o,a,s,h=[];while(e){for(n=0,o=e.children.length;n<o;n++)a=e.children[n],s=e.leaf?r(a):a,v(t,s)&&(e.leaf?i.push(a):g(t,s)?this._all(a,i):h.push(a));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!v(t,e))return!1;var r,n,o,a,s=[];while(e){for(r=0,n=e.children.length;r<n;r++)if(o=e.children[r],a=e.leaf?i(o):o,v(t,a)){if(e.leaf||g(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;var i,r,n,a,s=this.data,h=this.toBBox(t),c=[],u=[];while(s||c.length){if(s||(s=c.pop(),r=c[c.length-1],i=u.pop(),a=!0),s.leaf&&(n=o(t,s.children,e),-1!==n))return s.children.splice(n,1),c.push(s),this._condense(c),this;a||s.leaf||!g(s,h)?r?(i++,s=r.children[i],a=!1):s=null:(c.push(s),u.push(i),i=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){var i=[];while(t)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var n,o=i-e+1,s=this._maxEntries;if(o<=s)return n=y(t.slice(e,i+1)),a(n,this.toBBox),n;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),n=y([]),n.leaf=!1,n.height=r;var h,c,u,l,f=Math.ceil(o/s),d=f*Math.ceil(Math.sqrt(s));for(m(t,e,i,d,this.compareMinX),h=e;h<=i;h+=d)for(u=Math.min(h+d-1,i),m(t,h,u,f,this.compareMinY),c=h;c<=u;c+=f)l=Math.min(c+f-1,u),n.children.push(this._build(t,c,l,r-1));return a(n,this.toBBox),n},_chooseSubtree:function(t,e,i,r){var n,o,a,s,h,c,u,f;while(1){if(r.push(e),e.leaf||r.length-1===i)break;for(u=f=1/0,n=0,o=e.children.length;n<o;n++)a=e.children[n],h=l(a),c=d(t,a)-h,c<f?(f=c,u=h<u?h:u,s=a):c===f&&h<u&&(u=h,s=a);e=s||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,n=i?t:r(t),o=[],a=this._chooseSubtree(n,this.data,e,o);a.children.push(t),h(a,n);while(e>=0){if(!(o[e].children.length>this._maxEntries))break;this._split(o,e),e--}this._adjustParentBBoxes(n,o,e)},_split:function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var o=this._chooseSplitIndex(i,n,r),s=y(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,a(i,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,n,o,a,h,c,u,f;for(c=u=1/0,r=e;r<=i-e;r++)n=s(t,0,r,this.toBBox),o=s(t,r,i,this.toBBox),a=p(n,o),h=l(n)+l(o),a<c?(c=a,f=r,u=h<u?h:u):a===c&&h<u&&(u=h,f=r);return f},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:c,n=t.leaf?this.compareMinY:u,o=this._allDistMargin(t,e,i,r),a=this._allDistMargin(t,e,i,n);o<a&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var n,o,a=this.toBBox,c=s(t,0,e,a),u=s(t,i-e,i,a),l=f(c)+f(u);for(n=e;n<i-e;n++)o=t.children[n],h(c,t.leaf?a(o):o),l+=f(c);for(n=i-e-1;n>=e;n--)o=t.children[n],h(u,t.leaf?a(o):o),l+=f(u);return l},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)h(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():a(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},"93cf":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("bd30"),n=i("c33e"),o=i("213f"),a=i("b9e3"),s=i("fa76"),h=i("2939"),c=i("1802"),u=i("1613"),l=i("d09a"),f=i("8a49"),d=i("c8a3"),p=i("5e6a"),g=i("ce4e"),v=i("b5c4");e.Konva=n.Util._assign(r.Konva,{Collection:n.Collection,Util:n.Util,Transform:n.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:a.Container,Stage:s.Stage,stages:s.stages,Layer:h.Layer,FastLayer:c.FastLayer,Group:u.Group,DD:l.DD,Shape:f.Shape,shapes:f.shapes,Animation:d.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:v.Canvas})},"93de":function(t,e,i){"use strict";var r=i("0d63"),n=i("ef15"),o=i("dfa5"),a=i("51ac"),s=i("58d1"),h=[].slice;r(r.P+r.F*i("b460")((function(){n&&h.call(n)})),"Array",{slice:function(t,e){var i=s(this.length),r=o(this);if(e=void 0===e?i:e,"Array"==r)return h.call(this,t,e);for(var n=a(t,i),c=a(e,i),u=s(c-n),l=new Array(u),f=0;f<u;f++)l[f]="String"==r?this.charAt(n+f):this[n+f];return l}})},9418:function(t,e,i){"use strict";var r=i("a6a2"),n=i("3f2c"),o=function(t){function e(e){var i=e||{};t.call(this,i),this.type=r["a"].IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n["a"]);o.prototype.getSource,e["a"]=o},"94c2":function(t,e,i){"use strict";(function(e){var r=i("4035"),n=i("5db0"),o=i("1691"),a=function(){};t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in e||(e[t.exports.WPrefix]={})},postMessage:function(i,r){e.parent!==e?e.parent.postMessage(n.stringify({windowId:t.exports.currentWindowId,type:i,data:r||""}),"*"):a("Cannot postMessage, no parent window.",i,r)},createIframe:function(t,i){var n,o,s=e.document.createElement("iframe"),h=function(){a("unattach"),clearTimeout(n);try{s.onload=null}catch(t){}s.onerror=null},c=function(){a("cleanup"),s&&(h(),setTimeout((function(){s&&s.parentNode.removeChild(s),s=null}),0),r.unloadDel(o))},u=function(t){a("onerror",t),s&&(c(),i(t))},l=function(t,e){a("post",t,e),setTimeout((function(){try{s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}catch(i){}}),0)};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){u("onerror")},s.onload=function(){a("onload"),clearTimeout(n),n=setTimeout((function(){u("onload timeout")}),2e3)},e.document.body.appendChild(s),n=setTimeout((function(){u("timeout")}),15e3),o=r.unloadAdd(c),{post:l,cleanup:c,loaded:h}},createHtmlfile:function(i,n){var o,s,h,c=["Active"].concat("Object").join("X"),u=new e[c]("htmlfile"),l=function(){clearTimeout(o),h.onerror=null},f=function(){u&&(l(),r.unloadDel(s),h.parentNode.removeChild(h),h=u=null,CollectGarbage())},d=function(t){a("onerror",t),u&&(f(),n(t))},p=function(t,e){try{setTimeout((function(){h&&h.contentWindow&&h.contentWindow.postMessage(t,e)}),0)}catch(i){}};u.open(),u.write('<html><script>document.domain="'+e.document.domain+'";<\/script></html>'),u.close(),u.parentWindow[t.exports.WPrefix]=e[t.exports.WPrefix];var g=u.createElement("div");return u.body.appendChild(g),h=u.createElement("iframe"),g.appendChild(h),h.src=i,h.onerror=function(){d("onerror")},o=setTimeout((function(){d("timeout")}),15e3),s=r.unloadAdd(f),{post:p,cleanup:f,loaded:l}}},t.exports.iframeEnabled=!1,e.document&&(t.exports.iframeEnabled=("function"===typeof e.postMessage||"object"===typeof e.postMessage)&&!o.isKonqueror())}).call(this,i("c8ba"))},"94e4":function(t,e,i){var r=i("a06f"),n=i("255a"),o="__core-js_shared__",a=n[o]||(n[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:i("3b77")?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},9695:function(t,e,i){"use strict";var r=function(){};r.prototype.drawCustom=function(t,e,i){},r.prototype.drawGeometry=function(t){},r.prototype.setStyle=function(t){},r.prototype.drawCircle=function(t,e){},r.prototype.drawFeature=function(t,e){},r.prototype.drawGeometryCollection=function(t,e){},r.prototype.drawLineString=function(t,e){},r.prototype.drawMultiLineString=function(t,e){},r.prototype.drawMultiPoint=function(t,e){},r.prototype.drawMultiPolygon=function(t,e){},r.prototype.drawPoint=function(t,e){},r.prototype.drawPolygon=function(t,e){},r.prototype.drawText=function(t,e){},r.prototype.setFillStrokeStyle=function(t,e){},r.prototype.setImageStyle=function(t,e){},r.prototype.setTextStyle=function(t,e){},e["a"]=r},"96cf":function(t,e,i){var r=function(t){"use strict";var e,i=Object.prototype,r=i.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function h(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(I){h=function(t,e,i){return t[e]=i}}function c(t,e,i,r){var n=e&&e.prototype instanceof v?e:v,o=Object.create(n.prototype),a=new L(r||[]);return o._invoke=O(t,i,a),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(I){return{type:"throw",arg:I}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function v(){}function y(){}function m(){}var _={};h(_,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(R([])));w&&w!==i&&r.call(w,o)&&(_=w);var x=m.prototype=v.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function i(n,o,a,s){var h=u(t[n],t,o);if("throw"!==h.type){var c=h.arg,l=c.value;return l&&"object"===typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(h.arg)}var n;function o(t,r){function o(){return new e((function(e,n){i(t,r,e,n)}))}return n=n?n.then(o,o):o()}this._invoke=o}function O(t,e,i){var r=l;return function(n,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===n)throw o;return M()}i.method=n,i.arg=o;while(1){var a=i.delegate;if(a){var s=T(a,i);if(s){if(s===g)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===l)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=d;var h=u(t,e,i);if("normal"===h.type){if(r=i.done?p:f,h.arg===g)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=p,i.method="throw",i.arg=h.arg)}}}function T(t,i){var r=t.iterator[i.method];if(r===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,T(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=u(r,t.iterator,i.arg);if("throw"===n.type)return i.method="throw",i.arg=n.arg,i.delegate=null,g;var o=n.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,g):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function R(t){if(t){var i=t[o];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function i(){while(++n<t.length)if(r.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=e,i.done=!0,i};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return y.prototype=m,h(x,"constructor",m),h(m,"constructor",y),y.displayName=h(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,h(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},S(E.prototype),h(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,i,r,n,o){void 0===o&&(o=Promise);var a=new E(c(e,i,r,n),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),h(x,s,"Generator"),h(x,o,(function(){return this})),h(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=R,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function n(r,n){return s.type="throw",s.arg=t,i.next=r,n&&(i.method="next",i.arg=e),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var h=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(h&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(h){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;A(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:R(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=r}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},9734:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"h",(function(){return o})),i.d(e,"j",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"b",(function(){return h})),i.d(e,"a",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"i",(function(){return l})),i.d(e,"g",(function(){return f})),i.d(e,"f",(function(){return d}));var r="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",n=-1!==r.indexOf("firefox"),o=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom"),a=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge"),s=-1!==r.indexOf("macintosh"),h=window.devicePixelRatio||1,c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(e){}return t}(),u="geolocation"in navigator,l="ontouchstart"in window,f="PointerEvent"in window,d=!!navigator.msPointerEnabled},"978e":function(t,e,i){"use strict";var r=i("7480");function n(t){var e,i;this.promise=new t((function(t,r){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=r})),this.resolve=r(e),this.reject=r(i)}t.exports.f=function(t){return new n(t)}},"981d":function(t,e,i){"use strict";e["a"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},9825:function(t,e,i){var r=i("255a"),n=i("0d63"),o=i("679a"),a=[].slice,s=/MSIE .\./.test(o),h=function(t){return function(e,i){var r=arguments.length>2,n=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,i)}};n(n.G+n.B+n.F*s,{setTimeout:h(r.setTimeout),setInterval:h(r.setInterval)})},"993b":function(t,e,i){var r=i("cc80"),n=i("afae").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"9a27":function(t,e){e.f={}.propertyIsEnumerable},"9a77":function(t,e,i){var r=i("cdf9");i("6397")("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},"9ab4":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));function r(t,e,i,r){var n,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a}function n(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}},"9ae4":function(t,e,i){"use strict";(function(e){var r=i("1499"),n=i("155f"),o=i("21ea"),a=i("dd68");function s(t){if(!s.enabled())throw new Error("Transport created when disabled");n.call(this,t,"/jsonp",a,o)}r(s,n),s.enabled=function(){return!!e.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,t.exports=s}).call(this,i("c8ba"))},"9b05":function(t,e,i){"use strict";i.d(e,"e",(function(){return o})),i.d(e,"a",(function(){return a})),i.d(e,"f",(function(){return s})),i.d(e,"d",(function(){return h})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return u}));var r=i("136c");function n(t,e,i,n,o,a,s){var h,c=t[e],u=t[e+1],l=t[i]-c,f=t[i+1]-u;if(0===l&&0===f)h=e;else{var d=((o-c)*l+(a-u)*f)/(l*l+f*f);if(d>1)h=i;else{if(d>0){for(var p=0;p<n;++p)s[p]=Object(r["c"])(t[e+p],t[i+p],d);return void(s.length=n)}h=e}}for(var g=0;g<n;++g)s[g]=t[h+g];s.length=n}function o(t,e,i,n,o){var a=t[e],s=t[e+1];for(e+=n;e<i;e+=n){var h=t[e],c=t[e+1],u=Object(r["g"])(a,s,h,c);u>o&&(o=u),a=h,s=c}return o}function a(t,e,i,r,n){for(var a=0,s=i.length;a<s;++a){var h=i[a];n=o(t,e,h,r,n),e=h}return n}function s(t,e,i,r,n){for(var o=0,s=i.length;o<s;++o){var h=i[o];n=a(t,e,h,r,n),e=h[h.length-1]}return n}function h(t,e,i,o,a,s,h,c,u,l,f){if(e==i)return l;var d,p;if(0===a){if(p=Object(r["g"])(h,c,t[e],t[e+1]),p<l){for(d=0;d<o;++d)u[d]=t[e+d];return u.length=o,p}return l}var g=f||[NaN,NaN],v=e+o;while(v<i)if(n(t,v-o,v,o,h,c,g),p=Object(r["g"])(h,c,g[0],g[1]),p<l){for(l=p,d=0;d<o;++d)u[d]=g[d];u.length=o,v+=o}else v+=o*Math.max((Math.sqrt(p)-Math.sqrt(l))/a|0,1);if(s&&(n(t,i-o,e,o,h,c,g),p=Object(r["g"])(h,c,g[0],g[1]),p<l)){for(l=p,d=0;d<o;++d)u[d]=g[d];u.length=o}return l}function c(t,e,i,r,n,o,a,s,c,u,l){for(var f=l||[NaN,NaN],d=0,p=i.length;d<p;++d){var g=i[d];u=h(t,e,g,r,n,o,a,s,c,u,f),e=g}return u}function u(t,e,i,r,n,o,a,s,h,u,l){for(var f=l||[NaN,NaN],d=0,p=i.length;d<p;++d){var g=i[d];u=c(t,e,g,r,n,o,a,s,h,u,f),e=g[g.length-1]}return u}},"9b0c":function(t,e,i){"use strict";var r=i("a743")(!0);t.exports=function(t,e,i){return e+(i?r(t,e).length:1)}},"9b54":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){var e,i,r=t.data,n=r.length;for(e=0;e<n;e+=4)i=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=i,r[e+1]=i,r[e+2]=i}},"9c55":function(t,e,i){var r=i("58d1"),n=i("6d89"),o=i("6744");t.exports=function(t,e,i,a){var s=String(o(t)),h=s.length,c=void 0===i?" ":String(i),u=r(e);if(u<=h||""==c)return s;var l=u-h,f=n.call(c,Math.ceil(l/c.length));return f.length>l&&(f=f.slice(0,l)),a?f+s:s+f}},"9c75":function(t,e,i){"use strict";var r=i("0d63"),n=i("7634"),o=i("5d88"),a=i("42ee"),s=i("51ac"),h=i("58d1"),c=i("cdf9"),u=i("255a").ArrayBuffer,l=i("0a7d"),f=o.ArrayBuffer,d=o.DataView,p=n.ABV&&u.isView,g=f.prototype.slice,v=n.VIEW,y="ArrayBuffer";r(r.G+r.W+r.F*(u!==f),{ArrayBuffer:f}),r(r.S+r.F*!n.CONSTR,y,{isView:function(t){return p&&p(t)||c(t)&&v in t}}),r(r.P+r.U+r.F*i("b460")((function(){return!new f(2).slice(1,void 0).byteLength})),y,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(a(this),t);var i=a(this).byteLength,r=s(t,i),n=s(void 0===e?i:e,i),o=new(l(this,f))(h(n-r)),c=new d(this),u=new d(o),p=0;while(r<n)u.setUint8(p++,c.getUint8(r++));return o}}),i("dbc5")(y)},"9c7f":function(t,e,i){"use strict";var r=function(t,e){this.dispatcher=t,this.mapping_=e};r.prototype.getEvents=function(){return Object.keys(this.mapping_)},r.prototype.getHandlerForEvent=function(t){return this.mapping_[t]},e["a"]=r},"9cc9":function(t,e,i){"use strict";i.r(e),i.d(e,"CollectionEvent",(function(){return h}));var r=i("cd2e"),n=i("461e"),o=i("0acf"),a=i("64c1"),s={LENGTH:"length"},h=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]),c=function(t){function e(e,i){t.call(this);var r=i||{};if(this.unique_=!!r.unique,this.array_=e||[],this.unique_)for(var n=0,o=this.array_.length;n<o;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){while(this.getLength()>0)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,r=e.length;i<r;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(s.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new h(n["a"].ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,r=e.length;i<r;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h(n["a"].REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new h(n["a"].REMOVE,r)),this.dispatchEvent(new h(n["a"].ADD,e))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(s.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new r["a"](58)},e}(o["default"]);e["default"]=c},"9cfa":function(t,e,i){var r=i("0d63");r(r.P,"Function",{bind:i("b66c")})},"9dc2":function(t,e,i){"use strict";var r=i("4cec"),n=i("388d"),o="Map";t.exports=i("aef6")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(n(this,o),t);return e&&e.v},set:function(t,e){return r.def(n(this,o),0===t?0:t,e)}},r,!0)},"9e2d":function(t,e,i){var r=i("d401"),n=i("2635"),o=i("37ff"),a=i("58d1"),s=i("10cf");t.exports=function(t,e){var i=1==t,h=2==t,c=3==t,u=4==t,l=6==t,f=5==t||l,d=e||s;return function(e,s,p){for(var g,v,y=o(e),m=n(y),_=r(s,p,3),b=a(m.length),w=0,x=i?d(e,b):h?d(e,0):void 0;b>w;w++)if((f||w in m)&&(g=m[w],v=_(g,w,y),t))if(i)x[w]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:x.push(g)}else if(u)return!1;return l?-1:c||u?u:x}}},"9e3f":function(t,e,i){"use strict";var r=i("169a"),n=i("42ee"),o=i("0a7d"),a=i("9b0c"),s=i("58d1"),h=i("e5bc"),c=i("12c1"),u=i("b460"),l=Math.min,f=[].push,d="split",p="length",g="lastIndex",v=4294967295,y=!u((function(){RegExp(v,"y")}));i("ebca")("split",2,(function(t,e,i,u){var m;return m="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||"."[d](/()()/)[p]>1||""[d](/.?/)[p]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var o,a,s,h=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,d=void 0===e?v:e>>>0,y=new RegExp(t.source,u+"g");while(o=c.call(y,n)){if(a=y[g],a>l&&(h.push(n.slice(l,o.index)),o[p]>1&&o.index<n[p]&&f.apply(h,o.slice(1)),s=o[0][p],l=a,h[p]>=d))break;y[g]===o.index&&y[g]++}return l===n[p]?!s&&y.test("")||h.push(""):h.push(n.slice(l)),h[p]>d?h.slice(0,d):h}:"0"[d](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,r){var n=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,n,r):m.call(String(n),i,r)},function(t,e){var r=u(m,t,this,e,m!==i);if(r.done)return r.value;var c=n(t),f=String(this),d=o(c,RegExp),p=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(y?"y":"g"),_=new d(y?c:"^(?:"+c.source+")",g),b=void 0===e?v:e>>>0;if(0===b)return[];if(0===f.length)return null===h(_,f)?[f]:[];var w=0,x=0,S=[];while(x<f.length){_.lastIndex=y?x:0;var E,O=h(_,y?f:f.slice(x));if(null===O||(E=l(s(_.lastIndex+(y?0:x)),f.length))===w)x=a(f,x,p);else{if(S.push(f.slice(w,x)),S.length===b)return S;for(var T=1;T<=O.length-1;T++)if(S.push(O[T]),S.length===b)return S;x=w=E}}return S.push(f.slice(w)),S}]}))},"9e46":function(t,e,i){"use strict";var r=i("255a"),n=i("7e33"),o=i("6739"),a=i("0d63"),s=i("bd47"),h=i("bded").KEY,c=i("b460"),u=i("94e4"),l=i("617f"),f=i("a909"),d=i("9336"),p=i("5a30"),g=i("17b2"),v=i("78f9"),y=i("bc48"),m=i("42ee"),_=i("cdf9"),b=i("37ff"),w=i("ceb6"),x=i("1bfb"),S=i("154b"),E=i("af33"),O=i("ec47"),T=i("ea05"),C=i("e038"),A=i("0f26"),L=i("b7e2"),R=T.f,M=A.f,I=O.f,P=r.Symbol,N=r.JSON,F=N&&N.stringify,k="prototype",j=d("_hidden"),D=d("toPrimitive"),G={}.propertyIsEnumerable,B=u("symbol-registry"),U=u("symbols"),z=u("op-symbols"),q=Object[k],V="function"==typeof P&&!!C.f,H=r.QObject,W=!H||!H[k]||!H[k].findChild,Y=o&&c((function(){return 7!=E(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,i){var r=R(q,e);r&&delete q[e],M(t,e,i),r&&t!==q&&M(q,e,r)}:M,K=function(t){var e=U[t]=E(P[k]);return e._k=t,e},X=V&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Z=function(t,e,i){return t===q&&Z(z,e,i),m(t),e=x(e,!0),m(i),n(U,e)?(i.enumerable?(n(t,j)&&t[j][e]&&(t[j][e]=!1),i=E(i,{enumerable:S(0,!1)})):(n(t,j)||M(t,j,S(1,{})),t[j][e]=!0),Y(t,e,i)):M(t,e,i)},$=function(t,e){m(t);var i,r=v(e=w(e)),n=0,o=r.length;while(o>n)Z(t,i=r[n++],e[i]);return t},J=function(t,e){return void 0===e?E(t):$(E(t),e)},Q=function(t){var e=G.call(this,t=x(t,!0));return!(this===q&&n(U,t)&&!n(z,t))&&(!(e||!n(this,t)||!n(U,t)||n(this,j)&&this[j][t])||e)},tt=function(t,e){if(t=w(t),e=x(e,!0),t!==q||!n(U,e)||n(z,e)){var i=R(t,e);return!i||!n(U,e)||n(t,j)&&t[j][e]||(i.enumerable=!0),i}},et=function(t){var e,i=I(w(t)),r=[],o=0;while(i.length>o)n(U,e=i[o++])||e==j||e==h||r.push(e);return r},it=function(t){var e,i=t===q,r=I(i?z:w(t)),o=[],a=0;while(r.length>a)!n(U,e=r[a++])||i&&!n(q,e)||o.push(U[e]);return o};V||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===q&&e.call(z,i),n(this,j)&&n(this[j],t)&&(this[j][t]=!1),Y(this,t,S(1,i))};return o&&W&&Y(q,t,{configurable:!0,set:e}),K(t)},s(P[k],"toString",(function(){return this._k})),T.f=tt,A.f=Z,i("993b").f=O.f=et,i("9a27").f=Q,C.f=it,o&&!i("3b77")&&s(q,"propertyIsEnumerable",Q,!0),p.f=function(t){return K(d(t))}),a(a.G+a.W+a.F*!V,{Symbol:P});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;rt.length>nt;)d(rt[nt++]);for(var ot=L(d.store),at=0;ot.length>at;)g(ot[at++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return n(B,t+="")?B[t]:B[t]=P(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!V,"Object",{create:J,defineProperty:Z,defineProperties:$,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:it});var st=c((function(){C.f(1)}));a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return C.f(b(t))}}),N&&a(a.S+a.F*(!V||c((function(){var t=P();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){var e,i,r=[t],n=1;while(arguments.length>n)r.push(arguments[n++]);if(i=e=r[1],(_(e)||void 0!==t)&&!X(t))return y(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!X(e))return e}),r[1]=e,F.apply(N,r)}}),P[k][D]||i("c3fa")(P[k],D,P[k].valueOf),l(P,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},"9ea6":function(t,e,i){"use strict";function r(t,e,i,r,n,o){for(var a,s=[t[e],t[e+1]],h=[];e+r<i;e+=r){if(h[0]=t[e+r],h[1]=t[e+r+1],a=n.call(o,s,h),a)return a;s[0]=h[0],s[1]=h[1]}return!1}i.d(e,"a",(function(){return r}))},"9ec8":function(t,e,i){var r=i("9336")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,!"/./"[t](e)}catch(n){}}return!0}},"9ee7":function(t,e,i){"use strict";e["a"]={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},"9eff":function(t,e,i){"use strict";var r=i("3d22"),n=i("cc7a"),o=i("1ea9"),a=i("d5d0"),s=i("136c"),h=function(t){function e(e,i){t.call(this),this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t},e.prototype.closestPointXY=function(t,e,i,r){var n=this.flatCoordinates,o=Object(s["g"])(t,e,n[0],n[1]);if(o<r){for(var a=this.stride,h=0;h<a;++h)i[h]=n[h];return i.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(r["createOrUpdateFromCoordinate"])(this.flatCoordinates,t)},e.prototype.getType=function(){return n["default"].POINT},e.prototype.intersectsExtent=function(t){return Object(r["containsXY"])(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(a["a"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o["a"]);e["a"]=h},"9fa2":function(t,e,i){"use strict";e["a"]={PROPERTYCHANGE:"propertychange"}},"9faf":function(t,e,i){"use strict";var r,n=i("5db0"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,a=function(t){var e,i={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return i[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,i};t.exports={quote:function(t){var e=n.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=a(o)),e.replace(o,(function(t){return r[t]}))):e}}},a036:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},a045:function(t,e,i){"use strict";i.r(e),i.d(e,"createStyleFunction",(function(){return h}));var r=i("41ec"),n=i("a273"),o=i("eee0"),a=i("0acf"),s=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(n["listen"])(this,Object(a["getChangeEventType"])(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"===typeof e.getSimplifiedGeometry){var i=e;this.setGeometry(i)}else{var r=e;this.setProperties(r)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(n["unlistenByKey"])(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(n["listen"])(t,o["default"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(n["unlisten"])(this,Object(a["getChangeEventType"])(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(n["listen"])(this,Object(a["getChangeEventType"])(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(a["default"]);function h(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(r["a"])("function"===typeof t.getZIndex,41);var i=t;e=[i]}return function(){return e}}e["default"]=s},a06f:function(t,e){var i=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=i)},a0a2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("bd30"),n=i("c33e");function o(t){return n.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||n.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function a(t){return t>255?255:t<0?0:Math.round(t)}function s(t){return t>1?1:t<1e-4?1e-4:t}function h(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isNumber(t)||n.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function c(t){if(r.Konva.isUnminified)return function(e,i){var r=n.Util._isNumber(e),a=n.Util._isArray(e)&&e.length==t;return r||a||n.Util.warn(o(e)+' is a not valid value for "'+i+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function u(){if(r.Konva.isUnminified)return function(t,e){var i=n.Util._isNumber(t),r="auto"===t;return i||r||n.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function l(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isString(t)||n.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function f(){if(r.Konva.isUnminified)return function(t,e){var i=n.Util._isString(t),r="[object CanvasGradient]"===Object.prototype.toString.call(t);return i||r||n.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function d(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isFunction(t)||n.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function p(){if(r.Konva.isUnminified)return function(t,e){return n.Util._isArray(t)?t.forEach((function(t){n.Util._isNumber(t)||n.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):n.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}}function g(){if(r.Konva.isUnminified)return function(t,e){var i=!0===t||!1===t;return i||n.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function v(t){if(r.Konva.isUnminified)return function(e,i){return n.Util.isObject(e)||n.Util.warn(o(e)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+t),e}}e.RGBComponent=a,e.alphaComponent=s,e.getNumberValidator=h,e.getNumberOrArrayOfNumbersValidator=c,e.getNumberOrAutoValidator=u,e.getStringValidator=l,e.getStringOrGradientValidator=f,e.getFunctionValidator=d,e.getNumberArrayValidator=p,e.getBooleanValidator=g,e.getComponentValidator=v},a1ad:function(t,e,i){"use strict";var r=i("41ec"),n=i("5537"),o=i("eee0"),a=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o["default"].CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){var i=this.oldest_;while(i)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(r["a"])(void 0!==e,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},e.prototype.remove=function(t){var e=this.entries_[t];return Object(r["a"])(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(r["a"])(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){while(this.canExpireCache())this.pop()},e}(n["a"]);e["a"]=a},a273:function(t,e,i){"use strict";i.r(e),i.d(e,"bindListener",(function(){return n})),i.d(e,"findListener",(function(){return o})),i.d(e,"getListeners",(function(){return a})),i.d(e,"listen",(function(){return u})),i.d(e,"listenOnce",(function(){return l})),i.d(e,"unlisten",(function(){return f})),i.d(e,"unlistenByKey",(function(){return d})),i.d(e,"unlistenAll",(function(){return p}));var r=i("acdf");function n(t){var e=function(e){var i=t.listener,r=t.bindTo||t.target;return t.callOnce&&d(t),i.call(r,e)};return t.boundListener=e,e}function o(t,e,i,r){for(var n,o=0,a=t.length;o<a;++o)if(n=t[o],n.listener===e&&n.bindTo===i)return r&&(n.deleteIndex=o),n}function a(t,e){var i=s(t);return i?i[e]:void 0}function s(t,e){var i=t.ol_lm;return!i&&e&&(i=t.ol_lm={}),i}function h(t){delete t.ol_lm}function c(t,e){var i=a(t,e);if(i){for(var n=0,o=i.length;n<o;++n)t.removeEventListener(e,i[n].boundListener),Object(r["b"])(i[n]);i.length=0;var c=s(t);c&&(delete c[e],0===Object.keys(c).length&&h(t))}}function u(t,e,i,r,a){var h=s(t,!0),c=h[e];c||(c=h[e]=[]);var u=o(c,i,r,!1);return u?a||(u.callOnce=!1):(u={bindTo:r,callOnce:!!a,listener:i,target:t,type:e},t.addEventListener(e,n(u)),c.push(u)),u}function l(t,e,i,r){return u(t,e,i,r,!0)}function f(t,e,i,r){var n=a(t,e);if(n){var s=o(n,i,r,!0);s&&d(s)}}function d(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=a(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&c(t.target,t.type)}Object(r["b"])(t)}}function p(t){var e=s(t);if(e)for(var i in e)c(t,i)}},a32c:function(t,e,i){t.exports=!i("6434")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a34a:function(t,e,i){t.exports=i("96cf")},a6a2:function(t,e,i){"use strict";e["a"]={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},a743:function(t,e,i){var r=i("d8b2"),n=i("6744");t.exports=function(t){return function(e,i){var o,a,s=String(n(e)),h=r(i),c=s.length;return h<0||h>=c?t?"":void 0:(o=s.charCodeAt(h),o<55296||o>56319||h+1===c||(a=s.charCodeAt(h+1))<56320||a>57343?t?s.charAt(h):o:t?s.slice(h,h+2):a-56320+(o-55296<<10)+65536)}}},a7d6:function(t,e,i){var r=i("cdf9"),n=i("bded").onFreeze;i("6397")("preventExtensions",(function(t){return function(e){return t&&r(e)?t(n(e)):e}}))},a7f3:function(t,e,i){"use strict";e["a"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},a83f:function(t,e,i){"use strict";var r=i("42ee"),n=i("1bfb"),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return n(r(this),t!=o)}},a87f:function(t,e,i){"use strict";var r=i("dc84"),n=function(){};t.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var i=e.port;return i||(i="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+i},isOriginEqual:function(t,e){var i=this.getOrigin(t)===this.getOrigin(e);return n("same",t,e,i),i},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var i=t.split("?");return i[0]+e+(i[1]?"?"+i[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},a909:function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},a9b6:function(t,e,i){(function(e,i){t.exports=i()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}({"./src/byte.ts":
/*!*********************!*\
  !*** ./src/byte.ts ***!
  \*********************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BYTE={LF:"\n",NULL:"\0"}},"./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/*! no static exports found */function(t,e,i){"use strict";var r=this&&this.__awaiter||function(t,e,i,r){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,o){function a(t){try{h(r.next(t))}catch(e){o(e)}}function s(t){try{h(r["throw"](t))}catch(e){o(e)}}function h(t){t.done?i(t.value):n(t.value).then(a,s)}h((r=r.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var i,r,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return h([t,e])}}function h(o){if(i)throw new TypeError("Generator is already executing.");while(a)try{if(i=1,r&&(n=2&o[0]?r["return"]:o[0]?r["throw"]||((n=r["return"])&&n.call(r),0):r.next)&&!(n=n.call(r,o[1])).done)return n;switch(r=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!(n=n.length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(/*! ./stomp-handler */"./src/stomp-handler.ts"),a=i(/*! ./versions */"./src/versions.ts"),s=i(/*! ./web-socket-state */"./src/web-socket-state.ts"),h=function(){function t(t){void 0===t&&(t={}),this.stompVersions=a.Versions.default,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this._active=!1;var e=function(){};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}return Object.defineProperty(t.prototype,"webSocket",{get:function(){return this._webSocket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disconnectHeaders",{get:function(){return this._disconnectHeaders},set:function(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return!!this._stompHandler&&this._stompHandler.connected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectedVersion",{get:function(){return this._stompHandler?this._stompHandler.connectedVersion:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),t.prototype.configure=function(t){Object.assign(this,t)},t.prototype.activate=function(){this._active=!0,this._connect()},t.prototype._connect=function(){return r(this,void 0,void 0,(function(){var t=this;return n(this,(function(e){switch(e.label){case 0:return this.connected?(this.debug("STOMP: already connected, nothing to do"),[2]):[4,this.beforeConnect()];case 1:return e.sent(),this._active?(this.debug("Opening Web Socket..."),this._webSocket=this._createWebSocket(),this._stompHandler=new o.StompHandler(this,this._webSocket,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,onConnect:function(e){if(!t._active)return t.debug("STOMP got connected while deactivate was issued, will disconnect now"),void t._disposeStompHandler();t.onConnect(e)},onDisconnect:function(e){t.onDisconnect(e)},onStompError:function(e){t.onStompError(e)},onWebSocketClose:function(e){t.onWebSocketClose(e),t._active&&t._schedule_reconnect()},onWebSocketError:function(e){t.onWebSocketError(e)},onUnhandledMessage:function(e){t.onUnhandledMessage(e)},onUnhandledReceipt:function(e){t.onUnhandledReceipt(e)},onUnhandledFrame:function(e){t.onUnhandledFrame(e)}}),this._stompHandler.start(),[2]):(this.debug("Client has been marked inactive, will not attempt to connect"),[2])}}))}))},t.prototype._createWebSocket=function(){var t;return t=this.webSocketFactory?this.webSocketFactory():new WebSocket(this.brokerURL,this.stompVersions.protocolVersions()),t.binaryType="arraybuffer",t},t.prototype._schedule_reconnect=function(){var t=this;this.reconnectDelay>0&&(this.debug("STOMP: scheduling reconnection in "+this.reconnectDelay+"ms"),this._reconnector=setTimeout((function(){t._connect()}),this.reconnectDelay))},t.prototype.deactivate=function(){this._active=!1,this._reconnector&&clearTimeout(this._reconnector),this._disposeStompHandler()},t.prototype.forceDisconnect=function(){this._webSocket&&(this._webSocket.readyState!==s.WebSocketState.CONNECTING&&this._webSocket.readyState!==s.WebSocketState.OPEN||this._stompHandler._closeWebsocket())},t.prototype._disposeStompHandler=function(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)},t.prototype.publish=function(t){this._stompHandler.publish(t)},t.prototype.watchForReceipt=function(t,e){this._stompHandler.watchForReceipt(t,e)},t.prototype.subscribe=function(t,e,i){return void 0===i&&(i={}),this._stompHandler.subscribe(t,e,i)},t.prototype.unsubscribe=function(t,e){void 0===e&&(e={}),this._stompHandler.unsubscribe(t,e)},t.prototype.begin=function(t){return this._stompHandler.begin(t)},t.prototype.commit=function(t){this._stompHandler.commit(t)},t.prototype.abort=function(t){this._stompHandler.abort(t)},t.prototype.ack=function(t,e,i){void 0===i&&(i={}),this._stompHandler.ack(t,e,i)},t.prototype.nack=function(t,e,i){void 0===i&&(i={}),this._stompHandler.nack(t,e,i)},t}();e.Client=h},"./src/compatibility/compat-client.ts":
/*!********************************************!*\
  !*** ./src/compatibility/compat-client.ts ***!
  \********************************************/
/*! no static exports found */function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(/*! ../client */"./src/client.ts"),o=i(/*! ./heartbeat-info */"./src/compatibility/heartbeat-info.ts"),a=function(t){function e(e){var i=t.call(this)||this;return i.maxWebSocketFrameSize=16384,i._heartbeatInfo=new o.HeartbeatInfo(i),i.reconnect_delay=0,i.webSocketFactory=e,i.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},i}return r(e,t),e.prototype._parseConnect=function(){for(var t,e,i,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o={};if(r.length<2)throw new Error("Connect requires at least 2 arguments");if("function"===typeof r[1])o=r[0],e=r[1],i=r[2],t=r[3];else switch(r.length){case 6:o.login=r[0],o.passcode=r[1],e=r[2],i=r[3],t=r[4],o.host=r[5];break;default:o.login=r[0],o.passcode=r[1],e=r[2],i=r[3],t=r[4]}return[o,e,i,t]},e.prototype.connect=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=this._parseConnect.apply(this,e);r[0]&&(this.connectHeaders=r[0]),r[1]&&(this.onConnect=r[1]),r[2]&&(this.onStompError=r[2]),r[3]&&(this.onWebSocketClose=r[3]),t.prototype.activate.call(this)},e.prototype.disconnect=function(e,i){void 0===i&&(i={}),e&&(this.onDisconnect=e),this.disconnectHeaders=i,t.prototype.deactivate.call(this)},e.prototype.send=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=""),e=Object.assign({},e);var r=!1===e["content-length"];r&&delete e["content-length"],this.publish({destination:t,headers:e,body:i,skipContentLengthHeader:r})},Object.defineProperty(e.prototype,"reconnect_delay",{set:function(t){this.reconnectDelay=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ws",{get:function(){return this._webSocket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this.connectedVersion},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onreceive",{get:function(){return this.onUnhandledMessage},set:function(t){this.onUnhandledMessage=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onreceipt",{get:function(){return this.onUnhandledReceipt},set:function(t){this.onUnhandledReceipt=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"heartbeat",{get:function(){return this._heartbeatInfo},set:function(t){this.heartbeatIncoming=t.incoming,this.heartbeatOutgoing=t.outgoing},enumerable:!0,configurable:!0}),e}(n.Client);e.CompatClient=a},"./src/compatibility/heartbeat-info.ts":
/*!*********************************************!*\
  !*** ./src/compatibility/heartbeat-info.ts ***!
  \*********************************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.client=t}return Object.defineProperty(t.prototype,"outgoing",{get:function(){return this.client.heartbeatOutgoing},set:function(t){this.client.heartbeatOutgoing=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incoming",{get:function(){return this.client.heartbeatIncoming},set:function(t){this.client.heartbeatIncoming=t},enumerable:!0,configurable:!0}),t}();e.HeartbeatInfo=r},"./src/compatibility/stomp.ts":
/*!************************************!*\
  !*** ./src/compatibility/stomp.ts ***!
  \************************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(/*! ../versions */"./src/versions.ts"),n=i(/*! ./compat-client */"./src/compatibility/compat-client.ts"),o=function(){function t(){}return t.client=function(e,i){null==i&&(i=r.Versions.default.protocolVersions());var o=function(){var r=t.WebSocketClass||WebSocket;return new r(e,i)};return new n.CompatClient(o)},t.over=function(t){var e;return"function"===typeof t?e=t:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),e=function(){return t}),new n.CompatClient(e)},t.WebSocketClass=null,t}();e.Stomp=o},"./src/frame-impl.ts":
/*!***************************!*\
  !*** ./src/frame-impl.ts ***!
  \***************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(/*! ./byte */"./src/byte.ts"),n=function(){function t(t){var e=t.command,i=t.headers,r=t.body,n=t.binaryBody,o=t.escapeHeaderValues,a=t.skipContentLengthHeader;this.command=e,this.headers=Object.assign({},i||{}),n?(this._binaryBody=n,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=a||!1}return Object.defineProperty(t.prototype,"body",{get:function(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryBody",{get:function(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody},enumerable:!0,configurable:!0}),t.fromRawFrame=function(e,i){for(var r={},n=function(t){return t.replace(/^\s+|\s+$/g,"")},o=0,a=e.headers.reverse();o<a.length;o++){var s=a[o],h=(s.indexOf(":"),n(s[0])),c=n(s[1]);i&&"CONNECT"!==e.command&&"CONNECTED"!==e.command&&(c=t.hdrValueUnEscape(c)),r[h]=c}return new t({command:e.command,headers:r,binaryBody:e.binaryBody,escapeHeaderValues:i})},t.prototype.toString=function(){return this.serializeCmdAndHeaders()},t.prototype.serialize=function(){var e=this.serializeCmdAndHeaders();return this.isBinaryBody?t.toUnit8Array(e,this._binaryBody).buffer:e+this._body+r.BYTE.NULL},t.prototype.serializeCmdAndHeaders=function(){var e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(var i=0,n=Object.keys(this.headers||{});i<n.length;i++){var o=n[i],a=this.headers[o];this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?e.push(o+":"+t.hdrValueEscape(""+a)):e.push(o+":"+a)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push("content-length:"+this.bodyLength()),e.join(r.BYTE.LF)+r.BYTE.LF+r.BYTE.LF},t.prototype.isBodyEmpty=function(){return 0===this.bodyLength()},t.prototype.bodyLength=function(){var t=this.binaryBody;return t?t.length:0},t.sizeOfUTF8=function(t){return t?(new TextEncoder).encode(t).length:0},t.toUnit8Array=function(t,e){var i=(new TextEncoder).encode(t),r=new Uint8Array([0]),n=new Uint8Array(i.length+e.length+r.length);return n.set(i),n.set(e,i.length),n.set(r,i.length+e.length),n},t.marshall=function(e){var i=new t(e);return i.serialize()},t.hdrValueEscape=function(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")},t.hdrValueUnEscape=function(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")},t}();e.FrameImpl=n},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */function(t,e,i){"use strict";function r(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),r(i(/*! ./client */"./src/client.ts")),r(i(/*! ./frame-impl */"./src/frame-impl.ts")),r(i(/*! ./parser */"./src/parser.ts")),r(i(/*! ./stomp-config */"./src/stomp-config.ts")),r(i(/*! ./stomp-headers */"./src/stomp-headers.ts")),r(i(/*! ./stomp-subscription */"./src/stomp-subscription.ts")),r(i(/*! ./versions */"./src/versions.ts")),r(i(/*! ./web-socket-state */"./src/web-socket-state.ts")),r(i(/*! ./compatibility/compat-client */"./src/compatibility/compat-client.ts")),r(i(/*! ./compatibility/stomp */"./src/compatibility/stomp.ts"))},"./src/parser.ts":
/*!***********************!*\
  !*** ./src/parser.ts ***!
  \***********************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=0,n=10,o=13,a=58,s=function(){function t(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}return t.prototype.parseChunk=function(t,e){var i;if(void 0===e&&(e=!1),i=t instanceof ArrayBuffer?new Uint8Array(t):this._encoder.encode(t),e&&0!==i[i.length-1]){var r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(var n=0;n<i.length;n++){var o=i[n];this._onByte(o)}},t.prototype._collectFrame=function(t){t!==r&&t!==o&&(t!==n?(this._onByte=this._collectCommand,this._reinjectByte(t)):this.onIncomingPing())},t.prototype._collectCommand=function(t){if(t!==o)return t===n?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(t)},t.prototype._collectHeaders=function(t){t!==o&&(t!==n?(this._onByte=this._collectHeaderKey,this._reinjectByte(t)):this._setupCollectBody())},t.prototype._reinjectByte=function(t){this._onByte(t)},t.prototype._collectHeaderKey=function(t){if(t===a)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)},t.prototype._collectHeaderValue=function(t){if(t!==o)return t===n?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(t)},t.prototype._setupCollectBody=function(){var t=this._results.headers.filter((function(t){return"content-length"===t[0]}))[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated},t.prototype._collectBodyNullTerminated=function(t){t!==r?this._consumeByte(t):this._retrievedBody()},t.prototype._collectBodyFixedSize=function(t){0!==this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()},t.prototype._retrievedBody=function(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()},t.prototype._consumeByte=function(t){this._token.push(t)},t.prototype._consumeTokenAsUTF8=function(){return this._decoder.decode(this._consumeTokenAsRaw())},t.prototype._consumeTokenAsRaw=function(){var t=new Uint8Array(this._token);return this._token=[],t},t.prototype._initState=function(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame},t}();e.Parser=s},"./src/stomp-config.ts":
/*!*****************************!*\
  !*** ./src/stomp-config.ts ***!
  \*****************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.StompConfig=r},"./src/stomp-handler.ts":
/*!******************************!*\
  !*** ./src/stomp-handler.ts ***!
  \******************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(/*! ./byte */"./src/byte.ts"),n=i(/*! ./frame-impl */"./src/frame-impl.ts"),o=i(/*! ./parser */"./src/parser.ts"),a=i(/*! ./versions */"./src/versions.ts"),s=i(/*! ./web-socket-state */"./src/web-socket-state.ts"),h=function(){function t(t,e,i){var r=this;void 0===i&&(i={}),this._client=t,this._webSocket=e,this._serverFrameHandlers={CONNECTED:function(t){r.debug("connected to server "+t.headers.server),r._connected=!0,r._connectedVersion=t.headers.version,r._connectedVersion===a.Versions.V1_2&&(r._escapeHeaderValues=!0),r._setupHeartbeat(t.headers),r.onConnect(t)},MESSAGE:function(t){var e=t.headers.subscription,i=r._subscriptions[e]||r.onUnhandledMessage,n=t,o=r,s=r._connectedVersion===a.Versions.V1_2?n.headers.ack:n.headers["message-id"];n.ack=function(t){return void 0===t&&(t={}),o.ack(s,e,t)},n.nack=function(t){return void 0===t&&(t={}),o.nack(s,e,t)},i(n)},RECEIPT:function(t){var e=r._receiptWatchers[t.headers["receipt-id"]];e?(e(t),delete r._receiptWatchers[t.headers["receipt-id"]]):r.onUnhandledReceipt(t)},ERROR:function(t){r.onStompError(t)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(i)}return Object.defineProperty(t.prototype,"connectedVersion",{get:function(){return this._connectedVersion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return this._connected},enumerable:!0,configurable:!0}),t.prototype.configure=function(t){Object.assign(this,t)},t.prototype.start=function(){var t=this,e=new o.Parser((function(e){var i=n.FrameImpl.fromRawFrame(e,t._escapeHeaderValues);t.logRawCommunication||t.debug("<<< "+i);var r=t._serverFrameHandlers[i.command]||t.onUnhandledFrame;r(i)}),(function(){t.debug("<<< PONG")}));this._webSocket.onmessage=function(i){if(t.debug("Received data"),t._lastServerActivityTS=Date.now(),t.logRawCommunication){var r=i.data instanceof ArrayBuffer?(new TextDecoder).decode(i.data):i.data;t.debug("<<< "+r)}e.parseChunk(i.data,t.appendMissingNULLonIncoming)},this._webSocket.onclose=function(e){t.debug("Connection closed to "+t._webSocket.url),t.onWebSocketClose(e),t._cleanUp()},this._webSocket.onerror=function(e){t.onWebSocketError(e)},this._webSocket.onopen=function(){var e=Object.assign({},t.connectHeaders);t.debug("Web Socket Opened..."),e["accept-version"]=t.stompVersions.supportedVersions(),e["heart-beat"]=[t.heartbeatOutgoing,t.heartbeatIncoming].join(","),t._transmit({command:"CONNECT",headers:e})}},t.prototype._setupHeartbeat=function(t){var e=this;if((t.version===a.Versions.V1_1||t.version===a.Versions.V1_2)&&t["heart-beat"]){var i=t["heart-beat"].split(",").map((function(t){return parseInt(t,10)})),n=i[0],o=i[1];if(0!==this.heartbeatOutgoing&&0!==o){var h=Math.max(this.heartbeatOutgoing,o);this.debug("send PING every "+h+"ms"),this._pinger=setInterval((function(){e._webSocket.readyState===s.WebSocketState.OPEN&&(e._webSocket.send(r.BYTE.LF),e.debug(">>> PING"))}),h)}if(0!==this.heartbeatIncoming&&0!==n){var c=Math.max(this.heartbeatIncoming,n);this.debug("check PONG every "+c+"ms"),this._ponger=setInterval((function(){var t=Date.now()-e._lastServerActivityTS;t>2*c&&(e.debug("did not receive server activity for the last "+t+"ms"),e._closeWebsocket())}),c)}}},t.prototype._closeWebsocket=function(){this._webSocket.onmessage=function(){},this._webSocket.close()},t.prototype._transmit=function(t){var e=t.command,i=t.headers,r=t.body,o=t.binaryBody,a=t.skipContentLengthHeader,s=new n.FrameImpl({command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a}),h=s.serialize();if(this.logRawCommunication?this.debug(">>> "+h):this.debug(">>> "+s),this.forceBinaryWSFrames&&"string"===typeof h&&(h=(new TextEncoder).encode(h)),"string"===typeof h&&this.splitLargeFrames){var c=h;while(c.length>0){var u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug("chunk sent = "+u.length+", remaining = "+c.length)}}else this._webSocket.send(h)},t.prototype.dispose=function(){var t=this;if(this.connected)try{var e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt="close-"+this._counter++),this.watchForReceipt(e.receipt,(function(e){t._closeWebsocket(),t._cleanUp(),t.onDisconnect(e)})),this._transmit({command:"DISCONNECT",headers:e})}catch(i){this.debug("Ignoring error during disconnect "+i)}else this._webSocket.readyState!==s.WebSocketState.CONNECTING&&this._webSocket.readyState!==s.WebSocketState.OPEN||this._closeWebsocket()},t.prototype._cleanUp=function(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)},t.prototype.publish=function(t){var e=t.destination,i=t.headers,r=t.body,n=t.binaryBody,o=t.skipContentLengthHeader,a=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:n,skipContentLengthHeader:o})},t.prototype.watchForReceipt=function(t,e){this._receiptWatchers[t]=e},t.prototype.subscribe=function(t,e,i){void 0===i&&(i={}),i=Object.assign({},i),i.id||(i.id="sub-"+this._counter++),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});var r=this;return{id:i.id,unsubscribe:function(t){return r.unsubscribe(i.id,t)}}},t.prototype.unsubscribe=function(t,e){void 0===e&&(e={}),e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})},t.prototype.begin=function(t){var e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});var i=this;return{id:e,commit:function(){i.commit(e)},abort:function(){i.abort(e)}}},t.prototype.commit=function(t){this._transmit({command:"COMMIT",headers:{transaction:t}})},t.prototype.abort=function(t){this._transmit({command:"ABORT",headers:{transaction:t}})},t.prototype.ack=function(t,e,i){void 0===i&&(i={}),i=Object.assign({},i),this._connectedVersion===a.Versions.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})},t.prototype.nack=function(t,e,i){return void 0===i&&(i={}),i=Object.assign({},i),this._connectedVersion===a.Versions.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})},t}();e.StompHandler=h},"./src/stomp-headers.ts":
/*!******************************!*\
  !*** ./src/stomp-headers.ts ***!
  \******************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.StompHeaders=r},"./src/stomp-subscription.ts":
/*!***********************************!*\
  !*** ./src/stomp-subscription.ts ***!
  \***********************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.StompSubscription=r},"./src/versions.ts":
/*!*************************!*\
  !*** ./src/versions.ts ***!
  \*************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.versions=t}return t.prototype.supportedVersions=function(){return this.versions.join(",")},t.prototype.protocolVersions=function(){return this.versions.map((function(t){return"v"+t.replace(".","")+".stomp"}))},t.V1_0="1.0",t.V1_1="1.1",t.V1_2="1.2",t.default=new t([t.V1_0,t.V1_1,t.V1_2]),t}();e.Versions=r},"./src/web-socket-state.ts":
/*!*********************************!*\
  !*** ./src/web-socket-state.ts ***!
  \*********************************/
/*! no static exports found */function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t["CONNECTING"]=0]="CONNECTING",t[t["OPEN"]=1]="OPEN",t[t["CLOSING"]=2]="CLOSING",t[t["CLOSED"]=3]="CLOSED"}(e.WebSocketState||(e.WebSocketState={}))},0:
/*!****************************!*\
  !*** multi ./src/index.ts ***!
  \****************************/
/*! no static exports found */function(t,e,i){t.exports=i(/*! /home/kdeepak/MyWork/Tech/stomp/stompjs/src/index.ts */"./src/index.ts")}})}))},aa11:function(t,e,i){"use strict";var r=i("6843"),n=i("c33b"),o=i("8c86"),a=i("5d8e");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){s(t),t.headers=t.headers||{},t.data=n(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||a.adapter;return e(t).then((function(e){return s(t),e.data=n(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=n(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},aa2d:function(t,e,i){"use strict";i.r(e),i.d(e,"register",(function(){return a}));var r=i("5f62"),n=i("50a9"),o=i("3ec4");function a(t){var e,i,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var h=a[e];if(!Object(r["get"])(h)){var c=t.defs(h);Object(r["addProjection"])(new o["a"]({code:h,axisOrientation:c.axis,metersPerUnit:c.to_meter,units:c.units}))}}for(e=0;e<s;++e){var u=a[e],l=Object(r["get"])(u);for(i=0;i<s;++i){var f=a[i],d=Object(r["get"])(f);if(!Object(n["c"])(u,f))if(t.defs[u]===t.defs[f])Object(r["addEquivalentProjections"])([l,d]);else{var p=t(u,f);Object(r["addCoordinateTransforms"])(l,d,p.forward,p.inverse)}}}}},aa6f:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},ab36:function(t,e,i){i("753b"),t.exports=i("a06f").String.padStart},ab8c:function(t,e,i){"use strict";var r=i("b460"),n=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:o},ab90:function(t,e,i){var r=i("0d63"),n=i("ff35"),o=Math.exp;r(r.S+r.F*i("b460")((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(n(t)-n(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},abe5:function(t,e,i){"use strict";var r=i("fd21"),n=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},n.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},n.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},n.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},n.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},n.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},n.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},n.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"===typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(r["c"])(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e["a"]=n},abf9:function(t,e,i){"use strict";var r=i("4cec"),n=i("388d"),o="Set";t.exports=i("aef6")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(n(this,o),t=0===t?0:t,t)}},r)},ac59:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,r,n){var o,a,s=8*n-r-1,h=(1<<s)-1,c=h>>1,u=-7,l=i?n-1:0,f=i?-1:1,d=t[e+l];for(l+=f,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+t[e+l],l+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+l],l+=f,u-=8);if(0===o)o=1-c;else{if(o===h)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,i,r,n,o){var a,s,h,c=8*o-n-1,u=(1<<c)-1,l=u>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-a))<1&&(a--,h*=2),e+=a+l>=1?f/h:f*Math.pow(2,1-l),e*h>=2&&(a++,h/=2),a+l>=u?(s=0,a=u):a+l>=1?(s=(e*h-1)*Math.pow(2,n),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,n),a=0));n>=8;t[i+d]=255&s,d+=p,s/=256,n-=8);for(a=a<<n|s,c+=n;c>0;t[i+d]=255&a,d+=p,a/=256,c-=8);t[i+d-p]|=128*g}},acdf:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a}));var r="function"===typeof Object.assign?Object.assign:function(t,e){var i=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1,o=arguments.length;n<o;++n){var a=i[n];if(void 0!==a&&null!==a)for(var s in a)a.hasOwnProperty(s)&&(r[s]=a[s])}return r};function n(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var i in t)e.push(t[i]);return e}function a(t){var e;for(e in t)return!1;return!e}},ad06:function(t,e,i){var r=i("7e33"),n=i("37ff"),o=i("c831")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},ae81:function(t,e,i){"use strict";var r=i("75f3a");t.exports=function(t,e,i,n,o){var a=new Error(t);return r(a,e,i,n,o)}},ae89:function(t,e,i){"use strict";function r(t,e,i,r){while(e<i-r){for(var n=0;n<r;++n){var o=t[e+n];t[e+n]=t[i-r+n],t[i-r+n]=o}e+=r,i-=r}}function n(t,e,i,r){for(var n=0,o=t[i-r],a=t[i-r+1];e<i;e+=r){var s=t[e],h=t[e+1];n+=(s-o)*(h+a),o=s,a=h}return n>0}function o(t,e,i,r,o){for(var a=void 0!==o&&o,s=0,h=i.length;s<h;++s){var c=i[s],u=n(t,e,c,r);if(0===s){if(a&&u||!a&&!u)return!1}else if(a&&!u||!a&&u)return!1;e=c}return!0}function a(t,e,i,r,n){for(var a=0,s=i.length;a<s;++a)if(!o(t,e,i[a],r,n))return!1;return!0}function s(t,e,i,o,a){for(var s=void 0!==a&&a,h=0,c=i.length;h<c;++h){var u=i[h],l=n(t,e,u,o),f=0===h?s&&l||!s&&!l:s&&!l||!s&&l;f&&r(t,e,u,o),e=u}return e}function h(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o)e=s(t,e,i[o],r,n);return e}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return h}))},aef6:function(t,e,i){"use strict";var r=i("255a"),n=i("0d63"),o=i("bd47"),a=i("e603"),s=i("bded"),h=i("3032"),c=i("4b13"),u=i("cdf9"),l=i("b460"),f=i("3b9e"),d=i("617f"),p=i("887c");t.exports=function(t,e,i,g,v,y){var m=r[t],_=m,b=v?"set":"add",w=_&&_.prototype,x={},S=function(t){var e=w[t];o(w,t,"delete"==t||"has"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof _&&(y||w.forEach&&!l((function(){(new _).entries().next()})))){var E=new _,O=E[b](y?{}:-0,1)!=E,T=l((function(){E.has(1)})),C=f((function(t){new _(t)})),A=!y&&l((function(){var t=new _,e=5;while(e--)t[b](e,e);return!t.has(-0)}));C||(_=e((function(e,i){c(e,_,t);var r=p(new m,e,_);return void 0!=i&&h(i,v,r[b],r),r})),_.prototype=w,w.constructor=_),(T||A)&&(S("delete"),S("has"),v&&S("get")),(A||O)&&S(b),y&&w.clear&&delete w.clear}else _=g.getConstructor(e,t,v,b),a(_.prototype,i),s.NEED=!0;return d(_,t),x[t]=_,n(n.G+n.W+n.F*(_!=m),x),y||g.setStrong(_,t,v),_}},af33:function(t,e,i){var r=i("42ee"),n=i("2035"),o=i("afae"),a=i("c831")("IE_PROTO"),s=function(){},h="prototype",c=function(){var t,e=i("2551")("iframe"),r=o.length,n="<",a=">";e.style.display="none",i("ef15").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(n+"script"+a+"document.F=Object"+n+"/script"+a),t.close(),c=t.F;while(r--)delete c[h][o[r]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(s[h]=r(t),i=new s,s[h]=null,i[a]=t):i=c(),void 0===e?i:n(i,e)}},afae:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},b03c:function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},b0ed:function(t,e,i){var r=i("0d63"),n=i("af33"),o=i("7480"),a=i("42ee"),s=i("cdf9"),h=i("b460"),c=i("b66c"),u=(i("255a").Reflect||{}).construct,l=h((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),f=!h((function(){u((function(){}))}));r(r.S+r.F*(l||f),"Reflect",{construct:function(t,e){o(t),a(e);var i=arguments.length<3?t:o(arguments[2]);if(f&&!l)return u(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var h=i.prototype,d=n(s(h)?h:Object.prototype),p=Function.apply.call(t,d,e);return s(p)?p:d}})},b2dd:function(t,e,i){"use strict";var r=i("6843");t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,i,n,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),r.isString(n)&&s.push("path="+n),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},b460:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},b464:function(t,e,i){"use strict";var r=i("0d63"),n=i("9e2d")(4);r(r.P+r.F*!i("60a1")([].every,!0),"Array",{every:function(t){return n(this,t,arguments[1])}})},b506:function(t,e,i){var r=i("255a").parseFloat,n=i("b92f").trim;t.exports=1/r(i("5cb8")+"-0")!==-1/0?function(t){var e=n(String(t),3),i=r(e);return 0===i&&"-"==e.charAt(0)?-0:i}:r},b50d:function(t,e,i){"use strict";var r=i("c532"),n=i("467f"),o=i("30b5"),a=i("83b9"),s=i("c345"),h=i("3934"),c=i("2d83");t.exports=function(t){return new Promise((function(e,u){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+btoa(p+":"+g)}var v=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),o(v,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?d.response:d.responseText,o={data:r,status:d.status,statusText:d.statusText,headers:i,config:t,request:d};n(e,u,o),d=null}},d.onabort=function(){d&&(u(c("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){u(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=i("7aac"),m=(t.withCredentials||h(v))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;m&&(f[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&r.forEach(f,(function(t,e){"undefined"===typeof l&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(_){if("json"!==t.responseType)throw _}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),u(t),d=null)})),void 0===l&&(l=null),d.send(l)}))}},b53a:function(t,e,i){var r=i("0d63");r(r.S+r.F,"Object",{assign:i("4dc6")})},b5c4:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n,o=i("c33e"),a=i("ce4e"),s=i("bd30"),h=i("157d"),c=i("a0a2");function u(){if(n)return n;var t=o.Util.createCanvasElement(),e=t.getContext("2d");return n=function(){var t=s.Konva._global.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}(),n}var l=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=t||{},i=e.pixelRatio||s.Konva.pixelRatio||u();this.pixelRatio=i,this._canvas=o.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio,i=this.getContext()._context;i.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio,i=this.getContext()._context;i.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(i){try{return this._canvas.toDataURL()}catch(r){return o.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();e.Canvas=l,h.Factory.addGetterSetter(l,"pixelRatio",void 0,c.getNumberValidator());var f=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.context=new a.SceneContext(i),i.setSize(e.width,e.height),i}return r(e,t),e}(l);e.SceneCanvas=f;var d=function(t){function e(e){void 0===e&&(e={width:0,height:0});var i=t.call(this,e)||this;return i.hitCanvas=!0,i.context=new a.HitContext(i),i.setSize(e.width,e.height),i}return r(e,t),e}(l);e.HitCanvas=d},b66c:function(t,e,i){"use strict";var r=i("7480"),n=i("cdf9"),o=i("e2b0"),a=[].slice,s={},h=function(t,e,i){if(!(e in s)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=r(this),i=a.call(arguments,1),s=function(){var r=i.concat(a.call(arguments));return this instanceof s?h(e,r.length,r):o(e,r,t)};return n(e.prototype)&&(s.prototype=e.prototype),s}},b70b:function(t,e,i){i("672b"),t.exports=i("5a30").f("asyncIterator")},b763:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i("81ae");function n(t){return Array.isArray(t)?Object(r["toString"])(t):t}},b7e2:function(t,e,i){var r=i("cc80"),n=i("afae");t.exports=Object.keys||function(t){return r(t,n)}},b7e25:function(t,e,i){"use strict";i("c7c1")("link",(function(t){return function(e){return t(this,"a","href",e)}}))},b80f:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("a0a2"),h=i("bd30"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var n=1;n<2*r;n++){var o=n%2===0?i:e,a=o*Math.sin(n*Math.PI/r),s=-1*o*Math.cos(n*Math.PI/r);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);e.Star=c,c.prototype.className="Star",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],h._registerNode(c),o.Factory.addGetterSetter(c,"numPoints",5,s.getNumberValidator()),o.Factory.addGetterSetter(c,"innerRadius",0,s.getNumberValidator()),o.Factory.addGetterSetter(c,"outerRadius",0,s.getNumberValidator()),n.Collection.mapMethods(c)},b83a:function(t,e,i){var r=i("0d63"),n=i("ff35"),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=n(t=+t),i=n(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},b864:function(t,e,i){"use strict";i("c7c1")("sub",(function(t){return function(){return t(this,"sub","","")}}))},b8bd:function(t,e,i){var r=i("4691");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},b92f:function(t,e,i){var r=i("0d63"),n=i("6744"),o=i("b460"),a=i("5cb8"),s="["+a+"]",h="",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(t,e,i){var n={},s=o((function(){return!!a[t]()||h[t]()!=h})),c=n[t]=s?e(f):a[t];i&&(n[i]=c),r(r.P+r.F*s,"String",n)},f=l.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=l},b9b6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.RGB=function(t){var e,i,r=t.data,n=r.length,o=this.red(),a=this.green(),s=this.blue();for(e=0;e<n;e+=4)i=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=i*o,r[e+1]=i*a,r[e+2]=i*s,r[e+3]=r[e+3]},r.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter)},b9e3:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("213f"),s=i("a0a2"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new n.Collection,e}return r(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new n.Collection;return this.children.each((function(i){t(i)&&e.push(i)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)t=this.children[e],t.parent=null,t.index=0,t.remove();return this.children=new n.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)t=this.children[e],t.parent=null,t.index=0,t.destroy();return this.children=new n.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var n=this.children;return this._validateAdd(r),r._clearCaches(),r.index=n.length,r.parent=this,n.push(r),this._fire("add",{child:r}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return n.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var i=[];return this._descendants((function(r){var n=r._isMatch(t);return n&&i.push(r),!(!n||!e)})),n.Collection.toCollection(i)},e.prototype._descendants=function(t){for(var e=!1,i=0;i<this.children.length;i++){var r=this.children[i];if(e=t(r),e)return!0;if(r.hasChildren()&&(e=r._descendants(t),e))return!0}return!1},e.prototype.toObject=function(){var t=a.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),i=e.length,r=0;r<i;r++){var n=e[r];t.children.push(n.toObject())}return t},e.prototype.isAncestorOf=function(t){var e=t.getParent();while(e){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=a.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(i){i.isVisible()&&i.intersects(t)&&e.push(i)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e){var i=this.getLayer(),r=t||i&&i.getCanvas(),n=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,s=r&&r.isCache;if(!this.isVisible()&&!s)return this;if(a){n.save();var h=this.getAbsoluteTransform(e).getMatrix();n.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(n),n.restore()}else this._drawChildren("drawScene",r,e);return this},e.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var i=this.getLayer(),r=t||i&&i.hitCanvas,n=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.hit;if(a){n.save();var s=this.getAbsoluteTransform(e).getMatrix();n.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._drawCachedHitCanvas(n),n.restore()}else this._drawChildren("drawHit",r,e);return this},e.prototype._drawChildren=function(t,e,i){var r=e&&e.getContext(),n=this.clipWidth(),o=this.clipHeight(),a=this.clipFunc(),s=n&&o||a,h=i===this;if(s){r.save();var c=this.getAbsoluteTransform(i),u=c.getMatrix();if(r.transform(u[0],u[1],u[2],u[3],u[4],u[5]),r.beginPath(),a)a.call(this,r,this);else{var l=this.clipX(),f=this.clipY();r.rect(l,f,n,o)}r.clip(),u=c.copy().invert().getMatrix(),r.transform(u[0],u[1],u[2],u[3],u[4],u[5])}var d=!h&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;d&&(r.save(),r._applyGlobalCompositeOperation(this)),this.children.each((function(r){r[t](e,i)})),d&&r.restore(),s&&r.restore()},e.prototype.getClientRect=function(t){t=t||{};var e,i,r,n,o=t.skipTransform,a=t.relativeTo,s={x:1/0,y:1/0,width:0,height:0},h=this;this.children.each((function(o){if(o.visible()){var a=o.getClientRect({relativeTo:h,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===a.width&&0===a.height||(void 0===e?(e=a.x,i=a.y,r=a.x+a.width,n=a.y+a.height):(e=Math.min(e,a.x),i=Math.min(i,a.y),r=Math.max(r,a.x+a.width),n=Math.max(n,a.y+a.height)))}}));for(var c=this.find("Shape"),u=!1,l=0;l<c.length;l++){var f=c[l];if(f._isVisible(this)){u=!0;break}}return s=u&&void 0!==e?{x:e,y:i,width:r-e,height:n-i}:{x:0,y:0,width:0,height:0},o?s:this._transformedRect(s,a)},e}(a.Node);e.Container=h,o.Factory.addComponentsGetterSetter(h,"clip",["x","y","width","height"]),o.Factory.addGetterSetter(h,"clipX",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(h,"clipY",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(h,"clipWidth",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(h,"clipHeight",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(h,"clipFunc"),n.Collection.mapMethods(h)},ba4e:function(t,e,i){"use strict";var r=i("81ae"),n=i("b763"),o=i("5f6b"),a=i("9734"),s=i("4a3a"),h=i("6476"),c=i("e2ed"),u=function(t){function e(e){var i=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return s["a"].LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,i,r="",s="",c=0,u=null,l=0,f=0;this.stroke_&&(i=this.stroke_.getColor(),null===i&&(i=h["k"]),i=Object(n["a"])(i),f=this.stroke_.getWidth(),void 0===f&&(f=h["h"]),u=this.stroke_.getLineDash(),l=this.stroke_.getLineDashOffset(),a["a"]||(u=null,l=0),s=this.stroke_.getLineJoin(),void 0===s&&(s=h["g"]),r=this.stroke_.getLineCap(),void 0===r&&(r=h["d"]),c=this.stroke_.getMiterLimit(),void 0===c&&(c=h["i"]));var d=2*(this.radius_+f)+1,p={strokeStyle:i,strokeWidth:f,size:d,lineCap:r,lineDash:u,lineDashOffset:l,lineJoin:s,miterLimit:c};if(void 0===t){var g=Object(o["a"])(d,d);this.canvas_=g.canvas,d=this.canvas_.width,e=d,this.draw_(p,g,0,0),this.createHitDetectionCanvas_(p)}else{d=Math.round(d);var v,y=!this.fill_;y&&(v=this.drawHitDetectionCanvas_.bind(this,p));var m=this.getChecksum(),_=t.add(m,d,d,this.draw_.bind(this,p),v);this.canvas_=_.image,this.origin_=[_.offsetX,_.offsetY],e=_.image.width,y?(this.hitDetectionCanvas_=_.hitImage,this.hitDetectionImageSize_=[_.hitImage.width,_.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[d/2,d/2],this.size_=[d,d],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,i,r){var o,a,s;e.setTransform(1,0,0,1,0,0),e.translate(i,r),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(c*=2),o=0;o<=c;o++)a=2*o*Math.PI/c-Math.PI/2+this.angle_,s=o%2===0?this.radius_:u,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l=h["b"]),e.fillStyle=Object(n["a"])(l),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(o["a"])(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var a,s,c,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(o*=2),a=0;a<=o;a++)c=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2===0?this.radius_:u,e.lineTo(t.size/2+s*Math.cos(c),t.size/2+s*Math.sin(c))}e.fillStyle=Object(r["asString"])(h["b"]),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-",i=!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6];if(i){var r="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[r,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(c["a"]);e["a"]=u},ba5b:function(t,e,i){var r=i("0d63"),n=i("b506");r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},ba87:function(t,e,i){"use strict";var r=i("4035"),n=i("a87f"),o=i("1499"),a=i("0a36").EventEmitter,s=i("1da4"),h=function(){};function c(t,e,i){if(!c.enabled())throw new Error("Transport created when disabled");a.call(this),h("constructor",t);var o=this,u=n.addPath(t,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new s(this.url,[],i),this.ws.onmessage=function(t){h("message event",t.data),o.emit("message",t.data)},this.unloadRef=r.unloadAdd((function(){h("unload"),o.ws.close()})),this.ws.onclose=function(t){h("close event",t.code,t.reason),o.emit("close",t.code,t.reason),o._cleanup()},this.ws.onerror=function(t){h("error event",t),o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(c,a),c.prototype.send=function(t){var e="["+t+"]";h("send",e),this.ws.send(e)},c.prototype.close=function(){h("close");var t=this.ws;this._cleanup(),t&&t.close()},c.prototype._cleanup=function(){h("_cleanup");var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return h("enabled"),!!s},c.transportName="websocket",c.roundTrips=2,t.exports=c},bacb:function(t,e,i){"use strict";t.exports=[i("ba87"),i("0612"),i("1d76"),i("f3949"),i("c948")(i("f3949")),i("5e8a"),i("c948")(i("5e8a")),i("1a8b"),i("3b83"),i("c948")(i("1a8b")),i("9ae4")]},bc3a:function(t,e,i){t.exports=i("cee47")},bc48:function(t,e,i){var r=i("dfa5");t.exports=Array.isArray||function(t){return"Array"==r(t)}},bca2:function(t,e,i){(function(r){var n,o;!function(r){n=r,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)}((function(){"use strict";
/** @license
   * jsPDF - PDF Document creation from JavaScript
   * Version 1.5.3 Built on 2018-12-27T14:11:42.696Z
   *                      CommitID d93d28db14
   *
   * Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, willow-systems.com
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Licensed under the MIT License
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   */function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){if("object"!==n(t.console)){t.console={};for(var e,i,r=t.console,o=function(){},a=["memory"],s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=a.pop();)r[e]||(r[e]={});for(;i=s.pop();)r[i]||(r[i]=o)}var h,c,u,l,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var e,i,r,n,o,a=0,s=0,h="",c=[];if(!t)return t;for(;e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,i=o>>12&63,r=o>>6&63,n=63&o,c[s++]=f.charAt(e)+f.charAt(i)+f.charAt(r)+f.charAt(n),a<t.length;);h=c.join("");var u=t.length%3;return(u?h.slice(0,u-3):h)+"===".slice(u||3)}),void 0===t.atob&&(t.atob=function(t){var e,i,r,n,o,a,s=0,h=0,c=[];if(!t)return t;for(t+="";e=(a=f.indexOf(t.charAt(s++))<<18|f.indexOf(t.charAt(s++))<<12|(n=f.indexOf(t.charAt(s++)))<<6|(o=f.indexOf(t.charAt(s++))))>>16&255,i=a>>8&255,r=255&a,c[h++]=64==n?String.fromCharCode(e):64==o?String.fromCharCode(e,i):String.fromCharCode(e,i,r),s<t.length;);return c.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),i=e.length>>>0,r=new Array(i),n=1<arguments.length?arguments[1]:void 0,o=0;o<i;o++)o in e&&(r[o]=t.call(n,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var i=Object(this),r=i.length>>>0,n=0;n<r;n++)n in i&&t.call(e,i[n],n,i)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],n=0;n<i;){var o=e[n];if(t.call(r,o,n,e))return o;n++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(h=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),l=(u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==n(t)&&("function"!=typeof t||null===t))throw new TypeError;var e,i,r=[];for(e in t)h.call(t,e)&&r.push(e);if(c)for(i=0;i<l;i++)h.call(t,u[i])&&r.push(u[i]);return r})),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")());var a,s,h,c,u,l,f,d,p,g,v,y,m,_,b,w,x,S,E,O,T,C,A,L,R,M,I,P,N,F,k,j,D,G,B,U,z,q,V,H,W,Y,K,X,Z,$,J,Q,tt,et,it,rt,nt,ot,at,st,ht,ct,ut,lt,ft,dt,pt=function(r){function a(t){if("object"!==n(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var n=Math.random().toString(35);return e[t][n]=[i,!!r],n},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],0===Object.keys(e[i]).length&&delete e[i],!0;return!1},this.publish=function(i){if(e.hasOwnProperty(i)){var n=Array.prototype.slice.call(arguments,1),o=[];for(var a in e[i]){var s=e[i][a];try{s[0].apply(t,n)}catch(i){r.console&&console.error("jsPDF PubSub Error",i.message,i)}s[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function s(t,e,i,o){var h={},c=[],u=1;"object"===n(t)&&(t=(h=t).orientation,e=h.unit||e,i=h.format||i,o=h.compress||h.compressPdf||o,c=h.filters||(!0===o?["FlateEncode"]:c),u="number"==typeof h.userUnit?Math.abs(h.userUnit):1),e=e||"mm",t=(""+(t||"P")).toLowerCase();var l=h.putOnlyUsedFonts||!0,f={},d={internal:{},__private__:{}};d.__private__.PubSub=a;var p="1.3",g=d.__private__.getPdfVersion=function(){return p},v=(d.__private__.setPdfVersion=function(t){p=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),y=(d.__private__.getPageFormats=function(){return v},d.__private__.getPageFormat=function(t){return v[t]});"string"==typeof i&&(i=y(i)),i=i||y("a4");var m,_=d.f2=d.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},b=d.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},w="00000000000000000000000000000000",x=d.__private__.getFileId=function(){return w},S=d.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),w=t};d.setFileId=function(t){return S(t),this},d.getFileId=function(){return x()};var E=d.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),i=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),n=Math.abs(e%60),o=[i,k(r),"'",k(n),"'"].join("");return["D:",t.getFullYear(),k(t.getMonth()+1),k(t.getDate()),k(t.getHours()),k(t.getMinutes()),k(t.getSeconds()),o].join("")},O=d.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),i=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),n=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);return parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10),new Date(e,i,r,n,o,a,0)},T=d.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),"object"===n(t)&&"[object Date]"===Object.prototype.toString.call(t))e=E(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return m=e},C=d.__private__.getCreationDate=function(t){var e=m;return"jsDate"===t&&(e=O(m)),e};d.setCreationDate=function(t){return T(t),this},d.getCreationDate=function(t){return C(t)};var A,L,R,M,I,P,N,F,k=d.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},j=!1,D=[],G=[],B=0,U=(d.__private__.setCustomOutputDestination=function(t){L=t},d.__private__.resetCustomOutputDestination=function(t){L=void 0},d.__private__.out=function(t){var e;return t="string"==typeof t?t:t.toString(),(e=void 0===L?j?D[A]:G:L).push(t),j||(B+=t.length+1),e}),z=d.__private__.write=function(t){return U(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},q=d.__private__.getArrayBuffer=function(t){for(var e=t.length,i=new ArrayBuffer(e),r=new Uint8Array(i);e--;)r[e]=t.charCodeAt(e);return i},V=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],H=(d.__private__.getStandardFonts=function(t){return V},h.fontSize||16),W=(d.__private__.setFontSize=d.setFontSize=function(t){return H=t,this},d.__private__.getFontSize=d.getFontSize=function(){return H}),Y=h.R2L||!1,K=(d.__private__.setR2L=d.setR2L=function(t){return Y=t,this},d.__private__.getR2L=d.getR2L=function(t){return Y},d.__private__.setZoomMode=function(t){var e=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*\%$/.test(t))R=t;else if(isNaN(t)){if(-1===e.indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');R=t}else R=parseInt(t,10)}),X=(d.__private__.getZoomMode=function(){return R},d.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');M=t}),Z=(d.__private__.getPageMode=function(){return M},d.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');I=t}),$=(d.__private__.getLayoutMode=function(){return I},d.__private__.setDisplayMode=d.setDisplayMode=function(t,e,i){return K(t),Z(e),X(i),this},{title:"",subject:"",author:"",keywords:"",creator:""}),J=(d.__private__.getDocumentProperty=function(t){if(-1===Object.keys($).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $[t]},d.__private__.getDocumentProperties=function(t){return $},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(t){for(var e in $)$.hasOwnProperty(e)&&t[e]&&($[e]=t[e]);return this},d.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys($).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $[t]=e},0),Q=[],tt={},et={},it=0,rt=[],nt=[],ot=new a(d),at=h.hotfixes||[],st=d.__private__.newObject=function(){var t=ht();return ct(t,!0),t},ht=d.__private__.newObjectDeferred=function(){return Q[++J]=function(){return B},J},ct=function(t,e){return e="boolean"==typeof e&&e,Q[t]=B,e&&U(t+" 0 obj"),t},ut=d.__private__.newAdditionalObject=function(){var t={objId:ht(),content:""};return nt.push(t),t},lt=ht(),ft=ht(),dt=d.__private__.decodeColorString=function(t){var e=t.split(" ");if(2===e.length&&("g"===e[1]||"G"===e[1])){var i=parseFloat(e[0]);e=[i,i,i,"r"]}for(var r="#",n=0;n<3;n++)r+=("0"+Math.floor(255*parseFloat(e[n])).toString(16)).slice(-2);return r},pt=d.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var i=t.ch1,r=t.ch2,o=t.ch3,a=t.ch4,s=(t.precision,"draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"]);if("string"==typeof i&&"#"!==i.charAt(0)){var h=new RGBColor(i);if(h.ok)i=h.toHex();else if(!/^\d*\.?\d*$/.test(i))throw new Error('Invalid color "'+i+'" passed to jsPDF.encodeColorString.')}if("string"==typeof i&&/^#[0-9A-Fa-f]{3}$/.test(i)&&(i="#"+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]),"string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i)){var c=parseInt(i.substr(1),16);i=c>>16&255,r=c>>8&255,o=255&c}if(void 0===r||void 0===a&&i===r&&r===o)if("string"==typeof i)e=i+" "+s[0];else switch(t.precision){case 2:e=_(i/255)+" "+s[0];break;case 3:default:e=b(i/255)+" "+s[0]}else if(void 0===a||"object"===n(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.000","1.000","1.000",s[1]].join(" ");if("string"==typeof i)e=[i,r,o,s[1]].join(" ");else switch(t.precision){case 2:e=[_(i/255),_(r/255),_(o/255),s[1]].join(" ");break;default:case 3:e=[b(i/255),b(r/255),b(o/255),s[1]].join(" ")}}else if("string"==typeof i)e=[i,r,o,a,s[2]].join(" ");else switch(t.precision){case 2:e=[_(i/255),_(r/255),_(o/255),_(a/255),s[2]].join(" ");break;case 3:default:e=[b(i/255),b(r/255),b(o/255),b(a/255),s[2]].join(" ")}return e},gt=d.__private__.getFilters=function(){return c},vt=d.__private__.putStream=function(t){var e=(t=t||{}).data||"",i=t.filters||gt(),r=t.alreadyAppliedFilters||[],n=t.addLength1||!1,o=e.length,a={};!0===i&&(i=["FlateEncode"]);var h=t.additionalKeyValues||[],c=(a=void 0!==s.API.processDataByFilters?s.API.processDataByFilters(e,i):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());0!==a.data.length&&(h.push({key:"Length",value:a.data.length}),!0===n&&h.push({key:"Length1",value:o})),0!=c.length&&(c.split("/").length-1==1?h.push({key:"Filter",value:c}):h.push({key:"Filter",value:"["+c+"]"})),U("<<");for(var u=0;u<h.length;u++)U("/"+h[u].key+" "+h[u].value);U(">>"),0!==a.data.length&&(U("stream"),U(a.data),U("endstream"))},yt=d.__private__.putPage=function(t){t.mediaBox;var e=t.number,i=t.data,r=t.objId,n=t.contentsObjId;ct(r,!0),rt[A].mediaBox.topRightX,rt[A].mediaBox.bottomLeftX,rt[A].mediaBox.topRightY,rt[A].mediaBox.bottomLeftY,U("<</Type /Page"),U("/Parent "+t.rootDictionaryObjId+" 0 R"),U("/Resources "+t.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(_(t.mediaBox.bottomLeftX))+" "+parseFloat(_(t.mediaBox.bottomLeftY))+" "+_(t.mediaBox.topRightX)+" "+_(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&U("/CropBox ["+_(t.cropBox.bottomLeftX)+" "+_(t.cropBox.bottomLeftY)+" "+_(t.cropBox.topRightX)+" "+_(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&U("/BleedBox ["+_(t.bleedBox.bottomLeftX)+" "+_(t.bleedBox.bottomLeftY)+" "+_(t.bleedBox.topRightX)+" "+_(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&U("/TrimBox ["+_(t.trimBox.bottomLeftX)+" "+_(t.trimBox.bottomLeftY)+" "+_(t.trimBox.topRightX)+" "+_(t.trimBox.topRightY)+"]"),null!==t.artBox&&U("/ArtBox ["+_(t.artBox.bottomLeftX)+" "+_(t.artBox.bottomLeftY)+" "+_(t.artBox.topRightX)+" "+_(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&U("/UserUnit "+t.userUnit),ot.publish("putPage",{objId:r,pageContext:rt[e],pageNumber:e,page:i}),U("/Contents "+n+" 0 R"),U(">>"),U("endobj");var o=i.join("\n");return ct(n,!0),vt({data:o,filters:gt()}),U("endobj"),r},mt=d.__private__.putPages=function(){var t,e,i=[];for(t=1;t<=it;t++)rt[t].objId=ht(),rt[t].contentsObjId=ht();for(t=1;t<=it;t++)i.push(yt({number:t,data:D[t],objId:rt[t].objId,contentsObjId:rt[t].contentsObjId,mediaBox:rt[t].mediaBox,cropBox:rt[t].cropBox,bleedBox:rt[t].bleedBox,trimBox:rt[t].trimBox,artBox:rt[t].artBox,userUnit:rt[t].userUnit,rootDictionaryObjId:lt,resourceDictionaryObjId:ft}));ct(lt,!0),U("<</Type /Pages");var r="/Kids [";for(e=0;e<it;e++)r+=i[e]+" 0 R ";U(r+"]"),U("/Count "+it),U(">>"),U("endobj"),ot.publish("postPutPages")},_t=function(){!function(){for(var t in tt)tt.hasOwnProperty(t)&&(!1===l||!0===l&&f.hasOwnProperty(t))&&(e=tt[t],ot.publish("putFont",{font:e,out:U,newObject:st,putStream:vt}),!0!==e.isAlreadyPutted&&(e.objectNumber=st(),U("<<"),U("/Type /Font"),U("/BaseFont /"+e.postScriptName),U("/Subtype /Type1"),"string"==typeof e.encoding&&U("/Encoding /"+e.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj")));var e}(),ot.publish("putResources"),ct(ft,!0),U("<<"),function(){for(var t in U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),U("/Font <<"),tt)tt.hasOwnProperty(t)&&(!1===l||!0===l&&f.hasOwnProperty(t))&&U("/"+t+" "+tt[t].objectNumber+" 0 R");U(">>"),U("/XObject <<"),ot.publish("putXobjectDict"),U(">>")}(),U(">>"),U("endobj"),ot.publish("postPutResources")},bt=function(t,e,i){et.hasOwnProperty(e)||(et[e]={}),et[e][i]=t},wt=function(t,e,i,r,n){n=n||!1;var o="F"+(Object.keys(tt).length+1).toString(10),a={id:o,postScriptName:t,fontName:e,fontStyle:i,encoding:r,isStandardFont:n,metadata:{}};return ot.publish("addFont",{font:a,instance:this}),void 0!==o&&(tt[o]=a,bt(o,e,i)),o},xt=d.__private__.pdfEscape=d.pdfEscape=function(t,e){return function(t,e){var i,r,n,o,a,s,h,c,u;if(n=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&tt[P].metadata&&tt[P].metadata[n]&&tt[P].metadata[n].encoding&&(o=tt[P].metadata[n].encoding,!a&&tt[P].encoding&&(a=tt[P].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(h=!1,s=[],i=0,r=t.length;i<r;i++)(c=a[t.charCodeAt(i)])?s.push(String.fromCharCode(c)):s.push(t[i]),s[i].charCodeAt(0)>>8&&(h=!0);t=s.join("")}for(i=t.length;void 0===h&&0!==i;)t.charCodeAt(i-1)>>8&&(h=!0),i--;if(!h)return t;for(s=e.noBOM?[]:[254,255],i=0,r=t.length;i<r;i++){if((u=(c=t.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(u),s.push(c-(u<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},St=d.__private__.beginPage=function(t,e){var r,n="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(r=y(t.toLowerCase()))&&(t=r[0],e=r[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=i[0],e=i[1]),n){switch(n.substr(0,1)){case"l":t<e&&(n="s");break;case"p":e<t&&(n="s")}"s"===n&&(r=t,t=e,e=r)}(14400<t||14400<e)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),e=Math.min(14400,e)),i=[t,e],j=!0,D[++it]=[],rt[it]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},Ot(it)},Et=function(){St.apply(this,arguments),Ht(Vt),U(Qt),0!==oe&&U(oe+" J"),0!==se&&U(se+" j"),ot.publish("addPage",{pageNumber:it})},Ot=function(t){0<t&&t<=it&&(A=t)},Tt=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return D.length-1},Ct=function(t,e,i){var r,n=void 0;return i=i||{},t=void 0!==t?t:tt[P].fontName,e=void 0!==e?e:tt[P].fontStyle,r=t.toLowerCase(),void 0!==et[r]&&void 0!==et[r][e]?n=et[r][e]:void 0!==et[t]&&void 0!==et[t][e]?n=et[t][e]:!1===i.disableWarning&&console.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),n||i.noFallback||null==(n=et.times[e])&&(n=et.times.normal),n},At=d.__private__.putInfo=function(){for(var t in st(),U("<<"),U("/Producer (jsPDF "+s.version+")"),$)$.hasOwnProperty(t)&&$[t]&&U("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+xt($[t])+")");U("/CreationDate ("+m+")"),U(">>"),U("endobj")},Lt=d.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||lt;switch(st(),U("<<"),U("/Type /Catalog"),U("/Pages "+e+" 0 R"),R||(R="fullwidth"),R){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var i=""+R;"%"===i.substr(i.length-1)&&(R=parseInt(R)/100),"number"==typeof R&&U("/OpenAction [3 0 R /XYZ null null "+_(R)+"]")}switch(I||(I="continuous"),I){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}M&&U("/PageMode /"+M),ot.publish("putCatalog"),U(">>"),U("endobj")},Mt=d.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(J+1)),U("/Root "+J+" 0 R"),U("/Info "+(J-1)+" 0 R"),U("/ID [ <"+w+"> <"+w+"> ]"),U(">>")},It=d.__private__.putHeader=function(){U("%PDF-"+p),U("%")},Pt=d.__private__.putXRef=function(){var t=1,e="0000000000";for(U("xref"),U("0 "+(J+1)),U("0000000000 65535 f "),t=1;t<=J;t++)"function"==typeof Q[t]?U((e+Q[t]()).slice(-10)+" 00000 n "):void 0!==Q[t]?U((e+Q[t]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},Nt=d.__private__.buildDocument=function(){j=!1,B=J=0,G=[],Q=[],nt=[],lt=ht(),ft=ht(),ot.publish("buildDocument"),It(),mt(),function(){ot.publish("putAdditionalObjects");for(var t=0;t<nt.length;t++){var e=nt[t];ct(e.objId,!0),U(e.content),U("endobj")}ot.publish("postPutAdditionalObjects")}(),_t(),At(),Lt();var t=B;return Pt(),Mt(),U("startxref"),U(""+t),U("%%EOF"),j=!0,G.join("\n")},Ft=d.__private__.getBlob=function(t){return new Blob([q(t)],{type:"application/pdf"})},kt=d.output=d.__private__.output=((F=function(t,e){e=e||{};var i=Nt();switch("string"==typeof e?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return i;case"save":d.save(e.filename);break;case"arraybuffer":return q(i);case"blob":return Ft(i);case"bloburi":case"bloburl":if(void 0!==r.URL&&"function"==typeof r.URL.createObjectURL)return r.URL&&r.URL.createObjectURL(Ft(i))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+e.filename+";base64,"+btoa(i);case"dataurlnewwindow":var n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',o=r.open();if(null!==o&&o.document.write(n),o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return r.document.location.href="data:application/pdf;filename="+e.filename+";base64,"+btoa(i);default:return null}}).foo=function(){try{return F.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var i="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!r.console)throw new Error(i);r.console.error(i,t),r.alert&&alert(i)}},(F.foo.bar=F).foo),jt=function(t){return!0===Array.isArray(at)&&-1<at.indexOf(t)};switch(e){case"pt":N=1;break;case"mm":N=72/25.4;break;case"cm":N=72/2.54;break;case"in":N=72;break;case"px":N=1==jt("px_scaling")?.75:96/72;break;case"pc":case"em":N=12;break;case"ex":N=6;break;default:throw new Error("Invalid unit: "+e)}T(),S();var Dt=d.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[t].objId,pageNumber:t,pageContext:rt[t]}},Gt=d.__private__.getPageInfoByObjId=function(t){for(var e in rt)if(rt[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Dt(e)},Bt=d.__private__.getCurrentPageInfo=function(){return{objId:rt[A].objId,pageNumber:A,pageContext:rt[A]}};d.addPage=function(){return Et.apply(this,arguments),this},d.setPage=function(){return Ot.apply(this,arguments),this},d.insertPage=function(t){return this.addPage(),this.movePage(A,t),this},d.movePage=function(t,e){if(e<t){for(var i=D[t],r=rt[t],n=t;e<n;n--)D[n]=D[n-1],rt[n]=rt[n-1];D[e]=i,rt[e]=r,this.setPage(e)}else if(t<e){for(i=D[t],r=rt[t],n=t;n<e;n++)D[n]=D[n+1],rt[n]=rt[n+1];D[e]=i,rt[e]=r,this.setPage(e)}return this},d.deletePage=function(){return function(t){0<t&&t<=it&&(D.splice(t,1),--it<A&&(A=it),this.setPage(A))}.apply(this,arguments),this},d.__private__.text=d.text=function(t,e,i,r){var o;"number"!=typeof t||"number"!=typeof e||"string"!=typeof i&&!Array.isArray(i)||(o=i,i=e,e=t,t=o);var a=arguments[3],s=arguments[4],h=arguments[5];if("object"===n(a)&&null!==a||("string"==typeof s&&(h=s,s=null),"string"==typeof a&&(h=a,a=null),"number"==typeof a&&(s=a,a=null),r={flags:a,angle:s,align:h}),(a=a||{}).noBOM=a.noBOM||!0,a.autoencode=a.autoencode||!0,isNaN(e)||isNaN(i)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return d;var c,u="",l="number"==typeof r.lineHeightFactor?r.lineHeightFactor:qt,d=r.scope||this;function p(t){for(var e,i=t.concat(),r=[],n=i.length;n--;)"string"==typeof(e=i.shift())?r.push(e):Array.isArray(t)&&1===e.length?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function g(t,e){var i;if("string"==typeof t)i=e(t)[0];else if(Array.isArray(t)){for(var r,n,o=t.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(e(r)[0]):Array.isArray(r)&&"string"===r[0]&&(n=e(r[0],r[1],r[2]),a.push([n[0],n[1],n[2]]));i=a}return i}var v=!1,y=!0;if("string"==typeof t)v=!0;else if(Array.isArray(t)){for(var m,w=t.concat(),x=[],S=w.length;S--;)("string"!=typeof(m=w.shift())||Array.isArray(m)&&"string"!=typeof m[0])&&(y=!1);v=y}if(!1===v)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');var E=tt[P].encoding;"WinAnsiEncoding"!==E&&"StandardEncoding"!==E||(t=g(t,(function(t,e,i){return[(n=t,n=n.split("\t").join(Array(r.TabLen||9).join(" ")),xt(n,a)),e,i];var n}))),"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var O=H/d.internal.scaleFactor,T=O*(qt-1);switch(r.baseline){case"bottom":i-=T;break;case"top":i+=O-T;break;case"hanging":i+=O-2*T;break;case"middle":i+=O/2-T}0<(z=r.maxWidth||0)&&("string"==typeof t?t=d.splitTextToSize(t,z):"[object Array]"===Object.prototype.toString.call(t)&&(t=d.splitTextToSize(t.join(" "),z)));var C={text:t,x:e,y:i,options:r,mutex:{pdfEscape:xt,activeFontKey:P,fonts:tt,activeFontSize:H}};ot.publish("preProcessText",C),t=C.text,s=(r=C.options).angle;var A=d.internal.scaleFactor,L=[];if(s){s*=Math.PI/180;var R=Math.cos(s),M=Math.sin(s);L=[_(R),_(M),_(-1*M),_(R)]}void 0!==(B=r.charSpace)&&(u+=b(B*A)+" Tc\n"),r.lang;var I=-1,N=void 0!==r.renderingMode?r.renderingMode:r.stroke,F=d.internal.getCurrentPageInfo().pageContext;switch(N){case 0:case!1:case"fill":I=0;break;case 1:case!0:case"stroke":I=1;break;case 2:case"fillThenStroke":I=2;break;case 3:case"invisible":I=3;break;case 4:case"fillAndAddForClipping":I=4;break;case 5:case"strokeAndAddPathForClipping":I=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":I=6;break;case 7:case"addToPathForClipping":I=7}var k=void 0!==F.usedRenderingMode?F.usedRenderingMode:-1;-1!==I?u+=I+" Tr\n":-1!==k&&(u+="0 Tr\n"),-1!==I&&(F.usedRenderingMode=I),h=r.align||"left";var j=H*l,D=d.internal.pageSize.getWidth(),G=(A=d.internal.scaleFactor,tt[P]),B=r.charSpace||re,z=r.maxWidth||0,q=(a={},[]);if("[object Array]"===Object.prototype.toString.call(t)){var V,W;x=p(t),"left"!==h&&(W=x.map((function(t){return d.getStringUnitWidth(t,{font:G,charSpace:B,fontSize:H})*H/A})));Math.max.apply(Math,W);var K,X=0;if("right"===h){e-=W[0],t=[];var Z=0;for(S=x.length;Z<S;Z++)W[Z],V=0===Z?(K=Xt(e),Zt(i)):(K=(X-W[Z])*A,-j),t.push([x[Z],K,V]),X=W[Z]}else if("center"===h)for(e-=W[0]/2,t=[],Z=0,S=x.length;Z<S;Z++)W[Z],V=0===Z?(K=Xt(e),Zt(i)):(K=(X-W[Z])/2*A,-j),t.push([x[Z],K,V]),X=W[Z];else if("left"===h)for(t=[],Z=0,S=x.length;Z<S;Z++)V=0===Z?Zt(i):-j,K=0===Z?Xt(e):0,t.push(x[Z]);else{if("justify"!==h)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],z=0!==z?z:D,Z=0,S=x.length;Z<S;Z++)V=0===Z?Zt(i):-j,K=0===Z?Xt(e):0,Z<S-1&&q.push(((z-W[Z])/(x[Z].split(" ").length-1)*A).toFixed(2)),t.push([x[Z],K,V])}}!0===("boolean"==typeof r.R2L?r.R2L:Y)&&(t=g(t,(function(t,e,i){return[t.split("").reverse().join(""),e,i]}))),C={text:t,x:e,y:i,options:r,mutex:{pdfEscape:xt,activeFontKey:P,fonts:tt,activeFontSize:H}},ot.publish("postProcessText",C),t=C.text,c=C.mutex.isHex,x=p(t),t=[];var $,J,Q,et=0,it=(S=x.length,"");for(Z=0;Z<S;Z++)it="",Array.isArray(x[Z])?($=parseFloat(x[Z][1]),J=parseFloat(x[Z][2]),Q=(c?"<":"(")+x[Z][0]+(c?">":")"),et=1):($=Xt(e),J=Zt(i),Q=(c?"<":"(")+x[Z]+(c?">":")")),void 0!==q&&void 0!==q[Z]&&(it=q[Z]+" Tw\n"),0!==L.length&&0===Z?t.push(it+L.join(" ")+" "+$.toFixed(2)+" "+J.toFixed(2)+" Tm\n"+Q):1===et||0===et&&0===Z?t.push(it+$.toFixed(2)+" "+J.toFixed(2)+" Td\n"+Q):t.push(it+Q);t=0===et?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var rt="BT\n/"+P+" "+H+" Tf\n"+(H*l).toFixed(2)+" TL\n"+ee+"\n";return rt+=u,rt+=t,U(rt+="ET"),f[P]=!0,d},d.__private__.lstext=d.lstext=function(t,e,i,r){return console.warn("jsPDF.lstext is deprecated"),this.text(t,e,i,{charSpace:r})},d.__private__.clip=d.clip=function(t){U("evenodd"===t?"W*":"W"),U("n")},d.__private__.clip_fixed=d.clip_fixed=function(t){console.log("clip_fixed is deprecated"),d.clip(t)};var Ut=d.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(t)&&(e=!0),e},zt=d.__private__.getStyle=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e};d.__private__.line=d.line=function(t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[i-t,r-e]],t,e)},d.__private__.lines=d.lines=function(t,e,i,r,n,o){var a,s,h,c,u,l,f,d,p,g,v,y;if("number"==typeof t&&(y=i,i=e,e=t,t=y),r=r||[1,1],o=o||!1,isNaN(e)||isNaN(i)||!Array.isArray(t)||!Array.isArray(r)||!Ut(n)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(U(b(Xt(e))+" "+b(Zt(i))+" m "),a=r[0],s=r[1],c=t.length,g=e,v=i,h=0;h<c;h++)2===(u=t[h]).length?(g=u[0]*a+g,v=u[1]*s+v,U(b(Xt(g))+" "+b(Zt(v))+" l")):(l=u[0]*a+g,f=u[1]*s+v,d=u[2]*a+g,p=u[3]*s+v,g=u[4]*a+g,v=u[5]*s+v,U(b(Xt(l))+" "+b(Zt(f))+" "+b(Xt(d))+" "+b(Zt(p))+" "+b(Xt(g))+" "+b(Zt(v))+" c"));return o&&U(" h"),null!==n&&U(zt(n)),this},d.__private__.rect=d.rect=function(t,e,i,r,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r)||!Ut(n))throw new Error("Invalid arguments passed to jsPDF.rect");return U([_(Xt(t)),_(Zt(e)),_(i*N),_(-r*N),"re"].join(" ")),null!==n&&U(zt(n)),this},d.__private__.triangle=d.triangle=function(t,e,i,r,n,o,a){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r)||isNaN(n)||isNaN(o)||!Ut(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[i-t,r-e],[n-i,o-r],[t-n,e-o]],t,e,[1,1],a,!0),this},d.__private__.roundedRect=d.roundedRect=function(t,e,i,r,n,o,a){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r)||isNaN(n)||isNaN(o)||!Ut(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return this.lines([[i-2*n,0],[n*s,0,n,o-o*s,n,o],[0,r-2*o],[0,o*s,-n*s,o,-n,o],[2*n-i,0],[-n*s,0,-n,-o*s,-n,-o],[0,2*o-r],[0,-o*s,n*s,-o,n,-o]],t+n,e,[1,1],a),this},d.__private__.ellipse=d.ellipse=function(t,e,i,r,n){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r)||!Ut(n))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*r;return U([_(Xt(t+i)),_(Zt(e)),"m",_(Xt(t+i)),_(Zt(e-a)),_(Xt(t+o)),_(Zt(e-r)),_(Xt(t)),_(Zt(e-r)),"c"].join(" ")),U([_(Xt(t-o)),_(Zt(e-r)),_(Xt(t-i)),_(Zt(e-a)),_(Xt(t-i)),_(Zt(e)),"c"].join(" ")),U([_(Xt(t-i)),_(Zt(e+a)),_(Xt(t-o)),_(Zt(e+r)),_(Xt(t)),_(Zt(e+r)),"c"].join(" ")),U([_(Xt(t+o)),_(Zt(e+r)),_(Xt(t+i)),_(Zt(e+a)),_(Xt(t+i)),_(Zt(e)),"c"].join(" ")),null!==n&&U(zt(n)),this},d.__private__.circle=d.circle=function(t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i)||!Ut(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,i,i,r)},d.setFont=function(t,e){return P=Ct(t,e,{disableWarning:!1}),this},d.setFontStyle=d.setFontType=function(t){return P=Ct(void 0,t),this},d.__private__.getFontList=d.getFontList=function(){var t,e,i,r={};for(t in et)if(et.hasOwnProperty(t))for(e in r[t]=i=[],et[t])et[t].hasOwnProperty(e)&&i.push(e);return r},d.addFont=function(t,e,i,r){wt.call(this,t,e,i,r=r||"Identity-H")};var qt,Vt=h.lineWidth||.200025,Ht=d.__private__.setLineWidth=d.setLineWidth=function(t){return U((t*N).toFixed(2)+" w"),this},Wt=(d.__private__.setLineDash=s.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map((function(t){return(t*N).toFixed(3)})).join(" "),e=parseFloat((e*N).toFixed(3)),U("["+t+"] "+e+" d"),this},d.__private__.getLineHeight=d.getLineHeight=function(){return H*qt}),Yt=(Wt=d.__private__.getLineHeight=d.getLineHeight=function(){return H*qt},d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(qt=t),this}),Kt=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return qt};Yt(h.lineHeight);var Xt=d.__private__.getHorizontalCoordinate=function(t){return t*N},Zt=d.__private__.getVerticalCoordinate=function(t){return rt[A].mediaBox.topRightY-rt[A].mediaBox.bottomLeftY-t*N},$t=d.__private__.getHorizontalCoordinateString=function(t){return _(t*N)},Jt=d.__private__.getVerticalCoordinateString=function(t){return _(rt[A].mediaBox.topRightY-rt[A].mediaBox.bottomLeftY-t*N)},Qt=h.strokeColor||"0 G",te=(d.__private__.getStrokeColor=d.getDrawColor=function(){return dt(Qt)},d.__private__.setStrokeColor=d.setDrawColor=function(t,e,i,r){return Qt=pt({ch1:t,ch2:e,ch3:i,ch4:r,pdfColorType:"draw",precision:2}),U(Qt),this},h.fillColor||"0 g"),ee=(d.__private__.getFillColor=d.getFillColor=function(){return dt(te)},d.__private__.setFillColor=d.setFillColor=function(t,e,i,r){return te=pt({ch1:t,ch2:e,ch3:i,ch4:r,pdfColorType:"fill",precision:2}),U(te),this},h.textColor||"0 g"),ie=d.__private__.getTextColor=d.getTextColor=function(){return dt(ee)},re=(d.__private__.setTextColor=d.setTextColor=function(t,e,i,r){return ee=pt({ch1:t,ch2:e,ch3:i,ch4:r,pdfColorType:"text",precision:3}),this},h.charSpace||0),ne=d.__private__.getCharSpace=d.getCharSpace=function(){return re},oe=(d.__private__.setCharSpace=d.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return re=t,this},0);d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return U((oe=e)+" J"),this};var ae,se=0;for(var he in d.__private__.setLineJoin=d.setLineJoin=function(t){var e=d.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return U((se=e)+" j"),this},d.__private__.setMiterLimit=d.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return ae=parseFloat(_(t*N)),U(ae+" M"),this},d.save=function(t,e){if(t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1!==e.returnPromise)return new Promise((function(e,i){try{var n=Rt(Ft(Nt()),t);"function"==typeof Rt.unload&&r.setTimeout&&setTimeout(Rt.unload,911),e(n)}catch(e){i(e.message)}}));Rt(Ft(Nt()),t),"function"==typeof Rt.unload&&r.setTimeout&&setTimeout(Rt.unload,911)},s.API)s.API.hasOwnProperty(he)&&("events"===he&&s.API.events.length?function(t,e){var i,r,n;for(n=e.length-1;-1!==n;n--)i=e[n][0],r=e[n][1],t.subscribe.apply(t,[i].concat("function"==typeof r?[r]:r))}(ot,s.API.events):d[he]=s.API[he]);return d.internal={pdfEscape:xt,getStyle:zt,getFont:function(){return tt[Ct.apply(d,arguments)]},getFontSize:W,getCharSpace:ne,getTextColor:ie,getLineHeight:Wt,getLineHeightFactor:Kt,write:z,getHorizontalCoordinate:Xt,getVerticalCoordinate:Zt,getCoordinateString:$t,getVerticalCoordinateString:Jt,collections:{},newObject:st,newAdditionalObject:ut,newObjectDeferred:ht,newObjectDeferredBegin:ct,getFilters:gt,putStream:vt,events:ot,scaleFactor:N,pageSize:{getWidth:function(){return(rt[A].mediaBox.topRightX-rt[A].mediaBox.bottomLeftX)/N},setWidth:function(t){rt[A].mediaBox.topRightX=t*N+rt[A].mediaBox.bottomLeftX},getHeight:function(){return(rt[A].mediaBox.topRightY-rt[A].mediaBox.bottomLeftY)/N},setHeight:function(t){rt[A].mediaBox.topRightY=t*N+rt[A].mediaBox.bottomLeftY}},output:kt,getNumberOfPages:Tt,pages:D,out:U,f2:_,f3:b,getPageInfo:Dt,getPageInfoByObjId:Gt,getCurrentPageInfo:Bt,getPDFVersion:g,hasHotfix:jt},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return(rt[A].mediaBox.topRightX-rt[A].mediaBox.bottomLeftX)/N},set:function(t){rt[A].mediaBox.topRightX=t*N+rt[A].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return(rt[A].mediaBox.topRightY-rt[A].mediaBox.bottomLeftY)/N},set:function(t){rt[A].mediaBox.topRightY=t*N+rt[A].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,i=V.length;e<i;e++){var r=wt(t[e][0],t[e][1],t[e][2],V[e][3],!0);f[r]=!0;var n=t[e][0].split("-");bt(r,n[0],n[1]||"")}ot.publish("addFonts",{fonts:tt,dictionary:et})}(V),P="F1",Et(i,t),ot.publish("initialized"),d}return s.API={events:[]},s.version="1.5.3",o=function(){return s}.call(e,i,e,t),void 0!==o&&(t.exports=o),s}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")());
/**
   * @license
   * Copyright (c) 2016 Alexander Weidt,
   * https://github.com/BiggA94
   * 
   * Licensed under the MIT License. http://opensource.org/licenses/mit-license
   */(function(t,e){var i,r=1,o=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},a=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},s=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},h=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(5)};t.__acroform__={};var c=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},u=function(t){return t*r},l=function(t){return t/r},f=function(t){var e=new N,i=K.internal.getHeight(t)||0,r=K.internal.getWidth(t)||0;return e.BBox=[0,0,Number(s(r)),Number(s(i))],e},d=t.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},p=t.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},g=t.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},v=t.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g(t,e-1)},y=t.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return d(t,e-1)},m=t.__acroform__.clearBitForPdf=function(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return p(t,e-1)},_=t.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,r=t[0],n=t[1],o=t[2],a=t[3],h={};return h.lowerLeft_X=e(r)||0,h.lowerLeft_Y=i(n+a)||0,h.upperRight_X=e(r+o)||0,h.upperRight_Y=i(n)||0,[Number(s(h.lowerLeft_X)),Number(s(h.lowerLeft_Y)),Number(s(h.upperRight_X)),Number(s(h.upperRight_Y))]},b=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t.V||t.DV,n=w(t,r),o=i.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.__private__.encodeColorString(t.color)),e.push("/"+o+" "+s(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=new f(t);return a.stream=e.join("\n"),a}},w=function(t,e){var r=t.maxFontSize||12,n=(t.fontName,{text:"",fontSize:""}),a=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),h=(i.__private__.encodeColorString(t.color),r),c=K.internal.getHeight(t)||0;c=c<0?-c:c;var u=K.internal.getWidth(t)||0;u=u<0?-u:u;var l=function(e,i,r){if(e+1<a.length){var n=i+" "+a[e+1];return x(n,t,r).width<=u-4}return!1};h++;t:for(;;){e="";var f=x("3",t,--h).height,d=t.multiline?c-h:(c-f)/2,p=-2,g=d+=2,v=0,y=0,m=0;if(h<=0){e="(...) Tj\n",e+="% Width of Text: "+x(e,t,h=12).width+", FieldWidth:"+u+"\n";break}m=x(a[0]+" ",t,h).width;var _="",b=0;for(var w in a)if(a.hasOwnProperty(w)){_=" "==(_+=a[w]+" ").substr(_.length-1)?_.substr(0,_.length-1):_;var S=parseInt(w);m=x(_+" ",t,h).width;var E=l(S,_,h),O=w>=a.length-1;if(E&&!O){_+=" ";continue}if(E||O){if(O)y=S;else if(t.multiline&&c<(f+2)*(b+2)+2)continue t}else{if(!t.multiline)continue t;if(c<(f+2)*(b+2)+2)continue t;y=S}for(var T="",C=v;C<=y;C++)T+=a[C]+" ";switch(T=" "==T.substr(T.length-1)?T.substr(0,T.length-1):T,m=x(T,t,h).width,t.textAlign){case"right":p=u-m-2;break;case"center":p=(u-m)/2;break;case"left":default:p=2}e+=s(p)+" "+s(g)+" Td\n",e+="("+o(T)+") Tj\n",e+=-s(p)+" 0 Td\n",g=-(h+2),m=0,v=y+1,b++,_=""}break}return n.text=e,n.fontSize=h,n},x=function(t,e,r){var n=i.internal.getFont(e.fontName,e.fontStyle),o=i.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:i.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:o}},S={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E=function(){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];r.objId=void 0,r.hasAnnotation&&O.call(i,r)}},O=function(t){var e={type:"reference",object:t};void 0===i.internal.getPageInfo(t.page).pageContext.annotations.find((function(t){return t.type===e.type&&t.object===e.object}))&&i.internal.getPageInfo(t.page).pageContext.annotations.push(e)},T=function(){if(void 0===i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},C=function(){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0},A=function(t){var e=!t;for(var r in t||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids,t)if(t.hasOwnProperty(r)){var o=t[r],a=[],s=o.Rect;if(o.Rect&&(o.Rect=_.call(this,o.Rect)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=K.createDefaultAppearanceStream(o),"object"===n(o)&&"function"==typeof o.getKeyValueListForStream&&(a=o.getKeyValueListForStream()),o.Rect=s,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=b.call(this,o);a.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var c="";for(var u in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(u)){var l=o.appearanceStreamContent[u];if(c+="/"+u+" ",c+="<<",1<=Object.keys(l).length||Array.isArray(l))for(var r in l){var f;l.hasOwnProperty(r)&&("function"==typeof(f=l[r])&&(f=f.call(this,o)),c+="/"+r+" "+f+" ",0<=i.internal.acroformPlugin.xForms.indexOf(f)||i.internal.acroformPlugin.xForms.push(f))}else"function"==typeof(f=l)&&(f=f.call(this,o)),c+="/"+r+" "+f,0<=i.internal.acroformPlugin.xForms.indexOf(f)||i.internal.acroformPlugin.xForms.push(f);c+=">>"}a.push({key:"AP",value:"<<\n"+c+">>"})}i.internal.putStream({additionalKeyValues:a}),i.internal.out("endobj")}e&&L.call(this,i.internal.acroformPlugin.xForms)},L=function(t){for(var e in t)if(t.hasOwnProperty(e)){var r=e,o=t[e];i.internal.newObjectDeferredBegin(o&&o.objId,!0),"object"===n(o)&&"function"==typeof o.putStream&&o.putStream(),delete t[r]}},R=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(i=this,k.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(S)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new F,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",C),i.internal.events.subscribe("buildDocument",E),i.internal.events.subscribe("putCatalog",T),i.internal.events.subscribe("postPutPages",A),i.internal.acroformPlugin.isInitialized=!0}},M=t.__acroform__.arrayToPdfArray=function(t){if(Array.isArray(t)){for(var e="[",i=0;i<t.length;i++)switch(0!==i&&(e+=" "),n(t[i])){case"boolean":case"number":case"object":e+=t[i].toString();break;case"string":"/"!==t[i].substr(0,1)?e+="("+o(t[i].toString())+")":e+=t[i].toString()}return e+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},I=function(t){return(t=t||"").toString(),"("+o(t)+")"},P=function(){var t;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(t||(t=i.internal.newObjectDeferred()),!t)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return t},set:function(e){t=e}})};P.prototype.toString=function(){return this.objId+" 0 R"},P.prototype.putStream=function(){var t=this.getKeyValueListForStream();i.internal.putStream({data:this.stream,additionalKeyValues:t}),i.internal.out("endobj")},P.prototype.getKeyValueListForStream=function(){return function(t){var e=[],i=Object.getOwnPropertyNames(t).filter((function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)}));for(var r in i)if(!1===Object.getOwnPropertyDescriptor(t,i[r]).configurable){var n=i[r],o=t[n];o&&(Array.isArray(o)?e.push({key:n,value:M(o)}):o instanceof P?e.push({key:n,value:o.objId+" 0 R"}):"function"!=typeof o&&e.push({key:n,value:o}))}return e}(this)};var N=function(){P.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};c(N,P);var F=function(){P.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<e.length?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t)return"("+t+")"},set:function(e){t=e}})};c(F,P);var k=function t(){P.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(e,3))},set:function(t){!0===Boolean(t)?this.F=y(e,3):this.F=m(e,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');i=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:l(r[0])},set:function(t){r[0]=u(t)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:l(r[1])},set:function(t){r[1]=u(t)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:l(r[2])},set:function(t){r[2]=u(t)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:l(r[3])},set:function(t){r[3]=u(t)}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof V)return;s="FieldObject"+t.FieldNum++}return"("+o(s)+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(t){h=t}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(t){c=t}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l(f)},set:function(t){f=u(t)}});var d=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l(d)},set:function(t){d=u(t)}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(t){p=t}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof V||this instanceof W))return I(g)},set:function(t){t=t.toString(),g=t}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof U==0?I(_):_},set:function(t){t=t.toString(),_=this instanceof U==0?"("===t.substr(0,1)?a(t.substr(1,t.length-2)):a(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof U==1?a(_.substr(1,_.length-1)):_},set:function(t){t=t.toString(),_=this instanceof U==1?"/"+t:t}});var b=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof U==0?I(b):b},set:function(t){t=t.toString(),b=this instanceof U==0?"("===t.substr(0,1)?a(t.substr(1,t.length-2)):a(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof U==1?a(b.substr(1,b.length-1)):b},set:function(t){t=t.toString(),b=this instanceof U==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return x},set:function(t){t=Boolean(t),x=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(w)return w},set:function(t){w=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,1):this.Ff=m(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,2):this.Ff=m(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,3):this.Ff=m(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==S)return S},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');S=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t="left";switch(S){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};c(k,P);var j=function(){k.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M(e)},set:function(t){var i,r;r=[],"string"==typeof(i=t)&&(r=function(t,e,i){i||(i=1);for(var r,n=[];r=e.exec(t);)n.push(r[i]);return n}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,18):this.Ff=m(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=y(this.Ff,19):this.Ff=m(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=y(this.Ff,20),e.sort()):this.Ff=m(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,22):this.Ff=m(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,23):this.Ff=m(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,27):this.Ff=m(this.Ff,27)}}),this.hasAppearanceStream=!1};c(j,k);var D=function(){j.call(this),this.fontName="helvetica",this.combo=!1};c(D,j);var G=function(){D.call(this),this.combo=!0};c(G,D);var B=function(){G.call(this),this.edit=!0};c(B,G);var U=function(){k.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,15):this.Ff=m(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,16):this.Ff=m(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,17):this.Ff=m(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,26):this.Ff=m(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(e).length){var t,i=[];for(t in i.push("<<"),e)i.push("/"+t+" ("+e[t]+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===n(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};c(U,k);var z=function(){U.call(this),this.pushButton=!0};c(z,U);var q=function(){U.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};c(q,U);var V=function(){var t,e;k.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var i,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push("<<"),r)e.push("/"+t+" ("+r[t]+")");return e.push(">>"),e.join("\n")},set:function(t){"object"===n(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=K.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};c(V,k),q.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var i=this.Kids[e];i.appearanceStreamContent=t.createAppearanceStream(i.optionName),i.caption=t.getCA()}},q.prototype.createOption=function(t){this.Kids.length;var e=new V;return e.Parent=this,e.optionName=t,this.Kids.push(e),X.call(this,e),e};var H=function(){U.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=K.CheckBox.createAppearanceStream()};c(H,U);var W=function(){k.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,13):this.Ff=m(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,21):this.Ff=m(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,23):this.Ff=m(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,24):this.Ff=m(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,25):this.Ff=m(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,26):this.Ff=m(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};c(W,k);var Y=function(){W.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(v(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=y(this.Ff,14):this.Ff=m(this.Ff,14)}}),this.password=!0};c(Y,W);var K={CheckBox:{createAppearanceStream:function(){return{N:{On:K.CheckBox.YesNormal},D:{On:K.CheckBox.YesPushDown,Off:K.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=f(t),r=[],n=i.internal.getFont(t.fontName,t.fontStyle).id,o=i.__private__.encodeColorString(t.color),a=w(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+s(K.internal.getWidth(t))+" "+s(K.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+s(a.fontSize)+" Tf "+o),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join("\n"),e},YesNormal:function(t){var e=f(t),r=i.internal.getFont(t.fontName,t.fontStyle).id,n=i.__private__.encodeColorString(t.color),o=[],a=K.internal.getHeight(t),h=K.internal.getWidth(t),c=w(t,t.caption);return o.push("1 g"),o.push("0 0 "+s(h)+" "+s(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+s(h-1)+" "+s(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+r+" "+s(c.fontSize)+" Tf "+n),o.push(c.text),o.push("ET"),o.push("Q"),e.stream=o.join("\n"),e},OffPushDown:function(t){var e=f(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+s(K.internal.getWidth(t))+" "+s(K.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:K.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=K.RadioButton.Circle.YesNormal,e.D[t]=K.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=f(t),i=[],r=K.internal.getWidth(t)<=K.internal.getHeight(t)?K.internal.getWidth(t)/4:K.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var n=K.internal.Bezier_C,o=Number((r*n).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+h(K.internal.getWidth(t)/2)+" "+h(K.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),i.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),i.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),i.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=f(t),i=[],r=K.internal.getWidth(t)<=K.internal.getHeight(t)?K.internal.getWidth(t)/4:K.internal.getHeight(t)/4,n=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((n*K.internal.Bezier_C).toFixed(5)),a=Number((r*K.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+h(K.internal.getWidth(t)/2)+" "+h(K.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),i.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),i.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),i.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+h(K.internal.getWidth(t)/2)+" "+h(K.internal.getHeight(t)/2)+" cm"),i.push(r+" 0 m"),i.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),i.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),i.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),i.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=f(t),i=[],r=K.internal.getWidth(t)<=K.internal.getHeight(t)?K.internal.getWidth(t)/4:K.internal.getHeight(t)/4,n=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((n*K.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+h(K.internal.getWidth(t)/2)+" "+h(K.internal.getHeight(t)/2)+" cm"),i.push(n+" 0 m"),i.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),i.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),i.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),i.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),i.push("f"),i.push("Q"),e.stream=i.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:K.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=K.RadioButton.Cross.YesNormal,e.D[t]=K.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=f(t),i=[],r=K.internal.calculateCross(t);return i.push("q"),i.push("1 1 "+s(K.internal.getWidth(t)-2)+" "+s(K.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(s(r.x1.x)+" "+s(r.x1.y)+" m"),i.push(s(r.x2.x)+" "+s(r.x2.y)+" l"),i.push(s(r.x4.x)+" "+s(r.x4.y)+" m"),i.push(s(r.x3.x)+" "+s(r.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join("\n"),e},YesPushDown:function(t){var e=f(t),i=K.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+s(K.internal.getWidth(t))+" "+s(K.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+s(K.internal.getWidth(t)-2)+" "+s(K.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(s(i.x1.x)+" "+s(i.x1.y)+" m"),r.push(s(i.x2.x)+" "+s(i.x2.y)+" l"),r.push(s(i.x4.x)+" "+s(i.x4.y)+" m"),r.push(s(i.x3.x)+" "+s(i.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=f(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+s(K.internal.getWidth(t))+" "+s(K.internal.getHeight(t))+" re"),i.push("f"),e.stream=i.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=i.internal.getFont(t.fontName,t.fontStyle).id,r=i.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};K.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=K.internal.getWidth(t),i=K.internal.getHeight(t),r=Math.min(e,i);return{x1:{x:(e-r)/2,y:(i-r)/2+r},x2:{x:(e-r)/2+r,y:(i-r)/2},x3:{x:(e-r)/2,y:(i-r)/2},x4:{x:(e-r)/2+r,y:(i-r)/2+r}}}},K.internal.getWidth=function(t){var e=0;return"object"===n(t)&&(e=u(t.Rect[2])),e},K.internal.getHeight=function(t){var e=0;return"object"===n(t)&&(e=u(t.Rect[3])),e};var X=t.addField=function(t){if(R.call(this),!(t instanceof k))throw new Error("Invalid argument passed to jsPDF.addField.");return function(t){i.internal.acroformPlugin.printedOut&&(i.internal.acroformPlugin.printedOut=!1,i.internal.acroformPlugin.acroFormDictionaryRoot=null),i.internal.acroformPlugin.acroFormDictionaryRoot||R.call(i),i.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}.call(this,t),t.page=i.internal.getCurrentPageInfo().pageNumber,this};t.addButton=function(t){if(t instanceof U==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return X.call(this,t)},t.addTextField=function(t){if(t instanceof W==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return X.call(this,t)},t.addChoiceField=function(t){if(t instanceof j==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return X.call(this,t)},"object"==n(e)&&void 0===e.ChoiceField&&void 0===e.ListBox&&void 0===e.ComboBox&&void 0===e.EditBox&&void 0===e.Button&&void 0===e.PushButton&&void 0===e.RadioButton&&void 0===e.CheckBox&&void 0===e.TextField&&void 0===e.PasswordField?(e.ChoiceField=j,e.ListBox=D,e.ComboBox=G,e.EditBox=B,e.Button=U,e.PushButton=z,e.RadioButton=q,e.CheckBox=H,e.TextField=W,e.PasswordField=Y,e.AcroForm={Appearance:K}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),t.AcroFormChoiceField=j,t.AcroFormListBox=D,t.AcroFormComboBox=G,t.AcroFormEditBox=B,t.AcroFormButton=U,t.AcroFormPushButton=z,t.AcroFormRadioButton=q,t.AcroFormCheckBox=H,t.AcroFormTextField=W,t.AcroFormPasswordField=Y,t.AcroFormAppearance=K,t.AcroForm={ChoiceField:j,ListBox:D,ComboBox:G,EditBox:B,Button:U,PushButton:z,RadioButton:q,CheckBox:H,TextField:W,PasswordField:Y,Appearance:K}})((window.tmp=pt).API,"undefined"!=typeof window&&window||"undefined"!=typeof r&&r),
/** @license
   * jsPDF addImage plugin
   * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
   *               2013 Chris Dowling, https://github.com/gingerchris
   *               2013 Trinh Ho, https://github.com/ineedfat
   *               2013 Edwin Alejandro Perez, https://github.com/eaparango
   *               2013 Norah Smith, https://github.com/burnburnrocket
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   */
function(t){var e="addImage_",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.getImageFileTypeByImageData=function(e,r){var n,o;r=r||"UNKNOWN";var a,s,h,c="UNKNOWN";for(h in t.isArrayBufferView(e)&&(e=t.arrayBufferToBinaryString(e)),i)for(a=i[h],n=0;n<a.length;n+=1){for(s=!0,o=0;o<a[n].length;o+=1)if(void 0!==a[n][o]&&a[n][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){c=h;break}}return"UNKNOWN"===c&&"UNKNOWN"!==r&&(console.warn('FileType of Image not recognized. Processing image as "'+r+'".'),c=r),c},o=function t(e){for(var i=this.internal.newObject(),r=this.internal.write,n=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);e.n=i;var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:e.w}),a.push({key:"Height",value:e.h}),e.cs===this.color_spaces.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?i+2:i+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:e.bpc}),"dp"in e&&a.push({key:"DecodeParms",value:"<<"+e.dp+">>"}),"trns"in e&&e.trns.constructor==Array){for(var s="",h=0,c=e.trns.length;h<c;h++)s+=e.trns[h]+" "+e.trns[h]+" ";a.push({key:"Mask",value:"["+s+"]"})}"smask"in e&&a.push({key:"SMask",value:i+1+" 0 R"});var u=void 0!==e.f?["/"+e.f]:void 0;if(n({data:e.data,additionalKeyValues:a,alreadyAppliedFilters:u}),r("endobj"),"smask"in e){var l="/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,f={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:l,data:e.smask};"f"in e&&(f.f=e.f),t.call(this,f)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),n({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),r("endobj"))},a=function(){var t=this.internal.collections[e+"images"];for(var i in t)o.call(this,t[i])},s=function(){var t,i=this.internal.collections[e+"images"],r=this.internal.write;for(var n in i)r("/I"+(t=i[n]).i,t.n,"0","R")},h=function(e){return"function"==typeof t["process"+e.toUpperCase()]},c=function(t){return"object"===n(t)&&1===t.nodeType},u=function(e,i){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return unescape(r);var n=t.loadFile(r);if(void 0!==n)return btoa(n)}if("CANVAS"===e.nodeName){var o=e;return e.toDataURL("image/jpeg",1)}(o=document.createElement("canvas")).width=e.clientWidth||e.width,o.height=e.clientHeight||e.height;var a=o.getContext("2d");if(!a)throw"addImage requires canvas to be supported by browser.";return a.drawImage(e,0,0,o.width,o.height),o.toDataURL("png"==(""+i).toLowerCase()?"image/png":"image/jpeg")},l=function(t,e){var i;if(e)for(var r in e)if(t===e[r].alias){i=e[r];break}return i};t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},t.sHashCode=function(t){var e,i=0;if(0===(t=t||"").length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i},t.isString=function(t){return"string"==typeof t},t.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(t.substr(-2))&&(e=!1),e},t.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(t)},t.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),i=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(i={mimeType:r[1],charset:r[2],data:e[1]})}return i},t.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},t.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},t.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},t.binaryStringToUint8Array=function(t){for(var e=t.length,i=new Uint8Array(e),r=0;r<e;r++)i[r]=t.charCodeAt(r);return i},t.arrayBufferToBinaryString=function(t){if("function"==typeof atob)return atob(this.arrayBufferToBase64(t))},t.arrayBufferToBase64=function(t){for(var e,i="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(t),o=n.byteLength,a=o%3,s=o-a,h=0;h<s;h+=3)i+=r[(16515072&(e=n[h]<<16|n[h+1]<<8|n[h+2]))>>18]+r[(258048&e)>>12]+r[(4032&e)>>6]+r[63&e];return 1==a?i+=r[(252&(e=n[s]))>>2]+r[(3&e)<<4]+"==":2==a&&(i+=r[(64512&(e=n[s]<<8|n[s+1]))>>10]+r[(1008&e)>>4]+r[(15&e)<<2]+"="),i},t.createImageInfo=function(t,e,i,r,n,o,a,s,h,c,u,l,f){var d={alias:s,w:e,h:i,cs:r,bpc:n,i:a,data:t};return o&&(d.f=o),h&&(d.dp=h),c&&(d.trns=c),u&&(d.pal=u),l&&(d.smask=l),f&&(d.p=f),d},t.addImage=function(i,r,o,f,d,p,g,v,y){var m="";if("string"!=typeof r){var _=p;p=d,d=f,f=o,o=r,r=_}if("object"===n(i)&&!c(i)&&"imageData"in i){var b=i;i=b.imageData,r=b.format||r||"UNKNOWN",o=b.x||o||0,f=b.y||f||0,d=b.w||d,p=b.h||p,g=b.alias||g,v=b.compression||v,y=b.rotation||b.angle||y}var w=this.internal.getFilters();if(void 0===v&&-1!==w.indexOf("FlateEncode")&&(v="SLOW"),"string"==typeof i&&(i=unescape(i)),isNaN(o)||isNaN(f))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var x,S,E,O,T,C,A,L=function(){var t=this.internal.collections[e+"images"];return t||(this.internal.collections[e+"images"]=t={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s)),t}.call(this);if(!((x=l(i,L))||(c(i)&&(i=u(i,r)),(null==(A=g)||0===A.length)&&(g="string"==typeof(C=i)?t.sHashCode(C):t.isArrayBufferView(C)?t.sHashCode(t.arrayBufferToBinaryString(C)):null),x=l(g,L)))){if(this.isString(i)&&(""!==(m=this.convertStringToImageData(i))||void 0!==(m=t.loadFile(i)))&&(i=m),r=this.getImageFileTypeByImageData(i,r),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(i instanceof Uint8Array||(S=i,i=this.binaryStringToUint8Array(i))),!(x=this["process"+r.toUpperCase()](i,(T=0,(O=L)&&(T=Object.keys?Object.keys(O).length:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e}(O)),T),g,((E=v)&&"string"==typeof E&&(E=E.toUpperCase()),E in t.image_compression?E:t.image_compression.NONE),S)))throw new Error("An unknown error occurred whilst processing the image")}return function(t,e,i,r,n,o,a,s){var h=function(t,e,i){return t||e||(e=t=-96),t<0&&(t=-1*i.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*i.h*72/e/this.internal.scaleFactor),0===t&&(t=e*i.w/i.h),0===e&&(e=t*i.h/i.w),[t,e]}.call(this,i,r,n),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;if(i=h[0],r=h[1],a[o]=n,s){s*=Math.PI/180;var l=Math.cos(s),f=Math.sin(s),d=function(t){return t.toFixed(4)},p=[d(l),d(f),d(-1*f),d(l),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,c(t),u(e+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([c(i),"0","0",c(r),"0","0","cm"].join(" "))):this.internal.write([c(i),"0","0",c(r),c(t),u(e+r),"cm"].join(" ")),this.internal.write("/I"+n.i+" Do"),this.internal.write("Q")}.call(this,o,f,d,p,x,x.i,L,y),this},t.convertStringToImageData=function(e){var i,r="";if(this.isString(e)){var n;i=null!==(n=this.extractImageFromDataUrl(e))?n.data:e;try{r=atob(i)}catch(e){throw t.validateStringAsBase64(i)?new Error("atob-Error in jsPDF.convertStringToImageData "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return r};var f=function(t,e){return t.subarray(e,e+5)};t.processJPEG=function(t,e,i,n,o,a){var s,h=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(s=function(t){var e;if("JPEG"!==r(t))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),n=4,o=t.length;n<o;){if(n+=i,255!==t.charCodeAt(n))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(n+1)||193===t.charCodeAt(n+1)||194===t.charCodeAt(n+1)||195===t.charCodeAt(n+1)||196===t.charCodeAt(n+1)||197===t.charCodeAt(n+1)||198===t.charCodeAt(n+1)||199===t.charCodeAt(n+1))return e=256*t.charCodeAt(n+5)+t.charCodeAt(n+6),[256*t.charCodeAt(n+7)+t.charCodeAt(n+8),e,t.charCodeAt(n+9)];n+=2,i=256*t.charCodeAt(n)+t.charCodeAt(n+1)}}(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(s=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,i=t.length,r=(t[4]<<8)+t[5],n=4;n<i;){if(r=((e=f(t,n+=r))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<r)return{width:((e=f(t,n+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};n+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=o||this.arrayBufferToBinaryString(t)),void 0===a)switch(s.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;default:case 3:a=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,s.width,s.height,a,8,h,e,i)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)},t.getImageProperties=function(e){var i,r,n="";if(c(e)&&(e=u(e)),this.isString(e)&&(""!==(n=this.convertStringToImageData(e))||void 0!==(n=t.loadFile(e)))&&(e=n),r=this.getImageFileTypeByImageData(e),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(e=this.binaryStringToUint8Array(e))),!(i=this["process"+r.toUpperCase()](e)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:r,width:i.w,height:i.h,colorSpace:i.cs,compressionMode:i.f,bitsPerComponent:i.bpc}}}(pt.API),
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
a=pt.API,pt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),i=t.pageContext.annotations,r=function(t){if(void 0!==t&&""!=t)return!0},n=!1,o=0;o<i.length&&!n;o++)switch((h=i[o]).type){case"link":if(r(h.options.url)||r(h.options.pageNumber)){n=!0;break}case"reference":case"text":case"freetext":n=!0}if(0!=n){this.internal.write("/Annots ["),this.internal.pageSize.height;var a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;for(o=0;o<i.length;o++){var h;switch((h=i[o]).type){case"reference":this.internal.write(" "+h.object.objId+" 0 R ");break;case"text":var c=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),l=h.title||"Note";v="<</Type /Annot /Subtype /Text "+(d="/Rect ["+a(h.bounds.x)+" "+s(h.bounds.y+h.bounds.h)+" "+a(h.bounds.x+h.bounds.w)+" "+s(h.bounds.y)+"] ")+"/Contents ("+h.contents+")",v+=" /Popup "+u.objId+" 0 R",v+=" /P "+e.objId+" 0 R",v+=" /T ("+l+") >>",c.content=v;var f=c.objId+" 0 R";v="<</Type /Annot /Subtype /Popup "+(d="/Rect ["+a(h.bounds.x+30)+" "+s(h.bounds.y+h.bounds.h)+" "+a(h.bounds.x+h.bounds.w+30)+" "+s(h.bounds.y)+"] ")+" /Parent "+f,h.open&&(v+=" /Open true"),v+=" >>",u.content=v,this.internal.write(c.objId,"0 R",u.objId,"0 R");break;case"freetext":var d="/Rect ["+a(h.bounds.x)+" "+s(h.bounds.y)+" "+a(h.bounds.x+h.bounds.w)+" "+s(h.bounds.y+h.bounds.h)+"] ",p=h.color||"#000000";v="<</Type /Annot /Subtype /FreeText "+d+"/Contents ("+h.contents+")",v+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+p+")",v+=" /Border [0 0 0]",v+=" >>",this.internal.write(v);break;case"link":if(h.options.name){var g=this.annotations._nameMap[h.options.name];h.options.pageNumber=g.page,h.options.top=g.y}else h.options.top||(h.options.top=0);d="/Rect ["+a(h.x)+" "+s(h.y)+" "+a(h.x+h.w)+" "+s(h.y+h.h)+"] ";var v="";if(h.options.url)v="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /A <</S /URI /URI ("+h.options.url+") >>";else if(h.options.pageNumber)switch(v="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(h.options.pageNumber).objId+" 0 R",h.options.magFactor=h.options.magFactor||"XYZ",h.options.magFactor){case"Fit":v+=" /Fit]";break;case"FitH":v+=" /FitH "+h.options.top+"]";break;case"FitV":h.options.left=h.options.left||0,v+=" /FitV "+h.options.left+"]";break;case"XYZ":default:var y=s(h.options.top);h.options.left=h.options.left||0,void 0===h.options.zoom&&(h.options.zoom=0),v+=" /XYZ "+h.options.left+" "+y+" "+h.options.zoom+"]"}""!=v&&(v+=" >>",this.internal.write(v))}}this.internal.write("]")}}]),a.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},a.link=function(t,e,i,r,n){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:i,h:r,options:n,type:"link"})},a.textWithLink=function(t,e,i,r){var n=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,i),i+=.2*o,this.link(e,i-o,n,o,r),n},a.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},s=t.__arabicParser__.isArabicEndLetter=function(t){return a(t)&&o(t)&&e[t.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(t){return a(t)&&0<=n.indexOf(t.charCodeAt(0))},c=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return a(t)&&o(t)&&1<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return a(t)&&o(t)&&2<=e[t.charCodeAt(0)].length}),u=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return a(t)&&o(t)&&3<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return a(t)&&o(t)&&4==e[t.charCodeAt(0)].length}),l=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=i,n=0,o="",a=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(a++,"number"==typeof(r=r[t.charCodeAt(e)])&&(n=-1!==(n=f(t.charAt(e),t.charAt(e-a),t.charAt(e+1)))?n:0,o+=String.fromCharCode(r),r=i,a=0),e===t.length-1&&(r=i,o+=t.charAt(e-(a-1)),e-=a-1,a=0)):(r=i,o+=t.charAt(e-a),e-=a,a=0);return o},f=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,i){return a(t)?!1===o(t)?-1:!c(t)||!a(e)&&!a(i)||!a(i)&&s(e)||s(t)&&!a(e)||s(t)&&h(e)||s(t)&&s(e)?0:u(t)&&a(e)&&!s(e)&&a(i)&&c(i)?3:s(t)||!a(i)?1:2:-1}),d=t.__arabicParser__.processArabic=t.processArabic=function(t){var i=0,r=0,n=0,o="",s="",h="",c=(t=t||"").split("\\s+"),u=[];for(i=0;i<c.length;i+=1){for(u.push(""),r=0;r<c[i].length;r+=1)o=c[i][r],s=c[i][r-1],h=c[i][r+1],a(o)?(n=f(o,s,h),u[i]+=-1!==n?String.fromCharCode(e[o.charCodeAt(0)][n]):o):u[i]+=o;u[i]=l(u[i])}return u.join(" ")};t.events.push(["preProcessText",function(t){var e=t.text,i=(t.x,t.y,t.options||{}),r=(t.mutex,i.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var n=0;for(r=[],n=0;n<e.length;n+=1)"[object Array]"===Object.prototype.toString.call(e[n])?r.push([d(e[n][0]),e[n][1],e[n][2]]):r.push([d(e[n])]);t.text=r}else t.text=d(e)}])}(pt.API),pt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
s=pt.API,(h=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(t){i=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var n={};Object.defineProperty(this,"style",{get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(t,e){var i;if("2d"!==(t=t||"2d"))return null;for(i in e)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=e[i]);return(this.pdf.context2d._canvas=this).pdf.context2d},h.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new h,this.canvas.pdf=this}]),
/** 
   * @license
   * ====================================================================
   * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
   *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Hall, james@parall.ax
   *               2014 Diego Casorran, https://github.com/diegocr
   *
   * 
   * ====================================================================
   */
c=pt.API,l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},f=1,d=function(t,e,i,r,n){l={x:t,y:e,w:i,h:r,ln:n}},p=function(){return l},g={left:0,top:0,bottom:0},c.setHeaderFunction=function(t){u=t},c.getTextDimensions=function(t,e){var i=this.table_font_size||this.internal.getFontSize(),r=(this.internal.getFont().fontStyle,(e=e||{}).scaleFactor||this.internal.scaleFactor),n=0,o=0,a=0;if("string"==typeof t)0!=(n=this.getStringUnitWidth(t)*i)&&(o=1);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var s=0;s<t.length;s++)n<(a=this.getStringUnitWidth(t[s])*i)&&(n=a);0!==n&&(o=t.length)}return{w:n/=r,h:Math.max((o*i*this.getLineHeightFactor()-i*(this.getLineHeightFactor()-1))/r,0)}},c.cellAddPage=function(){var t=this.margins||g;this.addPage(),d(t.left,t.top,void 0,void 0),f+=1},c.cellInitialize=function(){l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},f=1},c.cell=function(t,e,i,r,n,o,a){var s=p(),h=!1;if(void 0!==s.ln)if(s.ln===o)t=s.x+s.w,e=s.y;else{var c=this.margins||g;s.y+s.h+r+13>=this.internal.pageSize.getHeight()-c.bottom&&(this.cellAddPage(),h=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),e=p().y+p().h,h&&(e=23)}if(void 0!==n[0])if(this.printingHeaderRow?this.rect(t,e,i,r,"FD"):this.rect(t,e,i,r),"right"===a){n instanceof Array||(n=[n]);for(var u=0;u<n.length;u++){var l=n[u],f=this.getStringUnitWidth(l)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(l,t+i-f-3,e+this.internal.getLineHeight()*(u+1))}}else this.text(n,t+3,e+this.internal.getLineHeight());return d(t,e,i,r,o),this},c.arrayMax=function(t,e){var i,r,n,o=t[0];for(i=0,r=t.length;i<r;i+=1)n=t[i],e?-1===e(o,n)&&(o=n):o<n&&(o=n);return o},c.table=function(t,e,i,r,n){if(!i)throw"No data for PDF table";var o,a,s,h,u,d,p,v,y,m,_=[],b=[],w={},x={},S=[],E=[],O=!1,T=!0,C=12,A=g;if(A.width=this.internal.pageSize.getWidth(),n&&(!0===n.autoSize&&(O=!0),!1===n.printHeaders&&(T=!1),n.fontSize&&(C=n.fontSize),n.css&&void 0!==n.css["font-size"]&&(C=16*n.css["font-size"]),n.margins&&(A=n.margins)),this.lnMod=0,l={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},f=1,this.printHeaders=T,this.margins=A,this.setFontSize(C),this.table_font_size=C,null==r)_=Object.keys(i[0]);else if(r[0]&&"string"!=typeof r[0])for(a=0,s=r.length;a<s;a+=1)o=r[a],_.push(o.name),b.push(o.prompt),x[o.name]=o.width*(19.049976/25.4);else _=r;if(O)for(m=function(t){return t[o]},a=0,s=_.length;a<s;a+=1){for(w[o=_[a]]=i.map(m),S.push(this.getTextDimensions(b[a]||o,{scaleFactor:1}).w),p=0,h=(d=w[o]).length;p<h;p+=1)u=d[p],S.push(this.getTextDimensions(u,{scaleFactor:1}).w);x[o]=c.arrayMax(S),S=[]}if(T){var L=this.calculateLineHeight(_,x,b.length?b:_);for(a=0,s=_.length;a<s;a+=1)o=_[a],E.push([t,e,x[o],L,String(b.length?b[a]:o)]);this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}for(a=0,s=i.length;a<s;a+=1)for(v=i[a],L=this.calculateLineHeight(_,x,v),p=0,y=_.length;p<y;p+=1)o=_[p],this.cell(t,e,x[o],L,v[o],a+2,o.align);return this.lastCellPos=l,this.table_x=t,this.table_y=e,this},c.calculateLineHeight=function(t,e,i){for(var r,n=0,o=0;o<t.length;o++){i[r=t[o]]=this.splitTextToSize(String(i[r]),e[r]-3);var a=this.internal.getLineHeight()*i[r].length+3;n<a&&(n=a)}return n},c.setTableHeaderRow=function(t){this.tableHeaderRow=t},c.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var i,r,n,o;if(this.printingHeaderRow=!0,void 0!==u){var a=u(this,f);d(a[0],a[1],a[2],a[3],-1)}this.setFontStyle("bold");var s=[];for(n=0,o=this.tableHeaderRow.length;n<o;n+=1)this.setFillColor(200,200,200),i=this.tableHeaderRow[n],e&&(this.margins.top=13,i[1]=this.margins&&this.margins.top||0,s.push(i)),r=[].concat(i),this.cell.apply(this,r.concat(t));0<s.length&&this.setTableHeaderRow(s),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(t,e){var i,r,o,a,s,h=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new F,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new P,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new P,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new c(this),i=this.internal.f2,this.internal.f3,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate}]);var c=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return t}});var e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return e},set:function(t){e=Boolean(t)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(t){i=Boolean(t)}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var n=0;Object.defineProperty(this,"posY",{get:function(){return n},set:function(t){isNaN(t)||(n=t)}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=Boolean(t)}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var s=[];Object.defineProperty(this,"pageBreaks",{get:function(){return s},set:function(t){s=t}});var c=new h;Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof h&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var l=[];Object.defineProperty(this,"ctxStack",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=u(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=u(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var i=e[1],r=(e[2],e[3]),n=e[4],o=e[5],a=e[6];n="px"===o?Math.floor(parseFloat(n)):"em"===o?Math.floor(parseFloat(n)*this.pdf.getFontSize()):Math.floor(parseFloat(n)),this.pdf.setFontSize(n);var s="";("bold"===r||700<=parseInt(r,10)||"bold"===i)&&(s="bold"),"italic"===i&&(s+="italic"),0===s.length&&(s="normal");for(var h="",c=a.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),u={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},l=0;l<c.length;l++){if(void 0!==this.pdf.internal.getFont(c[l],s,{noFallback:!0,disableWarning:!0})){h=c[l];break}if("bolditalic"===s&&void 0!==this.pdf.internal.getFont(c[l],"bold",{noFallback:!0,disableWarning:!0}))h=c[l],s="bold";else if(void 0!==this.pdf.internal.getFont(c[l],"normal",{noFallback:!0,disableWarning:!0})){h=c[l],s="normal";break}}if(""===h)for(l=0;l<c.length;l++)if(u[c[l]]){h=u[c[l]];break}h=""===h?"Times":h,this.pdf.setFont(h,s)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};c.prototype.fill=function(){v.call(this,"fill",!1)},c.prototype.stroke=function(){v.call(this,"stroke",!1)},c.prototype.beginPath=function(){this.path=[{type:"begin"}]},c.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var i=this.ctx.transform.applyToPoint(new P(t,e));this.path.push({type:"mt",x:i.x,y:i.y}),this.ctx.lastPoint=new P(t,e)},c.prototype.closePath=function(){var t=new P(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===n(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new P(this.path[e+1].x,this.path[e+1].y),this.path.push({type:"lt",x:t.x,y:t.y});break}"object"===n(this.path[e+2])&&"number"==typeof this.path[e+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[e+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new P(t.x,t.y)},c.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var i=this.ctx.transform.applyToPoint(new P(t,e));this.path.push({type:"lt",x:i.x,y:i.y}),this.ctx.lastPoint=new P(i.x,i.y)},c.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},c.prototype.quadraticCurveTo=function(t,e,i,r){if(isNaN(i)||isNaN(r)||isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var n=this.ctx.transform.applyToPoint(new P(i,r)),o=this.ctx.transform.applyToPoint(new P(t,e));this.path.push({type:"qct",x1:o.x,y1:o.y,x:n.x,y:n.y}),this.ctx.lastPoint=new P(n.x,n.y)},c.prototype.bezierCurveTo=function(t,e,i,r,n,o){if(isNaN(n)||isNaN(o)||isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new P(n,o)),s=this.ctx.transform.applyToPoint(new P(t,e)),h=this.ctx.transform.applyToPoint(new P(i,r));this.path.push({type:"bct",x1:s.x,y1:s.y,x2:h.x,y2:h.y,x:a.x,y:a.y}),this.ctx.lastPoint=new P(a.x,a.y)},c.prototype.arc=function(t,e,i,r,n,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r)||isNaN(n))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new P(t,e));t=a.x,e=a.y;var s=this.ctx.transform.applyToPoint(new P(0,i)),h=this.ctx.transform.applyToPoint(new P(0,0));i=Math.sqrt(Math.pow(s.x-h.x,2)+Math.pow(s.y-h.y,2))}Math.abs(n-r)>=2*Math.PI&&(r=0,n=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:i,startAngle:r,endAngle:n,counterclockwise:o})},c.prototype.arcTo=function(t,e,i,r,n){throw new Error("arcTo not implemented.")},c.prototype.rect=function(t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+i,e),this.lineTo(t,e)},c.prototype.fillRect=function(t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!l.call(this)){var n={};"butt"!==this.lineCap&&(n.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(n.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,i,r),this.fill(),n.hasOwnProperty("lineCap")&&(this.lineCap=n.lineCap),n.hasOwnProperty("lineJoin")&&(this.lineJoin=n.lineJoin)}},c.prototype.strokeRect=function(t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(t,e,i,r),this.stroke())},c.prototype.clearRect=function(t,e,i,r){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,i,r))},c.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},c.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,i=0;i<this.pdf.internal.getNumberOfPages();i++)this.pdf.setPage(i+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},c.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(t){var e,i,r,n;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))n=r=i=e=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==o)e=parseInt(o[1]),i=parseInt(o[2]),r=parseInt(o[3]),n=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(t)))e=parseInt(o[1]),i=parseInt(o[2]),r=parseInt(o[3]),n=parseFloat(o[4]);else{if(n=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new RGBColor(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,i=t.substring(2,3),i+=i,r=t.substring(3,4),r+=r):(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),i=parseInt(i,16),r=parseInt(r,16)}}return{r:e,g:i,b:r,a:n,style:t}},l=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};c.prototype.fillText=function(t,e,i,r){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!l.call(this)){i=m.call(this,i);var n=L(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;S.call(this,{text:t,x:e,y:i,scale:o,angle:n,align:this.textAlign,maxWidth:r})}},c.prototype.strokeText=function(t,e,i,r){if(isNaN(e)||isNaN(i)||"string"!=typeof t)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r,i=m.call(this,i);var n=L(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;S.call(this,{text:t,x:e,y:i,scale:o,renderingMode:"stroke",angle:n,align:this.textAlign,maxWidth:r})}},c.prototype.measureText=function(t){if("string"!=typeof t)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,i=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),n=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:n*=Math.round(96*i/72*1e4)/1e4})},c.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var i=new F(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(i)},c.prototype.rotate=function(t){if(isNaN(t))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new F(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},c.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var i=new F(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(i)},c.prototype.transform=function(t,e,i,r,n,o){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(r)||isNaN(n)||isNaN(o))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new F(t,e,i,r,n,o);this.ctx.transform=this.ctx.transform.multiply(a)},c.prototype.setTransform=function(t,e,i,r,n,o){t=isNaN(t)?1:t,e=isNaN(e)?0:e,i=isNaN(i)?0:i,r=isNaN(r)?1:r,n=isNaN(n)?0:n,o=isNaN(o)?0:o,this.ctx.transform=new F(t,e,i,r,n,o)},c.prototype.drawImage=function(t,e,i,r,n,o,a,s,h){var c=this.pdf.getImageProperties(t),u=1,l=1,f=1,p=1;void 0!==r&&void 0!==s&&(f=s/r,p=h/n,u=c.width/r*s/r,l=c.height/n*h/n),void 0===o&&(o=e,a=i,i=e=0),void 0!==r&&void 0===s&&(s=r,h=n),void 0===r&&void 0===s&&(s=c.width,h=c.height);var v=this.ctx.transform.decompose(),m=L(v.rotate.shx);v.scale.sx,v.scale.sy;for(var _,b=new F,w=((b=(b=(b=b.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToPoint(new P(s,h)),b.applyToRectangle(new N(o-e*f,a-i*p,r*u,n*l))),x=d.call(this,w),S=[],E=0;E<x.length;E+=1)-1===S.indexOf(x[E])&&S.push(x[E]);if(S.sort(),this.autoPaging)for(var O=S[0],T=S[S.length-1],C=O;C<T+1;C++){if(this.pdf.setPage(C),0!==this.ctx.clip_path.length){var A=this.path;_=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(_,this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY),y.call(this,"fill",!0),this.path=A}var R=JSON.parse(JSON.stringify(w));R=g([R],this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY)[0],this.pdf.addImage(t,"jpg",R.x,R.y,R.w,R.h,null,null,m)}else this.pdf.addImage(t,"jpg",w.x,w.y,w.w,w.h,null,null,m)};var d=function(t,e,i){var r=[];switch(e=e||this.pdf.internal.pageSize.width,i=i||this.pdf.internal.pageSize.height,t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+this.posY)/i)+1);break;case"arc":r.push(Math.floor((t.y+this.posY-t.radius)/i)+1),r.push(Math.floor((t.y+this.posY+t.radius)/i)+1);break;case"qct":var n=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor(n.y/i)+1),r.push(Math.floor((n.y+n.h)/i)+1);break;case"bct":var o=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor(o.y/i)+1),r.push(Math.floor((o.y+o.h)/i)+1);break;case"rect":r.push(Math.floor((t.y+this.posY)/i)+1),r.push(Math.floor((t.y+t.h+this.posY)/i)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)p.call(this);return r},p=function(){var t=this.fillStyle,e=this.strokeStyle,i=this.font,r=this.lineCap,n=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=i,this.lineCap=r,this.lineWidth=n,this.lineJoin=o},g=function(t,e,i){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=i;case"qct":t[r].x1+=e,t[r].y1+=i;case"mt":case"lt":case"arc":default:t[r].x+=e,t[r].y+=i}return t},v=function(t,e){for(var i,r,n=this.fillStyle,o=this.strokeStyle,a=(this.font,this.lineCap),s=this.lineWidth,h=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),l=[],f=0;f<u.length;f++)if(void 0!==u[f].x)for(var v=d.call(this,u[f]),m=0;m<v.length;m+=1)-1===l.indexOf(v[m])&&l.push(v[m]);for(f=0;f<l.length;f++)for(;this.pdf.internal.getNumberOfPages()<l[f];)p.call(this);if(l.sort(),this.autoPaging){var _=l[0],b=l[l.length-1];for(f=_;f<b+1;f++){if(this.pdf.setPage(f),this.fillStyle=n,this.strokeStyle=o,this.lineCap=a,this.lineWidth=s,this.lineJoin=h,0!==this.ctx.clip_path.length){var w=this.path;i=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(i,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),y.call(this,t,!0),this.path=w}r=JSON.parse(JSON.stringify(c)),this.path=g(r,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),!1!==e&&0!==f||y.call(this,t,e)}}else y.call(this,t,e);this.path=c},y=function(t,e){if(("stroke"!==t||e||!f.call(this))&&("stroke"===t||e||!l.call(this))){var i=[];this.ctx.globalAlpha,this.ctx.fillOpacity<1&&this.ctx.fillOpacity;for(var r,n=this.path,o=0;o<n.length;o++){var a=n[o];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var s=i.length;if(!isNaN(n[o-1].x)){var h=[a.x-n[o-1].x,a.y-n[o-1].y];if(0<s)for(;0<=s;s--)if(!0!==i[s-1].close&&!0!==i[s-1].begin){i[s-1].deltas.push(h),i[s-1].abs.push(a);break}}break;case"bct":h=[a.x1-n[o-1].x,a.y1-n[o-1].y,a.x2-n[o-1].x,a.y2-n[o-1].y,a.x-n[o-1].x,a.y-n[o-1].y],i[i.length-1].deltas.push(h);break;case"qct":var c=n[o-1].x+2/3*(a.x1-n[o-1].x),u=n[o-1].y+2/3*(a.y1-n[o-1].y),d=a.x+2/3*(a.x1-a.x),p=a.y+2/3*(a.y1-a.y),g=a.x,v=a.y;h=[c-n[o-1].x,u-n[o-1].y,d-n[o-1].x,p-n[o-1].y,g-n[o-1].x,v-n[o-1].y],i[i.length-1].deltas.push(h);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}for(r=e?null:"stroke"===t?"stroke":"fill",o=0;o<i.length;o++){if(i[o].arc)for(var y=i[o].abs,m=0;m<y.length;m++){var x=y[m];if(void 0!==x.startAngle){var S=L(x.startAngle),T=L(x.endAngle),C=x.x,A=x.y;_.call(this,C,A,x.radius,S,T,x.counterclockwise,r,e)}else E.call(this,x.x,x.y)}i[o].arc||!0===i[o].close||!0===i[o].begin||(C=i[o].start.x,A=i[o].start.y,O.call(this,i[o].deltas,C,A,null,null))}r&&b.call(this,r),e&&w.call(this)}},m=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,i=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-i;case"top":return t+e-i;case"hanging":return t+e-2*i;case"middle":return t+e/2-i;case"ideographic":return t;case"alphabetic":default:return t}};c.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},c.prototype.createPattern=function(){return this.createLinearGradient()},c.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(t,e,i,r,n,o,a,s){this.pdf.internal.scaleFactor;for(var h=R(r),c=R(n),u=C.call(this,i,h,c,o),l=0;l<u.length;l++){var f=u[l];0===l&&x.call(this,f.x1+t,f.y1+e),T.call(this,t,e,f.x2,f.y2,f.x3,f.y3,f.x4,f.y4)}s?w.call(this):b.call(this,a)},b=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},w=function(){this.pdf.clip()},x=function(t,e){this.pdf.internal.out(r(t)+" "+o(e)+" m")},S=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var i=this.ctx.transform.applyToPoint(new P(t.x,t.y)),r=this.ctx.transform.decompose(),n=new F;n=(n=(n=n.multiply(r.translate)).multiply(r.skew)).multiply(r.scale);for(var o,a=this.pdf.getTextDimensions(t.text),s=this.ctx.transform.applyToRectangle(new N(t.x,t.y,a.w,a.h)),h=n.applyToRectangle(new N(t.x,t.y-a.h,a.w,a.h)),c=d.call(this,h),u=[],l=0;l<c.length;l+=1)-1===u.indexOf(c[l])&&u.push(c[l]);if(u.sort(),!0===this.autoPaging)for(var f=u[0],p=u[u.length-1],v=f;v<p+1;v++){if(this.pdf.setPage(v),0!==this.ctx.clip_path.length){var m=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(o,this.posX,-1*this.pdf.internal.pageSize.height*(v-1)+this.posY),y.call(this,"fill",!0),this.path=m}var _=JSON.parse(JSON.stringify(s));if(_=g([_],this.posX,-1*this.pdf.internal.pageSize.height*(v-1)+this.posY)[0],.01<=t.scale){var b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*t.scale)}this.pdf.text(t.text,_.x,_.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)}else.01<=t.scale&&(b=this.pdf.internal.getFontSize(),this.pdf.setFontSize(b*t.scale)),this.pdf.text(t.text,i.x+this.posX,i.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)},E=function(t,e,i,n){i=i||0,n=n||0,this.pdf.internal.out(r(t+i)+" "+o(e+n)+" l")},O=function(t,e,i){return this.pdf.lines(t,e,i,null,null)},T=function(t,e,r,n,o,h,c,u){this.pdf.internal.out([i(a(r+t)),i(s(n+e)),i(a(o+t)),i(s(h+e)),i(a(c+t)),i(s(u+e)),"c"].join(" "))},C=function(t,e,i,r){var n=2*Math.PI,o=e;(o<n||n<o)&&(o%=n);var a=i;(a<n||n<a)&&(a%=n);for(var s=[],h=Math.PI/2,c=r?-1:1,u=e,l=Math.min(n,Math.abs(a-o));1e-5<l;){var f=u+c*Math.min(l,h);s.push(A.call(this,t,u,f)),l-=Math.abs(f-u),u=f}return s},A=function(t,e,i){var r=(i-e)/2,n=t*Math.cos(r),o=t*Math.sin(r),a=n,s=-o,h=a*a+s*s,c=h+a*n+s*o,u=4/3*(Math.sqrt(2*h*c)-c)/(a*o-s*n),l=a-u*s,f=s+u*a,d=l,p=-f,g=r+e,v=Math.cos(g),y=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:l*v-f*y,y2:l*y+f*v,x3:d*v-p*y,y3:d*y+p*v,x4:t*Math.cos(i),y4:t*Math.sin(i)}},L=function(t){return 180*t/Math.PI},R=function(t){return t*Math.PI/180},M=function(t,e,i,r,n,o){var a=t+.5*(i-t),s=e+.5*(r-e),h=n+.5*(i-n),c=o+.5*(r-o),u=Math.min(t,n,a,h),l=Math.max(t,n,a,h),f=Math.min(e,o,s,c),d=Math.max(e,o,s,c);return new N(u,f,l-u,d-f)},I=function(t,e,i,r,n,o,a,s){for(var h,c,u,l,f,d,p,g,v,y,m,_,b,w=i-t,x=r-e,S=n-i,E=o-r,O=a-n,T=s-o,C=0;C<41;C++)g=(d=(c=t+(h=C/40)*w)+h*((l=i+h*S)-c))+h*(l+h*(n+h*O-l)-d),v=(p=(u=e+h*x)+h*((f=r+h*E)-u))+h*(f+h*(o+h*T-f)-p),b=0==C?(_=y=g,m=v):(y=Math.min(y,g),m=Math.min(m,v),_=Math.max(_,g),Math.max(b,v));return new N(Math.round(y),Math.round(m),Math.round(_-y),Math.round(b-m))},P=function(t,e){var i=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var n="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return n},set:function(t){n=t.toString()}}),this},N=function(t,e,i,r){P.call(this,t,e),this.type="rect";var n=i||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}}),this},F=function(t,e,i,r,n,o){var a=[];return Object.defineProperty(this,"sx",{get:function(){return a[0]},set:function(t){a[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return a[1]},set:function(t){a[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return a[2]},set:function(t){a[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return a[3]},set:function(t){a[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return a[4]},set:function(t){a[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return a[5]},set:function(t){a[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(i)?0:i,this.sy=isNaN(r)?1:r,this.tx=isNaN(n)?0:n,this.ty=isNaN(o)?0:o,this};F.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,i=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,n=t.shx*this.shy+t.sy*this.sy,o=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new F(e,i,r,n,o,a)},F.prototype.decompose=function(){var t=this.sx,e=this.shy,i=this.shx,r=this.sy,n=this.tx,o=this.ty,a=Math.sqrt(t*t+e*e),s=(t/=a)*i+(e/=a)*r;i-=t*s,r-=e*s;var h=Math.sqrt(i*i+r*r);return s/=h,t*(r/=h)<e*(i/=h)&&(t=-t,e=-e,s=-s,a=-a),{scale:new F(a,0,0,h,0,0),translate:new F(1,0,0,1,n,o),rotate:new F(t,e,-e,t,0,0),skew:new F(1,0,s,1,0,0)}},F.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,i=t.x*this.shy+t.y*this.sy+this.ty;return new P(e,i)},F.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),i=this.applyToPoint(new P(t.x+t.w,t.y+t.h));return new N(e.x,e.y,i.x-e.x,i.y-e.y)},F.prototype.clone=function(){var t=this.sx,e=this.shy,i=this.shx,r=this.sy,n=this.tx,o=this.ty;return new F(t,e,i,r,n,o)}}(pt.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")()),v=pt.API,y=function(t){var e,i,r,n,o,a,s,h,c,u;for(/[^\x00-\xFF]/.test(t),i=[],r=0,n=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;r<n;r+=4)0!==(o=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(u=o%85))/85)-(c=o%85))/85)-(h=o%85))/85)-(s=o%85))/85)%85,i.push(a+33,s+33,h+33,c+33,u+33)):i.push(122);return function(t,i){for(var r=e.length;0<r;r--)t.pop()}(i),String.fromCharCode.apply(String,i)+"~>"},m=function(t){var e,i,r,n,o,a=String,s="length",h="charCodeAt",c="slice",u="replace";for(t[c](-2),t=t[c](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],n=0,o=(t+=e="uuuuu"[c](t[s]%5||5))[s];n<o;n+=5)i=52200625*(t[h](n)-33)+614125*(t[h](n+1)-33)+7225*(t[h](n+2)-33)+85*(t[h](n+3)-33)+(t[h](n+4)-33),r.push(255&i>>24,255&i>>16,255&i>>8,255&i);return function(t,i){for(var r=e[s];0<r;r--)t.pop()}(r),a.fromCharCode.apply(a,r)},_=function(t){for(var e="",i=0;i<t.length;i+=1)e+=("0"+t.charCodeAt(i).toString(16)).slice(-2);return e+">"},b=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var i="",r=0;r<t.length;r+=2)i+=String.fromCharCode("0x"+(t[r]+t[r+1]));return i},w=function(t,e){e=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},e);for(var i,r,n=[],o=t.length;o--;)n[o]=t.charCodeAt(o);return i=v.adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(n)),t=r.flush(),(n=new Uint8Array(t.length+6)).set(new Uint8Array([120,156])),n.set(t,2),n.set(new Uint8Array([255&i,i>>8&255,i>>16&255,i>>24&255]),t.length+2),String.fromCharCode.apply(null,n)},v.processDataByFilters=function(t,e){var i=0,r=t||"",n=[];for("string"==typeof(e=e||[])&&(e=[e]),i=0;i<e.length;i+=1)switch(e[i]){case"ASCII85Decode":case"/ASCII85Decode":r=m(r),n.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":r=y(r),n.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":r=b(r),n.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":r=_(r),n.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":r=w(r),n.push("/FlateDecode");break;default:throw'The filter: "'+e[i]+'" is not implemented'}return{data:r,reverseChain:n.reverse().join(" ")}},(x=pt.API).loadFile=function(t,e,i){var r;e=e||!0,i=i||function(){};try{r=function(t,e,i){var r=new XMLHttpRequest,n=[],o=0,a=function(t){var e=t.length,i=String.fromCharCode;for(o=0;o<e;o+=1)n.push(i(255&t.charCodeAt(o)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){return a(this.responseText)}),r.send(null),200===r.status)return e?a(r.responseText):void 0;console.warn('Unable to load file "'+t+'"')}(t,e)}catch(t){r=void 0}return r},x.loadImageFile=x.loadFile,S=pt.API,E="undefined"!=typeof window&&window||"undefined"!=typeof r&&r,O=function(t){var e=n(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},T=function(t,e){var i=document.createElement(t);if(e.className&&(i.className=e.className),e.innerHTML){i.innerHTML=e.innerHTML;for(var r=i.getElementsByTagName("script"),n=r.length;0<n--;null)r[n].parentNode.removeChild(r[n])}for(var o in e.style)i.style[o]=e.style[o];return i},(((C=function t(e){var i=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),i);return(r=r.setProgress(1,t,1,[t])).set(e)}).prototype=Object.create(Promise.prototype)).constructor=C).convert=function(t,e){return t.__proto__=e||C.prototype,t},C.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},C.prototype.from=function(t,e){return this.then((function(){switch(e=e||function(t){switch(O(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.set({src:T("div",{innerHTML:t})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}}))},C.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},C.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var t={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},e=function t(e,i){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),n=e.firstChild;n;n=n.nextSibling)!0!==i&&1===n.nodeType&&"SCRIPT"===n.nodeName||r.appendChild(t(n,i));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",(function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=T("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=T("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(T("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},C.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then((function(){var t=Object.assign({},this.opt.html2canvas);if(delete t.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)})).then((function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},C.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then((function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)})).then((function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},C.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t}))},C.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},C.prototype.output=function(t,e,i){return"img"===(i=i||"pdf").toLowerCase()||"image"===i.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},C.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(t,e)}))},C.prototype.outputImg=function(t,e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}}))},C.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==E.html2canvas;return t||console.error("html2canvas not loaded."),t},C.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},C.prototype.doCallback=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},C.prototype.set=function(t){if("object"!==O(t))return this;var e=Object.keys(t||{}).map((function(e){if(e in C.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}}),this);return this.then((function(){return this.thenList(e)}))},C.prototype.get=function(t,e){return this.then((function(){var i=t in C.template.prop?this.prop[t]:this.opt[t];return e?e(i):i}))},C.prototype.setMargin=function(t){return this.then((function(){switch(O(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t})).then(this.setPageSize)},C.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then((function(){(t=t||pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t}))},C.prototype.setProgress=function(t,e,i,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=i&&(this.progress.n=i),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},C.prototype.updateProgress=function(t,e,i,r){return this.setProgress(t?this.progress.val+t:null,e||null,i?this.progress.n+i:null,r?this.progress.stack.concat(r):null)},C.prototype.then=function(t,e){var i=this;return this.thenCore(t,e,(function(t,e){return i.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,(function(e){return i.updateProgress(null,t),e})).then(t,e).then((function(t){return i.updateProgress(1),t}))}))},C.prototype.thenCore=function(t,e,i){i=i||Promise.prototype.then;var r=this;t&&(t=t.bind(r)),e&&(e=e.bind(r));var n=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:C.convert(Object.assign({},r),Promise.prototype),o=i.call(n,t,e);return C.convert(o,r.__proto__)},C.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},C.prototype.thenList=function(t){var e=this;return t.forEach((function(t){e=e.thenCore(t)})),e},C.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return C.convert(e,this)},C.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},C.prototype.error=function(t){return this.then((function(){throw new Error(t)}))},C.prototype.using=C.prototype.set,C.prototype.saveAs=C.prototype.save,C.prototype.export=C.prototype.output,C.prototype.run=C.prototype.then,pt.getPageSize=function(t,e,i){if("object"===n(t)){var r=t;t=r.orientation,e=r.unit||e,i=r.format||i}e=e||"mm",i=i||"a4",t=(""+(t||"P")).toLowerCase();var o=(""+i).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":var s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+e}if(a.hasOwnProperty(o))var h=a[o][1]/s,c=a[o][0]/s;else try{h=i[1],c=i[0]}catch(t){throw new Error("Invalid format: "+i)}if("p"===t||"portrait"===t){if(t="p",h<c){var u=c;c=h,h=u}}else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",c<h&&(u=c,c=h,h=u)}return{width:c,height:h,unit:e,k:s}},S.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.jsPDF;var i=new C(e);return e.worker?i:i.from(t).doCallback()},pt.API.addJS=function(t){return R=t,this.internal.events.subscribe("postPutResources",(function(t){A=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(A+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),L=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+R+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==A&&void 0!==L&&this.internal.out("/Names <</JavaScript "+A+" 0 R>>")})),this},
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */(M=pt.API).events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var i=t.outline.render().split(/\r\n/),r=0;r<i.length;r++){var n=i[r],o=e.exec(n);if(null!=o){var a=o[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(n)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,h=[];for(r=0;r<s;r++){var c=t.internal.newObject();h.push(c);var u=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var l=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<h.length;r++)t.internal.write("(page_"+(r+1)+")"+h[r]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+l+" 0 R"),t.internal.write(">>","endobj")}}]),M.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),M.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,i){var r={title:e,options:i,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var i=0;i<e.children.length;i++)this.genIds_r(e.children[i])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),0<t.children.length&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){this.ctx.pdf.internal.getCoordinateString;for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var n=e.children[r];this.objStart(n),this.line("/Title "+this.makeString(n.title)),this.line("/Parent "+this.makeRef(e)),0<r&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),0<n.children.length&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1])));var o=this.count=this.count_r({count:0},n);if(0<o&&this.line("/Count "+o),n.options&&n.options.pageNumber){var a=t.internal.getPageInfo(n.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(r=0;r<e.children.length;r++)n=e.children[r],this.renderItems(n)},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var i=0;i<e.children.length;i++)t.count++,this.count_r(t,e.children[i]);return t.count}}]),
/**
   * @license
   * 
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   * ====================================================================
   */
I=pt.API,P=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},N=function(t,e,i,r){var n=5,o=B;switch(r){case I.image_compression.FAST:n=3,o=G;break;case I.image_compression.MEDIUM:n=6,o=U;break;case I.image_compression.SLOW:n=9,o=z}t=j(t,e,i,o);var a=new Uint8Array(F(n)),s=k(t),h=new Deflater(n),c=h.append(t),u=h.flush(),l=a.length+c.length+u.length,f=new Uint8Array(l+4);return f.set(a),f.set(c,a.length),f.set(u,a.length+c.length),f[l++]=s>>>24&255,f[l++]=s>>>16&255,f[l++]=s>>>8&255,f[l++]=255&s,I.arrayBufferToBinaryString(f)},F=function(t,e){var i=Math.LOG2E*Math.log(32768)-8<<4|8,r=i<<8;return r|=Math.min(3,(e-1&255)>>1)<<6,r|=0,[i,255&(r+=31-r%31)]},k=function(t,e){for(var i,r=1,n=0,o=t.length,a=0;0<o;){for(o-=i=e<o?e:o;n+=r+=t[a++],--i;);r%=65521,n%=65521}return(n<<16|r)>>>0},j=function(t,e,i,r){for(var n,o,a,s=t.length/e,h=new Uint8Array(t.length+s),c=V(),u=0;u<s;u++){if(a=u*e,n=t.subarray(a,a+e),r)h.set(r(n,i,o),a+u);else{for(var l=0,f=c.length,d=[];l<f;l++)d[l]=c[l](n,i,o);var p=H(d.concat());h.set(d[p],a+u)}o=n}return h},D=function(t,e,i){var r=Array.apply([],t);return r.unshift(0),r},G=function(t,e,i){var r,n=[],o=0,a=t.length;for(n[0]=1;o<a;o++)r=t[o-e]||0,n[o+1]=t[o]-r+256&255;return n},B=function(t,e,i){var r,n=[],o=0,a=t.length;for(n[0]=2;o<a;o++)r=i&&i[o]||0,n[o+1]=t[o]-r+256&255;return n},U=function(t,e,i){var r,n,o=[],a=0,s=t.length;for(o[0]=3;a<s;a++)r=t[a-e]||0,n=i&&i[a]||0,o[a+1]=t[a]+256-(r+n>>>1)&255;return o},z=function(t,e,i){var r,n,o,a,s=[],h=0,c=t.length;for(s[0]=4;h<c;h++)r=t[h-e]||0,n=i&&i[h]||0,o=i&&i[h-e]||0,a=q(r,n,o),s[h+1]=t[h]-a+256&255;return s},q=function(t,e,i){var r=t+e-i,n=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-i);return n<=o&&n<=a?t:o<=a?e:i},V=function(){return[D,G,B,U,z]},H=function(t){for(var e,i,r,n=0,o=t.length;n<o;)((e=W(t[n].slice(1)))<i||!i)&&(i=e,r=n),n++;return r},W=function(t){for(var e=0,i=t.length,r=0;e<i;)r+=Math.abs(t[e++]);return r},I.processPNG=function(t,e,i,r,n){var o,a,s,h,c,u,l=this.color_spaces.DEVICE_RGB,f=this.decode.FLATE_DECODE,d=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if("function"!=typeof PNG||"function"!=typeof kt)throw new Error("PNG support requires png.js and zlib.js");if(t=(o=new PNG(t)).imgData,d=o.bits,l=o.colorSpace,h=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var p,g=(T=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,v=new Uint8Array(g*o.colors),y=new Uint8Array(g),m=o.pixelBitlength-o.bits,_=0,b=0;_<g;_++){for(w=T[_],p=0;p<m;)v[b++]=w>>>p&255,p+=o.bits;y[_]=w>>>p&255}if(16===o.bits){g=(T=new Uint32Array(o.decodePixels().buffer)).length,v=new Uint8Array(g*(32/o.pixelBitlength)*o.colors),y=new Uint8Array(g*(32/o.pixelBitlength));for(var w,x=1<o.colors,S=b=_=0;_<g;)w=T[_++],v[b++]=w>>>0&255,x&&(v[b++]=w>>>16&255,w=T[_++],v[b++]=w>>>0&255),y[S++]=w>>>16&255;d=8}r!==I.image_compression.NONE&&P()?(t=N(v,o.width*o.colors,o.colors,r),u=N(y,o.width,1,r)):(t=v,u=y,f=null)}if(3===o.colorType&&(l=this.color_spaces.INDEXED,c=o.palette,o.transparency.indexed)){var E=o.transparency.indexed,O=0;for(_=0,g=E.length;_<g;++_)O+=E[_];if((O/=255)==g-1&&-1!==E.indexOf(0))s=[E.indexOf(0)];else if(O!==g){var T=o.decodePixels();for(y=new Uint8Array(T.length),_=0,g=T.length;_<g;_++)y[_]=E[T[_]];u=N(y,o.width,1)}}var C=function(t){var e;switch(t){case I.image_compression.FAST:e=11;break;case I.image_compression.MEDIUM:e=13;break;case I.image_compression.SLOW:e=14;break;default:e=12}return e}(r);return a=f===this.decode.FLATE_DECODE?"/Predictor "+C+" /Colors "+h+" /BitsPerComponent "+d+" /Columns "+o.width:"/Colors "+h+" /BitsPerComponent "+d+" /Columns "+o.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))&&(u=this.arrayBufferToBinaryString(u)),this.createImageInfo(t,o.width,o.height,l,d,f,e,i,a,s,c,u,C)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */(Y=pt.API).processGIF89A=function(t,e,i,r,n){var o=new Mt(t),a=o.width,s=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var c={data:h,width:a,height:s},u=new Pt(100).encode(c,100);return Y.processJPEG.call(this,u,e,i,r)},Y.processGIF87A=Y.processGIF89A,(K=pt.API).processBMP=function(t,e,i,r,n){var o=new Nt(t,!1),a=o.width,s=o.height,h={data:o.getData(),width:a,height:s},c=new Pt(100).encode(h,100);return K.processJPEG.call(this,c,e,i,r)},pt.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this
/** @license
   * MIT license.
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Diego Casorran, https://github.com/diegocr
   *
   * 
   * ====================================================================
   */},X=pt.API,Z=X.getCharWidthsArray=function(t,e){var i,r,n,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:o.metadata.Unicode.widths,c=h.fof?h.fof:1,u=e.kerning?e.kerning:o.metadata.Unicode.kerning,l=u.fof?u.fof:1,f=0,d=h[0]||c,p=[];for(i=0,r=t.length;i<r;i++)n=t.charCodeAt(i),"function"==typeof o.metadata.widthOfString?p.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):p.push((h[n]||d)/c+(u[n]&&u[n][f]||0)/l),f=n;return p},$=X.getArraySum=function(t){for(var e=t.length,i=0;e;)i+=t[--e];return i},J=X.getStringUnitWidth=function(t,e){var i=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),n=e.charSpace||this.internal.getCharSpace();return"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,i,n)/i:$(Z.apply(this,arguments))},Q=function(t,e,i,r){for(var n=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<i;)s+=e[o],o++;n.push(t.slice(0,o));var h=o;for(s=0;o!==a;)s+e[o]>r&&(n.push(t.slice(h,o)),s=0,h=o),s+=e[o],o++;return h!==o&&n.push(t.slice(h,o)),n},tt=function(t,e,i){i||(i={});var r,n,o,a,s,h,c=[],u=[c],l=i.textIndent||0,f=0,d=0,p=t.split(" "),g=Z.apply(this,[" ",i])[0];if(h=-1===i.lineIndent?p[0].length+2:i.lineIndent||0){var v=Array(h).join(" "),y=[];p.map((function(t){1<(t=t.split(/\s*\n/)).length?y=y.concat(t.map((function(t,e){return(e&&t.length?"\n":"")+t}))):y.push(t[0])})),p=y,h=J.apply(this,[v,i])}for(o=0,a=p.length;o<a;o++){var m=0;if(r=p[o],h&&"\n"==r[0]&&(r=r.substr(1),m=1),n=Z.apply(this,[r,i]),e<l+f+(d=$(n))||m){if(e<d){for(s=Q.apply(this,[r,n,e-(l+f),e]),c.push(s.shift()),c=[s.pop()];s.length;)u.push([s.shift()]);d=$(n.slice(r.length-(c[0]?c[0].length:0)))}else c=[r];u.push(c),l=d+h,f=g}else c.push(r),l+=f+d,f=g}if(h)var _=function(t,e){return(e?v:"")+t.join(" ")};else _=function(t){return t.join(" ")};return u.map(_)},X.splitTextToSize=function(t,e,i){var r,n=(i=i||{}).fontSize||this.internal.getFontSize(),o=function(t){var e={0:1},i={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var r=this.internal.getFont(t.fontName,t.fontStyle),n="Unicode";return r.metadata[n]?{widths:r.metadata[n].widths||e,kerning:r.metadata[n].kerning||i}:{font:r.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,i);r=Array.isArray(t)?t:t.split(/\r?\n/);var a=1*this.internal.scaleFactor*e/n;o.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=i.lineIndent;var s,h,c=[];for(s=0,h=r.length;s<h;s++)c=c.concat(tt.apply(this,[r[s],a,o]));return c},
/** @license
   jsPDF standard_fonts_metrics plugin
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   * MIT license.
   * 
   * ====================================================================
   */
et=pt.API,rt={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(it=function(t){for(var e="klmnopqrstuvwxyz",i={},r=0;r<e.length;r++)i[e[r]]="0123456789abcdef"[r];var n,o,a,s,h,c={},u=1,l=c,f=[],d="",p="",g=t.length-1;for(r=1;r!=g;)h=t[r],r+=1,"'"==h?o=o?(s=o.join(""),n):[]:o?o.push(h):"{"==h?(f.push([l,s]),l={},s=n):"}"==h?((a=f.pop())[0][a[1]]=l,s=n,l=a[0]):"-"==h?u=-1:s===n?i.hasOwnProperty(h)?(d+=i[h],s=parseInt(d,16)*u,u=1,d=""):d+=h:i.hasOwnProperty(h)?(p+=i[h],l[s]=parseInt(p,16)*u,u=1,s=n,p=""):p+=h;return c})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},nt={Unicode:{Courier:rt,"Courier-Bold":rt,"Courier-BoldOblique":rt,"Courier-Oblique":rt,Helvetica:rt,"Helvetica-Bold":rt,"Helvetica-BoldOblique":rt,"Helvetica-Oblique":rt,"Times-Roman":rt,"Times-Bold":rt,"Times-BoldItalic":rt,"Times-Italic":rt}},ot={Unicode:{"Courier-Oblique":it("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":it("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":it("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:it("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":it("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":it("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:it("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:it("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":it("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:it("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":it("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":it("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":it("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":it("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},et.events.push(["addFont",function(t){var e,i,r,n=t.font,o="Unicode";(e=ot[o][n.postScriptName])&&((i=n.metadata[o]?n.metadata[o]:n.metadata[o]={}).widths=e.widths,i.kerning=e.kerning),(r=nt[o][n.postScriptName])&&((i=n.metadata[o]?n.metadata[o]:n.metadata[o]={}).encoding=r).codePages&&r.codePages.length&&(n.encoding=r.codePages[0])}]),
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
at=pt,"undefined"!=typeof self&&self||"undefined"!=typeof r&&r||"undefined"!=typeof window&&window||Function("return this")(),at.API.events.push(["addFont",function(t){var e=t.font,i=t.instance;if(void 0!==i&&i.existsFileInVFS(e.postScriptName)){var r=i.getFileFromVFS(e.postScriptName);if("string"!=typeof r)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').");e.metadata=at.API.TTFFont.open(e.postScriptName,e.fontName,r,e.encoding),e.metadata.Unicode=e.metadata.Unicode||{encoding:{},kerning:{},widths:[]},e.metadata.glyIdsUsed=[0]}else if(!1===e.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').")}]),
/** @license
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   * 
   * 
   * ====================================================================
   */(st=pt.API).addSvg=function(t,e,i,r,n){if(void 0===e||void 0===i)throw new Error("addSVG needs values for 'x' and 'y'");function o(t){for(var e=parseFloat(t[1]),i=parseFloat(t[2]),r=[],n=3,o=t.length;n<o;)"c"===t[n]?(r.push([parseFloat(t[n+1]),parseFloat(t[n+2]),parseFloat(t[n+3]),parseFloat(t[n+4]),parseFloat(t[n+5]),parseFloat(t[n+6])]),n+=7):"l"===t[n]?(r.push([parseFloat(t[n+1]),parseFloat(t[n+2])]),n+=3):n+=1;return[e,i,r]}var a,s,h,c,u,l,f,d,p=(c=document,d=c.createElement("iframe"),u=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(f=(l=c).createElement("style")).type="text/css",f.styleSheet?f.styleSheet.cssText=u:f.appendChild(l.createTextNode(u)),l.getElementsByTagName("head")[0].appendChild(f),d.name="childframe",d.setAttribute("width",0),d.setAttribute("height",0),d.setAttribute("frameborder","0"),d.setAttribute("scrolling","no"),d.setAttribute("seamless","seamless"),d.setAttribute("class","jsPDF_sillysvg_iframe"),c.body.appendChild(d),d),g=(a=t,(h=((s=p).contentWindow||s.contentDocument).document).write(a),h.close(),h.getElementsByTagName("svg")[0]),v=[1,1],y=parseFloat(g.getAttribute("width")),m=parseFloat(g.getAttribute("height"));y&&m&&(r&&n?v=[r/y,n/m]:r?v=[r/y,r/y]:n&&(v=[n/m,n/m]));var _,b,w,x,S=g.childNodes;for(_=0,b=S.length;_<b;_++)(w=S[_]).tagName&&"PATH"===w.tagName.toUpperCase()&&((x=o(w.getAttribute("d").split(" ")))[0]=x[0]*v[0]+e,x[1]=x[1]*v[1]+i,this.lines.call(this,x[2],x[0],x[1],v));return this},st.addSVG=st.addSvg,st.addSvgAsImage=function(t,e,i,r,n,o,a,s){if(isNaN(e)||isNaN(i))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=r,h.height=n;var c=h.getContext("2d");return c.fillStyle="#fff",c.fillRect(0,0,h.width,h.height),canvg(h,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(h.toDataURL("image/jpeg",1),e,i,r,n,a,s),this},pt.API.putTotalPages=function(t){var e,i=0;i=parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(e,i);return this},pt.API.viewerPreferences=function(t,e){var i;t=t||{},e=e||!1;var r,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),h=[],c=0,u=0,l=0,f=!0;function d(t,e){var i,r=!1;for(i=0;i<t.length;i+=1)t[i]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var p=s.length;for(l=0;l<p;l+=1)i[s[l]].value=i[s[l]].defaultValue,i[s[l]].explicitSet=!1}if("object"===n(t))for(r in t)if(o=t[r],d(s,r)&&void 0!==o){if("boolean"===i[r].type&&"boolean"==typeof o)i[r].value=o;else if("name"===i[r].type&&d(i[r].valueSet,o))i[r].value=o;else if("integer"===i[r].type&&Number.isInteger(o))i[r].value=o;else if("array"===i[r].type){for(c=0;c<o.length;c+=1)if(f=!0,1===o[c].length&&"number"==typeof o[c][0])h.push(String(o[c]-1));else if(1<o[c].length){for(u=0;u<o[c].length;u+=1)"number"!=typeof o[c][u]&&(f=!1);!0===f&&h.push([o[c][0]-1,o[c][1]-1].join(" "))}i[r].value="["+h.join(" ")+"]"}else i[r].value=i[r].defaultValue;i[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var t,e=[];for(t in i)!0===i[t].explicitSet&&("name"===i[t].type?e.push("/"+t+" /"+i[t].value):e.push("/"+t+" "+i[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},ht=pt.API,lt=ut=ct="",ht.addMetadata=function(t,e){return ut=e||"http://jspdf.default.namespaceuri/",ct=t,this.internal.events.subscribe("postPutResources",(function(){if(ct){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+ut+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(ct)),n=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=i.length+r.length+n.length+e.length+o.length;lt=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(e+i+r+n+o),this.internal.write("endstream"),this.internal.write("endobj")}else lt=""})),this.internal.events.subscribe("putCatalog",(function(){lt&&this.internal.write("/Metadata "+lt+" 0 R")})),this},function(t,e){var i=t.API,r=i.pdfEscape16=function(t,e){for(var i,r=e.metadata.Unicode.widths,n=["","0","00","000","0000"],o=[""],a=0,s=t.length;a<s;++a){if(i=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(i),e.metadata.toUnicode[i]=t.charCodeAt(a),-1==r.indexOf(i)&&(r.push(i),r.push([parseInt(e.metadata.widthOfGlyph(i),10)])),"0"==i)return o.join("");i=i.toString(16),o.push(n[4-i.length],i)}return o.join("")},n=function(t){var e,i,r,n,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(i=Object.keys(t).sort((function(t,e){return t-e}))).length;a<s;a++)e=i[a],100<=r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),n=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+n+">");return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};i.events.push(["putFont",function(e){!function(e,i,r,o){if(e.metadata instanceof t.API.TTFFont&&"Identity-H"===e.encoding){for(var a=e.metadata.Unicode.widths,s=e.metadata.subset.encode(e.metadata.glyIdsUsed,1),h="",c=0;c<s.length;c++)h+=String.fromCharCode(s[c]);var u=r();o({data:h,addLength1:!0}),i("endobj");var l=r();o({data:n(e.metadata.toUnicode),addLength1:!0}),i("endobj");var f=r();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+e.fontName),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),i("/Flags "+e.metadata.flags),i("/StemV "+e.metadata.stemV),i("/ItalicAngle "+e.metadata.italicAngle),i("/Ascent "+e.metadata.ascender),i("/Descent "+e.metadata.decender),i("/CapHeight "+e.metadata.capHeight),i(">>"),i("endobj");var d=r();i("<<"),i("/Type /Font"),i("/BaseFont /"+e.fontName),i("/FontDescriptor "+f+" 0 R"),i("/W "+t.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+e.encoding+")"),i(">>"),i(">>"),i("endobj"),e.objectNumber=r(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+l+" 0 R"),i("/BaseFont /"+e.fontName),i("/Encoding /"+e.encoding),i("/DescendantFonts ["+d+" 0 R]"),i(">>"),i("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]),i.events.push(["putFont",function(e){!function(e,i,r,o){if(e.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===e.encoding){e.metadata.Unicode.widths;for(var a=e.metadata.rawData,s="",h=0;h<a.length;h++)s+=String.fromCharCode(a[h]);var c=r();o({data:s,addLength1:!0}),i("endobj");var u=r();o({data:n(e.metadata.toUnicode),addLength1:!0}),i("endobj");var l=r();for(i("<<"),i("/Descent "+e.metadata.decender),i("/CapHeight "+e.metadata.capHeight),i("/StemV "+e.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+c+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),i("/FontName /"+e.fontName),i("/ItalicAngle "+e.metadata.italicAngle),i("/Ascent "+e.metadata.ascender),i(">>"),i("endobj"),e.objectNumber=r(),h=0;h<e.metadata.hmtx.widths.length;h++)e.metadata.hmtx.widths[h]=parseInt(e.metadata.hmtx.widths[h]*(1e3/e.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+e.fontName+"/FontDescriptor "+l+" 0 R/Encoding/"+e.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(e.metadata.hmtx.widths)+">>"),i("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]);var o=function(t){var e,i,n=t.text||"",o=t.x,a=t.y,s=t.options||{},h=t.mutex||{},c=h.pdfEscape,u=h.activeFontKey,l=h.fonts,f=(h.activeFontSize,""),d=0,p="",g=l[i=u].encoding;if("Identity-H"!==l[i].encoding)return{text:n,x:o,y:a,options:s,mutex:h};for(p=n,i=u,"[object Array]"===Object.prototype.toString.call(n)&&(p=n[0]),d=0;d<p.length;d+=1)l[i].metadata.hasOwnProperty("cmap")&&(e=l[i].metadata.cmap.unicode.codeMap[p[d].charCodeAt(0)]),e||p[d].charCodeAt(0)<256&&l[i].metadata.hasOwnProperty("Unicode")?f+=p[d]:f+="";var v="";return parseInt(i.slice(1))<14||"WinAnsiEncoding"===g?v=function(t){for(var e="",i=0;i<t.length;i++)e+=""+t.charCodeAt(i).toString(16);return e}(c(f,i)):"Identity-H"===g&&(v=r(f,l[i])),h.isHex=!0,{text:v,x:o,y:a,options:s,mutex:h}};i.events.push(["postProcessText",function(t){var e=t.text||"",i=t.x,r=t.y,n=t.options,a=t.mutex,s=(n.lang,[]),h={text:e,x:i,y:r,options:n,mutex:a};if("[object Array]"===Object.prototype.toString.call(e)){var c=0;for(c=0;c<e.length;c+=1)"[object Array]"===Object.prototype.toString.call(e[c])&&3===e[c].length?s.push([o(Object.assign({},h,{text:e[c][0]})).text,e[c][1],e[c][2]]):s.push(o(Object.assign({},h,{text:e[c]})).text);t.text=s}else t.text=o(Object.assign({},h,{text:e})).text}])}(pt,"undefined"!=typeof self&&self||"undefined"!=typeof r&&r||"undefined"!=typeof window&&window||Function("return this")()),ft=pt.API,dt=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)},ft.existsFileInVFS=function(t){return!!dt(this.internal)&&void 0!==this.internal.vFS[t]},ft.addFileToVFS=function(t,e){return dt(this.internal),this.internal.vFS[t]=e,this},ft.getFileFromVFS=function(t){return dt(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null},pt.API.addHTML=function(t,e,i,r,n){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(r=e,n=i),"function"==typeof r&&(n=r,r=null),"function"!=typeof n&&(n=function(){});var o=this.internal,a=o.scaleFactor,s=o.pageSize.getWidth(),h=o.pageSize.getHeight();if((r=r||{}).onrendered=function(t){e=parseInt(e)||0,i=parseInt(i)||0;var o=r.dim||{},c=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},r.margin),u=o.h||Math.min(h,t.height/a),l=o.w||Math.min(s,t.width/a)-e,f=r.format||"JPEG",d=r.imageCompression||"SLOW";if(t.height>h-c.top-c.bottom&&r.pagesplit){var p=function(t,e,i,n,o){var a=document.createElement("canvas");a.height=o,a.width=n;var s=a.getContext("2d");return s.mozImageSmoothingEnabled=!1,s.webkitImageSmoothingEnabled=!1,s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1,s.fillStyle=r.backgroundColor||"#ffffff",s.fillRect(0,0,n,o),s.drawImage(t,e,i,n,o,0,0,n,o),a},g=function(){for(var r,o,u=0,g=0,v={},y=!1;;){var m;if(g=0,v.top=0!==u?c.top:i,v.left=0!==u?c.left:e,y=(s-c.left-c.right)*a<t.width,"content"===c.useFor?0===u?(r=Math.min((s-c.left)*a,t.width),o=Math.min((h-c.top)*a,t.height-u)):(r=Math.min(s*a,t.width),o=Math.min(h*a,t.height-u),v.top=0):(r=Math.min((s-c.left-c.right)*a,t.width),o=Math.min((h-c.bottom-c.top)*a,t.height-u)),y)for(;;){"content"===c.useFor&&(0===g?r=Math.min((s-c.left)*a,t.width):(r=Math.min(s*a,t.width-g),v.left=0));var _=[m=p(t,g,u,r,o),v.left,v.top,m.width/a,m.height/a,f,null,d];if(this.addImage.apply(this,_),(g+=r)>=t.width)break;this.addPage()}else _=[m=p(t,0,u,r,o),v.left,v.top,m.width/a,m.height/a,f,null,d],this.addImage.apply(this,_);if((u+=o)>=t.height)break;this.addPage()}n(l,u,null,_)}.bind(this);if("CANVAS"===t.nodeName){var v=new Image;v.onload=g,v.src=t.toDataURL("image/png"),t=v}else g()}else{var y=Math.random().toString(35),m=[t,e,i,l,u,f,y,d];this.addImage.apply(this,m),n(l,u,y,m)}}.bind(this),"undefined"!=typeof html2canvas&&!r.rstz)return html2canvas(t,r);if("undefined"==typeof rasterizeHTML)return null;var c="drawDocument";return"string"==typeof t&&(c=/^http/.test(t)?"drawURL":"drawHTML"),r.width=r.width||s*a,rasterizeHTML[c](t,void 0,r).then((function(t){r.onrendered(t.image)}),(function(t){n(null,t)}))
/**
   * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Daniel Husar, https://github.com/danielhusar
   *               2014 Wolfgang Gassler, https://github.com/woolfg
   *               2014 Steven Spungin, https://github.com/flamenco
   *
   * @license
   * 
   * ====================================================================
   */},function(t){var e,i,r,o,a,s,h,c,u,l,f,d,p,g,v,y,m,_,b,w;e=function(){return function(e){return t.prototype=e,new t};function t(){}}(),l=function(t){var e,i,r,n,o,a,s;for(i=0,r=t.length,e=void 0,a=n=!1;!n&&i!==r;)(e=t[i]=t[i].trimLeft())&&(n=!0),i++;for(i=r-1;r&&!a&&-1!==i;)(e=t[i]=t[i].trimRight())&&(a=!0),i--;for(o=/\s+$/g,s=!0,i=0;i!==r;)"\u2028"!=t[i]&&(e=t[i].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[i]=e),i++;return t},d=function(t){var e,i,n;for(e=void 0,i=(n=t.split(",")).shift();!e&&i;)e=r[i.trim().toLowerCase()],i=n.shift();return e},p=function(t){var e;return-1<(t="auto"===t?"0px":t).indexOf("em")&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),-1<t.indexOf("pt")&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),(e=g[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t])||(e=parseFloat(t))?g[t]=e/16:(e=t.match(/([\d\.]+)(px)/),Array.isArray(e)&&3===e.length?g[t]=parseFloat(e[1])/16:g[t]=1)},u=function(t){var e,i,r,n,u;return u=t,n=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(u,null):u.currentStyle?u.currentStyle:u.style,i=void 0,(e={})["font-family"]=d((r=function(t){return t=t.replace(/-\D/g,(function(t){return t.charAt(1).toUpperCase()})),n[t]})("font-family"))||"times",e["font-style"]=o[r("font-style")]||"normal",e["text-align"]=a[r("text-align")]||"left","bold"===(i=s[r("font-weight")]||"normal")&&("normal"===e["font-style"]?e["font-style"]=i:e["font-style"]=i+e["font-style"]),e["font-size"]=p(r("font-size"))||1,e["line-height"]=p(r("line-height"))||1,e.display="inline"===r("display")?"inline":"block",i="block"===e.display,e["margin-top"]=i&&p(r("margin-top"))||0,e["margin-bottom"]=i&&p(r("margin-bottom"))||0,e["padding-top"]=i&&p(r("padding-top"))||0,e["padding-bottom"]=i&&p(r("padding-bottom"))||0,e["margin-left"]=i&&p(r("margin-left"))||0,e["margin-right"]=i&&p(r("margin-right"))||0,e["padding-left"]=i&&p(r("padding-left"))||0,e["padding-right"]=i&&p(r("padding-right"))||0,e["page-break-before"]=r("page-break-before")||"auto",e.float=h[r("cssFloat")]||"none",e.clear=c[r("clear")]||"none",e.color=r("color"),e},v=function(t,e,i){var r,n,o,a,s;if(o=!1,a=n=void 0,r=i["#"+t.id])if("function"==typeof r)o=r(t,e);else for(n=0,a=r.length;!o&&n!==a;)o=r[n](t,e),n++;if(r=i[t.nodeName],!o&&r)if("function"==typeof r)o=r(t,e);else for(n=0,a=r.length;!o&&n!==a;)o=r[n](t,e),n++;for(s="string"==typeof t.className?t.className.split(" "):[],n=0;n<s.length;n++)if(r=i["."+s[n]],!o&&r)if("function"==typeof r)o=r(t,e);else for(n=0,a=r.length;!o&&n!==a;)o=r[n](t,e),n++;return o},w=function(t,e){var i,r,n,o,a,s,h,c,u;for(i=[],r=[],n=0,u=t.rows[0].cells.length,h=t.clientWidth;n<u;)c=t.rows[0].cells[n],r[n]={name:c.textContent.toLowerCase().replace(/\s+/g,""),prompt:c.textContent.replace(/\r?\n/g,""),width:c.clientWidth/h*e.pdf.internal.pageSize.getWidth()},n++;for(n=1;n<t.rows.length;){for(s=t.rows[n],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;i.push(a),n++}return{rows:i,headers:r}};var x={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},S=1;i=function(t,r,o){var a,s,h,c,l,f,d,p;for(s=t.childNodes,a=void 0,(l="block"===(h=u(t)).display)&&(r.setBlockBoundary(),r.setBlockStyle(h)),c=0,f=s.length;c<f;){if("object"===n(a=s[c])){if(r.executeWatchFunctions(a),1===a.nodeType&&"HEADER"===a.nodeName){var g=a,m=r.pdf.margins_doc.top;r.pdf.internal.events.subscribe("addPage",(function(t){r.y=m,i(g,r,o),r.pdf.margins_doc.top=r.y+10,r.y+=10}),!1)}if(8===a.nodeType&&"#comment"===a.nodeName)~a.textContent.indexOf("ADD_PAGE")&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top);else if(1!==a.nodeType||x[a.nodeName])if(3===a.nodeType){var _=a.nodeValue;if(a.nodeValue&&"LI"===a.parentNode.nodeName)if("OL"===a.parentNode.parentNode.nodeName)_=S+++". "+_;else{var b=h["font-size"],E=(3-.75*b)*r.pdf.internal.scaleFactor,O=.75*b*r.pdf.internal.scaleFactor,T=1.74*b/r.pdf.internal.scaleFactor;p=function(t,e){this.pdf.circle(t+E,e+O,T,"FD")}}16&a.ownerDocument.body.compareDocumentPosition(a)&&r.addText(_,h)}else"string"==typeof a&&r.addText(a,h);else{var C;if("IMG"===a.nodeName){var A=a.getAttribute("src");C=y[r.pdf.sHashCode(A)||A]}if(C){r.pdf.internal.pageSize.getHeight()-r.pdf.margins_doc.bottom<r.y+a.height&&r.y>r.pdf.margins_doc.top&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top,r.executeWatchFunctions(a));var L=u(a),R=r.x,M=12/r.pdf.internal.scaleFactor,I=(L["margin-left"]+L["padding-left"])*M,P=(L["margin-right"]+L["padding-right"])*M,N=(L["margin-top"]+L["padding-top"])*M,F=(L["margin-bottom"]+L["padding-bottom"])*M;void 0!==L.float&&"right"===L.float?R+=r.settings.width-a.width-P:R+=I,r.pdf.addImage(C,R,r.y+N,a.width,a.height),C=void 0,"right"===L.float||"left"===L.float?(r.watchFunctions.push(function(t,e,i,n){return r.y>=e?(r.x+=t,r.settings.width+=i,!0):!!(n&&1===n.nodeType&&!x[n.nodeName]&&r.x+n.width>r.pdf.margins_doc.left+r.pdf.margins_doc.width)&&(r.x+=t,r.y=e,r.settings.width+=i,!0)}.bind(this,"left"===L.float?-a.width-I-P:0,r.y+a.height+N+F,a.width)),r.watchFunctions.push(function(t,e,i){return!(r.y<t&&e===r.pdf.internal.getNumberOfPages())||1===i.nodeType&&"both"===u(i).clear&&(r.y=t,!0)}.bind(this,r.y+a.height,r.pdf.internal.getNumberOfPages())),r.settings.width-=a.width+I+P,"left"===L.float&&(r.x+=a.width+I+P)):r.y+=a.height+N+F}else if("TABLE"===a.nodeName)d=w(a,r),r.y+=10,r.pdf.table(r.x,r.y,d.rows,d.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:r.pdf.margins_doc,css:u(a)}),r.y=r.pdf.lastCellPos.y+r.pdf.lastCellPos.h+20;else if("OL"===a.nodeName||"UL"===a.nodeName)S=1,v(a,r,o)||i(a,r,o),r.y+=10;else if("LI"===a.nodeName){var k=r.x;r.x+=20/r.pdf.internal.scaleFactor,r.y+=3,v(a,r,o)||i(a,r,o),r.x=k}else"BR"===a.nodeName?(r.y+=h["font-size"]*r.pdf.internal.scaleFactor,r.addText("\u2028",e(h))):v(a,r,o)||i(a,r,o)}}c++}if(o.outY=r.y,l)return r.setBlockBoundary(p)},y={},m=function(t,e,i,r){var n,o=t.getElementsByTagName("img"),a=o.length,s=0;function h(){e.pdf.internal.events.publish("imagesLoaded"),r(n)}function c(t,i,r){if(t){var o=new Image;n=++s,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=i||o.width||0,o.height=r||o.height||0),o.width+o.height)){var n=e.pdf.sHashCode(t)||t;y[n]=y[n]||o}--s||h()},o.src=t}}for(;a--;)c(o[a].getAttribute("src"),o[a].width,o[a].height);return s||h()},_=function(t,e,r){var n=t.getElementsByTagName("footer");if(0<n.length){n=n[0];var o=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},i(n,e,r);var s=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=s;for(var h=function(t){var o=void 0!==t?t.pageNumber:1,a=e.y;e.y=e.pdf.internal.pageSize.getHeight()-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var h=n.getElementsByTagName("span"),c=0;c<h.length;++c)-1<(" "+h[c].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(h[c].innerHTML=o),-1<(" "+h[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(h[c].innerHTML="###jsPDFVarTotalPages###");i(n,e,r),e.pdf.margins_doc.bottom+=s,e.y=a},c=n.getElementsByTagName("span"),u=0;u<c.length;++u)-1<(" "+c[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",h,!1),h(),x.FOOTER=1}},b=function(t,e,r,n,o,a){if(!e)return!1;var s,h,c,u;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(s=e.replace(/<\/?script[^>]*?>/gi,""),u="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(c=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",c.innerHTML='<iframe style="height:1px;width:1px" name="'+u+'" />',document.body.appendChild(c),(h=window.frames[u]).document.open(),h.document.writeln(s),h.document.close(),e=h.document.body);var l,d=new f(t,r,n,o);return m.call(this,e,d,o.elementHandlers,(function(t){_(e,d,o.elementHandlers),i(e,d,o.elementHandlers),d.pdf.internal.events.publish("htmlRenderingFinished"),l=d.dispose(),"function"==typeof a?a(l):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")})),l||{x:d.x,y:d.y}},(f=function(t,e,i,r){return this.pdf=t,this.x=e,this.y=i,this.settings=r,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},f.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},f.prototype.executeWatchFunctions=function(t){var e=!1,i=[];if(0<this.watchFunctions.length){for(var r=0;r<this.watchFunctions.length;++r)!0===this.watchFunctions[r](t)?e=!0:i.push(this.watchFunctions[r]);this.watchFunctions=i}return e},f.prototype.splitFragmentsIntoLines=function(t,i){var r,n,o,a,s,h,c,u,l,f,d,p,g,v;for(f=this.pdf.internal.scaleFactor,a={},h=c=u=v=s=o=l=n=void 0,p=[d=[]],r=0,g=this.settings.width;t.length;)if(s=t.shift(),v=i.shift(),s)if((o=a[(n=v["font-family"])+(l=v["font-style"])])||(o=this.pdf.internal.getFont(n,l).metadata.Unicode,a[n+l]=o),u={widths:o.widths,kerning:o.kerning,fontSize:12*v["font-size"],textIndent:r},c=this.pdf.getStringUnitWidth(s,u)*u.fontSize/f,"\u2028"==s)d=[],p.push(d);else if(g<r+c){for(h=this.pdf.splitTextToSize(s,g,u),d.push([h.shift(),v]);h.length;)d=[[h.shift(),v]],p.push(d);r=this.pdf.getStringUnitWidth(d[0][0],u)*u.fontSize/f}else d.push([s,v]),r+=c;if(void 0!==v["text-align"]&&("center"===v["text-align"]||"right"===v["text-align"]||"justify"===v["text-align"]))for(var y=0;y<p.length;++y){var m=this.pdf.getStringUnitWidth(p[y][0][0],u)*u.fontSize/f;0<y&&(p[y][0][1]=e(p[y][0][1]));var _=g-m;if("right"===v["text-align"])p[y][0][1]["margin-left"]=_;else if("center"===v["text-align"])p[y][0][1]["margin-left"]=_/2;else if("justify"===v["text-align"]){var b=p[y][0][0].split(" ").length-1;p[y][0][1]["word-spacing"]=_/b,y===p.length-1&&(p[y][0][1]["word-spacing"]=0)}}return p},f.prototype.RenderTextFragment=function(t,e){var i,r;r=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),r=Math.max(r,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*r).toFixed(2),"Td")),i=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var n=this.getPdfColor(e.color);n!==this.lastTextColor&&(this.pdf.internal.write(n),this.lastTextColor=n),void 0!==e["word-spacing"]&&0<e["word-spacing"]&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+i.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},f.prototype.getPdfColor=function(t){var e,i,r,n=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=n)e=parseInt(n[1]),i=parseInt(n[2]),r=parseInt(n[3]);else{if("string"==typeof t&&"#"!=t.charAt(0)){var o=new RGBColor(t);t=o.ok?o.toHex():"#000000"}e=t.substring(1,3),e=parseInt(e,16),i=t.substring(3,5),i=parseInt(i,16),r=t.substring(5,7),r=parseInt(r,16)}if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var a=parseInt(e.substr(1),16);e=a>>16&255,i=a>>8&255,r=255&a}var s=this.f3;return 0===e&&0===i&&0===r||void 0===i?s(e/255)+" g":[s(e/255),s(i/255),s(r/255),"rg"].join(" ")},f.prototype.f3=function(t){return t.toFixed(3)},f.prototype.renderParagraph=function(t){var e,i,r,n,o,a,s,h,c,u,f,d,p;if(r=l(this.paragraph.text),d=this.paragraph.style,e=this.paragraph.blockstyle,this.paragraph.priorblockstyle,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},r.join("").trim()){s=this.splitFragmentsIntoLines(r,d),h=a=void 0,i=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,f=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*i,u=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*i,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,f=((e["margin-top"]||0)+(e["padding-top"]||0))*i),c=this.pdf.internal.write,o=n=void 0,this.y+=f,c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var g=0;s.length;){for(n=h=0,o=(a=s.shift()).length;n!==o;)a[n][0].trim()&&(h=Math.max(h,a[n][1]["line-height"],a[n][1]["font-size"]),p=7*a[n][1]["font-size"]),n++;var v=0,y=0;for(void 0!==a[0][1]["margin-left"]&&0<a[0][1]["margin-left"]&&(v=(y=this.pdf.internal.getCoordinateString(a[0][1]["margin-left"]))-g,g=y),c(v+Math.max(e["margin-left"]||0,0)*i,(-12*h).toFixed(2),"Td"),n=0,o=a.length;n!==o;)a[n][0]&&this.RenderTextFragment(a[n][0],a[n][1]),n++;if(this.y+=h*i,this.executeWatchFunctions(a[0][1])&&0<s.length){var m=[],_=[];s.forEach((function(t){for(var e=0,i=t.length;e!==i;)t[e][0]&&(m.push(t[e][0]+" "),_.push(t[e][1])),++e})),s=this.splitFragmentsIntoLines(l(m),_),c("ET","Q"),c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-p/2),c("ET","Q"),this.y+=u}},f.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},f.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},f.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},s={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},o={normal:"normal",italic:"italic",oblique:"italic"},a={left:"left",right:"right",center:"center",justify:"justify"},h={none:"none",right:"right",left:"left"},c={none:"none",both:"both"},g={normal:1},t.fromHTML=function(t,e,i,r,n,o){return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),b(this,t,isNaN(e)?4:e,isNaN(i)?4:i,r,n)}}(pt.API),pt.API,("undefined"!=typeof window&&window||"undefined"!=typeof r&&r).html2pdf=function(t,e,i){var r=e.canvas;if(r){var n,o;if((r.pdf=e).annotations={_nameMap:[],createAnnotation:function(t,i){var r,n=e.context2d._wrapX(i.left),o=e.context2d._wrapY(i.top),a=(e.context2d._page(i.top),t.indexOf("#"));r=0<=a?{name:t.substring(a+1)}:{url:t},e.link(n,o,i.right-i.left,i.bottom-i.top,r)},setName:function(t,i){var r=e.context2d._wrapX(i.left),n=e.context2d._wrapY(i.top),o=e.context2d._page(i.top);this._nameMap[t]={page:o,x:r,y:n}}},r.annotations=e.annotations,e.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},e.context2d._gotoPage=function(t){for(;e.internal.getNumberOfPages()<t;)e.addPage();e.setPage(t)},"string"==typeof t){t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var a,s,h=document.createElement("iframe");document.body.appendChild(h),null!=(a=h.contentDocument)&&null!=a||(a=h.contentWindow.document),a.open(),a.write(t),a.close(),n=a.body,s=a.body||{},t=a.documentElement||{},o=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else s=(n=t).body||{},o=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var c={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:r,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:o=e.internal.pageSize.getHeight(),scrollY:o};e.context2d.pageWrapYEnabled=!0,e.context2d.pageWrapY=e.internal.pageSize.getHeight(),html2canvas(n,c).then((function(t){i&&(h&&h.parentElement.removeChild(h),i(e))}))}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(t){var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder;t.URL=t.URL||t.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var i=t.Blob,r=URL.createObjectURL,n=URL.revokeObjectURL,o=t.Symbol&&t.Symbol.toStringTag,a=!1,s=!1,h=!!t.ArrayBuffer,c=e&&e.prototype.append&&e.prototype.getBlob;try{a=2===new Blob([""]).size,s=2===new Blob([new Uint8Array([1,2])]).size}catch(a){}function u(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var i=new Uint8Array(t.byteLength);i.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=i.buffer}return e}return t}))}function l(t,i){i=i||{};var r=new e;return u(t).forEach((function(t){r.append(t)})),i.type?r.getBlob(i.type):r.getBlob()}function f(t,e){return new i(u(t),e||{})}if(t.Blob&&(l.prototype=Blob.prototype,f.prototype=Blob.prototype),o)try{File.prototype[o]="File",Blob.prototype[o]="Blob",FileReader.prototype[o]="FileReader"}catch(a){}function d(){var e=!!t.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,i=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;e&&i&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader("Content-Type",t.type),i.call(this,t)});try{new File([],"")}catch(e){try{var r=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();t.File=r}catch(e){r=function(t,e,i){var r=new Blob(t,i),n=i&&void 0!==i.lastModified?new Date(i.lastModified):new Date;return r.name=e,r.lastModifiedDate=n,r.lastModified=+n,r.toString=function(){return"[object File]"},o&&(r[o]="File"),r},t.File=r}}}a?(d(),t.Blob=s?t.Blob:f):c?(d(),t.Blob=l):function(){function e(t){for(var e=[],i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(i++,r=65536+((1023&r)<<10|1023&t.charCodeAt(i)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}function i(t){var e,i,r,n,o,a;for(e="",r=t.length,i=0;i<r;)switch((n=t[i++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:o=t[i++],e+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=t[i++],a=t[i++],e+=String.fromCharCode((15&n)<<12|(63&o)<<6|(63&a)<<0)}return e}function o(t){for(var e=new Array(t.byteLength),i=new Uint8Array(t),r=e.length;r--;)e[r]=i[r];return e}function a(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=[],r=0;r<t.length;r+=3){var n=t[r],o=r+1<t.length,a=o?t[r+1]:0,s=r+2<t.length,h=s?t[r+2]:0,c=n>>2,u=(3&n)<<4|a>>4,l=(15&a)<<2|h>>6,f=63&h;s||(f=64,o||(l=64)),i.push(e[c],e[u],e[l],e[f])}return i.join("")}var s=Object.create||function(t){function e(){}return e.prototype=t,new e};if(h)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&-1<c.indexOf(Object.prototype.toString.call(t))};function l(t,i){for(var r=0,n=(t=t||[]).length;r<n;r++){var a=t[r];a instanceof l?t[r]=a._buffer:"string"==typeof a?t[r]=e(a):h&&(ArrayBuffer.prototype.isPrototypeOf(a)||u(a))?t[r]=o(a):h&&(s=a)&&DataView.prototype.isPrototypeOf(s)?t[r]=o(a.buffer):t[r]=e(String(a))}var s;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=i&&i.type||""}function f(t,e,i){var r=l.call(this,t,i=i||{})||this;return r.name=e,r.lastModifiedDate=i.lastModified?new Date(i.lastModified):new Date,r.lastModified=+r.lastModifiedDate,r}if(l.prototype.slice=function(t,e,i){return new l([this._buffer.slice(t||0,e||this._buffer.length)],{type:i})},l.prototype.toString=function(){return"[object Blob]"},(f.prototype=s(l.prototype)).constructor=f,Object.setPrototypeOf)Object.setPrototypeOf(f,l);else try{f.__proto__=l}catch(s){}function d(){if(!(this instanceof d))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var t=document.createDocumentFragment();this.addEventListener=t.addEventListener,this.dispatchEvent=function(e){var i=this["on"+e.type];"function"==typeof i&&i(e),t.dispatchEvent(e)},this.removeEventListener=t.removeEventListener}function p(t,e,i){if(!(e instanceof l))throw new TypeError("Failed to execute '"+i+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout((function(){this.readyState=d.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))}))}f.prototype.toString=function(){return"[object File]"},d.EMPTY=0,d.LOADING=1,d.DONE=2,d.prototype.error=null,d.prototype.onabort=null,d.prototype.onerror=null,d.prototype.onload=null,d.prototype.onloadend=null,d.prototype.onloadstart=null,d.prototype.onprogress=null,d.prototype.readAsDataURL=function(t){p(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+a(t._buffer)},d.prototype.readAsText=function(t){p(this,t,"readAsText"),this.result=i(t._buffer)},d.prototype.readAsArrayBuffer=function(t){p(this,t,"readAsText"),this.result=t._buffer.slice()},d.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof l?"data:"+t.type+";base64,"+a(t._buffer):r.call(URL,t)},URL.revokeObjectURL=function(t){n&&n.call(URL,t)};var g=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;g&&(XMLHttpRequest.prototype.send=function(t){t instanceof l?(this.setRequestHeader("Content-Type",t.type),g.call(this,i(t._buffer))):g.call(this,t)}),t.FileReader=d,t.File=f,t.Blob=l}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")());var gt,vt,yt,mt,_t,bt,wt,xt,St,Et,Ot,Tt,Ct,At,Lt,Rt=Rt||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=t.setImmediate||t.setTimeout,h=function(t){s((function(){throw t}),0)},c=function(t){setTimeout((function(){"string"==typeof t?i().revokeObjectURL(t):t.remove()}),4e4)},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},l=function(e,l,f){f||(e=u(e));var d,p=this,g="application/octet-stream"===e.type,v=function(){!function(t,e,i){for(var r=(e=[].concat(e)).length;r--;){var n=t["on"+e[r]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){h(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return d=i().createObjectURL(e),void s((function(){var t,e;r.href=d,r.download=l,t=r,e=new MouseEvent("click"),t.dispatchEvent(e),v(),c(d),p.readyState=p.DONE}),0);!function(){if((a||g&&o)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,v()},r.readAsDataURL(e),p.readyState=p.INIT}d||(d=i().createObjectURL(e)),g?t.location.href=d:t.open(d,"_blank")||(t.location.href=d),p.readyState=p.DONE,v(),c(d)}()},f=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,function(t,e,i){return new l(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function Mt(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw"Invalid GIF 87a/89a header.";var i=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,n=t[e++],o=n>>7,a=1<<1+(7&n);t[e++],t[e++];var s=null;o&&(s=e,e+=3*a);var h=!0,c=[],u=0,l=null,f=0,d=null;for(this.width=i,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,d=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(0===(E=t[e++]))break;e+=E}break;case 249:if(4!==t[e++]||0!==t[e+4])throw"Invalid graphics extension block.";var p=t[e++];u=t[e++]|t[e++]<<8,l=t[e++],0==(1&p)&&(l=null),f=p>>2&7,e++;break;case 254:for(;;){if(0===(E=t[e++]))break;e+=E}break;default:throw"Unknown graphic control label: 0x"+t[e-1].toString(16)}break;case 44:var g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,_=t[e++],b=_>>6&1,w=s,x=!1;_>>7&&(x=!0,w=e,e+=3*(1<<1+(7&_)));var S=e;for(e++;;){var E;if(0===(E=t[e++]))break;e+=E}c.push({x:g,y:v,width:y,height:m,has_local_palette:x,palette_offset:w,data_offset:S,data_length:e-S,transparent_index:l,interlaced:!!b,delay:u,disposal:f});break;case 59:h=!1;break;default:throw"Unknown gif block: 0x"+t[e-1].toString(16)}this.numFrames=function(){return c.length},this.loopCount=function(){return d},this.frameInfo=function(t){if(t<0||t>=c.length)throw"Frame index out of range.";return c[t]},this.decodeAndBlitFrameBGRA=function(e,r){var n=this.frameInfo(e),o=n.width*n.height,a=new Uint8Array(o);It(t,n.data_offset,a,o);var s=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var c=n.width,u=i-c,l=c,f=4*(n.y*i+n.x),d=4*((n.y+n.height)*i+n.x),p=f,g=4*u;!0===n.interlaced&&(g+=4*(c+u)*7);for(var v=8,y=0,m=a.length;y<m;++y){var _=a[y];if(0===l&&(l=c,d<=(p+=g)&&(g=u+4*(c+u)*(v-1),p=f+(c+u)*(v<<1),v>>=1)),_===h)p+=4;else{var b=t[s+3*_],w=t[s+3*_+1],x=t[s+3*_+2];r[p++]=x,r[p++]=w,r[p++]=b,r[p++]=255}--l}},this.decodeAndBlitFrameRGBA=function(e,r){var n=this.frameInfo(e),o=n.width*n.height,a=new Uint8Array(o);It(t,n.data_offset,a,o);var s=n.palette_offset,h=n.transparent_index;null===h&&(h=256);var c=n.width,u=i-c,l=c,f=4*(n.y*i+n.x),d=4*((n.y+n.height)*i+n.x),p=f,g=4*u;!0===n.interlaced&&(g+=4*(c+u)*7);for(var v=8,y=0,m=a.length;y<m;++y){var _=a[y];if(0===l&&(l=c,d<=(p+=g)&&(g=u+4*(c+u)*(v-1),p=f+(c+u)*(v<<1),v>>=1)),_===h)p+=4;else{var b=t[s+3*_],w=t[s+3*_+1],x=t[s+3*_+2];r[p++]=b,r[p++]=w,r[p++]=x,r[p++]=255}--l}}}function It(t,e,i,r){for(var n=t[e++],o=1<<n,a=o+1,s=a+1,h=n+1,c=(1<<h)-1,u=0,l=0,f=0,d=t[e++],p=new Int32Array(4096),g=null;;){for(;u<16&&0!==d;)l|=t[e++]<<u,u+=8,1===d?d=t[e++]:--d;if(u<h)break;var v=l&c;if(l>>=h,u-=h,v!==o){if(v===a)break;for(var y=v<s?v:g,m=0,_=y;o<_;)_=p[_]>>8,++m;var b=_;if(r<f+m+(y!==v?1:0))return void console.log("Warning, gif stream longer than expected.");i[f++]=b;var w=f+=m;for(y!==v&&(i[f++]=b),_=y;m--;)_=p[_],i[--w]=255&_,_>>=8;null!==g&&s<4096&&(p[s++]=g<<8|b,c+1<=s&&h<12&&(++h,c=c<<1|1)),g=v}else s=a+1,c=(1<<(h=n+1))-1,g=null}return f!==r&&console.log("Warning, gif stream shorter than expected."),i}try{e.GifWriter=function(t,e,i,r){var n=0,o=void 0===(r=void 0===r?{}:r).loop?null:r.loop,a=void 0===r.palette?null:r.palette;if(e<=0||i<=0||65535<e||65535<i)throw"Width/Height invalid.";function s(t){var e=t.length;if(e<2||256<e||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}t[n++]=71,t[n++]=73,t[n++]=70,t[n++]=56,t[n++]=57,t[n++]=97;var h=0,c=0;if(null!==a){for(var u=s(a);u>>=1;)++h;if(u=1<<h,--h,void 0!==r.background){if(u<=(c=r.background))throw"Background index out of range.";if(0===c)throw"Background index explicitly passed as 0."}}if(t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&i,t[n++]=i>>8&255,t[n++]=(null!==a?128:0)|h,t[n++]=c,t[n++]=0,null!==a)for(var l=0,f=a.length;l<f;++l){var d=a[l];t[n++]=d>>16&255,t[n++]=d>>8&255,t[n++]=255&d}if(null!==o){if(o<0||65535<o)throw"Loop count invalid.";t[n++]=33,t[n++]=255,t[n++]=11,t[n++]=78,t[n++]=69,t[n++]=84,t[n++]=83,t[n++]=67,t[n++]=65,t[n++]=80,t[n++]=69,t[n++]=50,t[n++]=46,t[n++]=48,t[n++]=3,t[n++]=1,t[n++]=255&o,t[n++]=o>>8&255,t[n++]=0}var p=!1;this.addFrame=function(e,i,r,o,h,c){if(!0===p&&(--n,p=!1),c=void 0===c?{}:c,e<0||i<0||65535<e||65535<i)throw"x/y invalid.";if(r<=0||o<=0||65535<r||65535<o)throw"Width/Height invalid.";if(h.length<r*o)throw"Not enough pixels for the frame size.";var u=!0,l=c.palette;if(null==l&&(u=!1,l=a),null==l)throw"Must supply either a local or global palette.";for(var f=s(l),d=0;f>>=1;)++d;f=1<<d;var g=void 0===c.delay?0:c.delay,v=void 0===c.disposal?0:c.disposal;if(v<0||3<v)throw"Disposal out of range.";var y=!1,m=0;if(void 0!==c.transparent&&null!==c.transparent&&(y=!0,(m=c.transparent)<0||f<=m))throw"Transparent color index.";if((0!==v||y||0!==g)&&(t[n++]=33,t[n++]=249,t[n++]=4,t[n++]=v<<2|(!0===y?1:0),t[n++]=255&g,t[n++]=g>>8&255,t[n++]=m,t[n++]=0),t[n++]=44,t[n++]=255&e,t[n++]=e>>8&255,t[n++]=255&i,t[n++]=i>>8&255,t[n++]=255&r,t[n++]=r>>8&255,t[n++]=255&o,t[n++]=o>>8&255,t[n++]=!0===u?128|d-1:0,!0===u)for(var _=0,b=l.length;_<b;++_){var w=l[_];t[n++]=w>>16&255,t[n++]=w>>8&255,t[n++]=255&w}n=function(t,e,i,r){t[e++]=i;var n=e++,o=1<<i,a=o-1,s=o+1,h=s+1,c=i+1,u=0,l=0;function f(i){for(;i<=u;)t[e++]=255&l,l>>=8,u-=8,e===n+256&&(t[n]=255,n=e++)}function d(t){l|=t<<u,u+=c,f(8)}var p=r[0]&a,g={};d(o);for(var v=1,y=r.length;v<y;++v){var m=r[v]&a,_=p<<8|m,b=g[_];if(void 0===b){for(l|=p<<u,u+=c;8<=u;)t[e++]=255&l,l>>=8,u-=8,e===n+256&&(t[n]=255,n=e++);4096===h?(d(o),h=s+1,c=i+1,g={}):(1<<c<=h&&++c,g[_]=h++),p=m}else p=b}return d(p),d(s),f(1),n+1===e?t[n]=0:(t[n]=e-n-1,t[e++]=0),e}(t,n,d<2?2:d,h)},this.end=function(){return!1===p&&(t[n++]=59,p=!0),n}},e.GifReader=Mt}catch(a){}function Pt(t){var e,i,r,n,o,a=Math.floor,s=new Array(64),h=new Array(64),c=new Array(64),u=new Array(64),l=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),g=[],v=0,y=7,m=new Array(64),_=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(t,e){for(var i=0,r=0,n=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)n[e[r]]=[],n[e[r]][0]=i,n[e[r]][1]=o,r++,i++;i*=2}return n}function P(t){for(var e=t[0],i=t[1]-1;0<=i;)e&1<<i&&(v|=1<<y),i--,--y<0&&(255==v?(N(255),N(0)):N(v),y=7,v=0)}function N(t){g.push(t)}function F(t){N(t>>8&255),N(255&t)}function k(t,e,i,r,n){for(var o,a=n[0],s=n[240],h=function(t,e){var i,r,n,o,a,s,h,c,u,l,f=0;for(u=0;u<8;++u){i=t[f],r=t[f+1],n=t[f+2],o=t[f+3],a=t[f+4],s=t[f+5],h=t[f+6];var p=i+(c=t[f+7]),g=i-c,v=r+h,y=r-h,m=n+s,_=n-s,b=o+a,w=o-a,x=p+b,S=p-b,E=v+m,O=v-m;t[f]=x+E,t[f+4]=x-E;var T=.707106781*(O+S);t[f+2]=S+T,t[f+6]=S-T;var C=.382683433*((x=w+_)-(O=y+g)),A=.5411961*x+C,L=1.306562965*O+C,R=.707106781*(E=_+y),M=g+R,I=g-R;t[f+5]=I+A,t[f+3]=I-A,t[f+1]=M+L,t[f+7]=M-L,f+=8}for(u=f=0;u<8;++u){i=t[f],r=t[f+8],n=t[f+16],o=t[f+24],a=t[f+32],s=t[f+40],h=t[f+48];var P=i+(c=t[f+56]),N=i-c,F=r+h,k=r-h,j=n+s,D=n-s,G=o+a,B=o-a,U=P+G,z=P-G,q=F+j,V=F-j;t[f]=U+q,t[f+32]=U-q;var H=.707106781*(V+z);t[f+16]=z+H,t[f+48]=z-H;var W=.382683433*((U=B+D)-(V=k+N)),Y=.5411961*U+W,K=1.306562965*V+W,X=.707106781*(q=D+k),Z=N+X,$=N-X;t[f+40]=$+Y,t[f+24]=$-Y,t[f+8]=Z+K,t[f+56]=Z-K,f++}for(u=0;u<64;++u)l=t[u]*e[u],d[u]=0<l?l+.5|0:l-.5|0;return d}(t,e),c=0;c<64;++c)p[S[c]]=h[c];var u=p[0]-i;i=p[0],0==u?P(r[0]):(P(r[f[o=32767+u]]),P(l[o]));for(var g=63;0<g&&0==p[g];g--);if(0==g)return P(a),i;for(var v,y=1;y<=g;){for(var m=y;0==p[y]&&y<=g;++y);var _=y-m;if(16<=_){v=_>>4;for(var b=1;b<=v;++b)P(s);_&=15}o=32767+p[y],P(n[(_<<4)+f[o]]),P(l[o]),y++}return 63!=g&&P(a),i}function j(t){t<=0&&(t=1),100<t&&(t=100),o!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var r=a((e[i]*t+50)/100);r<1?r=1:255<r&&(r=255),s[S[i]]=r}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var l=a((n[o]*t+50)/100);l<1?l=1:255<l&&(l=255),h[S[o]]=l}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[d]=1/(s[S[d]]*f[p]*f[g]*8),u[d]=1/(h[S[d]]*f[p]*f[g]*8),d++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t)}this.encode=function(t,o){var a,l;(new Date).getTime(),o&&j(o),g=new Array,v=0,y=7,F(65496),F(65504),F(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),F(1),F(1),N(0),N(0),function(){F(65499),F(132),N(0);for(var t=0;t<64;t++)N(s[t]);N(1);for(var e=0;e<64;e++)N(h[e])}(),a=t.width,l=t.height,F(65472),F(17),N(8),F(l),F(a),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1),function(){F(65476),F(418),N(0);for(var t=0;t<16;t++)N(E[t+1]);for(var e=0;e<=11;e++)N(O[e]);N(16);for(var i=0;i<16;i++)N(T[i+1]);for(var r=0;r<=161;r++)N(C[r]);N(1);for(var n=0;n<16;n++)N(A[n+1]);for(var o=0;o<=11;o++)N(L[o]);N(17);for(var a=0;a<16;a++)N(R[a+1]);for(var s=0;s<=161;s++)N(M[s])}(),F(65498),F(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var f=0,d=0,p=0;v=0,y=7,this.encode.displayName="_encode_";for(var w,S,I,D,G,B,U,z,q,V=t.data,H=t.width,W=t.height,Y=4*H,K=0;K<W;){for(w=0;w<Y;){for(B=G=Y*K+w,U=-1,q=z=0;q<64;q++)B=G+(z=q>>3)*Y+(U=4*(7&q)),W<=K+z&&(B-=Y*(K+1+z-W)),Y<=w+U&&(B-=w+U-Y+4),S=V[B++],I=V[B++],D=V[B++],m[q]=(x[S]+x[I+256>>0]+x[D+512>>0]>>16)-128,_[q]=(x[S+768>>0]+x[I+1024>>0]+x[D+1280>>0]>>16)-128,b[q]=(x[S+1280>>0]+x[I+1536>>0]+x[D+1792>>0]>>16)-128;f=k(m,c,f,e,r),d=k(_,u,d,i,n),p=k(b,u,p,i,n),w+=32}K+=8}if(0<=y){var X=[];X[1]=y+1,X[0]=(1<<y+1)-1,P(X)}return F(65497),new Uint8Array(g)},function(){(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}(),e=I(E,O),i=I(A,L),r=I(T,C),n=I(R,M),function(){for(var t=1,e=2,i=1;i<=15;i++){for(var r=t;r<e;r++)f[32767+r]=i,l[32767+r]=[],l[32767+r][1]=i,l[32767+r][0]=r;for(var n=-(e-1);n<=-t;n++)f[32767+n]=i,l[32767+n]=[],l[32767+n][1]=i,l[32767+n][0]=e-1+n;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}(),j(t),(new Date).getTime()}()}function Nt(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Mt,pt.API.adler32cs=(bt="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,wt=null,xt=function(){if(!bt)return function(){return!1};try{var t={};"function"==typeof t.Buffer&&(wt=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==wt&&t instanceof wt}}(),St=null!==wt?function(t){return new wt(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},Et=function(t,e){for(var i=65535&t,r=t>>>16,n=0,o=e.length;n<o;n++)i=(i+(255&e.charCodeAt(n)))%65521,r=(r+i)%65521;return(r<<16|i)>>>0},Ot=function(t,e){for(var i=65535&t,r=t>>>16,n=0,o=e.length;n<o;n++)i=(i+e[n])%65521,r=(r+i)%65521;return(r<<16|i)>>>0},Ct=(Tt={}).Adler32=(((_t=(mt=function(t){if(!(this instanceof mt))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0}).prototype={}).constructor=mt).from=((gt=function(t){if(!(this instanceof mt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=Et(1,t.toString())}).prototype=_t,gt),mt.fromUtf8=((vt=function(t){if(!(this instanceof mt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var e=St(t.toString());this.checksum=Et(1,e)}).prototype=_t,vt),bt&&(mt.fromBuffer=((yt=function(t){if(!(this instanceof mt))throw new TypeError("Constructor cannot called be as a function.");if(!xt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=Ot(1,e)}).prototype=_t,yt)),_t.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=Et(this.checksum,t)},_t.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=St(t.toString());return this.checksum=Et(this.checksum,e)},bt&&(_t.updateBuffer=function(t){if(!xt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=Ot(this.checksum,e)}),_t.clone=function(){return new Ct(this.checksum)},mt),Tt.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return Et(1,t.toString())},Tt.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=St(t.toString());return Et(1,e)},bt&&(Tt.fromBuffer=function(t){if(!xt(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return Ot(1,e)}),Tt),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var i,r,n,o,a,s,h,c=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var m=function(t){var e=t.charCodeAt(),i=e>>8,r=d[i];return void 0!==r?c[256*r+(255&e)]:252===i||253===i?"AL":g.test(i)?"L":8===i?"R":"N"},_=function(t){for(var e,i=0;i<t.length;i++){if("L"===(e=m(t.charAt(i))))return!1;if("R"===e)return!0}return!1},b=function(t,e,a,s){var h,c,u,l,f=e[s];switch(f){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(f="AN");break;case"AL":v=!0,f="R";break;case"WS":f="N";break;case"CS":s<1||s+1>=e.length||"EN"!==(h=a[s-1])&&"AN"!==h||"EN"!==(c=e[s+1])&&"AN"!==c?f="N":v&&(c="AN"),f=c===h?c:"N";break;case"ES":f="EN"===(h=0<s?a[s-1]:"B")&&s+1<e.length&&"EN"===e[s+1]?"EN":"N";break;case"ET":if(0<s&&"EN"===a[s-1]){f="EN";break}if(v){f="N";break}for(u=s+1,l=e.length;u<l&&"ET"===e[u];)u++;f=u<l&&"EN"===e[u]?"EN":"N";break;case"NSM":if(n&&!o){for(l=e.length,u=s+1;u<l&&"NSM"===e[u];)u++;if(u<l){var d=t[s],p=1425<=d&&d<=2303||64286===d;if(h=e[u],p&&("R"===h||"AL"===h)){f="R";break}}}f=s<1||"B"===(h=e[s-1])?"N":a[s-1];break;case"B":i=!(v=!1),f=y;break;case"S":r=!0,f="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":f="N"}return f},w=function(t,e,i){var r=t.split("");return i&&x(r,i,{hiLevel:y}),r.reverse(),e&&e.reverse(),r.join("")},x=function(t,e,n){var o,a,s,h,c,d=-1,p=t.length,g=0,_=[],w=y?l:u,x=[];for(r=i=v=!1,a=0;a<p;a++)x[a]=m(t[a]);for(s=0;s<p;s++){if(c=g,_[s]=b(t,x,_,s),o=240&(g=w[c][f[_[s]]]),g&=15,e[s]=h=w[g][5],0<o)if(16===o){for(a=d;a<s;a++)e[a]=1;d=-1}else d=-1;if(w[g][6])-1===d&&(d=s);else if(-1<d){for(a=d;a<s;a++)e[a]=h;d=-1}"B"===x[s]&&(e[s]=0),n.hiLevel|=h}r&&function(t,e,i){for(var r=0;r<i;r++)if("S"===t[r]){e[r]=y;for(var n=r-1;0<=n&&"WS"===t[n];n--)e[n]=y}}(x,e,p)},S=function(t,e,r,n,o){if(!(o.hiLevel<t)){if(1===t&&1===y&&!i)return e.reverse(),void(r&&r.reverse());for(var a,s,h,c,u=e.length,l=0;l<u;){if(n[l]>=t){for(h=l+1;h<u&&n[h]>=t;)h++;for(c=l,s=h-1;c<s;c++,s--)a=e[c],e[c]=e[s],e[s]=a,r&&(a=r[c],r[c]=r[s],r[s]=a);l=h}l++}}},E=function(t,e,i){var r=t.split(""),n={hiLevel:y};return i||(i=[]),x(r,i,n),function(t,e,i){if(0!==i.hiLevel&&h)for(var r,n=0;n<t.length;n++)1===e[n]&&0<=(r=p.indexOf(t[n]))&&(t[n]=p[r+1])}(r,i,n),S(2,r,e,i,n),S(1,r,e,i,n),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,i){if(function(t,e){if(e)for(var i=0;i<t.length;i++)e[i]=i;void 0===o&&(o=_(t)),void 0===s&&(s=_(t))}(t,e),n||!a||s)if(n&&a&&o^s)y=o?1:0,t=w(t,e,i);else if(!n&&a&&s)y=o?1:0,t=E(t,e,i),t=w(t,e);else if(!n||o||a||s){if(n&&!a&&o^s)t=w(t,e),t=o?(y=0,E(t,e,i)):(y=1,t=E(t,e,i),w(t,e));else if(n&&o&&!a&&s)y=1,t=E(t,e,i),t=w(t,e);else if(!n&&!a&&o^s){var r=h;o?(y=1,t=E(t,e,i),y=0,h=!1,t=E(t,e,i),h=r):(y=0,t=E(t,e,i),t=w(t,e),h=!(y=1),t=E(t,e,i),h=r,t=w(t,e))}}else y=0,t=E(t,e,i);else y=o?1:0,t=E(t,e,i);return t},this.__bidiEngine__.setOptions=function(t){t&&(n=t.isInputVisual,a=t.isOutputVisual,o=t.isInputRtl,s=t.isOutputRtl,h=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=(t.x,t.y,t.options||{}),n=(t.mutex,r.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var o=0;for(n=[],o=0;o<e.length;o+=1)"[object Array]"===Object.prototype.toString.call(e[o])?n.push([i.doBidiReorder(e[o][0]),e[o][1],e[o][2]]):n.push([i.doBidiReorder(e[o])]);t.text=n}else t.text=i.doBidiReorder(e)}])}(pt),window.tmp=Pt,Nt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:n,green:r,blue:i,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Nt.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){console.log("bit decode error:"+t)}},Nt.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,i=0<=this.height?this.height-1:-this.height;for(i=this.height-1;0<=i;i--){for(var r=this.bottom_up?i:this.height-1-i,n=0;n<t;n++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*n*4,s=0;s<8&&8*n+s<this.width;s++){var h=this.palette[o>>7-s&1];this.data[a+4*s]=h.blue,this.data[a+4*s+1]=h.green,this.data[a+4*s+2]=h.red,this.data[a+4*s+3]=255}0!=e&&(this.pos+=4-e)}},Nt.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,i=this.height-1;0<=i;i--){for(var r=this.bottom_up?i:this.height-1-i,n=0;n<t;n++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*n*4,s=o>>4,h=15&o,c=this.palette[s];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*n+1>=this.width)break;c=this.palette[h],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!=e&&(this.pos+=4-e)}},Nt.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;0<=e;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+4*r;if(n<this.palette.length){var a=this.palette[n];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!=t&&(this.pos+=4-t)}},Nt.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),i=this.height-1;0<=i;i--){for(var r=this.bottom_up?i:this.height-1-i,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,c=o>>15?255:0,u=r*this.width*4+4*n;this.data[u]=h,this.data[u+1]=s,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Nt.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),i=parseInt("111111",2),r=this.height-1;0<=r;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,h=(a>>5&i)/i*255|0,c=(a>>11)/e*255|0,u=n*this.width*4+4*o;this.data[u]=c,this.data[u+1]=h,this.data[u+2]=s,this.data[u+3]=255}this.pos+=t}},Nt.prototype.bit24=function(){for(var t=this.height-1;0<=t;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*i;this.data[a]=o,this.data[a+1]=n,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Nt.prototype.bit32=function(){for(var t=this.height-1;0<=t;t--)for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;this.data[s]=o,this.data[s+1]=n,this.data[s+2]=r,this.data[s+3]=a}},Nt.prototype.getData=function(){return this.data},window.tmp=Nt,function(t){var e=15,i=573,r=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function n(){var t=this;function r(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}t.build_tree=function(n){var o,a,s,h=t.dyn_tree,c=t.stat_desc.static_tree,u=t.stat_desc.elems,l=-1;for(n.heap_len=0,n.heap_max=i,o=0;o<u;o++)0!==h[2*o]?(n.heap[++n.heap_len]=l=o,n.depth[o]=0):h[2*o+1]=0;for(;n.heap_len<2;)h[2*(s=n.heap[++n.heap_len]=l<2?++l:0)]=1,n.depth[s]=0,n.opt_len--,c&&(n.static_len-=c[2*s+1]);for(t.max_code=l,o=Math.floor(n.heap_len/2);1<=o;o--)n.pqdownheap(h,o);for(s=u;o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(h,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,h[2*s]=h[2*o]+h[2*a],n.depth[s]=Math.max(n.depth[o],n.depth[a])+1,h[2*o+1]=h[2*a+1]=s,n.heap[1]=s++,n.pqdownheap(h,1),2<=n.heap_len;);n.heap[--n.heap_max]=n.heap[1],function(r){var n,o,a,s,h,c,u=t.dyn_tree,l=t.stat_desc.static_tree,f=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(s=0;s<=e;s++)r.bl_count[s]=0;for(u[2*r.heap[r.heap_max]+1]=0,n=r.heap_max+1;n<i;n++)p<(s=u[2*u[2*(o=r.heap[n])+1]+1]+1)&&(s=p,g++),u[2*o+1]=s,o>t.max_code||(r.bl_count[s]++,h=0,d<=o&&(h=f[o-d]),c=u[2*o],r.opt_len+=c*(s+h),l&&(r.static_len+=c*(l[2*o+1]+h)));if(0!==g){do{for(s=p-1;0===r.bl_count[s];)s--;r.bl_count[s]--,r.bl_count[s+1]+=2,r.bl_count[p]--,g-=2}while(0<g);for(s=p;0!==s;s--)for(o=r.bl_count[s];0!==o;)(a=r.heap[--n])>t.max_code||(u[2*a+1]!=s&&(r.opt_len+=(s-u[2*a+1])*u[2*a],u[2*a+1]=s),o--)}}(n),function(t,i,n){var o,a,s,h=[],c=0;for(o=1;o<=e;o++)h[o]=c=c+n[o-1]<<1;for(a=0;a<=i;a++)0!==(s=t[2*a+1])&&(t[2*a]=r(h[s]++,s))}(h,t.max_code,n.bl_count)}}function o(t,e,i,r,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n}function a(t,e,i,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=n}n._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],n.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],n.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],n.d_code=function(t){return t<256?r[t]:r[256+(t>>>7)]},n.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],n.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],o.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],o.static_l_desc=new o(o.static_ltree,n.extra_lbits,257,286,e),o.static_d_desc=new o(o.static_dtree,n.extra_dbits,0,30,e),o.static_bl_desc=new o(null,n.extra_blbits,0,19,7);var s=[new a(0,0,0,0,0),new a(4,4,8,4,1),new a(4,5,16,8,1),new a(4,6,32,32,1),new a(4,4,16,16,2),new a(8,16,32,32,2),new a(8,16,128,128,2),new a(8,32,128,256,2),new a(32,128,258,1024,2),new a(32,258,258,4096,2)],h=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function c(t,e,i,r){var n=t[2*e],o=t[2*i];return n<o||n==o&&r[e]<=r[i]}function u(){var t,e,i,r,a,u,l,f,d,p,g,v,y,m,_,b,w,x,S,E,O,T,C,A,L,R,M,I,P,N,F,k,j,D,G,B,U,z,q,V,H,W=this,Y=new n,K=new n,X=new n;function Z(){var t;for(t=0;t<286;t++)F[2*t]=0;for(t=0;t<30;t++)k[2*t]=0;for(t=0;t<19;t++)j[2*t]=0;F[512]=1,W.opt_len=W.static_len=0,B=z=0}function $(t,e){var i,r,n=-1,o=t[1],a=0,s=7,h=4;for(0===o&&(s=138,h=3),t[2*(e+1)+1]=65535,i=0;i<=e;i++)r=o,o=t[2*(i+1)+1],++a<s&&r==o||(a<h?j[2*r]+=a:0!==r?(r!=n&&j[2*r]++,j[32]++):a<=10?j[34]++:j[36]++,n=r,h=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4))}function J(t){W.pending_buf[W.pending++]=t}function Q(t){J(255&t),J(t>>>8&255)}function tt(t,e){var i,r=e;16-r<H?(Q(V|=(i=t)<<H&65535),V=i>>>16-H,H+=r-16):(V|=t<<H&65535,H+=r)}function et(t,e){var i=2*t;tt(65535&e[i],65535&e[i+1])}function it(t,e){var i,r,n=-1,o=t[1],a=0,s=7,h=4;for(0===o&&(s=138,h=3),i=0;i<=e;i++)if(r=o,o=t[2*(i+1)+1],!(++a<s&&r==o)){if(a<h)for(;et(r,j),0!=--a;);else 0!==r?(r!=n&&(et(r,j),a--),et(16,j),tt(a-3,2)):a<=10?(et(17,j),tt(a-3,3)):(et(18,j),tt(a-11,7));n=r,h=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4)}}function rt(){16==H?(Q(V),H=V=0):8<=H&&(J(255&V),V>>>=8,H-=8)}function nt(t,e){var i,r,o;if(W.pending_buf[U+2*B]=t>>>8&255,W.pending_buf[U+2*B+1]=255&t,W.pending_buf[D+B]=255&e,B++,0===t?F[2*e]++:(z++,t--,F[2*(n._length_code[e]+256+1)]++,k[2*n.d_code(t)]++),0==(8191&B)&&2<M){for(i=8*B,r=O-w,o=0;o<30;o++)i+=k[2*o]*(5+n.extra_dbits[o]);if(i>>>=3,z<Math.floor(B/2)&&i<Math.floor(r/2))return!0}return B==G-1}function ot(t,e){var i,r,o,a,s=0;if(0!==B)for(;i=W.pending_buf[U+2*s]<<8&65280|255&W.pending_buf[U+2*s+1],r=255&W.pending_buf[D+s],s++,0===i?et(r,t):(et((o=n._length_code[r])+256+1,t),0!==(a=n.extra_lbits[o])&&tt(r-=n.base_length[o],a),et(o=n.d_code(--i),e),0!==(a=n.extra_dbits[o])&&tt(i-=n.base_dist[o],a)),s<B;);et(256,t),q=t[513]}function at(){8<H?Q(V):0<H&&J(255&V),H=V=0}function st(t,e,i){var r,n,o;tt(0+(i?1:0),3),r=t,n=e,o=!0,at(),q=8,o&&(Q(n),Q(~n)),W.pending_buf.set(f.subarray(r,r+n),W.pending),W.pending+=n}function ht(t,e,i){var r,a,s=0;0<M?(Y.build_tree(W),K.build_tree(W),s=function(){var t;for($(F,Y.max_code),$(k,K.max_code),X.build_tree(W),t=18;3<=t&&0===j[2*n.bl_order[t]+1];t--);return W.opt_len+=3*(t+1)+5+5+4,t}(),r=W.opt_len+3+7>>>3,(a=W.static_len+3+7>>>3)<=r&&(r=a)):r=a=e+5,e+4<=r&&-1!=t?st(t,e,i):a==r?(tt(2+(i?1:0),3),ot(o.static_ltree,o.static_dtree)):(tt(4+(i?1:0),3),function(t,e,i){var r;for(tt(t-257,5),tt(e-1,5),tt(i-4,4),r=0;r<i;r++)tt(j[2*n.bl_order[r]+1],3);it(F,t-1),it(k,e-1)}(Y.max_code+1,K.max_code+1,s+1),ot(F,k)),Z(),i&&at()}function ct(e){ht(0<=w?w:-1,O-w,e),w=O,t.flush_pending()}function ut(){var e,i,r,n;do{if(0===(n=d-C-O)&&0===O&&0===C)n=a;else if(-1==n)n--;else if(a+a-262<=O){for(f.set(f.subarray(a,a+a),0),T-=a,O-=a,w-=a,r=e=y;i=65535&g[--r],g[r]=a<=i?i-a:0,0!=--e;);for(r=e=a;i=65535&p[--r],p[r]=a<=i?i-a:0,0!=--e;);n+=a}if(0===t.avail_in)return;e=t.read_buf(f,O+C,n),3<=(C+=e)&&(v=((v=255&f[O])<<b^255&f[O+1])&_)}while(C<262&&0!==t.avail_in)}function lt(t){var e,i,r=L,n=O,o=A,s=a-262<O?O-(a-262):0,h=N,c=l,u=O+258,d=f[n+o-1],g=f[n+o];P<=A&&(r>>=2),C<h&&(h=C);do{if(f[(e=t)+o]==g&&f[e+o-1]==d&&f[e]==f[n]&&f[++e]==f[n+1]){n+=2,e++;do{}while(f[++n]==f[++e]&&f[++n]==f[++e]&&f[++n]==f[++e]&&f[++n]==f[++e]&&f[++n]==f[++e]&&f[++n]==f[++e]&&f[++n]==f[++e]&&f[++n]==f[++e]&&n<u);if(i=258-(u-n),n=u-258,o<i){if(T=t,h<=(o=i))break;d=f[n+o-1],g=f[n+o]}}}while((t=65535&p[t&c])>s&&0!=--r);return o<=C?o:C}function ft(t){return t.total_in=t.total_out=0,t.msg=null,W.pending=0,W.pending_out=0,e=113,r=0,Y.dyn_tree=F,Y.stat_desc=o.static_l_desc,K.dyn_tree=k,K.stat_desc=o.static_d_desc,X.dyn_tree=j,X.stat_desc=o.static_bl_desc,H=V=0,q=8,Z(),function(){var t;for(d=2*a,t=g[y-1]=0;t<y-1;t++)g[t]=0;R=s[M].max_lazy,P=s[M].good_length,N=s[M].nice_length,L=s[M].max_chain,x=A=2,v=E=C=w=O=0}(),0}W.depth=[],W.bl_count=[],W.heap=[],F=[],k=[],j=[],W.pqdownheap=function(t,e){for(var i=W.heap,r=i[e],n=e<<1;n<=W.heap_len&&(n<W.heap_len&&c(t,i[n+1],i[n],W.depth)&&n++,!c(t,r,i[n],W.depth));)i[e]=i[n],e=n,n<<=1;i[e]=r},W.deflateInit=function(t,e,r,n,o,s){return n||(n=8),o||(o=8),s||(s=0),t.msg=null,-1==e&&(e=6),o<1||9<o||8!=n||r<9||15<r||e<0||9<e||s<0||2<s?-2:(t.dstate=W,l=(a=1<<(u=r))-1,_=(y=1<<(m=o+7))-1,b=Math.floor((m+3-1)/3),f=new Uint8Array(2*a),p=[],g=[],G=1<<o+6,W.pending_buf=new Uint8Array(4*G),i=4*G,U=Math.floor(G/2),D=3*G,M=e,I=s,ft(t))},W.deflateEnd=function(){return 42!=e&&113!=e&&666!=e?-2:(W.pending_buf=null,f=p=g=null,W.dstate=null,113==e?-3:0)},W.deflateParams=function(t,e,i){var r=0;return-1==e&&(e=6),e<0||9<e||i<0||2<i?-2:(s[M].func!=s[e].func&&0!==t.total_in&&(r=t.deflate(1)),M!=e&&(R=s[M=e].max_lazy,P=s[M].good_length,N=s[M].nice_length,L=s[M].max_chain),I=i,r)},W.deflateSetDictionary=function(t,i,r){var n,o=r,s=0;if(!i||42!=e)return-2;if(o<3)return 0;for(a-262<o&&(s=r-(o=a-262)),f.set(i.subarray(s,s+o),0),w=O=o,v=((v=255&f[0])<<b^255&f[1])&_,n=0;n<=o-3;n++)v=(v<<b^255&f[n+2])&_,p[n&l]=g[v],g[v]=n;return 0},W.deflate=function(n,c){var d,m,L,P,N,F;if(4<c||c<0)return-2;if(!n.next_out||!n.next_in&&0!==n.avail_in||666==e&&4!=c)return n.msg=h[4],-2;if(0===n.avail_out)return n.msg=h[7],-5;if(t=n,P=r,r=c,42==e&&(m=8+(u-8<<4)<<8,3<(L=(M-1&255)>>1)&&(L=3),m|=L<<6,0!==O&&(m|=32),e=113,J((F=m+=31-m%31)>>8&255),J(255&F)),0!==W.pending){if(t.flush_pending(),0===t.avail_out)return r=-1,0}else if(0===t.avail_in&&c<=P&&4!=c)return t.msg=h[7],-5;if(666==e&&0!==t.avail_in)return n.msg=h[7],-5;if(0!==t.avail_in||0!==C||0!=c&&666!=e){switch(N=-1,s[M].func){case 0:N=function(e){var r,n=65535;for(i-5<n&&(n=i-5);;){if(C<=1){if(ut(),0===C&&0==e)return 0;if(0===C)break}if(O+=C,r=w+n,((C=0)===O||r<=O)&&(C=O-r,O=r,ct(!1),0===t.avail_out))return 0;if(a-262<=O-w&&(ct(!1),0===t.avail_out))return 0}return ct(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(c);break;case 1:N=function(e){for(var i,r=0;;){if(C<262){if(ut(),C<262&&0==e)return 0;if(0===C)break}if(3<=C&&(v=(v<<b^255&f[O+2])&_,r=65535&g[v],p[O&l]=g[v],g[v]=O),0!==r&&(O-r&65535)<=a-262&&2!=I&&(x=lt(r)),3<=x)if(i=nt(O-T,x-3),C-=x,x<=R&&3<=C){for(x--;v=(v<<b^255&f[2+ ++O])&_,r=65535&g[v],p[O&l]=g[v],g[v]=O,0!=--x;);O++}else O+=x,x=0,v=((v=255&f[O])<<b^255&f[O+1])&_;else i=nt(0,255&f[O]),C--,O++;if(i&&(ct(!1),0===t.avail_out))return 0}return ct(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(c);break;case 2:N=function(e){for(var i,r,n=0;;){if(C<262){if(ut(),C<262&&0==e)return 0;if(0===C)break}if(3<=C&&(v=(v<<b^255&f[O+2])&_,n=65535&g[v],p[O&l]=g[v],g[v]=O),A=x,S=T,x=2,0!==n&&A<R&&(O-n&65535)<=a-262&&(2!=I&&(x=lt(n)),x<=5&&(1==I||3==x&&4096<O-T)&&(x=2)),3<=A&&x<=A){for(r=O+C-3,i=nt(O-1-S,A-3),C-=A-1,A-=2;++O<=r&&(v=(v<<b^255&f[O+2])&_,n=65535&g[v],p[O&l]=g[v],g[v]=O),0!=--A;);if(E=0,x=2,O++,i&&(ct(!1),0===t.avail_out))return 0}else if(0!==E){if((i=nt(0,255&f[O-1]))&&ct(!1),O++,C--,0===t.avail_out)return 0}else E=1,O++,C--}return 0!==E&&(i=nt(0,255&f[O-1]),E=0),ct(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(c)}if(2!=N&&3!=N||(e=666),0==N||2==N)return 0===t.avail_out&&(r=-1),0;if(1==N){if(1==c)tt(2,3),et(256,o.static_ltree),rt(),1+q+10-H<9&&(tt(2,3),et(256,o.static_ltree),rt()),q=7;else if(st(0,0,!1),3==c)for(d=0;d<y;d++)g[d]=0;if(t.flush_pending(),0===t.avail_out)return r=-1,0}}return 4!=c?0:1}}function l(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}l.prototype={deflateInit:function(t,i){return this.dstate=new u,i||(i=e),this.dstate.deflateInit(this,t,i)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,i){var r=this.avail_in;return i<r&&(r=i),0===r?0:(this.avail_in-=r,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+r),e),this.next_in_index+=r,this.total_in+=r,r)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var f=t.zip||t;f.Deflater=f._jzlib_Deflater=function(t){var e=new l,i=new Uint8Array(512),r=t?t.level:-1;void 0===r&&(r=-1),e.deflateInit(r),e.next_out=i,this.append=function(t,r){var n,o=[],a=0,s=0,h=0;if(t.length){e.next_in_index=0,e.next_in=t,e.avail_in=t.length;do{if(e.next_out_index=0,e.avail_out=512,0!=e.deflate(0))throw new Error("deflating: "+e.msg);e.next_out_index&&(512==e.next_out_index?o.push(new Uint8Array(i)):o.push(new Uint8Array(i.subarray(0,e.next_out_index)))),h+=e.next_out_index,r&&0<e.next_in_index&&e.next_in_index!=a&&(r(e.next_in_index),a=e.next_in_index)}while(0<e.avail_in||0===e.avail_out);return n=new Uint8Array(h),o.forEach((function(t){n.set(t,s),s+=t.length})),n}},this.flush=function(){var t,r,n=[],o=0,a=0;do{if(e.next_out_index=0,e.avail_out=512,1!=(t=e.deflate(4))&&0!=t)throw new Error("deflating: "+e.msg);0<512-e.avail_out&&n.push(new Uint8Array(i.subarray(0,e.next_out_index))),a+=e.next_out_index}while(0<e.avail_in||0===e.avail_out);return e.deflateEnd(),r=new Uint8Array(a),n.forEach((function(t){r.set(t,o),o+=t.length})),r}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in i)t==r&&(t=i[r]);for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],o=0;o<n.length;o++){var a=n[o].re,s=n[o].process,h=a.exec(t);h&&(e=s(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),i=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),"#"+t+e+i}},function(t){var e="+".charCodeAt(0),i="/".charCodeAt(0),r="0".charCodeAt(0),n="a".charCodeAt(0),o="A".charCodeAt(0),a="-".charCodeAt(0),s="_".charCodeAt(0),h=function(t){var h=t.charCodeAt(0);return h===e||h===a?62:h===i||h===s?63:h<r?-1:h<r+10?h-r+26+26:h<o+26?h-o:h<n+26?h-n+26:void 0};t.API.TTFFont=function(){function t(t,e,i){var r;if(this.rawData=t,r=this.contents=new u(t),this.contents.pos=4,"ttcf"===r.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}r.pos=0,this.parse(),this.subset=new L(this),this.registerTTF()}return t.open=function(e,i,r,n){if("string"!=typeof r)throw new Error("Invalid argument supplied in TTFFont.open");return new t(function(t){var e,i,r,n,o,a;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var s=t.length;o="="===t.charAt(s-2)?2:"="===t.charAt(s-1)?1:0,a=new Uint8Array(3*t.length/4-o),r=0<o?t.length-4:t.length;var c=0;function u(t){a[c++]=t}for(i=e=0;e<r;e+=4,i+=3)u((16711680&(n=h(t.charAt(e))<<18|h(t.charAt(e+1))<<12|h(t.charAt(e+2))<<6|h(t.charAt(e+3))))>>16),u((65280&n)>>8),u(255&n);return 2===o?u(255&(n=h(t.charAt(e))<<2|h(t.charAt(e+1))>>4)):1===o&&(u((n=h(t.charAt(e))<<10|h(t.charAt(e+1))<<4|h(t.charAt(e+2))>>2)>>8&255),u(255&n)),a}(r),i,n)},t.prototype.parse=function(){return this.directory=new l(this.contents),this.head=new p(this),this.name=new w(this),this.cmap=new v(this),this.toUnicode=new Map,this.hhea=new y(this),this.maxp=new x(this),this.hmtx=new S(this),this.post=new _(this),this.os2=new m(this),this.loca=new A(this),this.glyf=new O(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,i,r,n;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,i,r,n;for(n=[],e=0,i=(r=this.bbox).length;e<i;e++)t=r[e],n.push(Math.round(t*this.scaleFactor));return n}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),!0&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(n=this.familyClass)||2===n||3===n||4===n||5===n||7===n,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,i){var r,n,o,a,s;for(n=a=o=0,s=(t=""+t).length;0<=s?a<s:s<a;n=0<=s?++a:--a)r=t.charCodeAt(n),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},t.prototype.lineHeight=function(t,e){var i;return null==e&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},t}();var c,u=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return 2147483648<=(t=this.readUInt32())?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return 32768<=(t=this.readUInt16())?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,i,r;for(i=[],e=r=0;0<=t?r<t:t<r;e=0<=t?++r:--r)i[e]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(t){var e,i,r,n;for(n=[],e=i=0,r=t.length;0<=r?i<r:r<i;e=0<=r?++i:--i)n.push(this.writeByte(t.charCodeAt(e)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,i,r,n,o,a,s;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),n=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^n)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*n+65536*o+256*a+s},t.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:t<i;0<=t?++i:--i)e.push(this.readByte());return e},t.prototype.write=function(t){var e,i,r,n;for(n=[],i=0,r=t.length;i<r;i++)e=t[i],n.push(this.writeByte(e));return n},t}(),l=function(){var t;function e(t){var e,i,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,r=this.tableCount;0<=r?i<r:r<i;0<=r?++i:--i)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var i,r,n,o,a,s,h,c,l,f,d,p,g;for(g in d=Object.keys(e).length,s=Math.log(2),l=16*Math.floor(Math.log(d)/s),o=Math.floor(l/s),c=16*d-l,(r=new u).writeInt(this.scalarType),r.writeShort(d),r.writeShort(l),r.writeShort(o),r.writeShort(c),n=16*d,h=r.pos+n,a=null,p=[],e)for(f=e[g],r.writeString(g),r.writeInt(t(f)),r.writeInt(h),r.writeInt(f.length),p=p.concat(f),"head"===g&&(a=h),h+=f.length;h%4;)p.push(0),h++;return r.write(p),i=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(i),r.data},t=function(t){var e,i,r,n;for(t=E.call(t);t.length%4;)t.push(0);for(i=new u(t),r=e=0,n=t.length;r<n;r+=4)e+=i.readUInt32();return 4294967295&e},e}(),f={}.hasOwnProperty,d=function(t,e){for(var i in e)f.call(e,i)&&(t[i]=e[i]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};c=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new u).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),g=function(){function t(t,e){var i,r,n,o,a,s,h,c,u,l,f,d,p,g,v,y,m,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=v=0;v<256;s=++v)this.codeMap[s]=t.readByte();break;case 4:for(f=t.readUInt16(),l=f/2,t.pos+=6,n=function(){var e,i;for(i=[],s=e=0;0<=l?e<l:l<e;s=0<=l?++e:--e)i.push(t.readUInt16());return i}(),t.pos+=2,p=function(){var e,i;for(i=[],s=e=0;0<=l?e<l:l<e;s=0<=l?++e:--e)i.push(t.readUInt16());return i}(),h=function(){var e,i;for(i=[],s=e=0;0<=l?e<l:l<e;s=0<=l?++e:--e)i.push(t.readUInt16());return i}(),c=function(){var e,i;for(i=[],s=e=0;0<=l?e<l:l<e;s=0<=l?++e:--e)i.push(t.readUInt16());return i}(),r=(this.length-t.pos+this.offset)/2,a=function(){var e,i;for(i=[],s=e=0;0<=r?e<r:r<e;s=0<=r?++e:--e)i.push(t.readUInt16());return i}(),s=y=0,_=n.length;y<_;s=++y)for(g=n[s],i=m=d=p[s];d<=g?m<=g:g<=m;i=d<=g?++m:--m)0===c[s]?o=i+h[s]:0!==(o=a[c[s]/2+(i-d)-(l-s)]||0)&&(o+=h[s]),this.codeMap[i]=65535&o}t.pos=u}return t.encode=function(t,e){var i,r,n,o,a,s,h,c,l,f,d,p,g,v,y,m,_,b,w,x,S,E,O,T,C,A,L,R,M,I,P,N,F,k,j,D,G,B,U,z,q,V,H,W,Y,K;switch(R=new u,o=Object.keys(t).sort((function(t,e){return t-e})),e){case"macroman":for(g=0,v=function(){var t,e;for(e=[],p=t=0;t<256;p=++t)e.push(0);return e}(),m={0:0},n={},M=0,F=o.length;M<F;M++)null==m[H=t[r=o[M]]]&&(m[H]=++g),n[r]={old:t[r],new:m[t[r]]},v[r]=m[t[r]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(v),{charMap:n,subtable:R.data,maxGlyphID:g+1};case"unicode":for(A=[],l=[],m={},i={},y=h=null,I=_=0,k=o.length;I<k;I++)null==m[w=t[r=o[I]]]&&(m[w]=++_),i[r]={old:w,new:m[w]},a=m[w]-r,null!=y&&a===h||(y&&l.push(y),A.push(r),h=a),y=r;for(y&&l.push(y),l.push(65535),A.push(65535),T=2*(O=A.length),E=2*Math.pow(Math.log(O)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,S=2*O-E,s=[],x=[],d=[],p=P=0,j=A.length;P<j;p=++P){if(C=A[p],c=l[p],65535===C){s.push(0),x.push(0);break}if(32768<=C-(L=i[C].new))for(s.push(0),x.push(2*(d.length+O-p)),r=N=C;C<=c?N<=c:c<=N;r=C<=c?++N:--N)d.push(i[r].new);else s.push(L-C),x.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*O+2*d.length),R.writeUInt16(0),R.writeUInt16(T),R.writeUInt16(E),R.writeUInt16(f),R.writeUInt16(S),q=0,D=l.length;q<D;q++)r=l[q],R.writeUInt16(r);for(R.writeUInt16(0),V=0,G=A.length;V<G;V++)r=A[V],R.writeUInt16(r);for(W=0,B=s.length;W<B;W++)a=s[W],R.writeUInt16(a);for(Y=0,U=x.length;Y<U;Y++)b=x[Y],R.writeUInt16(b);for(K=0,z=d.length;K<z;K++)g=d[K],R.writeUInt16(g);return{charMap:i,subtable:R.data,maxGlyphID:_+1}}},t}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,i,r;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:i<r;0<=i?++r:--r)e=new g(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var i,r;return null==e&&(e="macroman"),i=g.encode(t,e),(r=new u).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},e}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,i;for(i=[],e=0;e<10;++e)i.push(t.readByte());return i}(),this.charRange=function(){var e,i;for(i=[],e=0;e<4;++e)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),0<this.version&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,i;for(i=[],e=0;e<2;++e)i.push(t.readInt());return i}(),1<this.version))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="post",e.prototype.parse=function(t){var e,i,r,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:for(i=t.readUInt16(),this.glyphNameIndex=[],r=0;0<=i?r<i:i<r;0<=i?++r:--r)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)e=t.readByte(),n.push(this.names.push(t.readString(e)));return n;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=function(){var e,i,r;for(r=[],e=0,i=this.file.maxp.numGlyphs;0<=i?e<i:i<e;0<=i?++e:--e)r.push(t.readUInt32());return r}.call(this)}},e}(),b=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},w=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="name",e.prototype.parse=function(t){var e,i,r,n,o,a,s,h,c,u,l,f;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),i=[],n=c=0;0<=e?c<e:e<c;n=0<=e?++c:--c)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(s={},n=u=0,l=i.length;u<l;n=++u)r=i[n],t.pos=r.offset,h=t.readString(r.length),o=new b(h,r),null==s[f=r.nameID]&&(s[f]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,i,r,n,o,a,s;for(t.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:a<n;0<=a?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var e,r;for(r=[],e=0;0<=i?e<i:i<e;0<=i?++e:--e)r.push(t.readInt16());return r}(),this.widths=function(){var t,e,i,n;for(n=[],t=0,e=(i=this.metrics).length;t<e;t++)r=i[t],n.push(r.advance);return n}.call(this),e=this.widths[this.widths.length-1],s=[],o=0;0<=i?o<i:i<o;0<=i?++o:--o)s.push(this.widths.push(e));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),E=[].slice,O=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="glyf",e.prototype.parse=function(t){return this.cache={}},e.prototype.glyphFor=function(t){var e,i,r,n,o,a,s,h,c,l;return(t=t)in this.cache?this.cache[t]:(n=this.file.loca,e=this.file.contents,i=n.indexOf(t),0===(r=n.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+i,o=(a=new u(e.read(r))).readShort(),h=a.readShort(),l=a.readShort(),s=a.readShort(),c=a.readShort(),this.cache[t]=-1===o?new C(a,h,l,s,c):new T(a,o,h,l,s,c),this.cache[t]))},e.prototype.encode=function(t,e,i){var r,n,o,a,s;for(o=[],n=[],a=0,s=e.length;a<s;a++)r=t[e[a]],n.push(o.length),r&&(o=o.concat(r.encode(i)));return n.push(o.length),{table:o,offsets:n}},e}(),T=function(){function t(t,e,i,r,n,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=n,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),C=function(){function t(t,e,i,r,n){var o,a;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=n,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(t){var e,i,r,n,o;for(i=new u(E.call(this.raw.data)),e=r=0,n=(o=this.glyphIDs).length;r<n;e=++r)o[e],i.pos=this.glyphOffsets[e];return i.data},t}(),A=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,c),e.prototype.tag="loca",e.prototype.parse=function(t){var e;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,i,r;for(r=[],e=0,i=this.length;e<i;e+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,i,r;for(r=[],e=0,i=this.length;e<i;e+=4)r.push(t.readUInt32());return r}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var i=new Uint32Array(this.offsets.length),r=0,n=0,o=0;o<i.length;++o)if(i[o]=r,n<e.length&&e[n]==o){++n,i[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;0<s&&(r+=s)}for(var h=new Array(4*i.length),c=0;c<i.length;++c)h[4*c+3]=255&i[c],h[4*c+2]=(65280&i[c])>>8,h[4*c+1]=(16711680&i[c])>>16,h[4*c]=(4278190080&i[c])>>24;return h},e}(),L=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,i,r,n;for(e in r=this.font.cmap.tables[0].codeMap,t={},n=this.subset)i=n[e],t[e]=r[i];return t},t.prototype.glyphsFor=function(t){var e,i,r,n,o,a,s;for(r={},o=0,a=t.length;o<a;o++)r[n=t[o]]=this.font.glyf.glyphFor(n);for(n in e=[],r)(null!=(i=r[n])?i.compound:void 0)&&e.push.apply(e,i.glyphIDs);if(0<e.length)for(n in s=this.glyphsFor(e))i=s[n],r[n]=i;return r},t.prototype.encode=function(t,e){var i,r,n,o,a,s,h,c,u,l,f,d,p,g,y;for(r in i=v.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},y=i.charMap)f[(s=y[r]).old]=s.new;for(d in l=i.maxGlyphID,o)d in f||(f[d]=l++);return c=function(t){var e,i;for(e in i={},t)i[t[e]]=e;return i}(f),u=Object.keys(c).sort((function(t,e){return t-e})),p=function(){var t,e,i;for(i=[],t=0,e=u.length;t<e;t++)a=u[t],i.push(c[a]);return i}(),n=this.font.glyf.encode(o,p,f),h=this.font.loca.encode(n.offsets,p),g={cmap:this.font.cmap.raw(),glyf:n.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();t.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(i){var r,n,o,a;if(Array.isArray(i))return"["+function(){var t,n,o;for(o=[],t=0,n=i.length;t<n;t++)r=i[t],o.push(e.convert(r));return o}().join(" ")+"]";if("string"==typeof i)return"/"+i;if(null!=i?i.isString:void 0)return"("+i+")";if(i instanceof Date)return"(D:"+t(i.getUTCFullYear(),4)+t(i.getUTCMonth(),2)+t(i.getUTCDate(),2)+t(i.getUTCHours(),2)+t(i.getUTCMinutes(),2)+t(i.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(i))return""+i;for(n in o=["<<"],i)a=i[n],o.push("/"+n+" "+e.convert(a));return o.push(">>"),o.join("\n")},e}()}(pt),At="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")(),Lt=function(){var t,e,i;function r(t){var e,i,r,n,o,a,s,h,c,u,l,f,d,p;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),n=this.readUInt16()||100,a.delay=1e3*o/n,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,f=0;0<=e?f<e:e<f;0<=e?++f:--f)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if(0<(u=r-this.transparency.indexed.length))for(d=0;0<=u?d<u:u<d;0<=u?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(l=this.read(e)).indexOf(0),h=String.fromCharCode.apply(String,l.slice(0,s)),this.text[h]=String.fromCharCode.apply(String,l.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,i=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*i,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.load=function(t,e,i){var n;return"function"==typeof e&&(i=e),(n=new XMLHttpRequest).open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var t;return t=new r(new Uint8Array(n.response||n.mozResponseArrayBuffer)),"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof i?i(t):void 0},n.send(null)},r.prototype.read=function(t){var e,i;for(i=[],e=0;0<=t?e<t:t<e;0<=t?++e:--e)i.push(this.data[this.pos++]);return i},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,i=new Uint8Array(this.width*this.height*e),r=0,n=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function o(o,a,s,h){var c,u,l,f,d,p,g,v,y,m,_,b,w,x,S,E,O,T,C,A,L,R=Math.ceil((n.width-o)/s),M=Math.ceil((n.height-a)/h),I=n.width==R&&n.height==M;for(x=e*R,b=I?i:new Uint8Array(x*M),p=t.length,u=w=0;w<M&&r<p;){switch(t[r++]){case 0:for(f=O=0;O<x;f=O+=1)b[u++]=t[r++];break;case 1:for(f=T=0;T<x;f=T+=1)c=t[r++],d=f<e?0:b[u-e],b[u++]=(c+d)%256;break;case 2:for(f=C=0;C<x;f=C+=1)c=t[r++],l=(f-f%e)/e,S=w&&b[(w-1)*x+l*e+f%e],b[u++]=(S+c)%256;break;case 3:for(f=A=0;A<x;f=A+=1)c=t[r++],l=(f-f%e)/e,d=f<e?0:b[u-e],S=w&&b[(w-1)*x+l*e+f%e],b[u++]=(c+Math.floor((d+S)/2))%256;break;case 4:for(f=L=0;L<x;f=L+=1)c=t[r++],l=(f-f%e)/e,d=f<e?0:b[u-e],0===w?S=E=0:(S=b[(w-1)*x+l*e+f%e],E=l&&b[(w-1)*x+(l-1)*e+f%e]),g=d+S-E,v=Math.abs(g-d),m=Math.abs(g-S),_=Math.abs(g-E),y=v<=m&&v<=_?d:m<=_?S:E,b[u++]=(c+y)%256;break;default:throw new Error("Invalid filter algorithm: "+t[r-1])}if(!I){var P=((a+w*h)*n.width+o)*e,N=w*x;for(f=0;f<R;f+=1){for(var F=0;F<e;F+=1)i[P++]=b[N++];P+=(s-1)*e}}w++}}return t=(t=new kt(t)).getBytes(),1==n.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),i},r.prototype.decodePalette=function(){var t,e,i,r,n,o,a,s,h;for(i=this.palette,o=this.transparency.indexed||[],n=new Uint8Array((o.length||0)+i.length),r=0,i.length,e=a=t=0,s=i.length;a<s;e=a+=3)n[r++]=i[e],n[r++]=i[e+1],n[r++]=i[e+2],n[r++]=null!=(h=o[t++])?h:255;return n},r.prototype.copyToImageData=function(t,e){var i,r,n,o,a,s,h,c,u,l,f;if(r=this.colors,u=null,i=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,i=!0),c=(n=t.data||t).length,a=u||e,o=s=0,1===r)for(;o<c;)h=u?4*e[o/4]:s,l=a[h++],n[o++]=l,n[o++]=l,n[o++]=l,n[o++]=i?a[h++]:255,s=h;else for(;o<c;)h=u?4*e[o/4]:s,n[o++]=a[h++],n[o++]=a[h++],n[o++]=a[h++],n[o++]=i?a[h++]:255,s=h},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{e=At.document.createElement("canvas"),i=e.getContext("2d")}catch(a){return-1}return t=function(t){var r;return i.width=t.width,i.height=t.height,i.clearRect(0,0,t.width,t.height),i.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r},r.prototype.decodeFrames=function(e){var i,r,n,o,a,s,h,c;if(this.animation){for(c=[],r=a=0,s=(h=this.animation.frames).length;a<s;r=++a)i=h[r],n=e.createImageData(i.width,i.height),o=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(n,o),i.imageData=n,c.push(i.image=t(n));return c}},r.prototype.renderFrame=function(t,e){var i,r,n;return i=(r=this.animation.frames)[e],n=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=n?n.disposeOp:void 0)?t.clearRect(n.xOffset,n.yOffset,n.width,n.height):2===(null!=n?n.disposeOp:void 0)&&t.putImageData(n.imageData,n.xOffset,n.yOffset),0===i.blendOp&&t.clearRect(i.xOffset,i.yOffset,i.width,i.height),t.drawImage(i.image,i.xOffset,i.yOffset)},r.prototype.animate=function(t){var e,i,r,n,o,a,s=this;return i=0,a=this.animation,n=a.numFrames,r=a.frames,o=a.numPlays,(e=function(){var a,h;if(a=i++%n,h=r[a],s.renderFrame(t,a),1<n&&i/n<o)return s.animation._timeout=setTimeout(e,h.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,i;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(i=e.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),e.putImageData(i,0,0))},r}(),At.PNG=Lt;var Ft=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,i=e?e.byteLength:0;if(t<i)return e;for(var r=512;r<t;)r<<=1;for(var n=new Uint8Array(r),o=0;o<i;++o)n[o]=e[o];return this.buffer=n},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var i=e+t;!this.eof&&this.bufferLength<i;)this.readBlock();var r=this.bufferLength;r<i&&(i=r)}else{for(;!this.eof;)this.readBlock();i=this.bufferLength}return this.pos=i,this.buffer.subarray(e,i)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,i){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,i)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),kt=function(){if("undefined"!=typeof Uint32Array){var t=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),r=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],n=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(a.prototype=Object.create(Ft.prototype)).getBits=function(t){for(var e,i=this.codeSize,r=this.codeBuf,n=this.bytes,a=this.bytesPos;i<t;)void 0===(e=n[a++])&&o("Bad encoding in flate stream"),r|=e<<i,i+=8;return e=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=i-=t,this.bytesPos=a,e},a.prototype.getCode=function(t){for(var e=t[0],i=t[1],r=this.codeSize,n=this.codeBuf,a=this.bytes,s=this.bytesPos;r<i;){var h;void 0===(h=a[s++])&&o("Bad encoding in flate stream"),n|=h<<r,r+=8}var c=e[n&(1<<i)-1],u=c>>16,l=65535&c;return(0==r||r<u||0==u)&&o("Bad encoding in flate stream"),this.codeBuf=n>>u,this.codeSize=r-u,this.bytesPos=s,l},a.prototype.generateHuffmanTable=function(t){for(var e=t.length,i=0,r=0;r<e;++r)t[r]>i&&(i=t[r]);for(var n=1<<i,o=new Uint32Array(n),a=1,s=0,h=2;a<=i;++a,s<<=1,h<<=1)for(var c=0;c<e;++c)if(t[c]==a){var u=0,l=s;for(r=0;r<a;++r)u=u<<1|1&l,l>>=1;for(r=u;r<n;r+=h)o[r]=a<<16|c;++s}return[o,i]},a.prototype.readBlock=function(){function a(t,e,i,r,n){for(var o=t.getBits(i)+r;0<o--;)e[p++]=n}var s=this.getBits(3);if(1&s&&(this.eof=!0),0!=(s>>=1)){var h,c;if(1==s)h=r,c=n;else if(2==s){for(var u=this.getBits(5)+257,l=this.getBits(5)+1,f=this.getBits(4)+4,d=Array(t.length),p=0;p<f;)d[t[p++]]=this.getBits(3);for(var g=this.generateHuffmanTable(d),v=0,y=(p=0,u+l),m=new Array(y);p<y;){var _=this.getCode(g);16==_?a(this,m,2,3,v):17==_?a(this,m,3,3,v=0):18==_?a(this,m,7,11,v=0):m[p++]=v=_}h=this.generateHuffmanTable(m.slice(0,u)),c=this.generateHuffmanTable(m.slice(u,y))}else o("Unknown block type in flate stream");for(var b=(I=this.buffer)?I.length:0,w=this.bufferLength;;){var x=this.getCode(h);if(x<256)b<=w+1&&(b=(I=this.ensureBuffer(w+1)).length),I[w++]=x;else{if(256==x)return void(this.bufferLength=w);var S=(x=e[x-=257])>>16;0<S&&(S=this.getBits(S)),v=(65535&x)+S,x=this.getCode(c),0<(S=(x=i[x])>>16)&&(S=this.getBits(S));var E=(65535&x)+S;b<=w+v&&(b=(I=this.ensureBuffer(w+v)).length);for(var O=0;O<v;++O,++w)I[w]=I[w-E]}}}else{var T,C=this.bytes,A=this.bytesPos;void 0===(T=C[A++])&&o("Bad block header in flate stream");var L=T;void 0===(T=C[A++])&&o("Bad block header in flate stream"),L|=T<<8,void 0===(T=C[A++])&&o("Bad block header in flate stream");var R=T;void 0===(T=C[A++])&&o("Bad block header in flate stream"),(R|=T<<8)!=(65535&~L)&&o("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var M=this.bufferLength,I=this.ensureBuffer(M+L),P=M+L;this.bufferLength=P;for(var N=M;N<P;++N){if(void 0===(T=C[A++])){this.eof=!0;break}I[N]=T}this.bytesPos=A}},a}function o(t){throw new Error(t)}function a(t){var e=0,i=t[e++],r=t[e++];-1!=i&&-1!=r||o("Invalid header in flate stream"),8!=(15&i)&&o("Unknown compression method in flate stream"),((i<<8)+r)%31!=0&&o("Bad FCHECK in flate stream"),32&r&&o("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Ft.call(this)}}();window.tmp=kt}));try{t.exports=jsPDF}catch(a){}}).call(this,i("c8ba"))},bd30:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=Math.PI/180;function r(){return"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}var n=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var i=t.indexOf("trident/");if(i>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)};e._parseUA=function(t){var e=t.toLowerCase(),i=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:i[1]||"",version:i[2]||"0",isIE:n(e),mobile:r,ieMobile:o}},e.glob="undefined"!==typeof t?t:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"7.2.1",isBrowser:r(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*i:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva["DD"].isDragging},isDragReady:function(){return!!e.Konva["DD"].node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}}).call(this,i("c8ba"))},bd47:function(t,e,i){var r=i("255a"),n=i("c3fa"),o=i("7e33"),a=i("a909")("src"),s=i("c811"),h="toString",c=(""+s).split(h);i("a06f").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,i,s){var h="function"==typeof i;h&&(o(i,"name")||n(i,"name",e)),t[e]!==i&&(h&&(o(i,a)||n(i,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=i:s?t[e]?t[e]=i:n(t,e,i):(delete t[e],n(t,e,i)))})(Function.prototype,h,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},bd48:function(t,e,i){"use strict";var r=i("0d63"),n=i("ceb6"),o=i("d8b2"),a=i("58d1"),s=[].lastIndexOf,h=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(h||!i("60a1")(s)),"Array",{lastIndexOf:function(t){if(h)return s.apply(this,arguments)||0;var e=n(this),i=a(e.length),r=i-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=i+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},bdd5:function(t,e,i){var r=i("0d63"),n=i("5051")(!0);r(r.S,"Object",{entries:function(t){return n(t)}})},bded:function(t,e,i){var r=i("a909")("meta"),n=i("cdf9"),o=i("7e33"),a=i("0f26").f,s=0,h=Object.isExtensible||function(){return!0},c=!i("b460")((function(){return h(Object.preventExtensions({}))})),u=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!h(t))return"F";if(!e)return"E";u(t)}return t[r].i},f=function(t,e){if(!o(t,r)){if(!h(t))return!0;if(!e)return!1;u(t)}return t[r].w},d=function(t){return c&&p.NEED&&h(t)&&!o(t,r)&&u(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:f,onFreeze:d}},be21:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i("41ec"),n=i("acdf"),o=1/0,a=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};a.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(n["b"])(this.queuedElements_)},a.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(i);return delete this.queuedElements_[r],i},a.prototype.enqueue=function(t){Object(r["a"])(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},a.prototype.getCount=function(){return this.elements_.length},a.prototype.getLeftChildIndex_=function(t){return 2*t+1},a.prototype.getRightChildIndex_=function(t){return 2*t+2},a.prototype.getParentIndex_=function(t){return t-1>>1},a.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},a.prototype.isEmpty=function(){return 0===this.elements_.length},a.prototype.isKeyQueued=function(t){return t in this.queuedElements_},a.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},a.prototype.siftUp_=function(t){var e=this.elements_,i=this.priorities_,r=e.length,n=e[t],o=i[t],a=t;while(t<r>>1){var s=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),c=h<r&&i[h]<i[s]?h:s;e[t]=e[c],i[t]=i[c],t=c}e[t]=n,i[t]=o,this.siftDown_(a,t)},a.prototype.siftDown_=function(t,e){var i=this.elements_,r=this.priorities_,n=i[e],o=r[e];while(e>t){var a=this.getParentIndex_(e);if(!(r[a]>o))break;i[e]=i[a],r[e]=r[a],e=a}i[e]=n,r[e]=o},a.prototype.reprioritize=function(){var t,e,i,r=this.priorityFunction_,n=this.elements_,a=this.priorities_,s=0,h=n.length;for(e=0;e<h;++e)t=n[e],i=r(t),i==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=i,n[s++]=t);n.length=s,a.length=s,this.heapify_()},e["b"]=a},be44:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("bd30"),h=function(t){function e(i){var r=t.call(this,i)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var n=0;n<r.dataArray.length;++n)r.pathLength+=r.dataArray[n].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var i=!1,r=0;r<e.length;r++){var n=e[r].command,o=e[r].points;switch(n){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],h=o[2],c=o[3],u=o[4],l=o[5],f=o[6],d=o[7],p=h>c?h:c,g=h>c?1:h/c,v=h>c?c/h:1;t.translate(a,s),t.rotate(f),t.scale(g,v),t.arc(0,0,p,u,u+l,1-d),t.scale(1/g,1/v),t.rotate(-f),t.translate(-a,-s);break;case"z":i=!0,t.closePath();break}}i||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(i){if("A"===i.command){var r=i.points[4],n=i.points[5],o=i.points[4]+n,a=Math.PI/180;if(Math.abs(r-o)<a&&(a=Math.abs(r-o)),n<0)for(var s=r-a;s>o;s-=a){var h=e.getPointOnEllipticalArc(i.points[0],i.points[1],i.points[2],i.points[3],s,0);t.push(h.x,h.y)}else for(s=r+a;s<o;s+=a){h=e.getPointOnEllipticalArc(i.points[0],i.points[1],i.points[2],i.points[3],s,0);t.push(h.x,h.y)}}else if("C"===i.command)for(s=0;s<=1;s+=.01){h=e.getPointOnCubicBezier(s,i.start.x,i.start.y,i.points[0],i.points[1],i.points[2],i.points[3],i.points[4],i.points[5]);t.push(h.x,h.y)}else t=t.concat(i.points)}));for(var i,r,n=t[0],o=t[0],a=t[1],s=t[1],h=0;h<t.length/2;h++)i=t[2*h],r=t[2*h+1],isNaN(i)||(n=Math.min(n,i),o=Math.max(o,i)),isNaN(r)||(a=Math.min(a,r),s=Math.max(s,r));return{x:Math.round(n),y:Math.round(a),width:Math.round(o-n),height:Math.round(s-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var i,r=0,n=this.dataArray.length;if(!n)return null;while(r<n&&t>this.dataArray[r].pathLength)t-=this.dataArray[r].pathLength,++r;if(r===n)return i=this.dataArray[r-1].points.slice(-2),{x:i[0],y:i[1]};if(t<.01)return i=this.dataArray[r].points.slice(0,2),{x:i[0],y:i[1]};var o=this.dataArray[r],a=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var s=a[0],h=a[1],c=a[2],u=a[3],l=a[4],f=a[5],d=a[6];return l+=f*t/o.pathLength,e.getPointOnEllipticalArc(s,h,c,u,l,d)}return null},e.getLineLength=function(t,e,i,r){return Math.sqrt((i-t)*(i-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,i,r,n,o,a){void 0===o&&(o=e),void 0===a&&(a=i);var s=(n-i)/(r-e+1e-8),h=Math.sqrt(t*t/(1+s*s));r<e&&(h*=-1);var c,u=s*h;if(r===e)c={x:o,y:a+u};else if((a-i)/(o-e+1e-8)===s)c={x:o+h,y:a+u};else{var l,f,d=this.getLineLength(e,i,r,n),p=(o-e)*(r-e)+(a-i)*(n-i);p/=d*d,l=e+p*(r-e),f=i+p*(n-i);var g=this.getLineLength(o,a,l,f),v=Math.sqrt(t*t-g*g);h=Math.sqrt(v*v/(1+s*s)),r<e&&(h*=-1),u=s*h,c={x:l+h,y:f+u}}return c},e.getPointOnCubicBezier=function(t,e,i,r,n,o,a,s,h){function c(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function l(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}var d=s*c(t)+o*u(t)+r*l(t)+e*f(t),p=h*c(t)+a*u(t)+n*l(t)+i*f(t);return{x:d,y:p}},e.getPointOnQuadraticBezier=function(t,e,i,r,n,o,a){function s(t){return t*t}function h(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}var u=o*s(t)+r*h(t)+e*c(t),l=a*s(t)+n*h(t)+i*c(t);return{x:u,y:l}},e.getPointOnEllipticalArc=function(t,e,i,r,n,o){var a=Math.cos(o),s=Math.sin(o),h={x:i*Math.cos(n),y:r*Math.sin(n)};return{x:t+(h.x*a-h.y*s),y:e+(h.x*s+h.y*a)}},e.parsePathData=function(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<i.length;r++)e=e.replace(new RegExp(i[r],"g"),"|"+i[r]);var n,o=e.split("|"),a=[],s=[],h=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var l=o[r],f=l.charAt(0);l=l.slice(1),s.length=0;while(n=u.exec(l))s.push(n[0]);for(var d=[],p=0,g=s.length;p<g;p++){var v=parseFloat(s[p]);isNaN(v)?d.push(0):d.push(v)}while(d.length>0){if(isNaN(d[0]))break;var y,m,_,b,w,x,S,E,O,T,C=null,A=[],L=h,R=c;switch(f){case"l":h+=d.shift(),c+=d.shift(),C="L",A.push(h,c);break;case"L":h=d.shift(),c=d.shift(),A.push(h,c);break;case"m":var M=d.shift(),I=d.shift();if(h+=M,c+=I,C="M",a.length>2&&"z"===a[a.length-1].command)for(var P=a.length-2;P>=0;P--)if("M"===a[P].command){h=a[P].points[0]+M,c=a[P].points[1]+I;break}A.push(h,c),f="l";break;case"M":h=d.shift(),c=d.shift(),C="M",A.push(h,c),f="L";break;case"h":h+=d.shift(),C="L",A.push(h,c);break;case"H":h=d.shift(),C="L",A.push(h,c);break;case"v":c+=d.shift(),C="L",A.push(h,c);break;case"V":c=d.shift(),C="L",A.push(h,c);break;case"C":A.push(d.shift(),d.shift(),d.shift(),d.shift()),h=d.shift(),c=d.shift(),A.push(h,c);break;case"c":A.push(h+d.shift(),c+d.shift(),h+d.shift(),c+d.shift()),h+=d.shift(),c+=d.shift(),C="C",A.push(h,c);break;case"S":m=h,_=c,y=a[a.length-1],"C"===y.command&&(m=h+(h-y.points[2]),_=c+(c-y.points[3])),A.push(m,_,d.shift(),d.shift()),h=d.shift(),c=d.shift(),C="C",A.push(h,c);break;case"s":m=h,_=c,y=a[a.length-1],"C"===y.command&&(m=h+(h-y.points[2]),_=c+(c-y.points[3])),A.push(m,_,h+d.shift(),c+d.shift()),h+=d.shift(),c+=d.shift(),C="C",A.push(h,c);break;case"Q":A.push(d.shift(),d.shift()),h=d.shift(),c=d.shift(),A.push(h,c);break;case"q":A.push(h+d.shift(),c+d.shift()),h+=d.shift(),c+=d.shift(),C="Q",A.push(h,c);break;case"T":m=h,_=c,y=a[a.length-1],"Q"===y.command&&(m=h+(h-y.points[0]),_=c+(c-y.points[1])),h=d.shift(),c=d.shift(),C="Q",A.push(m,_,h,c);break;case"t":m=h,_=c,y=a[a.length-1],"Q"===y.command&&(m=h+(h-y.points[0]),_=c+(c-y.points[1])),h+=d.shift(),c+=d.shift(),C="Q",A.push(m,_,h,c);break;case"A":b=d.shift(),w=d.shift(),x=d.shift(),S=d.shift(),E=d.shift(),O=h,T=c,h=d.shift(),c=d.shift(),C="A",A=this.convertEndpointToCenterParameterization(O,T,h,c,S,E,b,w,x);break;case"a":b=d.shift(),w=d.shift(),x=d.shift(),S=d.shift(),E=d.shift(),O=h,T=c,h+=d.shift(),c+=d.shift(),C="A",A=this.convertEndpointToCenterParameterization(O,T,h,c,S,E,b,w,x);break}a.push({command:C||f,points:A,start:{x:L,y:R},pathLength:this.calcLength(L,R,C||f,A)})}"z"!==f&&"Z"!==f||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},e.calcLength=function(t,i,r,n){var o,a,s,h,c=e;switch(r){case"L":return c.getLineLength(t,i,n[0],n[1]);case"C":for(o=0,a=c.getPointOnCubicBezier(0,t,i,n[0],n[1],n[2],n[3],n[4],n[5]),h=.01;h<=1;h+=.01)s=c.getPointOnCubicBezier(h,t,i,n[0],n[1],n[2],n[3],n[4],n[5]),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"Q":for(o=0,a=c.getPointOnQuadraticBezier(0,t,i,n[0],n[1],n[2],n[3]),h=.01;h<=1;h+=.01)s=c.getPointOnQuadraticBezier(h,t,i,n[0],n[1],n[2],n[3]),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"A":o=0;var u=n[4],l=n[5],f=n[4]+l,d=Math.PI/180;if(Math.abs(u-f)<d&&(d=Math.abs(u-f)),a=c.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],u,0),l<0)for(h=u-d;h>f;h-=d)s=c.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(h=u+d;h<f;h+=d)s=c.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],h,0),o+=c.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=c.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],f,0),o+=c.getLineLength(a.x,a.y,s.x,s.y),o}return 0},e.convertEndpointToCenterParameterization=function(t,e,i,r,n,o,a,s,h){var c=h*(Math.PI/180),u=Math.cos(c)*(t-i)/2+Math.sin(c)*(e-r)/2,l=-1*Math.sin(c)*(t-i)/2+Math.cos(c)*(e-r)/2,f=u*u/(a*a)+l*l/(s*s);f>1&&(a*=Math.sqrt(f),s*=Math.sqrt(f));var d=Math.sqrt((a*a*(s*s)-a*a*(l*l)-s*s*(u*u))/(a*a*(l*l)+s*s*(u*u)));n===o&&(d*=-1),isNaN(d)&&(d=0);var p=d*a*l/s,g=d*-s*u/a,v=(t+i)/2+Math.cos(c)*p-Math.sin(c)*g,y=(e+r)/2+Math.sin(c)*p+Math.cos(c)*g,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},w=b([1,0],[(u-p)/a,(l-g)/s]),x=[(u-p)/a,(l-g)/s],S=[(-1*u-p)/a,(-1*l-g)/s],E=b(x,S);return _(x,S)<=-1&&(E=Math.PI),_(x,S)>=1&&(E=0),0===o&&E>0&&(E-=2*Math.PI),1===o&&E<0&&(E+=2*Math.PI),[v,y,a,s,w,E,c,o]},e}(a.Shape);e.Path=h,h.prototype.className="Path",h.prototype._attrsAffectingSize=["data"],s._registerNode(h),o.Factory.addGetterSetter(h,"data"),n.Collection.mapMethods(h)},be58:function(t,e,i){"use strict";var r=i("0d63"),n=i("a06f"),o=i("255a"),a=i("0a7d"),s=i("c50d");r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,n.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then((function(){return i}))}:t,i?function(i){return s(e,t()).then((function(){throw i}))}:t)}})},bef6:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return n}));var r=.5,n=!0},bf07:function(t,e,i){"use strict";(function(e){var r=i("0a36").EventEmitter,n=i("1499"),o=i("4035"),a=i("a87f"),s=e.XMLHttpRequest,h=function(){};function c(t,e,i,n){h(t,e);var o=this;r.call(this),setTimeout((function(){o._start(t,e,i,n)}),0)}n(c,r),c.prototype._start=function(t,e,i,r){var n=this;try{this.xhr=new s}catch(l){}if(!this.xhr)return h("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){h("unload cleanup"),n._cleanup(!0)}));try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){h("xhr timeout"),n.emit("finish",0,""),n._cleanup(!1)})}catch(f){return h("exception",f),this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(h("withCredentials"),this.xhr.withCredentials=!0),r&&r.headers)for(var u in r.headers)this.xhr.setRequestHeader(u,r.headers[u]);this.xhr.onreadystatechange=function(){if(n.xhr){var t,e,i=n.xhr;switch(h("readyState",i.readyState),i.readyState){case 3:try{e=i.status,t=i.responseText}catch(f){}h("status",e),1223===e&&(e=204),200===e&&t&&t.length>0&&(h("chunk"),n.emit("chunk",e,t));break;case 4:e=i.status,h("status",e),1223===e&&(e=204),12005!==e&&12029!==e||(e=0),h("finish",e,i.responseText),n.emit("finish",e,i.responseText),n._cleanup(!1);break}}};try{n.xhr.send(i)}catch(f){n.emit("finish",0,""),n._cleanup(!1)}},c.prototype._cleanup=function(t){if(h("cleanup"),this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){h("close"),this._cleanup(!0)},c.enabled=!!s;var u=["Active"].concat("Object").join("X");!c.enabled&&u in e&&(h("overriding xmlhttprequest"),s=function(){try{return new e[u]("Microsoft.XMLHTTP")}catch(t){return null}},c.enabled=!!new s);var l=!1;try{l="withCredentials"in new s}catch(f){}c.supportsCORS=l,t.exports=c}).call(this,i("c8ba"))},bf45:function(t,e,i){i("933e")("Int32",4,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},c029:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("a0a2"),h=i("bd30"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(a.Shape);e.Ellipse=c,c.prototype.className="Ellipse",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radiusX","radiusY"],h._registerNode(c),o.Factory.addComponentsGetterSetter(c,"radius",["x","y"]),o.Factory.addGetterSetter(c,"radiusX",0,s.getNumberValidator()),o.Factory.addGetterSetter(c,"radiusY",0,s.getNumberValidator()),n.Collection.mapMethods(c)},c044:function(t,e,i){"use strict";i("c7c1")("italics",(function(t){return function(){return t(this,"i","","")}}))},c132:function(t,e){var i=!0;try{new ImageData(10,10)}catch(o){i=!1}var r=document.createElement("canvas").getContext("2d");function n(t,e,n){if(i)return new ImageData(t,e,n);var o=r.createImageData(e,n);return o.data.set(t),o}e.newImageData=n},c33b:function(t,e,i){"use strict";var r=i("6843");t.exports=function(t,e,i){return r.forEach(i,(function(i){t=i(t,e)})),t}},c33e:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("bd30"),n=function(){function t(){}return t.toCollection=function(e){var i,r=new t,n=e.length;for(i=0;i<n;i++)r.push(e[i]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,i=this.length,r=[].slice.call(arguments);for(t=0;t<i;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var i=e.prototype;for(var r in i)t._mapMethod(r)},t}();e.Collection=n,n.prototype=[],n.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},n.prototype.toArray=function(){var t,e=[],i=this.length;for(t=0;t<i;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.reset=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0},t.prototype.copy=function(){return new t(this.m)},t.prototype.copyInto=function(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,o=this.m[0]*-i+this.m[2]*e,a=this.m[1]*-i+this.m[3]*e;return this.m[0]=r,this.m[1]=n,this.m[2]=o,this.m[3]=a,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var i=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,n=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=r,this.m[2]=n,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=o,this.m[5]=a,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,r=-this.m[2]*t,n=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=r,this.m[3]=n,this.m[4]=o,this.m[5]=a,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var i=this.m[0],r=this.m[1],n=this.m[2],o=this.m[3],a=this.m[4],s=this.m[5],h=(i*(e-s)-r*(t-a))/(i*o-r*n),c=(t-a-n*h)/i;return this.translate(c,h)},t.prototype.decompose=function(){var t=this.m[0],i=this.m[1],r=this.m[2],n=this.m[3],o=this.m[4],a=this.m[5],s=t*n-i*r,h={x:o,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=i){var c=Math.sqrt(t*t+i*i);h.rotation=i>0?Math.acos(t/c):-Math.acos(t/c),h.scaleX=c,h.scaleY=s/c,h.skewX=(t*r+i*n)/s,h.skewY=0}else if(0!=r||0!=n){var u=Math.sqrt(r*r+n*n);h.rotation=Math.PI/2-(n>0?Math.acos(-r/u):-Math.acos(r/u)),h.scaleX=s/u,h.scaleY=u,h.skewX=0,h.skewY=(t*r+i*n)/s}return h.rotation=e.Util._getRotation(h.rotation),h},t}();e.Transform=o;var a="[object Array]",s="[object Number]",h="[object String]",c="[object Boolean]",u=Math.PI/180,l=180/Math.PI,f="#",d="",p="0",g="Konva warning: ",v="Konva error: ",y="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},_=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,b=[];e.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return Object.prototype.toString.call(t)===a},_isNumber:function(t){return Object.prototype.toString.call(t)===s&&!isNaN(t)&&isFinite(t)},_isString:function(t){return Object.prototype.toString.call(t)===h},_isBoolean:function(t){return Object.prototype.toString.call(t)===c},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!==typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){b.push(t),1===b.length&&requestAnimationFrame((function(){var t=b;b=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){while(t=t.parentNode)if(t==document)return!0;return!1},_simplifyArray:function(t){var i,r,n=[],o=t.length,a=e.Util;for(i=0;i<o;i++)r=t[i],a._isNumber(r)?r=Math.round(1e3*r)/1e3:a._isString(r)||(r=r.toString()),n.push(r);return n},_urlToImage:function(t,e){var i=new r.glob.Image;i.onload=function(){e(i)},i.src=t},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(f,d);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){var t=(16777215*Math.random()<<0).toString(16);while(t.length<6)t=p+t;return f+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in m?(e=m[t],{r:e[0],g:e[1],b:e[2]}):t[0]===f?this._hexToRgb(t.substring(1)):t.substr(0,4)===y?(e=_.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=m[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),i=(e[0],e.slice(1)),r=Number(i[0])/360,n=Number(i[1])/100,o=Number(i[2])/100,a=void 0,s=void 0,h=void 0;if(0===n)return h=255*o,{r:Math.round(h),g:Math.round(h),b:Math.round(h),a:1};a=o<.5?o*(1+n):o+n-o*n;for(var c=2*o-a,u=[0,0,0],l=0;l<3;l++)s=r+1/3*-(l-1),s<0&&s++,s>1&&s--,h=6*s<1?c+6*(a-c)*s:2*s<1?a:3*s<2?c+(a-c)*(2/3-s)*6:c,u[l]=255*h;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var i in t)this._isPlainObject(t[i])?e[i]=this.cloneObject(t[i]):this._isArray(t[i])?e[i]=this.cloneArray(t[i]):e[i]=t[i];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*u},_radToDeg:function(t){return t*l},_getRotation:function(t){return r.Konva.angleDeg?e.Util._radToDeg(t):t},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(v+t)},error:function(t){console.error(v+t)},warn:function(t){r.Konva.showWarnings&&console.warn(g+t)},extend:function(t,e){function i(){this.constructor=t}i.prototype=e.prototype;var r=t.prototype;for(var n in t.prototype=new i,r)r.hasOwnProperty(n)&&(t.prototype[n]=r[n]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,i,r,n,o,a){var s=Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2)),h=Math.sqrt(Math.pow(n-i,2)+Math.pow(o-r,2)),c=a*s/(s+h),u=a*h/(s+h),l=i-c*(n-t),f=r-c*(o-e),d=i+u*(n-t),p=r+u*(o-e);return[l,f,d,p]},_expandPoints:function(t,i){var r,n,o=t.length,a=[];for(r=2;r<o-2;r+=2)n=e.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],i),a.push(n[0]),a.push(n[1]),a.push(t[r]),a.push(t[r+1]),a.push(n[2]),a.push(n[3]);return a},each:function(t,e){for(var i in t)e(i,t[i])},_inRange:function(t,e,i){return e<=t&&t<i},_getProjectionToSegment:function(t,e,i,r,n,o){var a,s,h,c=(t-i)*(t-i)+(e-r)*(e-r);if(0==c)a=t,s=e,h=(n-i)*(n-i)+(o-r)*(o-r);else{var u=((n-t)*(i-t)+(o-e)*(r-e))/c;u<0?(a=t,s=e,h=(t-n)*(t-n)+(e-o)*(e-o)):u>1?(a=i,s=r,h=(i-n)*(i-n)+(r-o)*(r-o)):(a=t+u*(i-t),s=e+u*(r-e),h=(a-n)*(a-n)+(s-o)*(s-o))}return[a,s,h]},_getProjectionToLine:function(t,i,r){var n=e.Util.cloneObject(t),o=Number.MAX_VALUE;return i.forEach((function(a,s){if(r||s!==i.length-1){var h=i[(s+1)%i.length],c=e.Util._getProjectionToSegment(a.x,a.y,h.x,h.y,t.x,t.y),u=c[0],l=c[1],f=c[2];f<o&&(n.x=u,n.y=l,o=f)}})),n},_prepareArrayForTween:function(t,i,r){var n,o=[],a=[];if(t.length>i.length){var s=i;i=t,t=s}for(n=0;n<t.length;n+=2)o.push({x:t[n],y:t[n+1]});for(n=0;n<i.length;n+=2)a.push({x:i[n],y:i[n+1]});var h=[];return a.forEach((function(t){var i=e.Util._getProjectionToLine(t,o,r);h.push(i.x),h.push(i.y)})),h},_prepareToStringify:function(t){var i;for(var r in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(r)&&t[r]&&"object"==typeof t[r])if(i=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||e.Util._isElement(t[r])){if(!i.configurable)return null;delete t[r]}else if(null===e.Util._prepareToStringify(t[r])){if(!i.configurable)return null;delete t[r]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var i in e)t[i]=e[i];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},c345:function(t,e,i){"use strict";var r=i("c532"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),i=r.trim(t.substr(o+1)),e){if(a[e]&&n.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([i]):a[e]?a[e]+", "+i:i}})),a):a}},c3fa:function(t,e,i){var r=i("0f26"),n=i("154b");t.exports=i("6739")?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},c401:function(t,e,i){"use strict";var r=i("c532");t.exports=function(t,e,i){return r.forEach(i,(function(i){t=i(t,e)})),t}},c443:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.RGBA=function(t){var e,i,r=t.data,n=r.length,o=this.red(),a=this.green(),s=this.blue(),h=this.alpha();for(e=0;e<n;e+=4)i=1-h,r[e]=o*h+r[e]*i,r[e+1]=a*h+r[e+1]*i,r[e+2]=s*h+r[e+2]*i},r.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(n.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},c484:function(t,e,i){"use strict";i.r(e),i.d(e,"circular",(function(){return x})),i.d(e,"fromExtent",(function(){return S})),i.d(e,"fromCircle",(function(){return E})),i.d(e,"makeRegular",(function(){return O}));var r=i("6646"),n=i("3d22"),o=i("34f5"),a=i("cc7a"),s=i("73ed"),h=i("9eff"),c=i("1ea9"),u=i("6ae4"),l=i("0985"),f=i("9b05"),d=i("e620"),p=i("d5d0"),g=i("c5e9"),v=i("7b42"),y=i("7f06"),m=i("ae89"),_=i("caa0"),b=i("136c"),w=function(t){function e(e,i,r){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==i&&r?(this.setFlatCoordinates(i,e),this.ends_=r):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(n["closestSquaredDistanceXY"])(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(f["a"])(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(f["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,r))},e.prototype.containsXY=function(t,e){return Object(d["c"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(l["b"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(m["d"])(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(g["b"])(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(n["getCenter"])(this.getExtent());this.flatInteriorPoint_=Object(v["a"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new h["a"](this.getFlatInteriorPoint(),o["a"].XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new s["a"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,r=[],n=0,o=0,a=i.length;o<a;++o){var h=i[o],c=new s["a"](e.slice(n,h),t);r.push(c),n=h}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(m["b"])(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(m["d"])(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=Object(_["c"])(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,r),new e(i,o["a"].XY,r)},e.prototype.getType=function(){return a["default"].POLYGON},e.prototype.intersectsExtent=function(t){return Object(y["c"])(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(p["c"])(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(c["a"]);function x(t,e,i,n){for(var a=i||32,s=[],h=0;h<a;++h)Object(r["c"])(s,Object(u["offset"])(t,e,2*Math.PI*h/a,n));return s.push(s[0],s[1]),new w(s,o["a"].XY,[s.length])}function S(t){var e=t[0],i=t[1],r=t[2],n=t[3],a=[e,i,e,n,r,n,r,i,e,i];return new w(a,o["a"].XY,[a.length])}function E(t,e,i){for(var r=e||32,n=t.getStride(),o=t.getLayout(),a=t.getCenter(),s=n*(r+1),h=new Array(s),c=0;c<s;c+=n){h[c]=0,h[c+1]=0;for(var u=2;u<n;u++)h[c+u]=a[u]}var l=[h.length],f=new w(h,o,l);return O(f,a,t.getRadius(),i),f}function O(t,e,i,r){for(var n=t.getFlatCoordinates(),o=t.getStride(),a=n.length/o-1,s=r||0,h=0;h<=a;++h){var c=h*o,u=s+2*Object(b["d"])(h,a)*Math.PI/a;n[c]=e[0]+i*Math.cos(u),n[c+1]=e[1]+i*Math.sin(u)}t.changed()}e["default"]=w},c491:function(t,e,i){"use strict";var r=i("37ff"),n=i("51ac"),o=i("58d1");t.exports=[].copyWithin||function(t,e){var i=r(this),a=o(i.length),s=n(t,a),h=n(e,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:n(c,a))-h,a-s),l=1;h<s&&s<h+u&&(l=-1,h+=u-1,s+=u-1);while(u-- >0)h in i?i[s]=i[h]:delete i[s],s+=l,h+=l;return i}},c4d3:function(t,e,i){var r=i("0d63"),n=i("30c9");n&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){n.check(t,e);try{return n.set(t,e),!0}catch(i){return!1}}})},c50d:function(t,e,i){var r=i("42ee"),n=i("cdf9"),o=i("978e");t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=o.f(t),a=i.resolve;return a(e),i.promise}},c532:function(t,e,i){"use strict";var r=i("1d2b"),n=Object.prototype.toString;function o(t){return"[object Array]"===n.call(t)}function a(t){return"undefined"===typeof t}function s(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function h(t){return"[object ArrayBuffer]"===n.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function l(t){return"string"===typeof t}function f(t){return"number"===typeof t}function d(t){return null!==t&&"object"===typeof t}function p(t){return"[object Date]"===n.call(t)}function g(t){return"[object File]"===n.call(t)}function v(t){return"[object Blob]"===n.call(t)}function y(t){return"[object Function]"===n.call(t)}function m(t){return d(t)&&y(t.pipe)}function _(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function b(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function S(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=S(t[i],e):t[i]=e}for(var i=0,r=arguments.length;i<r;i++)x(arguments[i],e);return t}function E(){var t={};function e(e,i){"object"===typeof t[i]&&"object"===typeof e?t[i]=E(t[i],e):t[i]="object"===typeof e?E({},e):e}for(var i=0,r=arguments.length;i<r;i++)x(arguments[i],e);return t}function O(t,e,i){return x(e,(function(e,n){t[n]=i&&"function"===typeof e?r(e,i):e})),t}t.exports={isArray:o,isArrayBuffer:h,isBuffer:s,isFormData:c,isArrayBufferView:u,isString:l,isNumber:f,isObject:d,isUndefined:a,isDate:p,isFile:g,isBlob:v,isFunction:y,isStream:m,isURLSearchParams:_,isStandardBrowserEnv:w,forEach:x,merge:S,deepMerge:E,extend:O,trim:b}},c5e9:function(t,e,i){"use strict";function r(t,e,i,r,n){for(var o=void 0!==n?n:[],a=0,s=e;s<i;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function n(t,e,i,n,o){for(var a=void 0!==o?o:[],s=0,h=0,c=i.length;h<c;++h){var u=i[h];a[s++]=r(t,e,u,n,a[s]),e=u}return a.length=s,a}function o(t,e,i,r,o){for(var a=void 0!==o?o:[],s=0,h=0,c=i.length;h<c;++h){var u=i[h];a[s++]=n(t,e,u,r,a[s]),e=u[u.length-1]}return a.length=s,a}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o}))},c5e9b:function(t,e,i){"use strict";var r=i("7b84"),n=function(t){function e(e,i,r,n,o){t.call(this,e,i,o),this.originalEvent=r,this.pixel=i.getEventPixel(r),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==n&&n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(r["a"]);e["a"]=n},c63d:function(t,e,i){i("8820"),t.exports=i("a06f").Object.getOwnPropertyDescriptors},c669:function(t,e,i){"use strict";var r=i("42ee");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},c6a1:function(t,e,i){var r=i("0d63");r(r.S,"Object",{create:i("af33")})},c750:function(t,e,i){var r=i("0d63"),n=i("ff35");r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},c768:function(t,e,i){"use strict";i.r(e);var r=i("fd21"),n=i("9cc9"),o=i("461e"),a=i("0acf"),s=i("9fa2"),h=i("41ec"),c=i("a273"),u=i("eee0"),l=i("3d22"),f=i("d7c4"),d=i("acdf"),p=i("a7f3"),g={LAYERS:"layers"},v=function(t){function e(e){var i=e||{},r=Object(d["a"])({},i);delete r.layers;var o=i.layers;t.call(this,r),this.layersListenerKeys_=[],this.listenerKeys_={},Object(c["listen"])(this,Object(a["getChangeEventType"])(g.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new n["default"](o.slice(),{unique:!0}):Object(h["a"])("function"===typeof o.getArray,43):o=new n["default"](void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(c["unlistenByKey"]),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(c["listen"])(t,o["a"].ADD,this.handleLayersAdd_,this),Object(c["listen"])(t,o["a"].REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(c["unlistenByKey"]);Object(d["b"])(this.listenerKeys_);for(var i=t.getArray(),n=0,a=i.length;n<a;n++){var h=i[n];this.listenerKeys_[Object(r["c"])(h)]=[Object(c["listen"])(h,s["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(c["listen"])(h,u["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(r["c"])(e)]=[Object(c["listen"])(e,s["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(c["listen"])(e,u["default"].CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(r["c"])(e);this.listenerKeys_[i].forEach(c["unlistenByKey"]),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(g.LAYERS)},e.prototype.setLayers=function(t){this.set(g.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var r=this.getLayerState(),n=i,o=e.length;n<o;n++){var a=e[n];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),void 0!==r.extent&&(void 0!==a.extent?a.extent=Object(l["getIntersection"])(a.extent,r.extent):a.extent=r.extent)}return e},e.prototype.getSourceState=function(){return p["a"].READY},e}(f["a"]);e["default"]=v},c7a3:function(t,e,i){"use strict";var r=i("0f26"),n=i("154b");t.exports=function(t,e,i){e in t?r.f(t,e,n(0,i)):t[e]=i}},c7c1:function(t,e,i){var r=i("0d63"),n=i("b460"),o=i("6744"),a=/"/g,s=function(t,e,i,r){var n=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+n+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),r(r.P+r.F*n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}},c811:function(t,e,i){t.exports=i("94e4")("native-function-to-string",Function.toString)},c831:function(t,e,i){var r=i("94e4")("keys"),n=i("a909");t.exports=function(t){return r[t]||(r[t]=n(t))}},c8a3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("bd30"),n=function(){return r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()}}(),o=function(){function t(e,i){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:n(),frameRate:0},this.func=e,this.setLayers(i)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,i=this.layers,r=i.length;for(e=0;e<r;e++)if(i[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,i=t,r=i.animations,n=r.length;for(e=0;e<n;e++)if(r[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=n(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,i=t.id,r=this.animations,n=r.length;for(e=0;e<n;e++)if(r[e].id===i){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,i,r,o,a,s,h,c,u={},l=this.animations;for(r=0;r<l.length;r++)if(t=l[r],e=t.layers,i=t.func,t._updateFrameObject(n()),a=e.length,c=!i||!1!==i.call(t,t.frame),c)for(o=0;o<a;o++)s=e[o],void 0!==s._id&&(u[s._id]=s);for(h in u)u.hasOwnProperty(h)&&u[h].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();e.Animation=o},c8af:function(t,e,i){"use strict";var r=i("c532");t.exports=function(t,e){r.forEach(t,(function(i,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[r])}))}},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}t.exports=i},c8dc:function(t,e,i){"use strict";i.r(e);var r=i("cc6d");i.d(e,"Circle",(function(){return r["a"]}));var n=i("457a");i.d(e,"Geometry",(function(){return n["a"]}));var o=i("8d45");i.d(e,"LineString",(function(){return o["a"]}));var a=i("f920");i.d(e,"MultiLineString",(function(){return a["a"]}));var s=i("d5b7");i.d(e,"MultiPoint",(function(){return s["a"]}));var h=i("5317");i.d(e,"MultiPolygon",(function(){return h["a"]}));var c=i("9eff");i.d(e,"Point",(function(){return c["a"]}));var u=i("c484");i.d(e,"Polygon",(function(){return u["default"]}))},c8f3:function(t,e,i){"use strict";var r,n=Array.prototype,o=Object.prototype,a=Function.prototype,s=String.prototype,h=n.slice,c=o.toString,u=function(t){return"[object Function]"===o.toString.call(t)},l=function(t){return"[object Array]"===c.call(t)},f=function(t){return"[object String]"===c.call(t)},d=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=d?function(t,e,i,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:i})}:function(t,e,i,r){!r&&e in t||(t[e]=i)};var p=function(t,e,i){for(var n in e)o.hasOwnProperty.call(e,n)&&r(t,n,e[n],i)},g=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};function v(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function y(t){return t>>>0}function m(){}p(a,{bind:function(t){var e=this;if(!u(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var i=h.call(arguments,1),r=function(){if(this instanceof s){var r=e.apply(this,i.concat(h.call(arguments)));return Object(r)===r?r:this}return e.apply(t,i.concat(h.call(arguments)))},n=Math.max(0,e.length-i.length),o=[],a=0;a<n;a++)o.push("$"+a);var s=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(m.prototype=e.prototype,s.prototype=new m,m.prototype=null),s}}),p(Array,{isArray:l});var _=Object("a"),b="a"!==_[0]||!(0 in _),w=function(t){var e=!0,i=!0;return t&&(t.call("foo",(function(t,i,r){"object"!==typeof r&&(e=!1)})),t.call([1],(function(){i="string"===typeof this}),"x")),!!t&&e&&i};p(n,{forEach:function(t){var e=g(this),i=b&&f(this)?this.split(""):e,r=arguments[1],n=-1,o=i.length>>>0;if(!u(t))throw new TypeError;while(++n<o)n in i&&t.call(r,i[n],n,e)}},!w(n.forEach));var x=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(n,{indexOf:function(t){var e=b&&f(this)?this.split(""):g(this),i=e.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=v(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in e&&e[r]===t)return r;return-1}},x);var S=s.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t=void 0===/()??/.exec("")[1];s.split=function(e,i){var r=this;if(void 0===e&&0===i)return[];if("[object RegExp]"!==c.call(e))return S.call(this,e,i);var o,a,s,h,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),f=0;e=new RegExp(e.source,l+"g"),r+="",t||(o=new RegExp("^"+e.source+"$(?!\\s)",l)),i=void 0===i?-1>>>0:y(i);while(a=e.exec(r)){if(s=a.index+a[0].length,s>f&&(u.push(r.slice(f,a.index)),!t&&a.length>1&&a[0].replace(o,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(a[t]=void 0)})),a.length>1&&a.index<r.length&&n.push.apply(u,a.slice(1)),h=a[0].length,f=s,u.length>=i))break;e.lastIndex===a.index&&e.lastIndex++}return f===r.length?!h&&e.test("")||u.push(""):u.push(r.slice(f)),u.length>i?u.slice(0,i):u}}():"0".split(void 0,0).length&&(s.split=function(t,e){return void 0===t&&0===e?[]:S.call(this,t,e)});var E=s.substr,O="".substr&&"b"!=="0b".substr(-1);p(s,{substr:function(t,e){return E.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},O)},c914:function(t,e,i){var r,n,o,a=i("d401"),s=i("e2b0"),h=i("ef15"),c=i("2551"),u=i("255a"),l=u.process,f=u.setImmediate,d=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,v=0,y={},m="onreadystatechange",_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){_.call(t.data)};f&&d||(f=function(t){var e=[],i=1;while(arguments.length>i)e.push(arguments[i++]);return y[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},d=function(t){delete y[t]},"process"==i("dfa5")(l)?r=function(t){l.nextTick(a(_,t,1))}:g&&g.now?r=function(t){g.now(a(_,t,1))}:p?(n=new p,o=n.port2,n.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r=m in c("script")?function(t){h.appendChild(c("script"))[m]=function(){h.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:f,clear:d}},c91c:function(t,e,i){var r=i("5920").Konva;r._injectGlobal(r),e["default"]=r,t.exports=e["default"]},c948:function(t,e,i){"use strict";(function(e){var r=i("1499"),n=i("26f2"),o=i("3aa6");t.exports=function(t){function i(e,i){n.call(this,t.transportName,e,i)}return r(i,n),i.enabled=function(i,r){if(!e.document)return!1;var a=o.extend({},r);return a.sameOrigin=!0,t.enabled(a)&&n.enabled()},i.transportName="iframe-"+t.transportName,i.needBody=!0,i.roundTrips=n.roundTrips+t.roundTrips-1,i.facadeTransport=t,i}}).call(this,i("c8ba"))},ca54:function(t,e,i){"use strict";function r(t,e,i,r){for(var n=t[e],o=t[e+1],a=0,s=e+r;s<i;s+=r){var h=t[s],c=t[s+1];a+=Math.sqrt((h-n)*(h-n)+(c-o)*(c-o)),n=h,o=c}return a}i.d(e,"a",(function(){return r}))},caa0:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"e",(function(){return a})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return c}));var r=i("136c");function n(t,e,i,n,o,a,s){var h=(i-e)/n;if(h<3){for(;e<i;e+=n)a[s++]=t[e],a[s++]=t[e+1];return s}var c=new Array(h);c[0]=1,c[h-1]=1;var u=[e,i-n],l=0;while(u.length>0){for(var f=u.pop(),d=u.pop(),p=0,g=t[d],v=t[d+1],y=t[f],m=t[f+1],_=d+n;_<f;_+=n){var b=t[_],w=t[_+1],x=Object(r["h"])(b,w,g,v,y,m);x>p&&(l=_,p=x)}p>o&&(c[(l-e)/n]=1,d+n<l&&u.push(d,l),l+n<f&&u.push(l,f))}for(var S=0;S<h;++S)c[S]&&(a[s++]=t[e+S*n],a[s++]=t[e+S*n+1]);return s}function o(t,e,i,r,o,a,s,h){for(var c=0,u=i.length;c<u;++c){var l=i[c];s=n(t,e,l,r,o,a,s),h.push(s),e=l}return s}function a(t,e){return e*Math.round(t/e)}function s(t,e,i,r,n,o,s){if(e==i)return s;var h,c,u=a(t[e],n),l=a(t[e+1],n);e+=r,o[s++]=u,o[s++]=l;do{if(h=a(t[e],n),c=a(t[e+1],n),e+=r,e==i)return o[s++]=h,o[s++]=c,s}while(h==u&&c==l);while(e<i){var f=a(t[e],n),d=a(t[e+1],n);if(e+=r,f!=h||d!=c){var p=h-u,g=c-l,v=f-u,y=d-l;p*y==g*v&&(p<0&&v<p||p==v||p>0&&v>p)&&(g<0&&y<g||g==y||g>0&&y>g)?(h=f,c=d):(o[s++]=h,o[s++]=c,u=h,l=c,h=f,c=d)}}return o[s++]=h,o[s++]=c,s}function h(t,e,i,r,n,o,a,h){for(var c=0,u=i.length;c<u;++c){var l=i[c];a=s(t,e,l,r,n,o,a),h.push(a),e=l}return a}function c(t,e,i,r,n,o,a,s){for(var c=0,u=i.length;c<u;++c){var l=i[c],f=[];a=h(t,e,l,r,n,o,a,f),s.push(f),e=l[l.length-1]}return a}},cae4:function(t,e,i){"use strict";var r=i("0d63"),n=i("ceb6"),o=[].join;r(r.P+r.F*(i("2635")!=Object||!i("60a1")(o)),"Array",{join:function(t){return o.call(n(this),void 0===t?",":t)}})},cb03:function(t,e,i){var r=i("ceb6"),n=i("58d1"),o=i("51ac");t.exports=function(t){return function(e,i,a){var s,h=r(e),c=n(h.length),u=o(a,c);if(t&&i!=i){while(c>u)if(s=h[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in h)&&h[u]===i)return t||u||0;return!t&&-1}}},cbe6:function(t,e,i){var r=i("0d63");r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},cc6d:function(t,e,i){"use strict";var r=i("3d22"),n=i("cc7a"),o=i("1ea9"),a=i("d5d0"),s=function(t){function e(e,i,r){if(t.call(this),void 0!==r&&void 0===i)this.setFlatCoordinates(r,e);else{var n=i||0;this.setCenterAndRadius(e,n,r)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,i,r){var n=this.flatCoordinates,o=t-n[0],a=e-n[1],s=o*o+a*a;if(s<r){if(0===s)for(var h=0;h<this.stride;++h)i[h]=n[h];else{var c=this.getRadius()/Math.sqrt(s);i[0]=n[0]+c*o,i[1]=n[1]+c*a;for(var u=2;u<this.stride;++u)i[u]=n[u]}return i.length=this.stride,s}return r},e.prototype.containsXY=function(t,e){var i=this.flatCoordinates,r=t-i[0],n=e-i[1];return r*r+n*n<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return Object(r["createOrUpdate"])(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return n["default"].CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(r["intersects"])(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||(t[1]<=i[1]&&t[3]>=i[1]||Object(r["forEachCorner"])(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+i;for(var n=1;n<e;++n)r[e+n]=t[n];this.setFlatCoordinates(this.layout,r),this.changed()},e.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,n=Object(a["a"])(r,0,t,this.stride);r[n++]=r[0]+e;for(var o=1,s=this.stride;o<s;++o)r[n++]=r[o];r.length=n,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(o["a"]);s.prototype.transform,e["a"]=s},cc7a:function(t,e,i){"use strict";i.r(e),e["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},cc80:function(t,e,i){var r=i("7e33"),n=i("ceb6"),o=i("cb03")(!1),a=i("c831")("IE_PROTO");t.exports=function(t,e){var i,s=n(t),h=0,c=[];for(i in s)i!=a&&r(s,i)&&c.push(i);while(e.length>h)r(s,i=e[h++])&&(~o(c,i)||c.push(i));return c}},ccd5:function(t,e,i){"use strict";var r,n=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function a(t){try{return encodeURIComponent(t)}catch(e){return null}}function s(t){var e,i=/([^=?#&]+)=?([^&]*)/g,r={};while(e=i.exec(t)){var n=o(e[1]),a=o(e[2]);null===n||null===a||n in r||(r[n]=a)}return r}function h(t,e){e=e||"";var i,o,s=[];for(o in"string"!==typeof e&&(e="?"),t)if(n.call(t,o)){if(i=t[o],i||null!==i&&i!==r&&!isNaN(i)||(i=""),o=a(o),i=a(i),null===o||null===i)continue;s.push(o+"="+i)}return s.length?e+s.join("&"):""}e.stringify=h,e.parse=s},cd2e:function(t,e,i){"use strict";var r=i("fd21"),n=function(t){function e(e){var i="latest"===r["a"]?r["a"]:"v"+r["a"].split("-")[0],n="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e["a"]=n},cda1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.Posterize=function(t){var e,i=Math.round(254*this.levels())+1,r=t.data,n=r.length,o=255/i;for(e=0;e<n;e+=1)r[e]=Math.floor(r[e]/o)*o},r.Factory.addGetterSetter(n.Node,"levels",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},cdf9:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},ce2c:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),n=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,n++)r[n]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0});var o=i("c33e"),a=i("157d"),s=i("8a49"),h=i("a0a2"),c=i("bd30"),u=function(t){function e(e){var i=t.call(this,e)||this;return i.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),i}return r(e,t),e.prototype._sceneFunc=function(t){var e,i,r,n=this.points(),o=n.length,a=this.tension(),s=this.closed(),h=this.bezier();if(o){if(t.beginPath(),t.moveTo(n[0],n[1]),0!==a&&o>4){e=this.getTensionPoints(),i=e.length,r=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);while(r<i-2)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);s||t.quadraticCurveTo(e[i-2],e[i-1],n[o-2],n[o-1])}else if(h){r=2;while(r<o)t.bezierCurveTo(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++])}else for(r=2;r<o;r+=2)t.lineTo(n[r],n[r+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():o.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,i=this.tension(),r=o.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),n=o.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),a=o.Util._expandPoints(t,i),s=[r[2],r[3]].concat(a).concat([n[0],n[1],t[e-2],t[e-1],n[2],n[3],r[0],r[1],t[0],t[1]]);return s},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};t=0!==this.tension()?n([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points();for(var e,i,r=t[0],o=t[0],a=t[1],s=t[1],h=0;h<t.length/2;h++)e=t[2*h],i=t[2*h+1],r=Math.min(r,e),o=Math.max(o,e),a=Math.min(a,i),s=Math.max(s,i);return{x:r,y:a,width:o-r,height:s-a}},e}(s.Shape);e.Line=u,u.prototype.className="Line",u.prototype._attrsAffectingSize=["points","bezier","tension"],c._registerNode(u),a.Factory.addGetterSetter(u,"closed",!1),a.Factory.addGetterSetter(u,"bezier",!1),a.Factory.addGetterSetter(u,"tension",0,h.getNumberValidator()),a.Factory.addGetterSetter(u,"points",[],h.getNumberArrayValidator()),o.Collection.mapMethods(u)},ce4e:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("bd30"),a=",",s="(",h=")",c="([",u="])",l=";",f="()",d="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],g=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],v=100,y=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))},t.prototype.getTrace=function(t){var e,i,r,o,p=this.traceArr,g=p.length,v="";for(e=0;e<g;e++)i=p[e],r=i.method,r?(o=i.args,v+=r,t?v+=f:n.Util._isArray(o[0])?v+=c+o.join(a)+u:v+=s+o.join(a)+h):(v+=i.property,t||(v+=d+i.val)),v+=l;return v},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e,i=this.traceArr;i.push(t),e=i.length,e>=v&&i.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,i,r,n,o){this._context.arc(t,e,i,r,n,o)},t.prototype.arcTo=function(t,e,i,r,n){this._context.arcTo(t,e,i,r,n)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,i,r,n,o){this._context.bezierCurveTo(t,e,i,r,n,o)},t.prototype.clearRect=function(t,e,i,r){this._context.clearRect(t,e,i,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var i=arguments;return 2===i.length?this._context.createImageData(t,e):1===i.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,i,r){return this._context.createLinearGradient(t,e,i,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,i,r,n,o){return this._context.createRadialGradient(t,e,i,r,n,o)},t.prototype.drawImage=function(t,e,i,r,n,o,a,s,h){var c=arguments,u=this._context;3===c.length?u.drawImage(t,e,i):5===c.length?u.drawImage(t,e,i,r,n):9===c.length&&u.drawImage(t,e,i,r,n,o,a,s,h)},t.prototype.ellipse=function(t,e,i,r,n,o,a,s){this._context.ellipse(t,e,i,r,n,o,a,s)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,i,r){this._context.fillRect(t,e,i,r)},t.prototype.strokeRect=function(t,e,i,r){this._context.strokeRect(t,e,i,r)},t.prototype.fillText=function(t,e,i){this._context.fillText(t,e,i)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,i,r){return this._context.getImageData(t,e,i,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,i,r){this._context.rect(t,e,i,r)},t.prototype.putImageData=function(t,e,i){this._context.putImageData(t,e,i)},t.prototype.quadraticCurveTo=function(t,e,i,r){this._context.quadraticCurveTo(t,e,i,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context["mozDash"]=t:"webkitLineDash"in this._context&&(this._context["webkitLineDash"]=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,i,r,n,o){this._context.setTransform(t,e,i,r,n,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,i,r){this._context.strokeText(t,e,i,r)},t.prototype.transform=function(t,e,i,r,n,o){this._context.transform(t,e,i,r,n,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,i=this,r=p.length,o=n.Util._simplifyArray,a=this.setAttr,s=function(t){var r,n=i[t];i[t]=function(){return e=o(Array.prototype.slice.call(arguments,0)),r=n.apply(i,arguments),i._trace({method:t,args:e}),r}};for(t=0;t<r;t++)s(p[t]);i.setAttr=function(){a.apply(i,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),i._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();e.Context=y,g.forEach((function(t){Object.defineProperty(y.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),i=t.getFillPatternY(),r=o.Konva.getAngle(t.getFillPatternRotation()),n=t.getFillPatternOffsetX(),a=t.getFillPatternOffsetY();t.getFillPatternScaleX(),t.getFillPatternScaleY();(e||i)&&this.translate(e||0,i||0),r&&this.rotate(r),(n||a)&&this.translate(-1*n,-1*a),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),i=t.getFillPriority();if(e&&"color"===i)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===i)this._fillPattern(t);else{var n=t.getFillLinearGradientColorStops();if(n&&"linear-gradient"===i)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===i?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):n?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),n=this.createLinearGradient(e.x,e.y,i.x,i.y);if(r){for(var o=0;o<r.length;o+=2)n.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",n)}},e.prototype._stroke=function(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var n=t.getStrokeLinearGradientColorStops();n?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}},e.prototype._applyShadow=function(t){var e=n.Util,i=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),o=e.get(t.getShadowOffset(),{x:0,y:0}),a=t.getAbsoluteScale(),s=this.canvas.getPixelRatio(),h=a.x*s,c=a.y*s;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",r*Math.min(Math.abs(h),Math.abs(c))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*c)},e}(y);e.SceneContext=m;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),n="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(y);e.HitContext=_},ce8b:function(t,e,i){"use strict";i.r(e);var r=i("6646"),n=i("3d22"),o=i("cc7a"),a=i("0f6d"),s=i("7b42"),h=i("2ed0"),c=i("5f62"),u=i("faad"),l=i("d6b2"),f=Object(l["c"])(),d=function(t,e,i,r,n){this.extent_,this.id_=n,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i,this.properties_=r};d.prototype.get=function(t){return this.properties_[t]},d.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===o["default"].POINT?Object(n["createOrUpdateFromCoordinate"])(this.flatCoordinates_):Object(n["createOrUpdateFromFlatCoordinates"])(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},d.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=Object(n["getCenter"])(this.getExtent());this.flatInteriorPoints_=Object(s["a"])(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},d.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=Object(a["a"])(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(s["b"])(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},d.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(h["a"])(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},d.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,i=this.ends_,n=0,o=i.length;n<o;++n){var a=i[n],s=Object(h["a"])(t,e,a,2,.5);Object(r["c"])(this.flatMidpoints_,s),e=a}}return this.flatMidpoints_},d.prototype.getId=function(){return this.id_},d.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},d.prototype.getGeometry=function(){return this},d.prototype.getSimplifiedGeometry=function(t){return this},d.prototype.getProperties=function(){return this.properties_},d.prototype.getStride=function(){return 2},d.prototype.getStyleFunction=function(){},d.prototype.getType=function(){return this.type_},d.prototype.transform=function(t,e){t=Object(c["get"])(t);var i=t.getExtent(),r=t.getWorldExtent(),o=Object(n["getHeight"])(r)/Object(n["getHeight"])(i);Object(l["b"])(f,r[0],r[3],o,-o,0,0,0),Object(u["c"])(this.flatCoordinates_,0,this.flatCoordinates_.length,2,f,this.flatCoordinates_)},d.prototype.getEnds=d.prototype.getEndss=function(){return this.ends_},d.prototype.getFlatCoordinates=d.prototype.getOrientedFlatCoordinates,e["default"]=d},ceb6:function(t,e,i){var r=i("2635"),n=i("6744");t.exports=function(t){return r(n(t))}},cee4:function(t,e,i){"use strict";var r=i("0ee3"),n=i("4a3a"),o=i("a273"),a=i("eee0"),s=i("3d22"),h=function(t){function e(e,i,r,o,a,s){t.call(this,e,i,r,n["a"].IDLE),this.src_=o,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.state=n["a"].IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=n["a"].ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(s["getHeight"])(this.extent)/this.image_.height),this.state=n["a"].LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=n["a"].IDLE&&this.state!=n["a"].ERROR||(this.state=n["a"].LOADING,this.changed(),this.imageListenerKeys_=[Object(o["listenOnce"])(this.image_,a["default"].ERROR,this.handleImageError_,this),Object(o["listenOnce"])(this.image_,a["default"].LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(o["unlistenByKey"]),this.imageListenerKeys_=null},e}(r["a"]);e["a"]=h},cee47:function(t,e,i){"use strict";var r=i("c532"),n=i("1d2b"),o=i("0a06"),a=i("4a7b"),s=i("2444");function h(t){var e=new o(t),i=n(o.prototype.request,e);return r.extend(i,o.prototype,e),r.extend(i,e),i}var c=h(s);c.Axios=o,c.create=function(t){return h(a(c.defaults,t))},c.Cancel=i("7a77"),c.CancelToken=i("8df4"),c.isCancel=i("2e67"),c.all=function(t){return Promise.all(t)},c.spread=i("0df6"),t.exports=c,t.exports.default=c},cf38:function(t,e,i){"use strict";var r=i("fd21"),n=i("4a3a"),o=i("7186"),a=i("d5b5"),s=i("a273"),h=i("eee0"),c=i("a7f3"),u=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(r,n){function o(t){i[r]||(i[r]={}),i[r][t.tileCoord.toString()]=t}return t.forEachLoadedTile(e,r,n,o)}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===n["a"].LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=n["a"].LOADED&&e!=n["a"].ERROR&&Object(s["listen"])(t,h["default"].CHANGE,this.handleImageChange_,this),e==n["a"].IDLE&&(t.load(),e=t.getState()),e==n["a"].LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==c["a"].READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var n=Object(r["c"])(t);n in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,n){var o=Object(r["c"])(e),a=i.toString();o in t?a in t[o]?t[o][a].extend(n):t[o][a]=n:(t[o]={},t[o][a]=n)},e.prototype.manageTilePyramid=function(t,e,i,n,o,s,h,c,u,l){var f=Object(r["c"])(e);f in t.wantedTiles||(t.wantedTiles[f]={});var d,p,g,v,y,m,_=t.wantedTiles[f],b=t.tileQueue,w=i.getMinZoom();for(m=w;m<=h;++m)for(p=i.getTileRangeForExtentAndZ(s,m,p),g=i.getResolution(m),v=p.minX;v<=p.maxX;++v)for(y=p.minY;y<=p.maxY;++y)h-m<=c?(d=e.getTile(m,v,y,n,o),d.getState()==a["a"].IDLE&&(_[d.getKey()]=!0,b.isKeyQueued(d.getKey())||b.enqueue([d,f,i.getTileCoordCenter(d.tileCoord),g])),void 0!==u&&u.call(l,d)):e.useTile(m,v,y,o)},e}(o["default"]);e["a"]=u},cfdc:function(t,e,i){i("933e")("Uint16",2,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},cfef:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");r.Factory.addGetterSetter(n.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"luminance",0,o.getNumberValidator(),r.Factory.afterSetFilter),e.HSL=function(t){var e,i,r,n,o,a=t.data,s=a.length,h=1,c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,l=127*this.luminance(),f=h*c*Math.cos(u*Math.PI/180),d=h*c*Math.sin(u*Math.PI/180),p=.299*h+.701*f+.167*d,g=.587*h-.587*f+.33*d,v=.114*h-.114*f-.497*d,y=.299*h-.299*f-.328*d,m=.587*h+.413*f+.035*d,_=.114*h-.114*f+.293*d,b=.299*h-.3*f+1.25*d,w=.587*h-.586*f-1.05*d,x=.114*h+.886*f-.2*d;for(e=0;e<s;e+=4)i=a[e+0],r=a[e+1],n=a[e+2],o=a[e+3],a[e+0]=p*i+g*r+v*n+l,a[e+1]=y*i+m*r+_*n+l,a[e+2]=b*i+w*r+x*n+l,a[e+3]=o}},d028:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){var e,i,r,n,o=t.data,a=o.length;for(e=0;e<a;e+=4)i=o[e+0],r=o[e+1],n=o[e+2],o[e+0]=Math.min(255,.393*i+.769*r+.189*n),o[e+1]=Math.min(255,.349*i+.686*r+.168*n),o[e+2]=Math.min(255,.272*i+.534*r+.131*n)}},d09a:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("bd30"),n=i("c33e");e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){var i=[];e.DD._dragElements.forEach((function(e,r){var o=e.node,a=o.getStage();a.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=n.Util._getFirstPointerId(t));var s=a._changedPointerPositions.find((function(t){return t.id===e.pointerId}));if(s){if("dragging"!==e.dragStatus){var h=o.dragDistance(),c=Math.max(Math.abs(s.x-e.startPointerPos.x),Math.abs(s.y-e.startPointerPos.y));if(c<h)return;if(o.startDrag({evt:t}),!o.isDragging())return}o._setDragPosition(t,e),i.push(o)}})),i.forEach((function(e){e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore:function(t){e.DD._dragElements.forEach((function(i,n){var o=i.node,a=o.getStage();t&&a.setPointersPositions(t);var s=a._changedPointerPositions.find((function(t){return t.id===i.pointerId}));if(s){"dragging"!==i.dragStatus&&"stopped"!==i.dragStatus||(e.DD.justDragged=!0,r.Konva.listenClickTap=!1,i.dragStatus="stopped");var h=i.node.getLayer()||i.node instanceof r.Konva["Stage"]&&i.node;h&&h.batchDraw()}}))},_endDragAfter:function(t){e.DD._dragElements.forEach((function(i,r){"stopped"===i.dragStatus&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:t},!0),"dragging"!==i.dragStatus&&e.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},d106:function(t,e,i){var r=i("0d63"),n=i("ceb6"),o=i("58d1");r(r.S,"String",{raw:function(t){var e=n(t.raw),i=o(e.length),r=arguments.length,a=[],s=0;while(i>s)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},d171:function(t,e,i){var r=i("0d63"),n=Math.atanh;r(r.S+r.F*!(n&&1/n(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},d1dd:function(t,e,i){"use strict";var r=i("1499"),n=i("a87f"),o=i("155f"),a=function(){};function s(t){return function(e,i,r){a("create ajax sender",e,i);var o={};"string"===typeof i&&(o.headers={"Content-type":"text/plain"});var s=n.addPath(e,"/xhr_send"),h=new t("POST",s,i,o);return h.once("finish",(function(t){if(a("finish",t),h=null,200!==t&&204!==t)return r(new Error("http status "+t));r()})),function(){a("abort"),h.close(),h=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}function h(t,e,i,r){o.call(this,t,e,s(r),i,r)}r(h,o),t.exports=h},d242:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.HSV=function(t){var e,i,r,n,o,a=t.data,s=a.length,h=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,l=h*c*Math.cos(u*Math.PI/180),f=h*c*Math.sin(u*Math.PI/180),d=.299*h+.701*l+.167*f,p=.587*h-.587*l+.33*f,g=.114*h-.114*l-.497*f,v=.299*h-.299*l-.328*f,y=.587*h+.413*l+.035*f,m=.114*h-.114*l+.293*f,_=.299*h-.3*l+1.25*f,b=.587*h-.586*l-1.05*f,w=.114*h+.886*l-.2*f;for(e=0;e<s;e+=4)i=a[e+0],r=a[e+1],n=a[e+2],o=a[e+3],a[e+0]=d*i+p*r+g*n,a[e+1]=v*i+y*r+m*n,a[e+2]=_*i+b*r+w*n,a[e+3]=o},r.Factory.addGetterSetter(n.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(n.Node,"value",0,o.getNumberValidator(),r.Factory.afterSetFilter)},d302:function(t,e,i){i("933e")("Int8",1,(function(t){return function(e,i,r){return t(this,e,i,r)}}))},d317:function(t,e,i){"use strict";e["a"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},d32d:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var r=i("81ae"),n=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function o(t,e,i){var n=i?Object(r["asString"])(i):"null";return e+":"+t+":"+n}n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!==(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},n.prototype.get=function(t,e,i){var r=o(t,e,i);return r in this.cache_?this.cache_[r]:null},n.prototype.set=function(t,e,i,r){var n=o(t,e,i);this.cache_[n]=r,++this.cacheSize_},n.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var a=new n},d376:function(t,e,i){var r=i("0d63");r(r.S,"Number",{isNaN:function(t){return t!=t}})},d38c:function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},d401:function(t,e,i){var r=i("7480");t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},d44b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");e.Contrast=function(t){var e,i=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length,o=150,a=150,s=150;for(e=0;e<n;e+=4)o=r[e],a=r[e+1],s=r[e+2],o/=255,o-=.5,o*=i,o+=.5,o*=255,a/=255,a-=.5,a*=i,a+=.5,a*=255,s/=255,s-=.5,s*=i,s+=.5,s*=255,o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,r[e]=o,r[e+1]=a,r[e+2]=s},r.Factory.addGetterSetter(n.Node,"contrast",0,o.getNumberValidator(),r.Factory.afterSetFilter)},d5b5:function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},d5b7:function(t,e,i){"use strict";var r=i("6646"),n=i("3d22"),o=i("cc7a"),a=i("9eff"),s=i("1ea9"),h=i("d5d0"),c=i("c5e9"),u=i("136c"),l=function(t){function e(e,i){t.call(this),i&&!Array.isArray(e[0])?this.setFlatCoordinates(i,e):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t},e.prototype.closestPointXY=function(t,e,i,r){if(r<Object(n["closestSquaredDistanceXY"])(this.getExtent(),t,e))return r;for(var o=this.flatCoordinates,a=this.stride,s=0,h=o.length;s<h;s+=a){var c=Object(u["g"])(t,e,o[s],o[s+1]);if(c<r){r=c;for(var l=0;l<a;++l)i[l]=o[s+l];i.length=a}}return r},e.prototype.getCoordinates=function(){return Object(c["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new a["a"](this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,r=[],n=0,o=t.length;n<o;n+=i){var s=new a["a"](t.slice(n,n+i),e);r.push(s)}return r},e.prototype.getType=function(){return o["default"].MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,r=0,o=e.length;r<o;r+=i){var a=e[r],s=e[r+1];if(Object(n["containsXY"])(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(h["b"])(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s["a"]);e["a"]=l},d5d0:function(t,e,i){"use strict";function r(t,e,i,r){for(var n=0,o=i.length;n<o;++n)t[e++]=i[n];return e}function n(t,e,i,r){for(var n=0,o=i.length;n<o;++n)for(var a=i[n],s=0;s<r;++s)t[e++]=a[s];return e}function o(t,e,i,r,o){for(var a=o||[],s=0,h=0,c=i.length;h<c;++h){var u=n(t,e,i[h],r);a[s++]=u,e=u}return a.length=s,a}function a(t,e,i,r,n){for(var a=n||[],s=0,h=0,c=i.length;h<c;++h){var u=o(t,e,i[h],r,a[s]);a[s++]=u,e=u[u.length-1]}return a.length=s,a}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a}))},d6b2:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"f",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"i",(function(){return c})),i.d(e,"a",(function(){return u})),i.d(e,"g",(function(){return l})),i.d(e,"h",(function(){return f})),i.d(e,"j",(function(){return d})),i.d(e,"b",(function(){return p})),i.d(e,"d",(function(){return g}));var r=i("41ec"),n=new Array(6);function o(){return[1,0,0,1,0,0]}function a(t){return h(t,1,0,0,1,0,0)}function s(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=t[5],h=e[0],c=e[1],u=e[2],l=e[3],f=e[4],d=e[5];return t[0]=i*h+n*c,t[1]=r*h+o*c,t[2]=i*u+n*l,t[3]=r*u+o*l,t[4]=i*f+n*d+a,t[5]=r*f+o*d+s,t}function h(t,e,i,r,n,o,a){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=o,t[5]=a,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function u(t,e){var i=e[0],r=e[1];return e[0]=t[0]*i+t[2]*r+t[4],e[1]=t[1]*i+t[3]*r+t[5],e}function l(t,e){var i=Math.cos(e),r=Math.sin(e);return s(t,h(n,i,r,-r,i,0,0))}function f(t,e,i){return s(t,h(n,e,0,0,i,0,0))}function d(t,e,i){return s(t,h(n,1,0,0,1,e,i))}function p(t,e,i,r,n,o,a,s){var h=Math.sin(o),c=Math.cos(o);return t[0]=r*c,t[1]=n*h,t[2]=-r*h,t[3]=n*c,t[4]=a*r*c-s*r*h+e,t[5]=a*n*h+s*n*c+i,t}function g(t){var e=v(t);Object(r["a"])(0!==e,32);var i=t[0],n=t[1],o=t[2],a=t[3],s=t[4],h=t[5];return t[0]=a/e,t[1]=-n/e,t[2]=-o/e,t[3]=i/e,t[4]=(o*h-a*s)/e,t[5]=-(i*h-n*s)/e,t}function v(t){return t[0]*t[3]-t[1]*t[2]}},d6b9:function(t,e,i){var r=i("255a"),n=i("c914").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,h="process"==i("dfa5")(a);t.exports=function(){var t,e,i,c=function(){var r,n;h&&(r=a.domain)&&r.exit();while(t){n=t.fn,t=t.next;try{n()}catch(o){throw t?i():e=void 0,o}}e=void 0,r&&r.enter()};if(h)i=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);i=function(){u.then(c)}}else i=function(){n.call(r,c)};else{var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),i=function(){f.data=l=!l}}return function(r){var n={fn:r,next:void 0};e&&(e.next=n),t||(t=n,i()),e=n}}},d7bd:function(t,e,i){"use strict";var r=i("0d63"),n=i("9e2d")(1);r(r.P+r.F*!i("60a1")([].map,!0),"Array",{map:function(t){return n(this,t,arguments[1])}})},d7c4:function(t,e,i){"use strict";var r=i("fd21"),n=i("0acf"),o=i("3d8e"),a=i("136c"),s=i("acdf"),h=function(t){function e(e){t.call(this);var i=Object(s["a"])({},e);i[o["a"].OPACITY]=void 0!==e.opacity?e.opacity:1,i[o["a"].VISIBLE]=void 0===e.visible||e.visible,i[o["a"].Z_INDEX]=e.zIndex,i[o["a"].MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[o["a"].MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(i),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(a["a"])(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(r["b"])()},e.prototype.getLayerStatesArray=function(t){return Object(r["b"])()},e.prototype.getExtent=function(){return this.get(o["a"].EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o["a"].MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o["a"].MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o["a"].OPACITY)},e.prototype.getSourceState=function(){return Object(r["b"])()},e.prototype.getVisible=function(){return this.get(o["a"].VISIBLE)},e.prototype.getZIndex=function(){return this.get(o["a"].Z_INDEX)},e.prototype.setExtent=function(t){this.set(o["a"].EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o["a"].MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o["a"].MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o["a"].OPACITY,t)},e.prototype.setVisible=function(t){this.set(o["a"].VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o["a"].Z_INDEX,t)},e}(n["default"]);e["a"]=h},d812:function(t,e,i){"use strict";i.r(e),i.d(e,"DoubleClickZoom",(function(){return c})),i.d(e,"DragAndDrop",(function(){return ot})),i.d(e,"DragBox",(function(){return R})),i.d(e,"DragPan",(function(){return y})),i.d(e,"DragRotate",(function(){return b})),i.d(e,"DragRotateAndZoom",(function(){return st})),i.d(e,"DragZoom",(function(){return P})),i.d(e,"Draw",(function(){return ht["default"]})),i.d(e,"Extent",(function(){return St})),i.d(e,"Interaction",(function(){return a["a"]})),i.d(e,"KeyboardPan",(function(){return D})),i.d(e,"KeyboardZoom",(function(){return U})),i.d(e,"Modify",(function(){return Dt})),i.d(e,"MouseWheelZoom",(function(){return Y})),i.d(e,"PinchRotate",(function(){return X})),i.d(e,"PinchZoom",(function(){return $})),i.d(e,"Pointer",(function(){return g["b"]})),i.d(e,"Select",(function(){return Ht})),i.d(e,"Snap",(function(){return Xt})),i.d(e,"Translate",(function(){return ee})),i.d(e,"defaults",(function(){return ie}));var r=i("9cc9"),n=i("3206"),o=i("2524"),a=i("ec9a"),s=function(t){function e(e){t.call(this,{handleEvent:h});var i=e||{};this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]);function h(t){var e=!1;if(t.type==o["default"].DBLCLICK){var i=t.originalEvent,r=t.map,n=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,h=r.getView();Object(a["f"])(h,s,n,this.duration_),t.preventDefault(),e=!0}return!e}var c=s,u=i("3881"),l=i("4882"),f=i("4641"),d=i("6157"),p=i("0ead"),g=i("346e"),v=function(t){function e(e){t.call(this,{stopDown:p["a"]});var i=e||{};this.kinetic_=i.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=i.condition?i.condition:d["noModifierKeys"],this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(u["a"].INTERACTING,1));var e=this.targetPointers,i=Object(g["a"])(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var r=this.lastCentroid[0]-i[0],n=i[1]-this.lastCentroid[1],o=t.map,a=o.getView(),s=[r,n];Object(l["h"])(s,a.getResolution()),Object(l["g"])(s,a.getRotation()),Object(l["a"])(s,a.getCenter()),s=a.constrainCenter(s),a.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),n=this.kinetic_.getAngle(),o=i.getCenter(),a=e.getPixelFromCoordinate(o),s=e.getCoordinateFromPixel([a[0]-r*Math.cos(n),a[1]-r*Math.sin(n)]);i.animate({center:i.constrainCenter(s),duration:500,easing:f["easeOut"]})}return this.panning_&&(this.panning_=!1,i.setHint(u["a"].INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,i=e.getView();return this.lastCentroid=null,i.getAnimating()&&i.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(g["b"]),y=v,m=i("3e6d"),_=function(t){function e(e){var i=e||{};t.call(this,{stopDown:p["a"]}),this.condition_=i.condition?i.condition:d["altShiftKeysOnly"],this.lastAngle_=void 0,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(d["mouseOnly"])(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==m["c"]){var r=e.getSize(),n=t.pixel,o=Math.atan2(r[1]/2-n[1],n[0]-r[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,h=i.getRotation();Object(a["d"])(i,h-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!Object(d["mouseOnly"])(t))return!0;var e=t.map,i=e.getView();i.setHint(u["a"].INTERACTING,-1);var r=i.getRotation();return Object(a["c"])(i,r,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Object(d["mouseOnly"])(t))return!1;if(Object(d["mouseActionButton"])(t)&&this.condition_(t)){var e=t.map;return e.getView().setHint(u["a"].INTERACTING,1),this.lastAngle_=void 0,!0}return!1},e}(g["b"]),b=_,w=i("3d22"),x=i("64c1"),S=i("09b5"),E=i("c484"),O=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+i,r.top=Math.min(t[1],e[1])+i,r.width=Math.abs(e[0]-t[0])+i,r.height=Math.abs(e[1]-t[1])+i},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]],r=i.map(this.map_.getCoordinateFromPixel,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new E["default"]([r])},e.prototype.getGeometry=function(){return this.geometry_},e}(S["a"]),T=O,C={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},A=function(t){function e(e,i,r){t.call(this,e),this.coordinate=i,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(x["a"]),L=function(t){function e(e){t.call(this);var i=e||{};this.box_=new T(i.className||"ol-dragbox"),this.minArea_=void 0!==i.minArea?i.minArea:64,this.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:p["c"],this.startPixel_=null,this.condition_=i.condition?i.condition:d["always"],this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,i){var r=i[0]-e[0],n=i[1]-e[1];return r*r+n*n>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(d["mouseOnly"])(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new A(C.BOXDRAG,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(d["mouseOnly"])(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new A(C.BOXEND,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Object(d["mouseOnly"])(t)&&(!(!Object(d["mouseActionButton"])(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new A(C.BOXSTART,t.coordinate,t)),!0))},e}(g["b"]),R=L,M=function(t){function e(e){var i=e||{},r=i.condition?i.condition:d["shiftKeyOnly"];t.call(this,{condition:r,className:i.className||"ol-dragzoom",onBoxEnd:I}),this.duration_=void 0!==i.duration?i.duration:200,this.out_=void 0!==i.out&&i.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(R);function I(){var t=this.getMap(),e=t.getView(),i=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var n=e.calculateExtent(i),o=Object(w["createOrUpdateFromCoordinates"])([t.getPixelFromCoordinate(Object(w["getBottomLeft"])(r)),t.getPixelFromCoordinate(Object(w["getTopRight"])(r))]),a=e.getResolutionForExtent(o,i);Object(w["scaleFromCenter"])(n,1/a),r=n}var s=e.constrainResolution(e.getResolutionForExtent(r,i)),h=Object(w["getCenter"])(r);h=e.constrainCenter(h),e.animate({resolution:s,center:h,duration:this.duration_,easing:f["easeOut"]})}var P=M,N=i("eee0"),F={LEFT:37,UP:38,RIGHT:39,DOWN:40},k=function(t){function e(e){t.call(this,{handleEvent:j});var i=e||{};this.defaultCondition_=function(t){return Object(d["noModifierKeys"])(t)&&Object(d["targetNotEditable"])(t)},this.condition_=void 0!==i.condition?i.condition:this.defaultCondition_,this.duration_=void 0!==i.duration?i.duration:100,this.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]);function j(t){var e=!1;if(t.type==N["default"].KEYDOWN){var i=t.originalEvent,r=i.keyCode;if(this.condition_(t)&&(r==F.DOWN||r==F.LEFT||r==F.RIGHT||r==F.UP)){var n=t.map,o=n.getView(),s=o.getResolution()*this.pixelDelta_,h=0,c=0;r==F.DOWN?c=-s:r==F.LEFT?h=-s:r==F.RIGHT?h=s:c=s;var u=[h,c];Object(l["g"])(u,o.getRotation()),Object(a["b"])(o,u,this.duration_),t.preventDefault(),e=!0}}return!e}var D=k,G=function(t){function e(e){t.call(this,{handleEvent:B});var i=e||{};this.condition_=i.condition?i.condition:d["targetNotEditable"],this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["a"]);function B(t){var e=!1;if(t.type==N["default"].KEYDOWN||t.type==N["default"].KEYPRESS){var i=t.originalEvent,r=i.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var n=t.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_,s=n.getView();Object(a["f"])(s,o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var U=G,z=i("9734"),q=i("136c"),V=1,H={TRACKPAD:"trackpad",WHEEL:"wheel"},W=function(t){function e(e){var i=e||{};t.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:d["always"],this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.setHint(u["a"].INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==N["default"].WHEEL&&e!==N["default"].MOUSEWHEEL)return!0;t.preventDefault();var i,r=t.map,n=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==N["default"].WHEEL?(i=n.deltaY,z["c"]&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=z["b"]),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):t.type==N["default"].MOUSEWHEEL&&(i=-n.wheelDeltaY,z["h"]&&(i/=3)),0===i)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?H.TRACKPAD:H.WHEEL),this.mode_===H.TRACKPAD){var a=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.setHint(u["a"].INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var s=a.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),h=a.getMinResolution(),c=a.getMaxResolution(),l=0;if(s<h?(s=Math.max(s,h/this.trackpadZoomBuffer_),l=1):s>c&&(s=Math.min(s,c*this.trackpadZoomBuffer_),l=-1),this.lastAnchor_){var d=a.calculateCenterZoom(s,this.lastAnchor_);a.setCenter(a.constrainCenter(d))}return a.setResolution(s),0===l&&this.constrainResolution_&&a.animate({resolution:a.constrainResolution(s,i>0?-1:1),easing:f["easeOut"],anchor:this.lastAnchor_,duration:this.duration_}),l>0?a.animate({resolution:h,easing:f["easeOut"],anchor:this.lastAnchor_,duration:500}):l<0&&a.animate({resolution:c,easing:f["easeOut"],anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=i;var p=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),p),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=V,r=Object(q["a"])(this.delta_,-i,i);Object(a["f"])(e,-r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(a["a"]),Y=W,K=function(t){function e(e){var i=e||{},r=i;r.stopDown||(r.stopDown=p["a"]),t.call(this,r),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==i.threshold?i.threshold:.3,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],r=this.targetPointers[1],n=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(void 0!==this.lastAngle_){var o=n-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=n;var s=t.map,h=s.getView();if(h.getConstraints().rotation!==m["c"]){var c=s.getViewport().getBoundingClientRect(),u=Object(g["a"])(this.targetPointers);if(u[0]-=c.left,u[1]-=c.top,this.anchor_=s.getCoordinateFromPixel(u),this.rotating_){var l=h.getRotation();s.render(),Object(a["d"])(h,l+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();if(i.setHint(u["a"].INTERACTING,-1),this.rotating_){var r=i.getRotation();Object(a["c"])(i,r,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(u["a"].INTERACTING,1),!0}return!1},e}(g["b"]),X=K,Z=function(t){function e(e){var i=e||{},r=i;r.stopDown||(r.stopDown=p["a"]),t.call(this,r),this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],r=this.targetPointers[1],n=i.clientX-r.clientX,o=i.clientY-r.clientY,s=Math.sqrt(n*n+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var h=t.map,c=h.getView(),u=c.getResolution(),l=c.getMaxResolution(),f=c.getMinResolution(),d=u*e;d>l?(e=l/u,d=l):d<f&&(e=f/u,d=f),1!=e&&(this.lastScaleDelta_=e);var p=h.getViewport().getBoundingClientRect(),v=Object(g["a"])(this.targetPointers);v[0]-=p.left,v[1]-=p.top,this.anchor_=h.getCoordinateFromPixel(v),h.render(),Object(a["g"])(c,d,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();i.setHint(u["a"].INTERACTING,-1);var r=i.getResolution();if(this.constrainResolution_||r<i.getMinResolution()||r>i.getMaxResolution()){var n=this.lastScaleDelta_-1;Object(a["e"])(i,r,this.anchor_,this.duration_,n)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(u["a"].INTERACTING,1),!0}return!1},e}(g["b"]),$=Z,J=i("a273"),Q=i("5f62"),tt={ADD_FEATURES:"addfeatures"},et=function(t){function e(e,i,r,n){t.call(this,e),this.features=r,this.file=i,this.projection=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(x["a"]),it=function(t){function e(e){var i=e||{};t.call(this,{handleEvent:p["b"]}),this.formatConstructors_=i.formatConstructors?i.formatConstructors:[],this.projection_=i.projection?Object(Q["get"])(i.projection):null,this.dropListenKeys_=null,this.source_=i.source||null,this.target=i.target?i.target:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleResult_=function(t,e){var i=e.target.result,r=this.getMap(),n=this.projection_;if(!n){var o=r.getView();n=o.getProjection()}for(var a=this.formatConstructors_,s=[],h=0,c=a.length;h<c;++h){var u=new a[h];if(s=this.tryReadFeatures_(u,i,{featureProjection:n}),s&&s.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(s)),this.dispatchEvent(new et(tt.ADD_FEATURES,t,s,n))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[Object(J["listen"])(e,N["default"].DROP,rt,this),Object(J["listen"])(e,N["default"].DRAGENTER,nt,this),Object(J["listen"])(e,N["default"].DRAGOVER,nt,this),Object(J["listen"])(e,N["default"].DROP,nt,this)]}},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,i){try{return t.readFeatures(e,i)}catch(r){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(J["unlistenByKey"]),this.dropListenKeys_=null)},e}(a["a"]);function rt(t){for(var e=t.dataTransfer.files,i=0,r=e.length;i<r;++i){var n=e.item(i),o=new FileReader;o.addEventListener(N["default"].LOAD,this.handleResult_.bind(this,n)),o.readAsText(n)}}function nt(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}var ot=it,at=function(t){function e(e){var i=e||{};t.call(this,i),this.condition_=i.condition?i.condition:d["shiftKeyOnly"],this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==i.duration?i.duration:400}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(d["mouseOnly"])(t)){var e=t.map,i=e.getSize(),r=t.pixel,n=r[0]-i[0]/2,o=i[1]/2-r[1],s=Math.atan2(o,n),h=Math.sqrt(n*n+o*o),c=e.getView();if(c.getConstraints().rotation!==m["c"]&&void 0!==this.lastAngle_){var u=s-this.lastAngle_;Object(a["d"])(c,c.getRotation()-u)}if(this.lastAngle_=s,void 0!==this.lastMagnitude_){var l=this.lastMagnitude_*(c.getResolution()/h);Object(a["g"])(c,l)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},e.prototype.handleUpEvent=function(t){if(!Object(d["mouseOnly"])(t))return!0;var e=t.map,i=e.getView();i.setHint(u["a"].INTERACTING,-1);var r=this.lastScaleDelta_-1;return Object(a["c"])(i,i.getRotation()),Object(a["e"])(i,i.getResolution(),void 0,this.duration_,r),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!Object(d["mouseOnly"])(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(u["a"].INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(g["b"]),st=at,ht=i("684a"),ct=i("a045"),ut=i("cc7a"),lt=i("9eff"),ft=i("2cfb"),dt=i("dc15"),pt=i("8a21"),gt={EXTENTCHANGED:"extentchanged"},vt=function(t){function e(e){t.call(this,gt.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(x["a"]),yt=function(t){function e(e){var i=e||{};t.call(this,i),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new ft["default"]({source:new dt["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:mt(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new ft["default"]({source:new dt["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:_t(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapToVertex_=function(t,e){var i=e.getCoordinateFromPixel(t),r=function(t,e){return Object(l["j"])(i,t)-Object(l["j"])(i,e)},n=this.getExtent();if(n){var o=xt(n);o.sort(r);var a=o[0],s=Object(l["c"])(i,a),h=e.getPixelFromCoordinate(s);if(Object(l["e"])(t,h)<=this.pixelTolerance_){var c=e.getPixelFromCoordinate(a[0]),u=e.getPixelFromCoordinate(a[1]),f=Object(l["i"])(h,c),d=Object(l["i"])(h,u),p=Math.sqrt(Math.min(f,d));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=f>d?a[1]:a[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,i=t.map,r=this.snapToVertex_(e,i);r||(r=i.getCoordinateFromPixel(e)),this.createOrUpdatePointerFeature_(r)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry(Object(E["fromExtent"])(t)):e.setGeometry(void 0):(e=t?new ct["default"](Object(E["fromExtent"])(t)):new ct["default"]({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;if(e){var i=e.getGeometry();i.setCoordinates(t)}else e=new ct["default"](new lt["a"](t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e);return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=o["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,i=t.map,r=this.getExtent(),n=this.snapToVertex_(e,i),o=function(t){var e=null,i=null;return t[0]==r[0]?e=r[2]:t[0]==r[2]&&(e=r[0]),t[1]==r[1]?i=r[3]:t[1]==r[3]&&(i=r[1]),null!==e&&null!==i?[e,i]:null};if(n&&r){var a=n[0]==r[0]||n[0]==r[2]?n[0]:null,s=n[1]==r[1]||n[1]==r[3]?n[1]:null;null!==a&&null!==s?this.pointerHandler_=bt(o(n)):null!==a?this.pointerHandler_=wt(o([a,r[1]]),o([a,r[3]])):null!==s&&(this.pointerHandler_=wt(o([r[0],s]),o([r[2],s])))}else n=i.getCoordinateFromPixel(e),this.setExtent([n[0],n[1],n[0],n[1]]),this.pointerHandler_=bt(n);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==Object(w["getArea"])(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new vt(this.extent_))},e}(g["b"]);function mt(){var t=Object(pt["b"])();return function(e,i){return t[ut["default"].POLYGON]}}function _t(){var t=Object(pt["b"])();return function(e,i){return t[ut["default"].POINT]}}function bt(t){return function(e){return Object(w["boundingExtent"])([t,e])}}function wt(t,e){return t[0]==e[0]?function(i){return Object(w["boundingExtent"])([t,[i[0],e[1]]])}:t[1]==e[1]?function(i){return Object(w["boundingExtent"])([t,[e[0],i[1]]])}:null}function xt(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}var St=yt,Et=i("fd21"),Ot=i("461e"),Tt=i("6646"),Ct=i("e409"),At=i("8f55"),Lt=0,Rt=1,Mt={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},It=function(t){function e(e,i,r){t.call(this,e),this.features=i,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(x["a"]),Pt=function(t){function e(e){var i;if(t.call(this,e),this.condition_=e.condition?e.condition:d["primaryAction"],this.defaultDeleteCondition_=function(t){return Object(d["altKeyOnly"])(t)&&Object(d["singleClick"])(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:d["always"],this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new At["a"],this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new ft["default"]({source:new dt["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:jt(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,i=new r["default"](this.source_.getFeatures()),Object(J["listen"])(this.source_,Ct["a"].ADDFEATURE,this.handleSourceAdd_,this),Object(J["listen"])(this.source_,Ct["a"].REMOVEFEATURE,this.handleSourceRemove_,this)):i=e.features,!i)throw new Error("The modify interaction requires features or a source");this.features_=i,this.features_.forEach(this.addFeature_.bind(this)),Object(J["listen"])(this.features_,Ot["a"].ADD,this.handleFeatureAdd_,this),Object(J["listen"])(this.features_,Ot["a"].REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),Object(J["listen"])(t,N["default"].CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new It(Mt.MODIFYSTART,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(J["unlisten"])(t,N["default"].CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach((function(e){t===e.feature&&i.push(e)}));for(var r=i.length-1;r>=0;--r)e.remove(i[r])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),r={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r){var o=i[r],a={feature:t,geometry:e,depth:[r],index:r,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length-1;r<n;++r){var o=i.slice(r,r+2),a={feature:t,geometry:e,index:r,segment:o};this.rBush_.insert(Object(w["boundingExtent"])(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r)for(var o=i[r],a=0,s=o.length-1;a<s;++a){var h=o.slice(a,a+2),c={feature:t,geometry:e,depth:[r],index:a,segment:h};this.rBush_.insert(Object(w["boundingExtent"])(h),c)}},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r)for(var o=i[r],a=0,s=o.length-1;a<s;++a){var h=o.slice(a,a+2),c={feature:t,geometry:e,depth:[r],index:a,segment:h};this.rBush_.insert(Object(w["boundingExtent"])(h),c)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r)for(var o=i[r],a=0,s=o.length;a<s;++a)for(var h=o[a],c=0,u=h.length-1;c<u;++c){var l=h.slice(c,c+2),f={feature:t,geometry:e,depth:[a,r],index:c,segment:l};this.rBush_.insert(Object(w["boundingExtent"])(l),f)}},e.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),r={feature:t,geometry:e,index:Lt,segment:[i,i]},n={feature:t,geometry:e,index:Rt,segment:[i,i]},o=[r,n];r.featureSegments=n.featureSegments=o,this.rBush_.insert(Object(w["createOrUpdateFromCoordinate"])(i),r),this.rBush_.insert(e.getExtent(),n)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),r=0;r<i.length;++r)this.SEGMENT_WRITERS_[i[r].getType()].call(this,t,i[r])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;if(e){var i=e.getGeometry();i.setCoordinates(t)}else e=new ct["default"](new lt["a"](t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e);return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=o["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(i=!(e.type!=o["default"].SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==o["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!i);var i},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,i=0,r=this.dragSegments_.length;i<r;++i){var n=this.dragSegments_[i],o=n[0],a=o.depth,s=o.geometry,h=void 0,c=o.segment,u=n[1];while(e.length<s.getStride())e.push(c[u][e.length]);switch(s.getType()){case ut["default"].POINT:h=e,c[0]=c[1]=e;break;case ut["default"].MULTI_POINT:h=s.getCoordinates(),h[o.index]=e,c[0]=c[1]=e;break;case ut["default"].LINE_STRING:h=s.getCoordinates(),h[o.index+u]=e,c[u]=e;break;case ut["default"].MULTI_LINE_STRING:h=s.getCoordinates(),h[a[0]][o.index+u]=e,c[u]=e;break;case ut["default"].POLYGON:h=s.getCoordinates(),h[a[0]][o.index+u]=e,c[u]=e;break;case ut["default"].MULTI_POLYGON:h=s.getCoordinates(),h[a[1]][a[0]][o.index+u]=e,c[u]=e;break;case ut["default"].CIRCLE:c[0]=c[1]=e,o.index===Lt?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(l["e"])(s.getCenter(),e)),this.changingFeature_=!1);break;default:}h&&this.setGeometryCoordinates_(s,h)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var i=this.vertexFeature_;if(i){var r=[],n=i.getGeometry(),o=n.getCoordinates(),a=Object(w["boundingExtent"])([o]),s=this.rBush_.getInExtent(a),h={};s.sort(Nt);for(var c=0,u=s.length;c<u;++c){var f=s[c],d=f.segment,p=Object(Et["c"])(f.feature),g=f.depth;if(g&&(p+="-"+g.join("-")),h[p]||(h[p]=new Array(2)),f.geometry.getType()===ut["default"].CIRCLE&&f.index===Rt){var v=kt(e,f);Object(l["f"])(v,o)&&!h[p][0]&&(this.dragSegments_.push([f,0]),h[p][0]=f)}else if(Object(l["f"])(d[0],o)&&!h[p][0])this.dragSegments_.push([f,0]),h[p][0]=f;else if(Object(l["f"])(d[1],o)&&!h[p][1]){if((f.geometry.getType()===ut["default"].LINE_STRING||f.geometry.getType()===ut["default"].MULTI_LINE_STRING)&&h[p][0]&&0===h[p][0].index)continue;this.dragSegments_.push([f,1]),h[p][1]=f}else this.insertVertexCondition_(t)&&Object(Et["c"])(d)in this.vertexSegments_&&!h[p][0]&&!h[p][1]&&r.push([f,o])}r.length&&this.willModifyFeatures_(t);for(var y=r.length-1;y>=0;--y)this.insertVertex_.apply(this,r[y])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0],r=i.geometry;if(r.getType()===ut["default"].CIRCLE){var n=r.getCenter(),o=i.featureSegments[0],a=i.featureSegments[1];o.segment[0]=o.segment[1]=n,a.segment[0]=a.segment[1]=n,this.rBush_.update(Object(w["createOrUpdateFromCoordinate"])(n),o),this.rBush_.update(r.getExtent(),a)}else this.rBush_.update(Object(w["boundingExtent"])(i.segment),i)}return this.modified_&&(this.dispatchEvent(new It(Mt.MODIFYEND,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var i=e.getCoordinateFromPixel(t),r=function(t,e){return Ft(i,t)-Ft(i,e)},n=Object(w["buffer"])(Object(w["createOrUpdateFromCoordinate"])(i),e.getView().getResolution()*this.pixelTolerance_),o=this.rBush_,a=o.getInExtent(n);if(a.length>0){a.sort(r);var s=a[0],h=s.segment,c=kt(i,s),u=e.getPixelFromCoordinate(c),f=Object(l["e"])(t,u);if(f<=this.pixelTolerance_){var d={};if(s.geometry.getType()===ut["default"].CIRCLE&&s.index===Rt)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c);else{var p=e.getPixelFromCoordinate(h[0]),g=e.getPixelFromCoordinate(h[1]),v=Object(l["i"])(u,p),y=Object(l["i"])(u,g);f=Math.sqrt(Math.min(v,y)),this.snappedToVertex_=f<=this.pixelTolerance_,this.snappedToVertex_&&(c=v>y?h[1]:h[0]),this.createOrUpdateVertexFeature_(c);for(var m=1,_=a.length;m<_;++m){var b=a[m].segment;if(!(Object(l["f"])(h[0],b[0])&&Object(l["f"])(h[1],b[1])||Object(l["f"])(h[0],b[1])&&Object(l["f"])(h[1],b[0])))break;d[Object(Et["c"])(b)]=!0}}return d[Object(Et["c"])(h)]=!0,void(this.vertexSegments_=d)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){var i,r=t.segment,n=t.feature,o=t.geometry,a=t.depth,s=t.index;while(e.length<o.getStride())e.push(0);switch(o.getType()){case ut["default"].MULTI_LINE_STRING:i=o.getCoordinates(),i[a[0]].splice(s+1,0,e);break;case ut["default"].POLYGON:i=o.getCoordinates(),i[a[0]].splice(s+1,0,e);break;case ut["default"].MULTI_POLYGON:i=o.getCoordinates(),i[a[1]][a[0]].splice(s+1,0,e);break;case ut["default"].LINE_STRING:i=o.getCoordinates(),i.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,i);var h=this.rBush_;h.remove(t),this.updateSegmentIndices_(o,s,a,1);var c={segment:[r[0],e],feature:n,geometry:o,depth:a,index:s};h.insert(Object(w["boundingExtent"])(c.segment),c),this.dragSegments_.push([c,1]);var u={segment:[e,r[1]],feature:n,geometry:o,depth:a,index:s+1};h.insert(Object(w["boundingExtent"])(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=o["default"].POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new It(Mt.MODIFYEND,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,i,r,n,o,a,s,h,c,u,l=this.dragSegments_,f={},d=!1;for(n=l.length-1;n>=0;--n)i=l[n],c=i[0],u=Object(Et["c"])(c.feature),c.depth&&(u+="-"+c.depth.join("-")),u in f||(f[u]={}),0===i[1]?(f[u].right=c,f[u].index=c.index):1==i[1]&&(f[u].left=c,f[u].index=c.index+1);for(u in f){switch(h=f[u].right,a=f[u].left,o=f[u].index,s=o-1,c=void 0!==a?a:h,s<0&&(s=0),r=c.geometry,e=r.getCoordinates(),t=e,d=!1,r.getType()){case ut["default"].MULTI_LINE_STRING:e[c.depth[0]].length>2&&(e[c.depth[0]].splice(o,1),d=!0);break;case ut["default"].LINE_STRING:e.length>2&&(e.splice(o,1),d=!0);break;case ut["default"].MULTI_POLYGON:t=t[c.depth[1]];case ut["default"].POLYGON:t=t[c.depth[0]],t.length>4&&(o==t.length-1&&(o=0),t.splice(o,1),d=!0,0===o&&(t.pop(),t.push(t[0]),s=t.length-1));break;default:}if(d){this.setGeometryCoordinates_(r,e);var p=[];if(void 0!==a&&(this.rBush_.remove(a),p.push(a.segment[0])),void 0!==h&&(this.rBush_.remove(h),p.push(h.segment[1])),void 0!==a&&void 0!==h){var g={depth:c.depth,feature:c.feature,geometry:c.geometry,index:s,segment:p};this.rBush_.insert(Object(w["boundingExtent"])(g.segment),g)}this.updateSegmentIndices_(r,o,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),l.length=0}}return d},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,i,r){this.rBush_.forEachInExtent(t.getExtent(),(function(n){n.geometry===t&&(void 0===i||void 0===n.depth||Object(Tt["b"])(n.depth,i))&&n.index>e&&(n.index+=r)}))},e}(g["b"]);function Nt(t,e){return t.index-e.index}function Ft(t,e){var i=e.geometry;if(i.getType()===ut["default"].CIRCLE){var r=i;if(e.index===Rt){var n=Object(l["i"])(r.getCenter(),t),o=Math.sqrt(n)-r.getRadius();return o*o}}return Object(l["j"])(t,e.segment)}function kt(t,e){var i=e.geometry;return i.getType()===ut["default"].CIRCLE&&e.index===Rt?i.getClosestPoint(t):Object(l["c"])(t,e.segment)}function jt(){var t=Object(pt["b"])();return function(e,i){return t[ut["default"].POINT]}}var Dt=Pt,Gt=i("acdf"),Bt={SELECT:"select"},Ut=function(t){function e(e,i,r,n){t.call(this,e),this.selected=i,this.deselected=r,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(x["a"]),zt=function(t){function e(e){t.call(this,{handleEvent:qt});var i=e||{};this.condition_=i.condition?i.condition:d["singleClick"],this.addCondition_=i.addCondition?i.addCondition:d["never"],this.removeCondition_=i.removeCondition?i.removeCondition:d["never"],this.toggleCondition_=i.toggleCondition?i.toggleCondition:d["shiftKeyOnly"],this.multi_=!!i.multi&&i.multi,this.filter_=i.filter?i.filter:p["b"],this.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var r,n=new ft["default"]({source:new dt["default"]({useSpatialIndex:!1,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:Vt(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=n,i.layers)if("function"===typeof i.layers)r=i.layers;else{var o=i.layers;r=function(t){return Object(Tt["f"])(o,t)}}else r=p["b"];this.layerFilter_=r,this.featureLayerAssociation_={};var a=this.getFeatures();Object(J["listen"])(a,Ot["a"].ADD,this.addFeature_,this),Object(J["listen"])(a,Ot["a"].REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(Et["c"])(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(Et["c"])(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap(),r=this.getFeatures();i&&r.forEach(i.unskipFeature.bind(i)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&r.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(Et["c"])(t)]},e}(a["a"]);function qt(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),r=this.toggleCondition_(t),n=!e&&!i&&!r,o=t.map,a=this.getFeatures(),s=[],h=[];if(n){Object(Gt["b"])(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return h.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=a.getLength()-1;c>=0;--c){var u=a.item(c),l=h.indexOf(u);l>-1?h.splice(l,1):(a.remove(u),s.push(u))}0!==h.length&&a.extend(h)}else{o.forEachFeatureAtPixel(t.pixel,function(t,n){if(this.filter_(t,n))return!e&&!r||Object(Tt["f"])(a.getArray(),t)?(i||r)&&Object(Tt["f"])(a.getArray(),t)&&(s.push(t),this.removeFeatureLayerAssociation_(t)):(h.push(t),this.addFeatureLayerAssociation_(t,n)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var f=s.length-1;f>=0;--f)a.remove(s[f]);a.extend(h)}return(h.length>0||s.length>0)&&this.dispatchEvent(new Ut(Bt.SELECT,h,s,t)),Object(d["pointerMove"])(t)}function Vt(){var t=Object(pt["b"])();return Object(Tt["c"])(t[ut["default"].POLYGON],t[ut["default"].LINE_STRING]),Object(Tt["c"])(t[ut["default"].GEOMETRY_COLLECTION],t[ut["default"].LINE_STRING]),function(e,i){return e.getGeometry()?t[e.getGeometry().getType()]:null}}var Ht=zt;function Wt(t){return t.feature?t.feature:t.element?t.element:void 0}var Yt=function(t){function e(e){var i=e||{},r=i;r.handleDownEvent||(r.handleDownEvent=p["b"]),r.stopDown||(r.stopDown=p["a"]),t.call(this,r),this.source_=i.source?i.source:null,this.vertex_=void 0===i.vertex||i.vertex,this.edge_=void 0===i.edge||i.edge,this.features_=i.features?i.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.sortByDistance_=Kt.bind(this),this.rBush_=new At["a"],this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var i=void 0===e||e,r=Object(Et["c"])(t),n=t.getGeometry();if(n){var o=this.SEGMENT_WRITERS_[n.getType()];o&&(this.indexedFeaturesExtents_[r]=n.getExtent(Object(w["createEmpty"])()),o.call(this,t,n))}i&&(this.featureChangeListenerKeys_[r]=Object(J["listen"])(t,N["default"].CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var i=this.snapTo(e.pixel,e.coordinate,e.map);return i.snapped&&(e.coordinate=i.vertex.slice(0,2),e.pixel=i.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=Wt(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=Wt(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(Et["c"])(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(Gt["c"])(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var i=void 0===e||e,r=Object(Et["c"])(t),n=this.indexedFeaturesExtents_[r];if(n){var o=this.rBush_,a=[];o.forEachInExtent(n,(function(e){t===e.feature&&a.push(e)}));for(var s=a.length-1;s>=0;--s)o.remove(a[s])}i&&(Object(J["unlistenByKey"])(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])},e.prototype.setMap=function(e){var i=this.getMap(),r=this.featuresListenerKeys_,n=this.getFeatures_();i&&(r.forEach(J["unlistenByKey"]),r.length=0,n.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?r.push(Object(J["listen"])(this.features_,Ot["a"].ADD,this.handleFeatureAdd_,this),Object(J["listen"])(this.features_,Ot["a"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&r.push(Object(J["listen"])(this.source_,Ct["a"].ADDFEATURE,this.handleFeatureAdd_,this),Object(J["listen"])(this.source_,Ct["a"].REMOVEFEATURE,this.handleFeatureRemove_,this)),n.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,i){var r=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),n=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=Object(w["boundingExtent"])([r,n]),a=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(a=a.filter((function(t){return t.feature.getGeometry().getType()!==ut["default"].CIRCLE})));var s,h,c,u,f,d=!1,p=!1,g=null,v=null;if(a.length>0){this.pixelCoordinate_=e,a.sort(this.sortByDistance_);var y=a[0].segment,m=a[0].feature.getGeometry().getType()===ut["default"].CIRCLE;this.vertex_&&!this.edge_?(h=i.getPixelFromCoordinate(y[0]),c=i.getPixelFromCoordinate(y[1]),u=Object(l["i"])(t,h),f=Object(l["i"])(t,c),s=Math.sqrt(Math.min(u,f)),d=s<=this.pixelTolerance_,d&&(p=!0,g=u>f?y[1]:y[0],v=i.getPixelFromCoordinate(g))):this.edge_&&(g=m?Object(l["b"])(e,a[0].feature.getGeometry()):Object(l["c"])(e,y),v=i.getPixelFromCoordinate(g),Object(l["e"])(t,v)<=this.pixelTolerance_&&(p=!0,this.vertex_&&!m&&(h=i.getPixelFromCoordinate(y[0]),c=i.getPixelFromCoordinate(y[1]),u=Object(l["i"])(v,h),f=Object(l["i"])(v,c),s=Math.sqrt(Math.min(u,f)),d=s<=this.pixelTolerance_,d&&(g=u>f?y[1]:y[0],v=i.getPixelFromCoordinate(g))))),p&&(v=[Math.round(v[0]),Math.round(v[1])])}return{snapped:p,vertex:g,vertexPixel:v}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var i=Object(E["fromCircle"])(e),r=i.getCoordinates()[0],n=0,o=r.length-1;n<o;++n){var a=r.slice(n,n+2),s={feature:t,segment:a};this.rBush_.insert(Object(w["boundingExtent"])(a),s)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),r=0;r<i.length;++r){var n=this.SEGMENT_WRITERS_[i[r].getType()];n&&n.call(this,t,i[r])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length-1;r<n;++r){var o=i.slice(r,r+2),a={feature:t,segment:o};this.rBush_.insert(Object(w["boundingExtent"])(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r)for(var o=i[r],a=0,s=o.length-1;a<s;++a){var h=o.slice(a,a+2),c={feature:t,segment:h};this.rBush_.insert(Object(w["boundingExtent"])(h),c)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r){var o=i[r],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r)for(var o=i[r],a=0,s=o.length;a<s;++a)for(var h=o[a],c=0,u=h.length-1;c<u;++c){var l=h.slice(c,c+2),f={feature:t,segment:l};this.rBush_.insert(Object(w["boundingExtent"])(l),f)}},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),r={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),r=0,n=i.length;r<n;++r)for(var o=i[r],a=0,s=o.length-1;a<s;++a){var h=o.slice(a,a+2),c={feature:t,segment:h};this.rBush_.insert(Object(w["boundingExtent"])(h),c)}},e}(g["b"]);function Kt(t,e){var i=Object(l["j"])(this.pixelCoordinate_,t.segment),r=Object(l["j"])(this.pixelCoordinate_,e.segment);return i-r}var Xt=Yt,Zt=i("0acf"),$t=i("1714"),Jt={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},Qt=function(t){function e(e,i,r){t.call(this,e),this.features=i,this.coordinate=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(x["a"]),te=function(t){function e(e){var i,r=e||{};if(t.call(this,r),this.lastCoordinate_=null,this.features_=void 0!==r.features?r.features:null,r.layers)if("function"===typeof r.layers)i=r.layers;else{var n=r.layers;i=function(t){return Object(Tt["f"])(n,t)}}else i=p["b"];this.layerFilter_=i,this.hitTolerance_=r.hitTolerance?r.hitTolerance:0,this.lastFeature_=null,Object(J["listen"])(this,Object(Zt["getChangeEventType"])($t["a"].ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new r["default"]([this.lastFeature_]);return this.dispatchEvent(new Qt(Jt.TRANSLATESTART,e,t.coordinate)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new r["default"]([this.lastFeature_]);return this.dispatchEvent(new Qt(Jt.TRANSLATEEND,e,t.coordinate)),!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,i=e[0]-this.lastCoordinate_[0],n=e[1]-this.lastCoordinate_[1],o=this.features_||new r["default"]([this.lastFeature_]);o.forEach((function(t){var e=t.getGeometry();e.translate(i,n),t.setGeometry(e)})),this.lastCoordinate_=e,this.dispatchEvent(new Qt(Jt.TRANSLATING,o,e))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||Object(Tt["f"])(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(i)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),i=this.getActive();if((!e||!i)&&(e=e||t,e)){var r=e.getViewport();r.classList.remove("ol-grab","ol-grabbing")}},e}(g["b"]),ee=te;function ie(t){var e=t||{},i=new r["default"],o=new n["a"](-.005,.05,100),a=void 0===e.altShiftDragRotate||e.altShiftDragRotate;a&&i.push(new b);var s=void 0===e.doubleClickZoom||e.doubleClickZoom;s&&i.push(new c({delta:e.zoomDelta,duration:e.zoomDuration}));var h=void 0===e.dragPan||e.dragPan;h&&i.push(new y({condition:e.onFocusOnly?d["focus"]:void 0,kinetic:o}));var u=void 0===e.pinchRotate||e.pinchRotate;u&&i.push(new X);var l=void 0===e.pinchZoom||e.pinchZoom;l&&i.push(new $({constrainResolution:e.constrainResolution,duration:e.zoomDuration}));var f=void 0===e.keyboard||e.keyboard;f&&(i.push(new D),i.push(new U({delta:e.zoomDelta,duration:e.zoomDuration})));var p=void 0===e.mouseWheelZoom||e.mouseWheelZoom;p&&i.push(new Y({condition:e.onFocusOnly?d["focus"]:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration}));var g=void 0===e.shiftDragZoom||e.shiftDragZoom;return g&&i.push(new P({duration:e.zoomDuration})),i}},d8b2:function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},d925:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},d96e:function(t,e,i){"use strict";i.r(e),i.d(e,"getForProjection",(function(){return u})),i.d(e,"wrapX",(function(){return l})),i.d(e,"createForExtent",(function(){return f})),i.d(e,"createXYZ",(function(){return d})),i.d(e,"createForProjection",(function(){return g})),i.d(e,"extentFromProjection",(function(){return v}));var r=i("5e7b"),n=i("dbf9"),o=i("3d22"),a=i("df91"),s=i("5f62"),h=i("615e"),c=i("e71d");function u(t){var e=t.getDefaultTileGrid();return e||(e=g(t),t.setDefaultTileGrid(e)),e}function l(t,e,i){var r=e[0],n=t.getTileCoordCenter(e),a=v(i);if(Object(o["containsCoordinate"])(a,n))return e;var s=Object(o["getWidth"])(a),h=Math.ceil((a[0]-n[0])/s);return n[0]+=s*h,t.getTileCoordForCoordAndZ(n,r)}function f(t,e,i,r){var n=void 0!==r?r:a["a"].TOP_LEFT,s=p(t,e,i);return new c["default"]({extent:t,origin:Object(o["getCorner"])(t,n),resolutions:s,tileSize:i})}function d(t){var e=t||{},i=e.extent||Object(s["get"])("EPSG:3857").getExtent(),r={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:p(i,e.maxZoom,e.tileSize)};return new c["default"](r)}function p(t,e,i){for(var a=void 0!==e?e:r["a"],s=Object(o["getHeight"])(t),h=Object(o["getWidth"])(t),c=Object(n["d"])(void 0!==i?i:r["b"]),u=Math.max(h/c[0],s/c[1]),l=a+1,f=new Array(l),d=0;d<l;++d)f[d]=u/Math.pow(2,d);return f}function g(t,e,i,r){var n=v(t);return f(n,e,i,r)}function v(t){t=Object(s["get"])(t);var e=t.getExtent();if(!e){var i=180*s["METERS_PER_UNIT"][h["b"].DEGREES]/t.getMetersPerUnit();e=Object(o["createOrUpdate"])(-i,-i,i,i)}return e}},d99f:function(t,e,i){"use strict";var r=i("6843"),n=i("37a4"),o=i("876c"),a=i("4093"),s=i("411b"),h=i("9322"),c=i("ae81");t.exports=function(t){return new Promise((function(e,u){var l=t.data,f=t.headers;r.isFormData(l)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+btoa(p+":"+g)}var v=a(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),o(v,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?d.response:d.responseText,o={data:r,status:d.status,statusText:d.statusText,headers:i,config:t,request:d};n(e,u,o),d=null}},d.onabort=function(){d&&(u(c("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){u(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var y=i("b2dd"),m=(t.withCredentials||h(v))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;m&&(f[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&r.forEach(f,(function(t,e){"undefined"===typeof l&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(_){if("json"!==t.responseType)throw _}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),u(t),d=null)})),void 0===l&&(l=null),d.send(l)}))}},d9ad:function(t,e,i){"use strict";var r=i("0d63"),n=i("9e2d")(2);r(r.P+r.F*!i("60a1")([].filter,!0),"Array",{filter:function(t){return n(this,t,arguments[1])}})},d9bf:function(t,e,i){var r=i("0d63");r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},db04:function(t,e,i){var r=i("0d63");r(r.P,"Array",{fill:i("8d29")}),i("7671")("fill")},dbc5:function(t,e,i){"use strict";var r=i("255a"),n=i("0f26"),o=i("6739"),a=i("9336")("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&n.f(e,a,{configurable:!0,get:function(){return this}})}},dbf9:function(t,e,i){"use strict";function r(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function n(t){return t[0]>0&&t[1]>0}function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function a(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return a}))},dc15:function(t,e,i){"use strict";i.r(e),i.d(e,"VectorSourceEvent",(function(){return w}));var r=i("fd21"),n=i("9cc9"),o=i("461e"),a=i("9fa2"),s=i("6646"),h=i("41ec"),c=i("a273"),u=i("64c1"),l=i("eee0"),f=i("3d22"),d=i("7371"),p=i("0ead"),g=i("e33c"),v=i("acdf"),y=i("8393"),m=i("a7f3"),_=i("e409"),b=i("8f55"),w=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u["a"]),x=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:void 0,state:m["a"].READY,wrapX:void 0===i.wrapX||i.wrapX}),this.loader_=p["c"],this.format_=i.format,this.overlaps_=void 0==i.overlaps||i.overlaps,this.url_=i.url,void 0!==i.loader?this.loader_=i.loader:void 0!==this.url_&&(Object(h["a"])(this.format_,7),this.loader_=Object(d["b"])(this.url_,this.format_)),this.strategy_=void 0!==i.strategy?i.strategy:g["all"];var r,o,a=void 0===i.useSpatialIndex||i.useSpatialIndex;this.featuresRtree_=a?new b["a"]:null,this.loadedExtentsRtree_=new b["a"],this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(i.features)?o=i.features:i.features&&(r=i.features,o=r.getArray()),a||void 0!==r||(r=new n["default"](o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==r&&this.bindFeaturesCollection_(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(r["c"])(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var n=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new w(_["a"].ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(c["listen"])(e,l["default"].CHANGE,this.handleFeatureChange_,this),Object(c["listen"])(e,a["a"].PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,r=e.getId();return void 0!==r?r.toString()in this.idIndex_?i=!1:this.idIndex_[r.toString()]=e:(Object(h["a"])(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],n=[],o=0,a=t.length;o<a;o++){var s=t[o],h=Object(r["c"])(s);this.addToIndex_(h,s)&&i.push(s)}for(var c=0,u=i.length;c<u;c++){var l=i[c],f=Object(r["c"])(l);this.setupChangeEvents_(f,l);var d=l.getGeometry();if(d){var p=d.getExtent();e.push(p),n.push(l)}else this.nullGeometryFeatures_[f]=l}this.featuresRtree_&&this.featuresRtree_.load(e,n);for(var g=0,v=i.length;g<v;g++)this.dispatchEvent(new w(_["a"].ADDFEATURE,i[g]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(c["listen"])(this,_["a"].ADDFEATURE,(function(i){e||(e=!0,t.push(i.feature),e=!1)})),Object(c["listen"])(this,_["a"].REMOVEFEATURE,(function(i){e||(e=!0,t.remove(i.feature),e=!1)})),Object(c["listen"])(t,o["a"].ADD,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}),this),Object(c["listen"])(t,o["a"].REMOVE,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}),this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var i=this.featureChangeKeys_[e];i.forEach(c["unlistenByKey"])}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new w(_["a"].CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,(function(i){var r=i.getGeometry();return r.intersectsCoordinate(t)?e(i):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(i){var r=i.getGeometry();if(r.intersectsExtent(t)){var n=e(i);if(n)return n}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(v["d"])(this.nullGeometryFeatures_)||Object(s["c"])(t,Object(v["c"])(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],r=t[1],n=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],h=e||p["b"];return this.featuresRtree_.forEachInExtent(s,(function(t){if(h(t)){var e=t.getGeometry(),c=a;if(a=e.closestPointXY(i,r,o,a),a<c){n=t;var u=Math.sqrt(a);s[0]=i-u,s[1]=r-u,s[2]=i+u,s[3]=r+u}}})),n},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(r["c"])(e),n=e.getGeometry();if(n){var o=n.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var a=e.getId();if(void 0!==a){var s=a.toString();i in this.undefIdIndex_?(delete this.undefIdIndex_[i],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else i in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[i]=e);this.changed(),this.dispatchEvent(new w(_["a"].CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(r["c"])(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(v["d"])(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,i){var r=this,n=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var a=function(t,a){var s=o[t],h=n.forEachInExtent(s,(function(t){return Object(f["containsExtent"])(t.extent,s)}));h||(r.loader_.call(r,s,e,i),n.insert(s,{extent:s.slice()}),r.loading=r.loader_!==p["c"])},s=0,h=o.length;s<h;++s)a(s,h)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,(function(i){if(Object(f["equals"])(i.extent,t))return e=i,!0})),e&&i.remove(e)},e.prototype.removeFeature=function(t){var e=Object(r["c"])(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(r["c"])(t);this.featureChangeKeys_[e].forEach(c["unlistenByKey"]),delete this.featureChangeKeys_[e];var i=t.getId();void 0!==i?delete this.idIndex_[i.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new w(_["a"].REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(y["a"]);e["default"]=x},dc84:function(t,e,i){"use strict";(function(e){var r=i("72d2"),n=i("ccd5"),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/,h="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",c=new RegExp("^"+h+"+");function u(t){return(t||"").toString().replace(c,"")}var l=[["#","hash"],["?","query"],function(t,e){return p(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function d(t){var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};var r=i.location||{};t=t||r;var n,a={},s=typeof t;if("blob:"===t.protocol)a=new y(unescape(t.pathname),{});else if("string"===s)for(n in a=new y(t,{}),f)delete a[n];else if("object"===s){for(n in t)n in f||(a[n]=t[n]);void 0===a.slashes&&(a.slashes=o.test(t.href))}return a}function p(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function g(t,e){t=u(t),e=e||{};var i,r=a.exec(t),n=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],h=0;return o?s?(i=r[2]+r[3]+r[4],h=r[2].length+r[3].length):(i=r[2]+r[4],h=r[2].length):s?(i=r[3]+r[4],h=r[3].length):i=r[4],"file:"===n?h>=2&&(i=i.slice(2)):p(n)?i=r[4]:n?o&&(i=i.slice(2)):h>=2&&p(e.protocol)&&(i=r[4]),{protocol:n,slashes:o||p(n),slashesCount:h,rest:i}}function v(t,e){if(""===t)return e;var i=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=i.length,n=i[r-1],o=!1,a=0;while(r--)"."===i[r]?i.splice(r,1):".."===i[r]?(i.splice(r,1),a++):a&&(0===r&&(o=!0),i.splice(r,1),a--);return o&&i.unshift(""),"."!==n&&".."!==n||i.push(""),i.join("/")}function y(t,e,i){if(t=u(t),!(this instanceof y))return new y(t,e,i);var o,a,h,c,f,m,_=l.slice(),b=typeof e,w=this,x=0;for("object"!==b&&"string"!==b&&(i=e,e=null),i&&"function"!==typeof i&&(i=n.parse),e=d(e),a=g(t||"",e),o=!a.protocol&&!a.slashes,w.slashes=a.slashes||o&&e.slashes,w.protocol=a.protocol||e.protocol||"",t=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||s.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!p(w.protocol)))&&(_[3]=[/(.*)/,"pathname"]);x<_.length;x++)c=_[x],"function"!==typeof c?(h=c[0],m=c[1],h!==h?w[m]=t:"string"===typeof h?~(f=t.indexOf(h))&&("number"===typeof c[2]?(w[m]=t.slice(0,f),t=t.slice(f+c[2])):(w[m]=t.slice(f),t=t.slice(0,f))):(f=h.exec(t))&&(w[m]=f[1],t=t.slice(0,f.index)),w[m]=w[m]||o&&c[3]&&e[m]||"",c[4]&&(w[m]=w[m].toLowerCase())):t=c(t,w);i&&(w.query=i(w.query)),o&&e.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==e.pathname)&&(w.pathname=v(w.pathname,e.pathname)),"/"!==w.pathname.charAt(0)&&p(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(c=w.auth.split(":"),w.username=c[0]||"",w.password=c[1]||""),w.origin="file:"!==w.protocol&&p(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}function m(t,e,i){var o=this;switch(t){case"query":"string"===typeof e&&e.length&&(e=(i||n.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!i;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";o[t]=e.charAt(0)!==a?a+e:e}else o[t]=e;break;default:o[t]=e}for(var s=0;s<l.length;s++){var h=l[s];h[4]&&(o[h[1]]=o[h[1]].toLowerCase())}return o.origin="file:"!==o.protocol&&p(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o}function _(t){t&&"function"===typeof t||(t=n.stringify);var e,i=this,r=i.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(i.slashes||p(i.protocol)?"//":"");return i.username&&(o+=i.username,i.password&&(o+=":"+i.password),o+="@"),o+=i.host+i.pathname,e="object"===typeof i.query?t(i.query):i.query,e&&(o+="?"!==e.charAt(0)?"?"+e:e),i.hash&&(o+=i.hash),o}y.prototype={set:m,toString:_},y.extractProtocol=g,y.location=d,y.trimLeft=u,y.qs=n,t.exports=y}).call(this,i("c8ba"))},dceb:function(t,e,i){"use strict";i("3601");var r=i("42ee"),n=i("c669"),o=i("6739"),a="toString",s=/./[a],h=function(t){i("bd47")(RegExp.prototype,a,t,!0)};i("b460")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?h((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?n.call(t):void 0)})):s.name!=a&&h((function(){return s.call(this)}))},dd26:function(t,e,i){"use strict";var r=i("1499"),n=i("0a36").EventEmitter,o=function(){};function a(t,e){o(t),n.call(this);var i=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(t,e){o("finish",t,e),i._chunkHandler(t,e),i.xo=null;var r=200===t?"network":"permanent";o("close",r),i.emit("close",null,r),i._cleanup()}))}r(a,n),a.prototype._chunkHandler=function(t,e){if(o("_chunkHandler",t),200===t&&e)for(var i=-1;;this.bufferPosition+=i+1){var r=e.slice(this.bufferPosition);if(i=r.indexOf("\n"),-1===i)break;var n=r.slice(0,i);n&&(o("message",n),this.emit("message",n))}},a.prototype._cleanup=function(){o("_cleanup"),this.removeAllListeners()},a.prototype.abort=function(){o("abort"),this.xo&&(this.xo.close(),o("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=a},dd68:function(t,e,i){"use strict";(function(e){var r,n,o=i("1ebb"),a=i("a87f"),s=function(){};function h(t){s("createIframe",t);try{return e.document.createElement('<iframe name="'+t+'">')}catch(r){var i=e.document.createElement("iframe");return i.name=t,i}}function c(){s("createForm"),r=e.document.createElement("form"),r.style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",n=e.document.createElement("textarea"),n.name="d",r.appendChild(n),e.document.body.appendChild(r)}t.exports=function(t,e,i){s(t,e),r||c();var u="a"+o.string(8);r.target=u,r.action=a.addQuery(a.addPath(t,"/jsonp_send"),"i="+u);var l=h(u);l.id=u,l.style.display="none",r.appendChild(l);try{n.value=e}catch(d){}r.submit();var f=function(t){s("completed",u,t),l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout((function(){s("cleaning up",u),l.parentNode.removeChild(l),l=null}),500),n.value="",i(t))};return l.onerror=function(){s("onerror",u),f()},l.onload=function(){s("onload",u),f()},l.onreadystatechange=function(t){s("onreadystatechange",u,l.readyState,t),"complete"===l.readyState&&f()},function(){s("aborted",u),f(new Error("Aborted"))}}}).call(this,i("c8ba"))},dde4:function(t,e,i){var r=i("0d63");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},dea7:function(t,e,i){"use strict";var r=function(){};t.exports=function(t){return{filterToEnabled:function(e,i){var n={main:[],facade:[]};return e?"string"===typeof e&&(e=[e]):e=[],t.forEach((function(t){t&&("websocket"!==t.transportName||!1!==i.websocket?e.length&&-1===e.indexOf(t.transportName)?r("not in whitelist",t.transportName):t.enabled(i)?(r("enabled",t.transportName),n.main.push(t),t.facadeTransport&&n.facade.push(t.facadeTransport)):r("disabled",t.transportName):r("disabled from server","websocket"))})),n}}}},df29:function(t,e,i){i("6397")("getOwnPropertyNames",(function(){return i("ec47").f}))},df7c:function(t,e,i){(function(t){function i(t,e){for(var i=0,r=t.length-1;r>=0;r--){var n=t[r];"."===n?t.splice(r,1):".."===n?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,i=0,r=-1,n=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!n){i=e+1;break}}else-1===r&&(n=!1,r=e+1);return-1===r?"":t.slice(i,r)}function n(t,e){if(t.filter)return t.filter(e);for(var i=[],r=0;r<t.length;r++)e(t[r],r,t)&&i.push(t[r]);return i}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=i(n(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),a="/"===o(t,-1);return t=i(n(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&a&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var n=r(t.split("/")),o=r(i.split("/")),a=Math.min(n.length,o.length),s=a,h=0;h<a;h++)if(n[h]!==o[h]){s=h;break}var c=[];for(h=s;h<n.length;h++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,r=-1,n=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!n){r=o;break}}else n=!1;return-1===r?i?"/":".":i&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var i=r(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,r=-1,n=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(n=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!n){i=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===i+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4362"))},df8c:function(t,e,i){"use strict";var r=i("0d63"),n=i("b460"),o=i("8e85"),a=1..toPrecision;r(r.P+r.F*(n((function(){return"1"!==a.call(1,void 0)}))||!n((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},df91:function(t,e,i){"use strict";e["a"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},df92:function(t,e,i){"use strict";(function(e){var i={};["log","debug","warn"].forEach((function(t){var r;try{r=e.console&&e.console[t]&&e.console[t].apply}catch(n){}i[t]=r?function(){return e.console[t].apply(e.console,arguments)}:"log"===t?function(){}:i.log})),t.exports=i}).call(this,i("c8ba"))},df9d:function(t,e,i){var r=i("0d63"),n=i("b03c"),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:n(t-1+o(t-1)*o(t+1))}})},dfa5:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},e01b:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("157d"),n=i("213f"),o=i("a0a2");function a(t,e,i){var r=4*(i*t.width+e),n=[];return n.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),n}function s(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function h(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function c(t,e){var i=a(t,0,0),r=a(t,t.width-1,0),n=a(t,0,t.height-1),o=a(t,t.width-1,t.height-1),c=e||10;if(s(i,r)<c&&s(r,o)<c&&s(o,n)<c&&s(n,i)<c){for(var u=h([r,i,o,n]),l=[],f=0;f<t.width*t.height;f++){var d=s(u,[t.data[4*f],t.data[4*f+1],t.data[4*f+2]]);l[f]=d<c?0:255}return l}}function u(t,e){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=e[i]}function l(t,e,i){for(var r=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(r.length)),o=Math.floor(n/2),a=[],s=0;s<i;s++)for(var h=0;h<e;h++){for(var c=s*e+h,u=0,l=0;l<n;l++)for(var f=0;f<n;f++){var d=s+l-o,p=h+f-o;if(d>=0&&d<i&&p>=0&&p<e){var g=d*e+p,v=r[l*n+f];u+=t[g]*v}}a[c]=2040===u?255:0}return a}function f(t,e,i){for(var r=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(r.length)),o=Math.floor(n/2),a=[],s=0;s<i;s++)for(var h=0;h<e;h++){for(var c=s*e+h,u=0,l=0;l<n;l++)for(var f=0;f<n;f++){var d=s+l-o,p=h+f-o;if(d>=0&&d<i&&p>=0&&p<e){var g=d*e+p,v=r[l*n+f];u+=t[g]*v}}a[c]=u>=1020?255:0}return a}function d(t,e,i){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],n=Math.round(Math.sqrt(r.length)),o=Math.floor(n/2),a=[],s=0;s<i;s++)for(var h=0;h<e;h++){for(var c=s*e+h,u=0,l=0;l<n;l++)for(var f=0;f<n;f++){var d=s+l-o,p=h+f-o;if(d>=0&&d<i&&p>=0&&p<e){var g=d*e+p,v=r[l*n+f];u+=t[g]*v}}a[c]=u}return a}e.Mask=function(t){var e=this.threshold(),i=c(t,e);return i&&(i=l(i,t.width,t.height),i=f(i,t.width,t.height),i=d(i,t.width,t.height),u(t,i)),t},r.Factory.addGetterSetter(n.Node,"threshold",0,o.getNumberValidator(),r.Factory.afterSetFilter)},e038:function(t,e){e.f=Object.getOwnPropertySymbols},e070:function(t,e,i){var r=i("0d63"),n=i("a036");r(r.S,"Math",{cbrt:function(t){return n(t=+t)*Math.pow(Math.abs(t),1/3)}})},e08c:function(t,e,i){var r=i("3ade");t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},e175:function(t,e,i){var r=i("0d63"),n=i("b506");r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},e1a6:function(t,e,i){"use strict";var r=i("42ee"),n=i("58d1"),o=i("9b0c"),a=i("e5bc");i("ebca")("match",1,(function(t,e,i,s){return[function(i){var r=t(this),n=void 0==i?void 0:i[e];return void 0!==n?n.call(i,r):new RegExp(i)[e](String(r))},function(t){var e=s(i,t,this);if(e.done)return e.value;var h=r(t),c=String(this);if(!h.global)return a(h,c);var u=h.unicode;h.lastIndex=0;var l,f=[],d=0;while(null!==(l=a(h,c))){var p=String(l[0]);f[d]=p,""===p&&(h.lastIndex=o(c,n(h.lastIndex),u)),d++}return 0===d?null:f}]}))},e245:function(t,e,i){i("dbc5")("Array")},e269:function(t,e,i){"use strict";var r=0;function n(t){return t.ol_uid||(t.ol_uid=String(++r))}var o={PROPERTYCHANGE:"propertychange"},a="function"===typeof Object.assign?Object.assign:function(t,e){var i=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1,o=arguments.length;n<o;++n){var a=i[n];if(void 0!==a&&null!==a)for(var s in a)a.hasOwnProperty(s)&&(r[s]=a[s])}return r};function s(t){for(var e in t)delete t[e]}function h(t){var e=function(e){var i=t.listener,r=t.bindTo||t.target;return t.callOnce&&y(t),i.call(r,e)};return t.boundListener=e,e}function c(t,e,i,r){for(var n,o=0,a=t.length;o<a;++o)if(n=t[o],n.listener===e&&n.bindTo===i)return r&&(n.deleteIndex=o),n}function u(t,e){var i=l(t);return i?i[e]:void 0}function l(t,e){var i=t.ol_lm;return!i&&e&&(i=t.ol_lm={}),i}function f(t){delete t.ol_lm}function d(t,e){var i=u(t,e);if(i){for(var r=0,n=i.length;r<n;++r)t.removeEventListener(e,i[r].boundListener),s(i[r]);i.length=0;var o=l(t);o&&(delete o[e],0===Object.keys(o).length&&f(t))}}function p(t,e,i,r,n){var o=l(t,!0),a=o[e];a||(a=o[e]=[]);var s=c(a,i,r,!1);return s?n||(s.callOnce=!1):(s={bindTo:r,callOnce:!!n,listener:i,target:t,type:e},t.addEventListener(e,h(s)),a.push(s)),s}function g(t,e,i,r){return p(t,e,i,r,!0)}function v(t,e,i,r){var n=u(t,e);if(n){var o=c(n,i,r,!0);o&&y(o)}}function y(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=u(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&d(t.target,t.type)}s(t)}}function m(t){var e=l(t);if(e)for(var i in e)d(t,i)}var _=function(){this.disposed_=!1};_.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},_.prototype.disposeInternal=function(){};var b=_;function w(){}var x=function(t){this.propagationStopped,this.type=t,this.target=null};x.prototype.preventDefault=function(){this.propagationStopped=!0},x.prototype.stopPropagation=function(){this.propagationStopped=!0};var S=x,E=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var i=this.listeners_[t];i||(i=this.listeners_[t]=[]),-1===i.indexOf(e)&&i.push(e)},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new S(t):t,i=e.type;e.target=this;var r,n=this.listeners_[i];if(n){i in this.dispatching_||(this.dispatching_[i]=0,this.pendingRemovals_[i]=0),++this.dispatching_[i];for(var o=0,a=n.length;o<a;++o)if(!1===n[o].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[i],0===this.dispatching_[i]){var s=this.pendingRemovals_[i];delete this.pendingRemovals_[i];while(s--)this.removeEventListener(i,w);delete this.dispatching_[i]}return r}},e.prototype.disposeInternal=function(){m(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var i=this.listeners_[t];if(i){var r=i.indexOf(e);t in this.pendingRemovals_?(i[r]=w,++this.pendingRemovals_[t]):(i.splice(r,1),0===i.length&&delete this.listeners_[t])}},e}(b),O=E,T={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},C=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(T.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=p(this,t[n],e);return r}return p(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=g(this,t[n],e);return r}return g(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)v(this,t[i],e);else v(this,t,e)},e}(O);var A=C,L=function(t){function e(e,i,r){t.call(this,e),this.key=i,this.oldValue=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(S),R=function(t){function e(e){t.call(this),n(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return a({},this.values_)},e.prototype.notify=function(t,e){var i;i=I(t),this.dispatchEvent(new L(i,t,e)),i=o.PROPERTYCHANGE,this.dispatchEvent(new L(i,t,e))},e.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},e}(A),M={};function I(t){return M.hasOwnProperty(t)?M[t]:M[t]="change:"+t}e["a"]=R},e289:function(t,e,i){"use strict";e["a"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},e2b0:function(t,e){t.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},e2ed:function(t,e,i){"use strict";var r=i("fd21"),n=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};n.prototype.clone=function(){return new n({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getSnapToPixel=function(){return!1},n.prototype.getAnchor=function(){return Object(r["b"])()},n.prototype.getImage=function(t){return Object(r["b"])()},n.prototype.getHitDetectionImage=function(t){return Object(r["b"])()},n.prototype.getImageState=function(){return Object(r["b"])()},n.prototype.getImageSize=function(){return Object(r["b"])()},n.prototype.getHitDetectionImageSize=function(){return Object(r["b"])()},n.prototype.getOrigin=function(){return Object(r["b"])()},n.prototype.getSize=function(){return Object(r["b"])()},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setSnapToPixel=function(t){},n.prototype.listenImageChange=function(t,e){return Object(r["b"])()},n.prototype.load=function(){Object(r["b"])()},n.prototype.unlistenImageChange=function(t,e){Object(r["b"])()},e["a"]=n},e33c:function(t,e,i){"use strict";function r(t,e){return[[-1/0,-1/0,1/0,1/0]]}function n(t,e){return[t]}function o(t){return function(e,i){var r=t.getZForResolution(i),n=t.getTileRangeForExtentAndZ(e,r),o=[],a=[r,0,0];for(a[1]=n.minX;a[1]<=n.maxX;++a[1])for(a[2]=n.minY;a[2]<=n.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}i.r(e),i.d(e,"all",(function(){return r})),i.d(e,"bbox",(function(){return n})),i.d(e,"tile",(function(){return o}))},e409:function(t,e,i){"use strict";e["a"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},e53d:function(t,e,i){"use strict";i.d(e,"b",(function(){return u}));var r=i("5f6b"),n=i("a273"),o=i("5537"),a=i("eee0"),s=i("4a3a"),h=i("d32d"),c=function(t){function e(e,i,r,n,o,a){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==n&&(this.image_.crossOrigin=n),this.canvas_=a?document.createElement("canvas"):null,this.color_=a,this.imageListenerKeys_=null,this.imageState_=o,this.size_=r,this.src_=i,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s["a"].LOADED){this.tainted_=!1;var t=Object(r["a"])(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(e){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a["default"].CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=s["a"].ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=s["a"].LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],i=this.size_[1],n=Object(r["a"])(e,i);n.fillRect(0,0,e,i),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==s["a"].IDLE){this.imageState_=s["a"].LOADING,this.imageListenerKeys_=[Object(n["listenOnce"])(this.image_,a["default"].ERROR,this.handleImageError_,this),Object(n["listenOnce"])(this.image_,a["default"].LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,r=this.color_[0]/255,n=this.color_[1]/255,o=this.color_[2]/255,a=0,s=i.length;a<s;a+=4)i[a]*=r,i[a+1]*=n,i[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(n["unlistenByKey"]),this.imageListenerKeys_=null},e}(o["a"]);function u(t,e,i,r,n,o){var a=h["a"].get(e,r,o);return a||(a=new c(t,e,i,r,n,o),h["a"].set(e,r,o,a)),a}e["a"]=c},e5bc:function(t,e,i){"use strict";var r=i("e860"),n=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var o=i.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},e5da:function(t,e,i){"use strict";var r=i("0d63"),n=i("37ff"),o=i("1bfb");r(r.P+r.F*i("b460")((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=n(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},e603:function(t,e,i){var r=i("bd47");t.exports=function(t,e,i){for(var n in e)r(t,n,e[n],i);return t}},e604:function(t,e,i){"use strict";var r=i("a6a2"),n=i("3f2c"),o=i("255f"),a=i("acdf"),s=function(t){function e(e){var i=e||{},n=Object(a["a"])({},i);delete n.preload,delete n.useInterimTilesOnError,t.call(this,n),this.setPreload(void 0!==i.preload?i.preload:0),this.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),this.type=r["a"].TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o["a"].PRELOAD)},e.prototype.setPreload=function(t){this.set(o["a"].PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o["a"].USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o["a"].USE_INTERIM_TILES_ON_ERROR,t)},e}(n["a"]);s.prototype.getSource,e["a"]=s},e620:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s}));var r=i("3d22");function n(t,e,i,n,a){var s=Object(r["forEachCorner"])(a,(function(r){return!o(t,e,i,n,r[0],r[1])}));return!s}function o(t,e,i,r,n,o){for(var a=0,s=t[i-r],h=t[i-r+1];e<i;e+=r){var c=t[e],u=t[e+1];h<=o?u>o&&(c-s)*(o-h)-(n-s)*(u-h)>0&&a++:u<=o&&(c-s)*(o-h)-(n-s)*(u-h)<0&&a--,s=c,h=u}return 0!==a}function a(t,e,i,r,n,a){if(0===i.length)return!1;if(!o(t,e,i[0],r,n,a))return!1;for(var s=1,h=i.length;s<h;++s)if(o(t,i[s-1],i[s],r,n,a))return!1;return!0}function s(t,e,i,r,n,o){if(0===i.length)return!1;for(var s=0,h=i.length;s<h;++s){var c=i[s];if(a(t,e,c,r,n,o))return!0;e=c[c.length-1]}return!1}},e683:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6b5:function(t,e,i){var r=i("0d63"),n=Math.imul;r(r.S+r.F*i("b460")((function(){return-5!=n(4294967295,5)||2!=n.length})),"Math",{imul:function(t,e){var i=65535,r=+t,n=+e,o=i&r,a=i&n;return 0|o*a+((i&r>>>16)*a+o*(i&n>>>16)<<16>>>0)}})},e6f7:function(t,e,i){"use strict";i.r(e),e["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},e71d:function(t,e,i){"use strict";i.r(e);var r=i("5e7b"),n=i("41ec"),o=i("f82c"),a=i("6646"),s=i("3d22"),h=i("136c"),c=i("dbf9"),u=i("79ff"),l=[0,0,0],f=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(n["a"])(Object(a["g"])(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,h=this.resolutions_.length-1;i<h;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(n["a"])(this.origins_.length==this.resolutions_.length,20));var c=t.extent;void 0===c||this.origin_||this.origins_||(this.origin_=Object(s["getTopLeft"])(c)),Object(n["a"])(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(n["a"])(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r["b"],Object(n["a"])(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==c?c:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var i=new o["b"](Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));return i}),this):c&&this.calculateTileRanges_(c)};f.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),n=r.minX,o=r.maxX;n<=o;++n)for(var a=r.minY,s=r.maxY;a<=s;++a)i([e,n,a])},f.prototype.forEachTileCoordParentTileRange=function(t,e,i,r,n){var a,s,h,c=null,u=t[0]-1;2===this.zoomFactor_?(s=t[1],h=t[2]):c=this.getTileCoordExtent(t,n);while(u>=this.minZoom){if(2===this.zoomFactor_?(s=Math.floor(s/2),h=Math.floor(h/2),a=Object(o["a"])(s,s,h,h,r)):a=this.getTileRangeForExtentAndZ(c,u,r),e.call(i,u,a))return!0;--u}return!1},f.prototype.getExtent=function(){return this.extent_},f.prototype.getMaxZoom=function(){return this.maxZoom},f.prototype.getMinZoom=function(){return this.minZoom},f.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},f.prototype.getResolution=function(t){return this.resolutions_[t]},f.prototype.getResolutions=function(){return this.resolutions_},f.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],n=2*t[2];return Object(o["a"])(r,r+1,n,n+1,e)}var a=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},f.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),n=this.getResolution(t),o=Object(c["d"])(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*o[0]*n,h=r[0]+(e.maxX+1)*o[0]*n,u=r[1]+e.minY*o[1]*n,l=r[1]+(e.maxY+1)*o[1]*n;return Object(s["createOrUpdate"])(a,u,h,l,i)},f.prototype.getTileRangeForExtentAndZ=function(t,e,i){var r=l;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var n=r[1],a=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),Object(o["a"])(n,r[1],a,r[2],i)},f.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(c["d"])(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]+(t[2]+.5)*r[1]*i]},f.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),n=Object(c["d"])(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*n[0]*r,a=i[1]+t[2]*n[1]*r,h=o+n[0]*r,u=a+n[1]*r;return Object(s["createOrUpdate"])(o,a,h,u,e)},f.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},f.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,n){var o=this.getZForResolution(i),a=i/this.getResolution(o),s=this.getOrigin(o),h=Object(c["d"])(this.getTileSize(o),this.tmpSize_),l=r?.5:0,f=r?0:.5,d=Math.floor((t-s[0])/i+l),p=Math.floor((e-s[1])/i+f),g=a*d/h[0],v=a*p/h[1];return r?(g=Math.ceil(g)-1,v=Math.ceil(v)-1):(g=Math.floor(g),v=Math.floor(v)),Object(u["a"])(o,g,v,n)},f.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,n){var o=this.getOrigin(i),a=this.getResolution(i),s=Object(c["d"])(this.getTileSize(i),this.tmpSize_),h=r?.5:0,l=r?0:.5,f=Math.floor((t-o[0])/a+h),d=Math.floor((e-o[1])/a+l),p=f/s[0],g=d/s[1];return r?(p=Math.ceil(p)-1,g=Math.ceil(g)-1):(p=Math.floor(p),g=Math.floor(g)),Object(u["a"])(i,p,g,n)},f.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},f.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},f.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},f.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},f.prototype.getZForResolution=function(t,e){var i=Object(a["h"])(this.resolutions_,t,e||0);return Object(h["a"])(i,this.minZoom,this.maxZoom)},f.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i},e["default"]=f},e792:function(t,e,i){"use strict";i("8366");var r=n(i("1d9f"));function n(t){return t&&t.__esModule?t:{default:t}}r["default"]._babelPolyfill&&"undefined"!==typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r["default"]._babelPolyfill=!0},e860:function(t,e,i){var r=i("dfa5"),n=i("9336")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),n))?i:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},e9ee:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return o})),i.d(e,"f",(function(){return a})),i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return h})),i.d(e,"g",(function(){return c}));var r="ol-hidden",n="ol-selectable",o="ol-unselectable",a="ol-unsupported",s="ol-control",h="ol-collapsed",c=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var r=t.fontFamily;if(t.font="",!r)return null;e[i]=r.split(/,\s?/)}return e[i]}}()},ea05:function(t,e,i){var r=i("9a27"),n=i("154b"),o=i("ceb6"),a=i("1bfb"),s=i("7e33"),h=i("ea28"),c=Object.getOwnPropertyDescriptor;e.f=i("6739")?c:function(t,e){if(t=o(t),e=a(e,!0),h)try{return c(t,e)}catch(i){}if(s(t,e))return n(!r.f.call(t,e),t[e])}},ea28:function(t,e,i){t.exports=!i("6739")&&!i("b460")((function(){return 7!=Object.defineProperty(i("2551")("div"),"a",{get:function(){return 7}}).a}))},ea9b:function(t,e,i){var r=i("255a"),n=i("887c"),o=i("0f26").f,a=i("993b").f,s=i("169a"),h=i("c669"),c=r.RegExp,u=c,l=c.prototype,f=/a/g,d=/a/g,p=new c(f)!==f;if(i("6739")&&(!p||i("b460")((function(){return d[i("9336")("match")]=!1,c(f)!=f||c(d)==d||"/a/i"!=c(f,"i")})))){c=function(t,e){var i=this instanceof c,r=s(t),o=void 0===e;return!i&&r&&t.constructor===c&&o?t:n(p?new u(r&&!o?t.source:t,e):u((r=t instanceof c)?t.source:t,r&&o?h.call(t):e),i?this:l,c)};for(var g=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},v=a(u),y=0;v.length>y;)g(v[y++]);l.constructor=c,c.prototype=l,i("bd47")(r,"RegExp",c)}i("dbc5")("RegExp")},eaf3:function(t,e,i){"use strict";var r=i("0d63"),n=i("65e5"),o=i("37ff"),a=i("58d1"),s=i("7480"),h=i("10cf");r(r.P,"Array",{flatMap:function(t){var e,i,r=o(this);return s(t),e=a(r.length),i=h(r,0),n(i,r,r,e,0,1,t,arguments[1]),i}}),i("7671")("flatMap")},eafb:function(t,e,i){"use strict";e["a"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},ebca:function(t,e,i){"use strict";i("3a89");var r=i("bd47"),n=i("c3fa"),o=i("b460"),a=i("6744"),s=i("9336"),h=i("12c1"),c=s("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var f=s(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=d?!o((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[f](""),!e})):void 0;if(!d||!p||"replace"===t&&!u||"split"===t&&!l){var g=/./[f],v=i(a,f,""[t],(function(t,e,i,r,n){return e.exec===h?d&&!n?{done:!0,value:g.call(e,i,r)}:{done:!0,value:t.call(i,e,r)}:{done:!1}})),y=v[0],m=v[1];r(String.prototype,t,y),n(RegExp.prototype,f,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}}},ebfc:function(t,e,i){(function(e){t.exports=e.EventSource}).call(this,i("c8ba"))},ec26:function(t,e,i){var r=i("7480"),n=i("37ff"),o=i("2635"),a=i("58d1");t.exports=function(t,e,i,s,h){r(e);var c=n(t),u=o(c),l=a(c.length),f=h?l-1:0,d=h?-1:1;if(i<2)for(;;){if(f in u){s=u[f],f+=d;break}if(f+=d,h?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;h?f>=0:l>f;f+=d)f in u&&(s=e(s,u[f],f,c));return s}},ec47:function(t,e,i){var r=i("ceb6"),n=i("993b").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return n(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):n(r(t))}},ec9a:function(t,e,i){"use strict";i.d(e,"b",(function(){return h})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"e",(function(){return l})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return d}));var r=i("0acf"),n=i("4641"),o=i("1714"),a=i("136c"),s=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o["a"].ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o["a"].ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(r["default"]);function h(t,e,i){var r=t.getCenter();if(r){var o=t.constrainCenter([r[0]+e[0],r[1]+e[1]]);i?t.animate({duration:i,easing:n["linear"],center:o}):t.setCenter(o)}}function c(t,e,i,r){e=t.constrainRotation(e,0),u(t,e,i,r)}function u(t,e,i,r){if(void 0!==e){var o=t.getRotation(),a=t.getCenter();void 0!==o&&a&&r>0?t.animate({rotation:e,anchor:i,duration:r,easing:n["easeOut"]}):t.rotate(e,i)}}function l(t,e,i,r,n){e=t.constrainResolution(e,0,n),d(t,e,i,r)}function f(t,e,i,r){var n=t.getResolution(),o=t.constrainResolution(n,e,0);if(void 0!==o){var s=t.getResolutions();o=Object(a["a"])(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(i&&void 0!==o&&o!==n){var h=t.getCenter(),c=t.calculateCenterZoom(o,i);c=t.constrainCenter(c),i=[(o*h[0]-n*c[0])/(o-n),(o*h[1]-n*c[1])/(o-n)]}d(t,o,i,r)}function d(t,e,i,r){if(e){var o=t.getResolution(),a=t.getCenter();if(void 0!==o&&a&&e!==o&&r)t.animate({resolution:e,anchor:i,duration:r,easing:n["easeOut"]});else{if(i){var s=t.calculateCenterZoom(e,i);t.setCenter(s)}t.setResolution(e)}}}e["a"]=s},ecb4:function(t,e,i){var r=i("0d63"),n=i("ad06"),o=i("42ee");r(r.S,"Reflect",{getPrototypeOf:function(t){return n(o(t))}})},ed0d:function(t,e,i){var r=i("cdf9");i("6397")("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},eda1:function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return w})),i.d(e,"Utm",(function(){return x})),i.d(e,"LatLon",(function(){return S})),i.d(e,"Dms",(function(){return o}));let r="";class n{static get separator(){return r}static set separator(t){r=t}static parse(t){if(!isNaN(parseFloat(t))&&isFinite(t))return Number(t);const e=String(t).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==e[e.length-1]&&e.splice(e.length-1),""==e)return NaN;let i=null;switch(e.length){case 3:i=e[0]/1+e[1]/60+e[2]/3600;break;case 2:i=e[0]/1+e[1]/60;break;case 1:i=e[0];break;default:return NaN}return/^-|[WS]$/i.test(t.trim())&&(i=-i),Number(i)}static toDms(t,e="d",i){if(isNaN(t))return null;if("string"==typeof t&&""==t.trim())return null;if("boolean"==typeof t)return null;if(t==1/0)return null;if(null==t)return null;if(void 0===i)switch(e){case"d":case"deg":i=4;break;case"dm":case"deg+min":i=2;break;case"dms":case"deg+min+sec":i=0;break;default:e="d",i=4;break}t=Math.abs(t);let r=null,o=null,a=null,s=null;switch(e){default:case"d":case"deg":o=t.toFixed(i),o<100&&(o="0"+o),o<10&&(o="0"+o),r=o+"";break;case"dm":case"deg+min":o=Math.floor(t),a=(60*t%60).toFixed(i),60==a&&(a=(0).toFixed(i),o++),o=("000"+o).slice(-3),a<10&&(a="0"+a),r=o+""+n.separator+a+"";break;case"dms":case"deg+min+sec":o=Math.floor(t),a=Math.floor(3600*t/60)%60,s=(3600*t%60).toFixed(i),60==s&&(s=(0).toFixed(i),a++),60==a&&(a=0,o++),o=("000"+o).slice(-3),a=("00"+a).slice(-2),s<10&&(s="0"+s),r=o+""+n.separator+a+""+n.separator+s+"";break}return r}static toLat(t,e,i){const r=n.toDms(n.wrap90(t),e,i);return null===r?"":r.slice(1)+n.separator+(t<0?"S":"N")}static toLon(t,e,i){const r=n.toDms(n.wrap180(t),e,i);return null===r?"":r+n.separator+(t<0?"W":"E")}static toBrng(t,e,i){const r=n.toDms(n.wrap360(t),e,i);return null===r?"":r.replace("360","0")}static fromLocale(t){const e=123456.789.toLocaleString(),i={thousands:e.slice(3,4),decimal:e.slice(7,8)};return t.replace(i.thousands,"").replace(i.decimal,".").replace("",",")}static toLocale(t){const e=123456.789.toLocaleString(),i={thousands:e.slice(3,4),decimal:e.slice(7,8)};return t.replace(/,([0-9])/,"$1").replace(".",i.decimal).replace("",i.thousands)}static compassPoint(t,e=3){if(![1,2,3].includes(Number(e)))throw new RangeError(`invalid precision ${e}`);t=n.wrap360(t);const i=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],r=4*2**(e-1),o=i[Math.round(t*r/360)%r*16/r];return o}static wrap360(t){return 0<=t&&t<360?t:(t%360+360)%360}static wrap180(t){return-180<t&&t<=180?t:(t+540)%360-180}static wrap90(t){return-90<=t&&t<=90?t:Math.abs((t%360+270)%360-180)-90}}Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};var o=n;class a{constructor(t,e,i){if(isNaN(t)||isNaN(t)||isNaN(t))throw new TypeError(`invalid vector [${t},${e},${i}]`);this.x=Number(t),this.y=Number(e),this.z=Number(i)}get length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}plus(t){if(!(t instanceof a))throw new TypeError("v is not Vector3d object");return new a(this.x+t.x,this.y+t.y,this.z+t.z)}minus(t){if(!(t instanceof a))throw new TypeError("v is not Vector3d object");return new a(this.x-t.x,this.y-t.y,this.z-t.z)}times(t){if(isNaN(t))throw new TypeError(`invalid scalar value ${t}`);return new a(this.x*t,this.y*t,this.z*t)}dividedBy(t){if(isNaN(t))throw new TypeError(`invalid scalar value ${t}`);return new a(this.x/t,this.y/t,this.z/t)}dot(t){if(!(t instanceof a))throw new TypeError("v is not Vector3d object");return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){if(!(t instanceof a))throw new TypeError("v is not Vector3d object");const e=this.y*t.z-this.z*t.y,i=this.z*t.x-this.x*t.z,r=this.x*t.y-this.y*t.x;return new a(e,i,r)}negate(){return new a(-this.x,-this.y,-this.z)}unit(){const t=this.length;if(1==t)return this;if(0==t)return this;const e=this.x/t,i=this.y/t,r=this.z/t;return new a(e,i,r)}angleTo(t,e){if(!(t instanceof a))throw new TypeError("v is not Vector3d object");if(!(e instanceof a||void 0==e))throw new TypeError("n is not Vector3d object");const i=void 0==e||this.cross(t).dot(e)>=0?1:-1,r=this.cross(t).length*i,n=this.dot(t);return Math.atan2(r,n)}rotateAround(t,e){if(!(t instanceof a))throw new TypeError("axis is not Vector3d object");const i=e.toRadians(),r=this.unit(),n=t.unit(),o=Math.sin(i),s=Math.cos(i),h=1-s,c=n.x,u=n.y,l=n.z,f=[[h*c*c+s,h*c*u-o*l,h*c*l+o*u],[h*c*u+o*l,h*u*u+s,h*u*l-o*c],[h*c*l-o*u,h*u*l+o*c,h*l*l+s]],d=[f[0][0]*r.x+f[0][1]*r.y+f[0][2]*r.z,f[1][0]*r.x+f[1][1]*r.y+f[1][2]*r.z,f[2][0]*r.x+f[2][1]*r.y+f[2][2]*r.z],p=new a(d[0],d[1],d[2]);return p}toString(t=3){return`[${this.x.toFixed(t)},${this.y.toFixed(t)},${this.z.toFixed(t)}]`}}Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};var s=a;const h={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563}},c={WGS84:{ellipsoid:h.WGS84}};Object.freeze(h.WGS84),Object.freeze(c.WGS84);class u{constructor(t,e,i=0){if(isNaN(t))throw new TypeError(`invalid lat ${t}`);if(isNaN(e))throw new TypeError(`invalid lon ${e}`);if(isNaN(i))throw new TypeError(`invalid height ${i}`);this._lat=o.wrap90(Number(t)),this._lon=o.wrap180(Number(e)),this._height=Number(i)}get lat(){return this._lat}get latitude(){return this._lat}set lat(t){if(this._lat=isNaN(t)?o.wrap90(o.parse(t)):o.wrap90(Number(t)),isNaN(this._lat))throw new TypeError(`invalid lat ${t}`)}set latitude(t){if(this._lat=isNaN(t)?o.wrap90(o.parse(t)):o.wrap90(Number(t)),isNaN(this._lat))throw new TypeError(`invalid latitude ${t}`)}get lon(){return this._lon}get lng(){return this._lon}get longitude(){return this._lon}set lon(t){if(this._lon=isNaN(t)?o.wrap180(o.parse(t)):o.wrap180(Number(t)),isNaN(this._lon))throw new TypeError(`invalid lon ${t}`)}set lng(t){if(this._lon=isNaN(t)?o.wrap180(o.parse(t)):o.wrap180(Number(t)),isNaN(this._lon))throw new TypeError(`invalid lng ${t}`)}set longitude(t){if(this._lon=isNaN(t)?o.wrap180(o.parse(t)):o.wrap180(Number(t)),isNaN(this._lon))throw new TypeError(`invalid longitude ${t}`)}get height(){return this._height}set height(t){if(this._height=Number(t),isNaN(this._height))throw new TypeError(`invalid height ${t}`)}get datum(){return this._datum}set datum(t){this._datum=t}static get ellipsoids(){return h}static get datums(){return c}static parse(...t){if(0==t.length)throw new TypeError("invalid (empty) point");let e=void 0,i=void 0,r=void 0;if("object"==typeof t[0]&&(1==t.length||!isNaN(parseFloat(t[1])))){const n=t[0];if("Point"==n.type&&Array.isArray(n.coordinates)?([i,e,r]=n.coordinates,r=r||0):(void 0!=n.latitude&&(e=n.latitude),void 0!=n.lat&&(e=n.lat),void 0!=n.longitude&&(i=n.longitude),void 0!=n.lng&&(i=n.lng),void 0!=n.lon&&(i=n.lon),void 0!=n.height&&(r=n.height),e=o.wrap90(o.parse(e)),i=o.wrap180(o.parse(i))),void 0!=t[1]&&(r=t[1]),isNaN(e)||isNaN(i))throw new TypeError(`invalid point ${JSON.stringify(t[0])}`)}if("string"==typeof t[0]&&2==t[0].split(",").length&&([e,i]=t[0].split(","),e=o.wrap90(o.parse(e)),i=o.wrap180(o.parse(i)),r=t[1]||0,isNaN(e)||isNaN(i)))throw new TypeError(`invalid point ${t[0]}`);if(void 0==e&&void 0==i&&([e,i]=t,e=o.wrap90(o.parse(e)),i=o.wrap180(o.parse(i)),r=t[2]||0,isNaN(e)||isNaN(i)))throw new TypeError(`invalid point ${t.toString()}`);return new this(e,i,r)}toCartesian(){const t=this.datum?this.datum.ellipsoid:this.referenceFrame?this.referenceFrame.ellipsoid:h.WGS84,e=this.lat.toRadians(),i=this.lon.toRadians(),r=this.height,{a:n,f:o}=t,a=Math.sin(e),s=Math.cos(e),c=Math.sin(i),u=Math.cos(i),f=2*o-o*o,d=n/Math.sqrt(1-f*a*a),p=(d+r)*s*u,g=(d+r)*s*c,v=(d*(1-f)+r)*a;return new l(p,g,v)}equals(t){if(!(t instanceof u))throw new TypeError(`invalid point ${t}`);return!(Math.abs(this.lat-t.lat)>Number.EPSILON)&&(!(Math.abs(this.lon-t.lon)>Number.EPSILON)&&(!(Math.abs(this.height-t.height)>Number.EPSILON)&&(this.datum==t.datum&&(this.referenceFrame==t.referenceFrame&&this.epoch==t.epoch))))}toString(t="d",e,i=null){if(!["d","dm","dms","n"].includes(t))throw new RangeError(`invalid format ${t}`);const r=(this.height>=0?" +":" ")+this.height.toFixed(i)+"m";if("n"==t){void 0==e&&(e=4);const t=this.lat.toFixed(e),n=this.lon.toFixed(e);return`${t}, ${n}${null==i?"":r}`}const n=o.toLat(this.lat,t,e),a=o.toLon(this.lon,t,e);return`${n}, ${a}${null==i?"":r}`}}class l extends s{constructor(t,e,i){super(t,e,i)}toLatLon(t=h.WGS84){if(!t||!t.a)throw new TypeError(`invalid ellipsoid ${t}`);const{x:e,y:i,z:r}=this,{a:n,b:o,f:a}=t,s=2*a-a*a,c=s/(1-s),l=Math.sqrt(e*e+i*i),f=Math.sqrt(l*l+r*r),d=o*r/(n*l)*(1+c*o/f),p=d/Math.sqrt(1+d*d),g=p/d,v=isNaN(g)?0:Math.atan2(r+c*o*p*p*p,l-s*n*g*g*g),y=Math.atan2(i,e),m=Math.sin(v),_=Math.cos(v),b=n/Math.sqrt(1-s*m*m),w=l*_+r*m-n*n/b,x=new u(v.toDegrees(),y.toDegrees(),w);return x}toString(t=0){const e=this.x.toFixed(t),i=this.y.toFixed(t),r=this.z.toFixed(t);return`[${e},${i},${r}]`}}const f={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563},Airy1830:{a:6377563.396,b:6356256.909,f:1/299.3249646},AiryModified:{a:6377340.189,b:6356034.448,f:1/299.3249646},Bessel1841:{a:6377397.155,b:6356078.962818,f:1/299.1528128},Clarke1866:{a:6378206.4,b:6356583.8,f:1/294.978698214},Clarke1880IGN:{a:6378249.2,b:6356515,f:1/293.466021294},GRS80:{a:6378137,b:6356752.31414,f:1/298.257222101},Intl1924:{a:6378388,b:6356911.946,f:1/297},WGS72:{a:6378135,b:6356750.5,f:1/298.26}},d={ED50:{ellipsoid:f.Intl1924,transform:[89.5,93.8,123.1,-1.2,0,0,.156]},ETRS89:{ellipsoid:f.GRS80,transform:[0,0,0,0,0,0,0]},Irl1975:{ellipsoid:f.AiryModified,transform:[-482.53,130.596,-564.557,-8.15,1.042,.214,.631]},NAD27:{ellipsoid:f.Clarke1866,transform:[8,-160,-176,0,0,0,0]},NAD83:{ellipsoid:f.GRS80,transform:[.9956,-1.9103,-.5215,-62e-5,.025915,.009426,.011599]},NTF:{ellipsoid:f.Clarke1880IGN,transform:[168,60,-320,0,0,0,0]},OSGB36:{ellipsoid:f.Airy1830,transform:[-446.448,125.157,-542.06,20.4894,-.1502,-.247,-.8421]},Potsdam:{ellipsoid:f.Bessel1841,transform:[-582,-105,-414,-8.3,1.04,.35,-3.08]},TokyoJapan:{ellipsoid:f.Bessel1841,transform:[148,-507,-685,0,0,0,0]},WGS72:{ellipsoid:f.WGS72,transform:[0,0,-4.5,-.22,0,0,.554]},WGS84:{ellipsoid:f.WGS84,transform:[0,0,0,0,0,0,0]}};Object.keys(f).forEach(t=>Object.freeze(f[t])),Object.keys(d).forEach(t=>{Object.freeze(d[t]),Object.freeze(d[t].transform)});class p extends u{constructor(t,e,i=0,r=d.WGS84){if(!r||void 0==r.ellipsoid)throw new TypeError(`unrecognised datum ${r}`);super(t,e,i),this._datum=r}get datum(){return this._datum}static get ellipsoids(){return f}static get datums(){return d}static parse(...t){let e=d.WGS84;if((4==t.length||3==t.length&&"object"==typeof t[2])&&(e=t.pop()),!e||void 0==e.ellipsoid)throw new TypeError(`unrecognised datum ${e}`);const i=super.parse(...t);return i._datum=e,i}convertDatum(t){if(!t||void 0==t.ellipsoid)throw new TypeError(`unrecognised datum ${t}`);const e=this.toCartesian(),i=e.convertDatum(t),r=i.toLatLon();return r}toCartesian(){const t=super.toCartesian(),e=new g(t.x,t.y,t.z,this.datum);return e}}class g extends l{constructor(t,e,i,r){if(r&&void 0==r.ellipsoid)throw new TypeError(`unrecognised datum ${r}`);super(t,e,i),r&&(this._datum=r)}get datum(){return this._datum}set datum(t){if(!t||void 0==t.ellipsoid)throw new TypeError(`unrecognised datum ${t}`);this._datum=t}toLatLon(t){t&&(console.info("datum parameter to Cartesian_Datum.toLatLon is deprecated: set datum before calling toLatLon()"),this.datum=t);const e=this.datum||d.WGS84;if(!e||void 0==e.ellipsoid)throw new TypeError(`unrecognised datum ${e}`);const i=super.toLatLon(e.ellipsoid),r=new p(i.lat,i.lon,i.height,this.datum);return r}convertDatum(t){if(!t||void 0==t.ellipsoid)throw new TypeError(`unrecognised datum ${t}`);if(!this.datum)throw new TypeError("cartesian coordinate has no datum");let e=null,i=null;void 0!=this.datum&&this.datum!=d.WGS84||(e=this,i=t.transform),t==d.WGS84&&(e=this,i=this.datum.transform.map(t=>-t)),null==i&&(e=this.convertDatum(d.WGS84),i=t.transform);const r=e.applyTransform(i);return r.datum=t,r}applyTransform(t){const{x:e,y:i,z:r}=this,n=t[0],o=t[1],a=t[2],s=t[3]/1e6+1,h=(t[4]/3600).toRadians(),c=(t[5]/3600).toRadians(),u=(t[6]/3600).toRadians(),l=n+e*s-i*u+r*c,f=o+e*u+i*s-r*h,d=a-e*c+i*h+r*s;return new g(l,f,d)}}class v{constructor(t,e,i,r,n=p.datums.WGS84,o=null,a=null,s=!0){if(!(1<=t&&t<=60))throw new RangeError(`invalid UTM zone ${t}`);if(t!=parseInt(t))throw new RangeError(`invalid UTM zone ${t}`);if("string"!=typeof e||!e.match(/[NS]/i))throw new RangeError(`invalid UTM hemisphere ${e}`);if(s){if(!(0<=i&&i<=1e6))throw new RangeError(`invalid UTM easting ${i}`);if("N"==e.toUpperCase()&&!(0<=r&&r<9328094))throw new RangeError(`invalid UTM northing ${r}`);if("S"==e.toUpperCase()&&!(1118414<r&&r<=1e7))throw new RangeError(`invalid UTM northing ${r}`)}if(!n||void 0==n.ellipsoid)throw new TypeError(`unrecognised datum ${n}`);this.zone=Number(t),this.hemisphere=e.toUpperCase(),this.easting=Number(i),this.northing=Number(r),this.datum=n,this.convergence=null===o?null:Number(o),this.scale=null===a?null:Number(a)}toLatLon(){const{zone:t,hemisphere:e}=this,i=5e5,r=1e7,{a:n,f:o}=this.datum.ellipsoid,a=.9996,s=this.easting-i,h="S"==e?this.northing-r:this.northing,c=Math.sqrt(o*(2-o)),u=o/(2-o),l=u*u,f=u*l,d=u*f,p=u*d,g=u*p,v=n/(1+u)*(1+1/4*l+1/64*d+1/256*g),m=s/(a*v),_=h/(a*v),b=[null,.5*u-2/3*l+37/96*f-1/360*d-81/512*p+96199/604800*g,1/48*l+1/15*f-437/1440*d+46/105*p-1118711/3870720*g,17/480*f-37/840*d-209/4480*p+5569/90720*g,4397/161280*d-11/504*p-830251/7257600*g,4583/161280*p-108847/3991680*g,20648693/638668800*g];let w=_;for(let y=1;y<=6;y++)w-=b[y]*Math.sin(2*y*_)*Math.cosh(2*y*m);let x=m;for(let y=1;y<=6;y++)x-=b[y]*Math.cos(2*y*_)*Math.sinh(2*y*m);const S=Math.sinh(x),E=Math.sin(w),O=Math.cos(w),T=E/Math.sqrt(S*S+O*O);let C=null,A=T;do{const t=Math.sinh(c*Math.atanh(c*A/Math.sqrt(1+A*A))),e=A*Math.sqrt(1+t*t)-t*Math.sqrt(1+A*A);C=(T-e)/Math.sqrt(1+e*e)*(1+(1-c*c)*A*A)/((1-c*c)*Math.sqrt(1+A*A)),A+=C}while(Math.abs(C)>1e-12);const L=A,R=Math.atan(L);let M=Math.atan2(S,O),I=1;for(let y=1;y<=6;y++)I-=2*y*b[y]*Math.cos(2*y*_)*Math.cosh(2*y*m);let P=0;for(let y=1;y<=6;y++)P+=2*y*b[y]*Math.sin(2*y*_)*Math.sinh(2*y*m);const N=Math.atan(Math.tan(w)*Math.tanh(x)),F=Math.atan2(P,I),k=N+F,j=Math.sin(R),D=Math.sqrt(1-c*c*j*j)*Math.sqrt(1+L*L)*Math.sqrt(S*S+O*O),G=v/n/Math.sqrt(I*I+P*P),B=a*D*G,U=(6*(t-1)-180+3).toRadians();M+=U;const z=Number(R.toDegrees().toFixed(14)),q=Number(M.toDegrees().toFixed(14)),V=Number(k.toDegrees().toFixed(9)),H=Number(B.toFixed(12)),W=new y(z,q,0,this.datum);return W.convergence=V,W.scale=H,W}static parse(t,e=p.datums.WGS84){if(t=t.trim().match(/\S+/g),null==t||4!=t.length)throw new Error(`invalid UTM coordinate ${t}`);const i=t[0],r=t[1],n=t[2],o=t[3];return new this(i,r,n,o,e)}toString(t=0){const e=this.zone.toString().padStart(2,"0"),i=this.hemisphere,r=this.easting.toFixed(t),n=this.northing.toFixed(t);return`${e} ${i} ${r} ${n}`}}class y extends p{toUtm(t){if(!(-80<=this.lat&&this.lat<=84))throw new RangeError(`latitude ${this.lat} outside UTM limits`);const e=5e5,i=1e7;let r=t||Math.floor((this.lon+180)/6)+1,n=(6*(r-1)-180+3).toRadians();const o="CDEFGHJKLMNPQRSTUVWXX",a=o.charAt(Math.floor(this.lat/8+10));31==r&&"V"==a&&this.lon>=3&&(r++,n+=6..toRadians()),32==r&&"X"==a&&this.lon<9&&(r--,n-=6..toRadians()),32==r&&"X"==a&&this.lon>=9&&(r++,n+=6..toRadians()),34==r&&"X"==a&&this.lon<21&&(r--,n-=6..toRadians()),34==r&&"X"==a&&this.lon>=21&&(r++,n+=6..toRadians()),36==r&&"X"==a&&this.lon<33&&(r--,n-=6..toRadians()),36==r&&"X"==a&&this.lon>=33&&(r++,n+=6..toRadians());const s=this.lat.toRadians(),h=this.lon.toRadians()-n,c=this.datum?this.datum.ellipsoid:p.ellipsoids.WGS84,{a:u,f:l}=c,f=.9996,d=Math.sqrt(l*(2-l)),g=l/(2-l),y=g*g,m=g*y,_=g*m,b=g*_,w=g*b,x=Math.cos(h),S=Math.sin(h),E=Math.tan(h),O=Math.tan(s),T=Math.sinh(d*Math.atanh(d*O/Math.sqrt(1+O*O))),C=O*Math.sqrt(1+T*T)-T*Math.sqrt(1+O*O),A=Math.atan2(C,x),L=Math.asinh(S/Math.sqrt(C*C+x*x)),R=u/(1+g)*(1+1/4*y+1/64*_+1/256*w),M=[null,.5*g-2/3*y+5/16*m+41/180*_-127/288*b+7891/37800*w,13/48*y-.6*m+557/1440*_+281/630*b-1983433/1935360*w,61/240*m-103/140*_+15061/26880*b+167603/181440*w,49561/161280*_-179/168*b+6601661/7257600*w,34729/80640*b-3418889/1995840*w,.6650675310896665*w];let I=A;for(let p=1;p<=6;p++)I+=M[p]*Math.sin(2*p*A)*Math.cosh(2*p*L);let P=L;for(let p=1;p<=6;p++)P+=M[p]*Math.cos(2*p*A)*Math.sinh(2*p*L);let N=f*R*P,F=f*R*I,k=1;for(let p=1;p<=6;p++)k+=2*p*M[p]*Math.cos(2*p*A)*Math.cosh(2*p*L);let j=0;for(let p=1;p<=6;p++)j+=2*p*M[p]*Math.sin(2*p*A)*Math.sinh(2*p*L);const D=Math.atan(C/Math.sqrt(1+C*C)*E),G=Math.atan2(j,k),B=D+G,U=Math.sin(s),z=Math.sqrt(1-d*d*U*U)*Math.sqrt(1+O*O)/Math.sqrt(C*C+x*x),q=R/u*Math.sqrt(k*k+j*j),V=f*z*q;N+=e,F<0&&(F+=i),N=Number(N.toFixed(9)),F=Number(F.toFixed(9));const H=Number(B.toDegrees().toFixed(9)),W=Number(V.toFixed(12)),Y=this.lat>=0?"N":"S";return new v(r,Y,N,F,this.datum,H,W,!!t)}}const m="CDEFGHJKLMNPQRSTUVWXX",_=["ABCDEFGH","JKLMNPQR","STUVWXYZ"],b=["ABCDEFGHJKLMNPQRSTUV","FGHJKLMNPQRSTUVABCDE"];class w{constructor(t,e,i,r,n,o,a=y.datums.WGS84){if(!(1<=t&&t<=60))throw new RangeError(`invalid MGRS zone ${t}`);if(t!=parseInt(t))throw new RangeError(`invalid MGRS zone ${t}`);const s=[];if(1==e.length&&-1!=m.indexOf(e)||s.push(`invalid MGRS band ${e}`),1==i.length&&-1!=_[(t-1)%3].indexOf(i)||s.push(`invalid MGRS 100km grid square column ${i} for zone ${t}`),1==r.length&&-1!=b[0].indexOf(r)||s.push(`invalid MGRS 100km grid square row ${r}`),isNaN(Number(n))&&s.push(`invalid MGRS easting ${n}`),isNaN(Number(o))&&s.push(`invalid MGRS northing ${o}`),a&&void 0!=a.ellipsoid||s.push(`unrecognised datum ${a}`),s.length>0)throw new RangeError(s.join(", "));this.zone=Number(t),this.band=e,this.e100k=i,this.n100k=r,this.easting=Number(n),this.northing=Number(o),this.datum=a}toUtm(){const t=this.band>="N"?"N":"S",e=_[(this.zone-1)%3].indexOf(this.e100k)+1,i=1e5*e,r=b[(this.zone-1)%2].indexOf(this.n100k),n=1e5*r,o=8*(m.indexOf(this.band)-10),a=1e5*Math.floor(new y(o,3).toUtm().northing/1e5);let s=0;while(s+n+this.northing<a)s+=2e6;return new x(this.zone,t,i+this.easting,s+n+this.northing,this.datum)}static parse(t){if(!t)throw new Error(`invalid MGRS grid reference ${t}`);if(!t.trim().match(/\s/)){if(!Number(t.slice(0,2)))throw new Error(`invalid MGRS grid reference ${t}`);let e=t.trim().slice(5);e=e.slice(0,e.length/2)+" "+e.slice(-e.length/2),t=t.slice(0,3)+" "+t.slice(3,5)+" "+e}const e=t.match(/\S+/g);if(null==e||4!=e.length)throw new Error(`invalid MGRS grid reference ${t}`);const i=e[0],r=i.slice(0,2),n=i.slice(2,3),o=e[1],a=o.slice(0,1),s=o.slice(1,2);let h=e[2],c=e[3];return h=h.length>=5?h:(h+"00000").slice(0,5),c=c.length>=5?c:(c+"00000").slice(0,5),new w(r,n,a,s,h,c)}toString(t=10){if(![2,4,6,8,10].includes(Number(t)))throw new RangeError(`invalid precision ${t}`);const{zone:e,band:i,e100k:r,n100k:n,easting:o,northing:a}=this,s=Math.floor(o/Math.pow(10,5-t/2)),h=Math.floor(a/Math.pow(10,5-t/2)),c=e.toString().padStart(2,"0"),u=s.toString().padStart(t/2,"0"),l=h.toString().padStart(t/2,"0");return`${c}${i} ${r}${n} ${u} ${l}`}}class x extends v{toMgrs(){const t=this.zone,e=this.toLatLon(),i=m.charAt(Math.floor(e.lat/8+10)),r=Math.floor(this.easting/1e5),n=_[(t-1)%3].charAt(r-1),o=Math.floor(this.northing/1e5)%20,a=b[(t-1)%2].charAt(o);let s=this.easting%1e5,h=this.northing%1e5;return s=Number(s.toFixed(6)),h=Number(h.toFixed(6)),new w(t,i,n,a,s,h)}}class S extends y{toUtm(t){const e=super.toUtm(t);return new x(e.zone,e.hemisphere,e.easting,e.northing,e.datum,e.convergence,e.scale)}}},ee14:function(t,e,i){"use strict";var r=i("fd21"),n=function(){};n.prototype.getReplay=function(t,e){return Object(r["b"])()},n.prototype.isEmpty=function(){return Object(r["b"])()},n.prototype.addDeclutter=function(t){return Object(r["b"])()},e["a"]=n},ee38:function(t,e,i){"use strict";i("c7c1")("fixed",(function(t){return function(){return t(this,"tt","","")}}))},ee8e:function(t,e,i){"use strict";e["a"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},eee0:function(t,e,i){"use strict";i.r(e),e["default"]={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},eefa:function(t,e,i){"use strict";var r=i("d5b5"),n=i("a273"),o=i("eee0"),a=i("be21"),s=function(t){function e(e,i){t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var r=e[0];Object(n["listen"])(r,o["default"].CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===r["a"].LOADED||i===r["a"].ERROR||i===r["a"].EMPTY||i===r["a"].ABORT){Object(n["unlisten"])(e,o["default"].CHANGE,this.handleTileChange,this);var a=e.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){var i,n,o,a=0,s=!1;while(this.tilesLoading_<t&&a<e&&this.getCount()>0)n=this.dequeue()[0],o=n.getKey(),i=n.getState(),i===r["a"].ABORT?s=!0:i!==r["a"].IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,n.load());0===a&&s&&this.tileChangeCallback_()},e}(a["b"]);e["a"]=s},ef15:function(t,e,i){var r=i("255a").document;t.exports=r&&r.documentElement},efbb:function(t,e,i){"use strict";var r=i("0d63"),n=i("d8b2"),o=i("8e85"),a=i("6d89"),s=1..toFixed,h=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",l="0",f=function(t,e){var i=-1,r=e;while(++i<6)r+=t*c[i],c[i]=r%1e7,r=h(r/1e7)},d=function(t){var e=6,i=0;while(--e>=0)i+=c[e],c[e]=h(i/t),i=i%t*1e7},p=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==c[t]){var i=String(c[t]);e=""===e?i:e+a.call(l,7-i.length)+i}return e},g=function(t,e,i){return 0===e?i:e%2===1?g(t,e-1,i*t):g(t*t,e/2,i)},v=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i("b460")((function(){s.call({})}))),"Number",{toFixed:function(t){var e,i,r,s,h=o(this,u),c=n(t),y="",m=l;if(c<0||c>20)throw RangeError(u);if(h!=h)return"NaN";if(h<=-1e21||h>=1e21)return String(h);if(h<0&&(y="-",h=-h),h>1e-21)if(e=v(h*g(2,69,1))-69,i=e<0?h*g(2,-e,1):h/g(2,e,1),i*=4503599627370496,e=52-e,e>0){f(0,i),r=c;while(r>=7)f(1e7,0),r-=7;f(g(10,r,1),0),r=e-1;while(r>=23)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),m=p()}else f(0,i),f(1<<-e,0),m=p()+a.call(l,c);return c>0?(s=m.length,m=y+(s<=c?"0."+a.call(l,c-s)+m:m.slice(0,s-c)+"."+m.slice(s-c))):m=y+m,m}})},efc8:function(t,e,i){"use strict";i.r(e);var r=i("0ead"),n=i("eafb"),o=i("0acf"),a=i("5f6b"),s=i("a273"),h=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:r["c"],e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(a["e"])(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(a["e"])(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)Object(s["unlistenByKey"])(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,this.map_){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==r["c"]&&this.listenerKeys.push(Object(s["listen"])(t,n["a"].POSTRENDER,this.render,this)),t.render()}},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(o["default"]);e["default"]=h},f026:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},f083:function(t,e,i){"use strict";var r=i("6843"),n=i("6f1e"),o=i("5891"),a=i("8abe"),s=i("5d8e");function h(t){var e=new o(t),i=n(o.prototype.request,e);return r.extend(i,o.prototype,e),r.extend(i,e),i}var c=h(s);c.Axios=o,c.create=function(t){return h(a(c.defaults,t))},c.Cancel=i("1721"),c.CancelToken=i("16d4"),c.isCancel=i("8c86"),c.all=function(t){return Promise.all(t)},c.spread=i("6a35"),t.exports=c,t.exports.default=c},f106:function(t,e,i){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var i=this._listeners[t];-1===i.indexOf(e)&&(i=i.concat([e])),this._listeners[t]=i},r.prototype.removeEventListener=function(t,e){var i=this._listeners[t];if(i){var r=i.indexOf(e);-1===r||(i.length>1?this._listeners[t]=i.slice(0,r).concat(i.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,i=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,i),e in this._listeners)for(var r=this._listeners[e],n=0;n<r.length;n++)r[n].apply(this,i)},t.exports=r},f278:function(t,e,i){"use strict";i("c7c1")("big",(function(t){return function(){return t(this,"big","","")}}))},f355:function(t,e,i){"use strict";e["a"]={POINT:"point",LINE:"line"}},f3949:function(t,e,i){"use strict";var r=i("1499"),n=i("d1dd"),o=i("708c"),a=i("6bd8"),s=i("ebfc");function h(t){if(!h.enabled())throw new Error("Transport created when disabled");n.call(this,t,"/eventsource",o,a)}r(h,n),h.enabled=function(){return!!s},h.transportName="eventsource",h.roundTrips=2,t.exports=h},f3d1:function(t,e,i){var r=i("ceb6"),n=i("ea05").f;i("6397")("getOwnPropertyDescriptor",(function(){return function(t,e){return n(r(t),e)}}))},f49a:function(t,e,i){var r=i("169a"),n=i("6744");t.exports=function(t,e,i){if(r(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(t))}},f58e:function(t,e,i){"use strict";t.exports=n;var r=i("ac59");function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var o=4294967296,a=1/o;function s(t,e,i){var r,n,o=i.buf;if(n=o[i.pos++],r=(112&n)>>4,n<128)return c(t,r,e);if(n=o[i.pos++],r|=(127&n)<<3,n<128)return c(t,r,e);if(n=o[i.pos++],r|=(127&n)<<10,n<128)return c(t,r,e);if(n=o[i.pos++],r|=(127&n)<<17,n<128)return c(t,r,e);if(n=o[i.pos++],r|=(127&n)<<24,n<128)return c(t,r,e);if(n=o[i.pos++],r|=(1&n)<<31,n<128)return c(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function h(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function c(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function u(t,e){var i,r;if(t>=0?(i=t%4294967296|0,r=t/4294967296|0):(i=~(-t%4294967296),r=~(-t/4294967296),4294967295^i?i=i+1|0:(i=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),l(i,r,e),f(r,e)}function l(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}function f(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function d(t,e,i){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));i.realloc(r);for(var n=i.pos-1;n>=t;n--)i.buf[n+r]=i.buf[n]}function p(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function g(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function v(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function y(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function m(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function _(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function b(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function w(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function x(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function S(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function E(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function O(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function T(t,e,i){var r="",n=e;while(n<i){var o,a,s,h=t[n],c=null,u=h>239?4:h>223?3:h>191?2:1;if(n+u>i)break;1===u?h<128&&(c=h):2===u?(o=t[n+1],128===(192&o)&&(c=(31&h)<<6|63&o,c<=127&&(c=null))):3===u?(o=t[n+1],a=t[n+2],128===(192&o)&&128===(192&a)&&(c=(15&h)<<12|(63&o)<<6|63&a,(c<=2047||c>=55296&&c<=57343)&&(c=null))):4===u&&(o=t[n+1],a=t[n+2],s=t[n+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&h)<<18|(63&o)<<12|(63&a)<<6|63&s,(c<=65535||c>=1114112)&&(c=null))),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),n+=u}return r}function C(t,e,i){for(var r,n,o=0;o<e.length;o++){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!n){r>56319||o+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):n=r;continue}if(r<56320){t[i++]=239,t[i++]=191,t[i++]=189,n=r;continue}r=n-55296<<10|r-56320|65536,n=null}else n&&(t[i++]=239,t[i++]=191,t[i++]=189,n=null);r<128?t[i++]=r:(r<2048?t[i++]=r>>6|192:(r<65536?t[i++]=r>>12|224:(t[i++]=r>>18|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128),t[i++]=63&r|128)}return i}n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){i=i||this.length;while(this.pos<i){var r=this.readVarint(),n=r>>3,o=this.pos;this.type=7&r,t(n,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=S(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=O(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=S(this.buf,this.pos)+S(this.buf,this.pos+4)*o;return this.pos+=8,t},readSFixed64:function(){var t=S(this.buf,this.pos)+O(this.buf,this.pos+4)*o;return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,r=this.buf;return i=r[this.pos++],e=127&i,i<128?e:(i=r[this.pos++],e|=(127&i)<<7,i<128?e:(i=r[this.pos++],e|=(127&i)<<14,i<128?e:(i=r[this.pos++],e|=(127&i)<<21,i<128?e:(i=r[this.pos],e|=(15&i)<<28,s(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=T(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var i=h(this);t=t||[];while(this.pos<i)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=h(this);t=t||[];while(this.pos<e)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)while(this.buf[this.pos++]>127);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){var e=this.length||16;while(e<this.pos+t)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),E(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),E(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),E(this.buf,-1&t,this.pos),E(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),E(this.buf,-1&t,this.pos),E(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeVarint:function(t){t=+t||0,t>268435455||t<0?u(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=C(this.buf,t,this.pos);var i=this.pos-e;i>=128&&d(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var r=this.pos-i;r>=128&&d(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,i){this.writeTag(t,n.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,p,e)},writePackedSVarint:function(t,e){this.writeMessage(t,g,e)},writePackedBoolean:function(t,e){this.writeMessage(t,m,e)},writePackedFloat:function(t,e){this.writeMessage(t,v,e)},writePackedDouble:function(t,e){this.writeMessage(t,y,e)},writePackedFixed32:function(t,e){this.writeMessage(t,_,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,b,e)},writePackedFixed64:function(t,e){this.writeMessage(t,w,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,x,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},f6b4:function(t,e,i){"use strict";var r=i("c532");function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},f72b:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},f780:function(t,e,i){"use strict";i.d(e,"b",(function(){return d}));var r=i("fd21"),n=i("5eee"),o=i("d5b5"),a=i("5f6b"),s=i("a273"),h=i("3d22"),c=i("eee0"),u=i("7371"),l=i("0ead"),f=function(t){function e(i,r,n,a,u,f,d,p,g,v,y,m,_,b,w){if(t.call(this,i,r,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=v,this.tileKeys=[],this.extent=null,this.sourceRevision_=n,this.wrappedTileCoord=f,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],f){var x=this.extent=g.getTileCoordExtent(f),S=g.getResolution(w),E=p.getZForResolution(S),O=w!=i[0],T=0;if(p.forEachTileCoord(x,E,function(t){var e=Object(h["getIntersection"])(x,p.getTileCoordExtent(t)),i=p.getExtent();if(i&&(e=Object(h["getIntersection"])(e,i,e)),Object(h["getWidth"])(e)/S>=.5&&Object(h["getHeight"])(e)/S>=.5){++T;var r=t.toString(),n=v[r];if(!n&&!O){var l=d(t,y,m);n=v[r]=new _(t,void 0==l?o["a"].EMPTY:o["a"].IDLE,void 0==l?"":l,a,u),this.sourceTileListenerKeys_.push(Object(s["listen"])(n,c["default"].CHANGE,b))}!n||O&&n.getState()!=o["a"].LOADED||(n.consumers++,this.tileKeys.push(r))}}.bind(this)),O&&T==this.tileKeys.length&&this.finishLoading_(),w<=i[0]&&this.state!=o["a"].LOADED)while(w>g.getMinZoom()){var C=new e(i,r,n,a,u,f,d,p,g,v,y,m,_,l["c"],--w);if(C.state==o["a"].LOADED){this.interimTile=C;break}}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state=o["a"].ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,i=this.tileKeys.length;e<i;++e){var r=this.tileKeys[e],n=this.getTile(r);n.consumers--,0==n.consumers&&(delete this.sourceTiles_[r],n.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(s["unlistenByKey"]),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(s["unlistenByKey"]),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=Object(r["c"])(t);return e in this.context_||(this.context_[e]=Object(a["a"])()),this.context_[e]},e.prototype.getImage=function(t){return-1==this.getReplayState(t).renderedTileRevision?null:this.getContext(t).canvas},e.prototype.getReplayState=function(t){var e=Object(r["c"])(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[e]},e.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},e.prototype.getTile=function(t){return this.sourceTiles_[t]},e.prototype.load=function(){var t=0,e={};this.state==o["a"].IDLE&&this.setState(o["a"].LOADING),this.state==o["a"].LOADING&&this.tileKeys.forEach(function(i){var n=this.getTile(i);if(n.state==o["a"].IDLE&&(n.setLoader(this.loader_),n.load()),n.state==o["a"].LOADING){var a=Object(s["listen"])(n,c["default"].CHANGE,function(i){var a=n.getState();if(a==o["a"].LOADED||a==o["a"].ERROR){var s=Object(r["c"])(n);a==o["a"].ERROR?e[s]=!0:(--t,delete e[s]),t-Object.keys(e).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(a),++t}}.bind(this)),t-Object.keys(e).length==0&&setTimeout(this.finishLoading_.bind(this),0)},e.prototype.finishLoading_=function(){for(var t=this.tileKeys.length,e=0,i=t-1;i>=0;--i){var r=this.getTile(this.tileKeys[i]).getState();r!=o["a"].LOADED&&--t,r==o["a"].EMPTY&&++e}t==this.tileKeys.length?(this.loadListenerKeys_.forEach(s["unlistenByKey"]),this.loadListenerKeys_.length=0,this.setState(o["a"].LOADED)):this.setState(e==this.tileKeys.length?o["a"].EMPTY:o["a"].ERROR)},e}(n["a"]);function d(t,e){var i=Object(u["a"])(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(i)}e["a"]=f},f7bb:function(t,e,i){"use strict";var r=i("a1ad"),n=i("79ff"),o=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){while(this.canExpireCache()){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(n["b"])(t),i=e[0];this.forEach((function(t){t.tileCoord[0]!==i&&(this.remove(Object(n["c"])(t.tileCoord)),t.dispose())}),this)}},e}(r["a"]);e["a"]=o},f82c:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=function(t,e,i,r){this.minX=t,this.maxX=e,this.minY=i,this.maxY=r};function n(t,e,i,n,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=n,o):new r(t,e,i,n)}r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e["b"]=r},f863:function(t,e,i){"use strict";var r=i("6843");function n(){this.handlers=[]}n.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=n},f8ce:function(t,e,i){var r=i("ff02"),n=i("f72b");t.exports=i("a32c")?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},f904:function(t,e,i){var r=i("c132").newImageData;function n(t){var e=!0;try{new ImageData(10,10)}catch(r){e=!1}function i(t,i,r){return e?new ImageData(t,i,r):{data:t,width:i,height:r}}return function(e){var r,n,o=e["buffers"],a=e["meta"],s=e["imageOps"],h=e["width"],c=e["height"],u=o.length,l=o[0].byteLength;if(s){var f=new Array(u);for(n=0;n<u;++n)f[n]=i(new Uint8ClampedArray(o[n]),h,c);r=t(f,a).data}else{r=new Uint8ClampedArray(l);var d=new Array(u),p=new Array(u);for(n=0;n<u;++n)d[n]=new Uint8ClampedArray(o[n]),p[n]=[0,0,0,0];for(var g=0;g<l;g+=4){for(var v=0;v<u;++v){var y=d[v];p[v][0]=y[g],p[v][1]=y[g+1],p[v][2]=y[g+2],p[v][3]=y[g+3]}var m=t(p,a);r[g]=m[0],r[g+1]=m[1],r[g+2]=m[2],r[g+3]=m[3]}}return r.buffer}}function o(t,e){var i=Object.keys(t.lib||{}).map((function(e){return"var "+e+" = "+t.lib[e].toString()+";"})),r=i.concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),o=new Blob(r,{type:"text/javascript"}),a=URL.createObjectURL(o),s=new Worker(a);return s.addEventListener("message",e),s}function a(t,e){var i=n(t.operation);return{postMessage:function(t){setTimeout((function(){e({data:{buffer:i(t),meta:t["meta"]}})}),0)}}}function s(t){var e;this._imageOps=!!t.imageOps,e=0===t.threads?0:this._imageOps?1:t.threads||1;var i=[];if(e)for(var r=0;r<e;++r)i[r]=o(t,this._onWorkerMessage.bind(this,r));else i[0]=a(t,this._onWorkerMessage.bind(this,0));this._workers=i,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}s.prototype.process=function(t,e,i){this._enqueue({inputs:t,meta:e,callback:i}),this._dispatch()},s.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},s.prototype._enqueue=function(t){this._queue.push(t);while(this._queue.length>this._maxQueueLength)this._queue.shift().callback(null,null)},s.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,i=t.inputs[0].height,r=t.inputs.map((function(t){return t.data.buffer})),n=this._workers.length;if(this._running=n,1===n)this._workers[0].postMessage({buffers:r,meta:t.meta,imageOps:this._imageOps,width:e,height:i},r);else for(var o=t.inputs[0].data.length,a=4*Math.ceil(o/4/n),s=0;s<n;++s){for(var h=s*a,c=[],u=0,l=r.length;u<l;++u)c.push(r[s].slice(h,h+a));this._workers[s].postMessage({buffers:c,meta:t.meta,imageOps:this._imageOps,width:e,height:i},c)}}},s.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},s.prototype._resolveJob=function(){var t,e,i=this._job,n=this._workers.length;if(1===n)t=new Uint8ClampedArray(this._dataLookup[0]["buffer"]),e=this._dataLookup[0]["meta"];else{var o=i.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(o);for(var a=4*Math.ceil(o/4/n),s=0;s<n;++s){var h=this._dataLookup[s]["buffer"],c=s*a;t.set(new Uint8ClampedArray(h),c),e[s]=this._dataLookup[s]["meta"]}}this._job=null,this._dataLookup={},i.callback(null,r(t,i.inputs[0].width,i.inputs[0].height),e),this._dispatch()},t.exports=s},f920:function(t,e,i){"use strict";var r=i("6646"),n=i("3d22"),o=i("34f5"),a=i("cc7a"),s=i("8d45"),h=i("1ea9"),c=i("9b05"),u=i("d5d0"),l=i("c5e9"),f=i("2ed0"),d=i("7f06"),p=i("caa0"),g=function(t){function e(e,i,n){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,i);else if(void 0!==i&&n)this.setFlatCoordinates(i,e),this.ends_=n;else{for(var o=this.getLayout(),a=e,s=[],h=[],c=0,u=a.length;c<u;++c){var l=a[c];0===c&&(o=l.getLayout()),Object(r["c"])(s,l.getFlatCoordinates()),h.push(s.length)}this.setFlatCoordinates(o,s),this.ends_=h}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(r["c"])(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,r){return r<Object(n["closestSquaredDistanceXY"])(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c["a"])(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,r))},e.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=o["a"].XYM&&this.layout!=o["a"].XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,n=void 0!==i&&i;return Object(f["c"])(this.flatCoordinates,0,this.ends_,this.stride,t,r,n)},e.prototype.getCoordinates=function(){return Object(l["b"])(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s["a"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,r=[],n=0,o=0,a=e.length;o<a;++o){var h=e[o],c=new s["a"](t.slice(n,h),i);r.push(c),n=h}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,n=this.ends_,o=this.stride,a=0,s=n.length;a<s;++a){var h=n[a],c=Object(f["a"])(e,i,h,o,.5);Object(r["c"])(t,c),i=h}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],r=[];return i.length=Object(p["b"])(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,r),new e(i,o["a"].XY,r)},e.prototype.getType=function(){return a["default"].MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(d["b"])(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Object(u["c"])(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(h["a"]);e["a"]=g},f95f:function(t,e,i){"use strict";i.r(e),i.d(e,"createFromCapabilitiesMatrixSet",(function(){return s}));var r=i("6646"),n=i("5f62"),o=i("e71d"),a=function(t){function e(e){t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(o["default"]);function s(t,e,i){var o=[],s=[],h=[],c=[],u=[],l=void 0!==i?i:[],f="SupportedCRS",d="TileMatrix",p="Identifier",g="ScaleDenominator",v="TopLeftCorner",y="TileWidth",m="TileHeight",_=t[f],b=Object(n["get"])(_.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(n["get"])(_),w=b.getMetersPerUnit(),x="ne"==b.getAxisOrientation().substr(0,2);return t[d].sort((function(t,e){return e[g]-t[g]})),t[d].forEach((function(e){var i;if(i=!(l.length>0)||Object(r["d"])(l,(function(i){return e[p]==i[d]||-1===e[p].indexOf(":")&&t[p]+":"+e[p]===i[d]})),i){s.push(e[p]);var n=28e-5*e[g]/w,a=e[y],f=e[m];x?h.push([e[v][1],e[v][0]]):h.push(e[v]),o.push(n),c.push(a==f?a:[a,f]),u.push([e["MatrixWidth"],-e["MatrixHeight"]])}})),new a({extent:e,origins:h,resolutions:o,matrixIds:s,tileSizes:c,sizes:u})}e["default"]=a},f9d2:function(t,e,i){"use strict";i.r(e);var r=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]},n=1,o=2,a=4,s=5,h=484813681109536e-20,c=Math.PI/2,u=.16666666666666666,l=.04722222222222222,f=.022156084656084655,d=1e-10,p=.017453292519943295,g=57.29577951308232,v=Math.PI/4,y=2*Math.PI,m=3.14159265359,_={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},b={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},w=/[\s_\-\/\(\)]/g;function x(t,e){if(t[e])return t[e];var i,r,n=Object.keys(t),o=e.toLowerCase().replace(w,""),a=-1;while(++a<n.length)if(i=n[a],r=i.toLowerCase().replace(w,""),r===o)return t[i]}var S=function(t){var e,i,r,n={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t}),{}),a={proj:"projName",datum:"datumCode",rf:function(t){n.rf=parseFloat(t)},lat_0:function(t){n.lat0=t*p},lat_1:function(t){n.lat1=t*p},lat_2:function(t){n.lat2=t*p},lat_ts:function(t){n.lat_ts=t*p},lon_0:function(t){n.long0=t*p},lon_1:function(t){n.long1=t*p},lon_2:function(t){n.long2=t*p},alpha:function(t){n.alpha=parseFloat(t)*p},lonc:function(t){n.longc=t*p},x_0:function(t){n.x0=parseFloat(t)},y_0:function(t){n.y0=parseFloat(t)},k_0:function(t){n.k0=parseFloat(t)},k:function(t){n.k0=parseFloat(t)},a:function(t){n.a=parseFloat(t)},b:function(t){n.b=parseFloat(t)},r_a:function(){n.R_A=!0},zone:function(t){n.zone=parseInt(t,10)},south:function(){n.utmSouth=!0},towgs84:function(t){n.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){n.to_meter=parseFloat(t)},units:function(t){n.units=t;var e=x(b,t);e&&(n.to_meter=e.to_meter)},from_greenwich:function(t){n.from_greenwich=t*p},pm:function(t){var e=x(_,t);n.from_greenwich=(e||parseFloat(t))*p},nadgrids:function(t){"@null"===t?n.datumCode="none":n.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(n.axis=t)}};for(e in o)i=o[e],e in a?(r=a[e],"function"===typeof r?r(i):n[r]=i):n[e]=i;return"string"===typeof n.datumCode&&"WGS84"!==n.datumCode&&(n.datumCode=n.datumCode.toLowerCase()),n},E=j,O=1,T=2,C=3,A=4,L=5,R=-1,M=/\s/,I=/[A-Za-z]/,P=/[A-Za-z84]/,N=/[,\]]/,F=/[\d\.E\-\+]/;function k(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=O}function j(t){var e=new k(t);return e.output()}function D(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var r=e?{}:t,n=i.reduce((function(t,e){return G(e,t),t}),r);e&&(t[e]=n)}function G(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void G(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){if("AXIS"===i)return i in e||(e[i]=[]),void e[i].push(t);var r;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&G(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&G(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void D(e,i,t);default:r=-1;while(++r<t.length)if(!Array.isArray(t[r]))return G(t,e[i]);return D(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}k.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==A)while(M.test(t)){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case O:return this.neutral(t);case T:return this.keyword(t);case A:return this.quoted(t);case L:return this.afterquote(t);case C:return this.number(t);case R:return}},k.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=A);if(N.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},k.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=O)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=O,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=R))):void 0},k.prototype.number=function(t){if(!F.test(t)){if(N.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},k.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=L},k.prototype.keyword=function(t){if(P.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=O)}if(!N.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},k.prototype.neutral=function(t){if(I.test(t))return this.word=t,void(this.state=T);if('"'===t)return this.word="",void(this.state=A);if(F.test(t))return this.word=t,void(this.state=C);if(!N.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},k.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===R)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var B=.017453292519943295;function U(t,e){var i=e[0],r=e[1];!(i in t)&&r in t&&(t[i]=t[r],3===e.length&&(t[i]=e[2](t[i])))}function z(t){return t*B}function q(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",i=0,r=t.AXIS.length;i<r;++i){var n=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==n[0].indexOf("north")||("y"===n[0]||"lat"===n[0])&&"north"===n[1]?e+="n":-1!==n[0].indexOf("south")||("y"===n[0]||"lat"===n[0])&&"south"===n[1]?e+="s":-1!==n[0].indexOf("east")||("x"===n[0]||"lon"===n[0])&&"east"===n[1]?e+="e":-1===n[0].indexOf("west")&&("x"!==n[0]&&"lon"!==n[0]||"west"!==n[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function a(e){var i=t.to_meter||1;return e*i}"GEOGCS"===t.type&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);var s=function(e){return U(t,e)},h=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",z],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",z],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",z],["lat0","latitude_of_origin",z],["lat0","standard_parallel_1",z],["lat1","standard_parallel_1",z],["lat2","standard_parallel_2",z],["azimuth","Azimuth"],["alpha","azimuth",z],["srsCode","name"]];h.forEach(s),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=z(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var V=function(t){var e=E(t),i=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",i]);var n={};return G(e,n),q(n),n};function H(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"===typeof i?"+"===i.charAt(0)?H[t]=S(arguments[1]):H[t]=V(arguments[1]):H[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?H.apply(e,t):H(t)}));if("string"===typeof t){if(t in H)return H[t]}else"EPSG"in t?H["EPSG:"+t.EPSG]=t:"ESRI"in t?H["ESRI:"+t.ESRI]=t:"IAU2000"in t?H["IAU2000:"+t.IAU2000]=t:console.log(t);return}}r(H);var W=H;function Y(t){return"string"===typeof t}function K(t){return t in W}var X=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Z(t){return X.some((function(e){return t.indexOf(e)>-1}))}var $=["3857","900913","3785","102113"];function J(t){var e=x(t,"authority");if(e){var i=x(e,"epsg");return i&&$.indexOf(i)>-1}}function Q(t){var e=x(t,"extension");if(e)return x(e,"proj4")}function tt(t){return"+"===t[0]}function et(t){if(!Y(t))return t;if(K(t))return W[t];if(Z(t)){var e=V(t);if(J(e))return W["EPSG:3857"];var i=Q(e);return i?S(i):e}return tt(t)?S(t):void 0}var it=et,rt=function(t,e){var i,r;if(t=t||{},!e)return t;for(r in e)i=e[r],void 0!==i&&(t[r]=i);return t},nt=function(t,e,i){var r=t*e;return i/Math.sqrt(1-r*r)},ot=function(t){return t<0?-1:1},at=function(t){return Math.abs(t)<=m?t:t-ot(t)*y},st=function(t,e,i){var r=t*i,n=.5*t;return r=Math.pow((1-r)/(1+r),n),Math.tan(.5*(c-e))/r},ht=function(t,e){for(var i,r,n=.5*t,o=c-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(o),r=c-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999};function ct(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=nt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function ut(t){var e,i,r=t.x,n=t.y;if(n*g>90&&n*g<-90&&r*g>180&&r*g<-180)return null;if(Math.abs(Math.abs(n)-c)<=d)return null;if(this.sphere)e=this.x0+this.a*this.k0*at(r-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(v+.5*n));else{var o=Math.sin(n),a=st(this.e,n,o);e=this.x0+this.a*this.k0*at(r-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=i,t}function lt(t){var e,i,r=t.x-this.x0,n=t.y-this.y0;if(this.sphere)i=c-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var o=Math.exp(-n/(this.a*this.k0));if(i=ht(this.e,o),-9999===i)return null}return e=at(this.long0+r/(this.a*this.k0)),t.x=e,t.y=i,t}var ft=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],dt={init:ct,forward:ut,inverse:lt,names:ft};function pt(){}function gt(t){return t}var vt=["longlat","identity"],yt={init:pt,forward:gt,inverse:gt,names:vt},mt=[dt,yt],_t={},bt=[];function wt(t,e){var i=bt.length;return t.names?(bt[i]=t,t.names.forEach((function(t){_t[t.toLowerCase()]=i})),this):(console.log(e),!0)}function xt(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof _t[e]&&bt[_t[e]]?bt[_t[e]]:void 0}function St(){mt.forEach(wt)}var Et={start:St,add:wt,get:xt},Ot={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Tt=Ot.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function Ct(t,e,i,r){var n=t*t,o=e*e,a=(n-o)/n,s=0;r?(t*=1-a*(u+a*(l+a*f)),n=t*t,a=0):s=Math.sqrt(a);var h=(n-o)/o;return{es:a,e:s,ep2:h}}function At(t,e,i,r,n){if(!t){var o=x(Ot,r);o||(o=Tt),t=o.a,e=o.b,i=o.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<d)&&(n=!0,e=t),{a:t,b:e,rf:i,sphere:n}}Ot.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Lt={};function Rt(t,e,i,r,c,u){var l={};return l.datum_type=void 0===t||"none"===t?s:a,e&&(l.datum_params=e.map(parseFloat),0===l.datum_params[0]&&0===l.datum_params[1]&&0===l.datum_params[2]||(l.datum_type=n),l.datum_params.length>3&&(0===l.datum_params[3]&&0===l.datum_params[4]&&0===l.datum_params[5]&&0===l.datum_params[6]||(l.datum_type=o,l.datum_params[3]*=h,l.datum_params[4]*=h,l.datum_params[5]*=h,l.datum_params[6]=l.datum_params[6]/1e6+1))),l.a=i,l.b=r,l.es=c,l.ep2=u,l}Lt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Lt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Lt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Lt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Lt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Lt.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Lt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Lt.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},Lt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Lt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Lt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Lt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Lt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Lt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Lt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Lt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Lt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var Mt=Rt;function It(t,e){if(!(this instanceof It))return new It(t);e=e||function(t){if(t)throw t};var i=it(t);if("object"===typeof i){var r=It.projections.get(i.projName);if(r){if(i.datumCode&&"none"!==i.datumCode){var n=x(Lt,i.datumCode);n&&(i.datum_params=n.towgs84?n.towgs84.split(","):null,i.ellps=n.ellipse,i.datumName=n.datumName?n.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84";var o=At(i.a,i.b,i.rf,i.ellps,i.sphere),a=Ct(o.a,o.b,o.rf,i.R_A),s=i.datum||Mt(i.datumCode,i.datum_params,o.a,o.b,a.es,a.ep2);rt(this,i),rt(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=s,this.init(),e(null,this)}else e(t)}else e(t)}It.projections=Et,It.projections.start();var Pt=It;function Nt(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===n?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==o||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}function Ft(t,e,i){var r,n,o,a,s=t.x,h=t.y,u=t.z?t.z:0;if(h<-c&&h>-1.001*c)h=-c;else if(h>c&&h<1.001*c)h=c;else{if(h<-c)return{x:-1/0,y:-1/0,z:t.z};if(h>c)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),n=Math.sin(h),a=Math.cos(h),o=n*n,r=i/Math.sqrt(1-e*o),{x:(r+u)*a*Math.cos(s),y:(r+u)*a*Math.sin(s),z:(r*(1-e)+u)*n}}function kt(t,e,i,r){var n,o,a,s,h,u,l,f,d,p,g,v,y,m,_,b,w=1e-12,x=w*w,S=30,E=t.x,O=t.y,T=t.z?t.z:0;if(n=Math.sqrt(E*E+O*O),o=Math.sqrt(E*E+O*O+T*T),n/i<w){if(m=0,o/i<w)return _=c,b=-r,{x:t.x,y:t.y,z:t.z}}else m=Math.atan2(O,E);a=T/o,s=n/o,h=1/Math.sqrt(1-e*(2-e)*s*s),f=s*(1-e)*h,d=a*h,y=0;do{y++,l=i/Math.sqrt(1-e*d*d),b=n*f+T*d-l*(1-e*d*d),u=e*l/(l+b),h=1/Math.sqrt(1-u*(2-u)*s*s),p=s*(1-u)*h,g=a*h,v=g*f-p*d,f=p,d=g}while(v*v>x&&y<S);return _=Math.atan(g/Math.abs(p)),{x:m,y:_,z:b}}function jt(t,e,i){if(e===n)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===o){var r=i[0],a=i[1],s=i[2],h=i[3],c=i[4],u=i[5],l=i[6];return{x:l*(t.x-u*t.y+c*t.z)+r,y:l*(u*t.x+t.y-h*t.z)+a,z:l*(-c*t.x+h*t.y+t.z)+s}}}function Dt(t,e,i){if(e===n)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===o){var r=i[0],a=i[1],s=i[2],h=i[3],c=i[4],u=i[5],l=i[6],f=(t.x-r)/l,d=(t.y-a)/l,p=(t.z-s)/l;return{x:f+u*d-c*p,y:-u*f+d+h*p,z:c*f-h*d+p}}}function Gt(t){return t===n||t===o}var Bt=function(t,e,i){return Nt(t,e)||t.datum_type===s||e.datum_type===s?i:t.es!==e.es||t.a!==e.a||Gt(t.datum_type)||Gt(e.datum_type)?(i=Ft(i,t.es,t.a),Gt(t.datum_type)&&(i=jt(i,t.datum_type,t.datum_params)),Gt(e.datum_type)&&(i=Dt(i,e.datum_type,e.datum_params)),kt(i,e.es,e.a,e.b)):i},Ut=function(t,e,i){var r,n,o,a=i.x,s=i.y,h=i.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(r=a,n="x"):1===o?(r=s,n="y"):(r=h,n="z"),t.axis[o]){case"e":c[n]=r;break;case"w":c[n]=-r;break;case"n":c[n]=r;break;case"s":c[n]=-r;break;case"u":void 0!==i[n]&&(c.z=r);break;case"d":void 0!==i[n]&&(c.z=-r);break;default:return null}return c},zt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},qt=function(t){Vt(t.x),Vt(t.y)};function Vt(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Ht(t,e){return(t.datum.datum_type===n||t.datum.datum_type===o)&&"WGS84"!==e.datumCode||(e.datum.datum_type===n||e.datum.datum_type===o)&&"WGS84"!==t.datumCode}function Wt(t,e,i){var r;return Array.isArray(i)&&(i=zt(i)),qt(i),t.datum&&e.datum&&Ht(t,e)&&(r=new Pt("WGS84"),i=Wt(t,r,i),t=r),"enu"!==t.axis&&(i=Ut(t,!1,i)),"longlat"===t.projName?i={x:i.x*p,y:i.y*p,z:i.z||0}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=Bt(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:i.x*g,y:i.y*g,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),"enu"!==e.axis?Ut(e,!0,i):i}var Yt=Pt("WGS84");function Kt(t,e,i){var r,n,o;return Array.isArray(i)?(r=Wt(t,e,i)||{x:NaN,y:NaN},i.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(i.splice(3)):[r.x,r.y,i[2]].concat(i.splice(3)):[r.x,r.y].concat(i.splice(2)):[r.x,r.y]):(n=Wt(t,e,i),o=Object.keys(i),2===o.length||o.forEach((function(r){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;n[r]=i[r]})),n)}function Xt(t){return t instanceof Pt?t:t.oProj?t.oProj:Pt(t)}function Zt(t,e,i){t=Xt(t);var r,n=!1;return"undefined"===typeof e?(e=t,t=Yt,n=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(i=e,e=t,t=Yt,n=!0),e=Xt(e),i?Kt(t,e,i):(r={forward:function(i){return Kt(t,e,i)},inverse:function(i){return Kt(e,t,i)}},n&&(r.oProj=e),r)}var $t=Zt,Jt=6,Qt="AJSAJS",te="AFAFAF",ee=65,ie=73,re=79,ne=86,oe=90,ae={forward:se,inverse:he,toPoint:ce};function se(t,e){return e=e||5,ge(fe({lat:t[1],lon:t[0]}),e)}function he(t){var e=de(_e(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function ce(t){var e=de(_e(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function ue(t){return t*(Math.PI/180)}function le(t){return t/Math.PI*180}function fe(t){var e,i,r,n,o,a,s,h,c,u=t.lat,l=t.lon,f=6378137,d=.00669438,p=.9996,g=ue(u),v=ue(l);c=Math.floor((l+180)/6)+1,180===l&&(c=60),u>=56&&u<64&&l>=3&&l<12&&(c=32),u>=72&&u<84&&(l>=0&&l<9?c=31:l>=9&&l<21?c=33:l>=21&&l<33?c=35:l>=33&&l<42&&(c=37)),e=6*(c-1)-180+3,h=ue(e),i=d/(1-d),r=f/Math.sqrt(1-d*Math.sin(g)*Math.sin(g)),n=Math.tan(g)*Math.tan(g),o=i*Math.cos(g)*Math.cos(g),a=Math.cos(g)*(v-h),s=f*((1-d/4-3*d*d/64-5*d*d*d/256)*g-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*g)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*g)-35*d*d*d/3072*Math.sin(6*g));var y=p*r*(a+(1-n+o)*a*a*a/6+(5-18*n+n*n+72*o-58*i)*a*a*a*a*a/120)+5e5,m=p*(s+r*Math.tan(g)*(a*a/2+(5-n+9*o+4*o*o)*a*a*a*a/24+(61-58*n+n*n+600*o-330*i)*a*a*a*a*a*a/720));return u<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(y),zoneNumber:c,zoneLetter:pe(u)}}function de(t){var e=t.northing,i=t.easting,r=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,a,s,h,c,u,l,f,d,p,g=.9996,v=6378137,y=.00669438,m=(1-Math.sqrt(1-y))/(1+Math.sqrt(1-y)),_=i-5e5,b=e;r<"N"&&(b-=1e7),f=6*(n-1)-180+3,o=y/(1-y),l=b/g,d=l/(v*(1-y/4-3*y*y/64-5*y*y*y/256)),p=d+(3*m/2-27*m*m*m/32)*Math.sin(2*d)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*d)+151*m*m*m/96*Math.sin(6*d),a=v/Math.sqrt(1-y*Math.sin(p)*Math.sin(p)),s=Math.tan(p)*Math.tan(p),h=o*Math.cos(p)*Math.cos(p),c=v*(1-y)/Math.pow(1-y*Math.sin(p)*Math.sin(p),1.5),u=_/(a*g);var w=p-a*Math.tan(p)/c*(u*u/2-(5+3*s+10*h-4*h*h-9*o)*u*u*u*u/24+(61+90*s+298*h+45*s*s-252*o-3*h*h)*u*u*u*u*u*u/720);w=le(w);var x,S=(u-(1+2*s+h)*u*u*u/6+(5-2*h+28*s-3*h*h+8*o+24*s*s)*u*u*u*u*u/120)/Math.cos(p);if(S=f+le(S),t.accuracy){var E=de({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:E.lat,right:E.lon,bottom:w,left:S}}else x={lat:w,lon:S};return x}function pe(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function ge(t,e){var i="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+ve(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+r.substr(r.length-5,e)}function ve(t,e,i){var r=ye(i),n=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return me(n,o,r)}function ye(t){var e=t%Jt;return 0===e&&(e=Jt),e}function me(t,e,i){var r=i-1,n=Qt.charCodeAt(r),o=te.charCodeAt(r),a=n+t-1,s=o+e,h=!1;a>oe&&(a=a-oe+ee-1,h=!0),(a===ie||n<ie&&a>ie||(a>ie||n<ie)&&h)&&a++,(a===re||n<re&&a>re||(a>re||n<re)&&h)&&(a++,a===ie&&a++),a>oe&&(a=a-oe+ee-1),s>ne?(s=s-ne+ee-1,h=!0):h=!1,(s===ie||o<ie&&s>ie||(s>ie||o<ie)&&h)&&s++,(s===re||o<re&&s>re||(s>re||o<re)&&h)&&(s++,s===ie&&s++),s>ne&&(s=s-ne+ee-1);var c=String.fromCharCode(a)+String.fromCharCode(s);return c}function _e(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";var e,i=t.length,r=null,n="",o=0;while(!/[A-Z]/.test(e=t.charAt(o))){if(o>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,o++}var a=parseInt(n,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(o,o+=2);var h=ye(a),c=be(r.charAt(0),h),u=we(r.charAt(1),h);while(u<xe(s))u+=2e6;var l=i-o;if(l%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,d,p,g,v,y=l/2,m=0,_=0;return y>0&&(f=1e5/Math.pow(10,y),d=t.substring(o,o+y),m=parseFloat(d)*f,p=t.substring(o+y),_=parseFloat(p)*f),g=m+c,v=_+u,{easting:g,northing:v,zoneLetter:s,zoneNumber:a,accuracy:f}}function be(t,e){var i=Qt.charCodeAt(e-1),r=1e5,n=!1;while(i!==t.charCodeAt(0)){if(i++,i===ie&&i++,i===re&&i++,i>oe){if(n)throw"Bad character: "+t;i=ee,n=!0}r+=1e5}return r}function we(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=te.charCodeAt(e-1),r=0,n=!1;while(i!==t.charCodeAt(0)){if(i++,i===ie&&i++,i===re&&i++,i>ne){if(n)throw"Bad character: "+t;i=ee,n=!0}r+=1e5}return r}function xe(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Se(t,e,i){if(!(this instanceof Se))return new Se(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Se.fromMGRS=function(t){return new Se(ce(t))},Se.prototype.toMGRS=function(t){return se([this.x,this.y],t)};var Ee=Se,Oe=1,Te=.25,Ce=.046875,Ae=.01953125,Le=.01068115234375,Re=.75,Me=.46875,Ie=.013020833333333334,Pe=.007120768229166667,Ne=.3645833333333333,Fe=.005696614583333333,ke=.3076171875,je=function(t){var e=[];e[0]=Oe-t*(Te+t*(Ce+t*(Ae+t*Le))),e[1]=t*(Re-t*(Ce+t*(Ae+t*Le)));var i=t*t;return e[2]=i*(Me-t*(Ie+t*Pe)),i*=t,e[3]=i*(Ne-t*Fe),e[4]=i*t*ke,e},De=function(t,e,i,r){return i*=e,e*=e,r[0]*t-i*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))},Ge=20,Be=function(t,e,i){for(var r=1/(1-e),n=t,o=Ge;o;--o){var a=Math.sin(n),s=1-e*a*a;if(s=(De(n,a,Math.cos(n),i)-t)*(s*Math.sqrt(s))*r,n-=s,Math.abs(s)<d)return n}return n};function Ue(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=je(this.es),this.ml0=De(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function ze(t){var e,i,r,n=t.x,o=t.y,a=at(n-this.long0),s=Math.sin(o),h=Math.cos(o);if(this.es){var c=h*a,u=Math.pow(c,2),l=this.ep2*Math.pow(h,2),f=Math.pow(l,2),p=Math.abs(h)>d?Math.tan(o):0,g=Math.pow(p,2),v=Math.pow(g,2);e=1-this.es*Math.pow(s,2),c/=Math.sqrt(e);var y=De(o,s,h,this.en);i=this.a*(this.k0*c*(1+u/6*(1-g+l+u/20*(5-18*g+v+14*l-58*g*l+u/42*(61+179*v-v*g-479*g)))))+this.x0,r=this.a*(this.k0*(y-this.ml0+s*a*c/2*(1+u/12*(5-g+9*l+4*f+u/30*(61+v-58*g+270*l-330*g*l+u/56*(1385+543*v-v*g-3111*g))))))+this.y0}else{var m=h*Math.sin(a);if(Math.abs(Math.abs(m)-1)<d)return 93;if(i=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,r=h*Math.cos(a)/Math.sqrt(1-Math.pow(m,2)),m=Math.abs(r),m>=1){if(m-1>d)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=i,t.y=r,t}function qe(t){var e,i,r,n,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,i=Be(e,this.es,this.en),Math.abs(i)<c){var s=Math.sin(i),h=Math.cos(i),u=Math.abs(h)>d?Math.tan(i):0,l=this.ep2*Math.pow(h,2),f=Math.pow(l,2),p=Math.pow(u,2),g=Math.pow(p,2);e=1-this.es*Math.pow(s,2);var v=o*Math.sqrt(e)/this.k0,y=Math.pow(v,2);e*=u,r=i-e*y/(1-this.es)*.5*(1-y/12*(5+3*p-9*l*p+l-4*f-y/30*(61+90*p-252*l*p+45*g+46*l-y/56*(1385+3633*p+4095*g+1574*g*p)))),n=at(this.long0+v*(1-y/6*(1+2*p+l-y/20*(5+28*p+24*g+8*l*p+6*l-y/42*(61+662*p+1320*g+720*g*p))))/h)}else r=c*ot(a),n=0;else{var m=Math.exp(o/this.k0),_=.5*(m-1/m),b=this.lat0+a/this.k0,w=Math.cos(b);e=Math.sqrt((1-Math.pow(w,2))/(1+Math.pow(_,2))),r=Math.asin(e),a<0&&(r=-r),n=0===_&&0===w?0:at(Math.atan2(_,w)+this.long0)}return t.x=n,t.y=r,t}var Ve=["Transverse_Mercator","Transverse Mercator","tmerc"],He={init:Ue,forward:ze,inverse:qe,names:Ve},We=function(t){var e=Math.exp(t);return e=(e-1/e)/2,e},Ye=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),r=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(r,2))},Ke=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i},Xe=function(t){var e=Math.abs(t);return e=Ke(e*(1+e/(Ye(1,e)+1))),t<0?-e:e},Ze=function(t,e){var i,r=2*Math.cos(2*e),n=t.length-1,o=t[n],a=0;while(--n>=0)i=r*o-a+t[n],a=o,o=i;return e+i*Math.sin(2*e)},$e=function(t,e){var i,r=2*Math.cos(e),n=t.length-1,o=t[n],a=0;while(--n>=0)i=r*o-a+t[n],a=o,o=i;return Math.sin(e)*i},Je=function(t){var e=Math.exp(t);return e=(e+1/e)/2,e},Qe=function(t,e,i){var r,n,o=Math.sin(e),a=Math.cos(e),s=We(i),h=Je(i),c=2*a*h,u=-2*o*s,l=t.length-1,f=t[l],d=0,p=0,g=0;while(--l>=0)r=p,n=d,p=f,d=g,f=c*p-r-u*d+t[l],g=u*p-n+c*d;return c=o*h,u=a*s,[c*f-u*g,c*g+u*f]};function ti(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=.6650675310896665*i;var r=Ze(this.cbg,this.lat0);this.Zb=-this.Qn*(r+$e(this.gtu,2*r))}function ei(t){var e=at(t.x-this.long0),i=t.y;i=Ze(this.cbg,i);var r=Math.sin(i),n=Math.cos(i),o=Math.sin(e),a=Math.cos(e);i=Math.atan2(r,a*n),e=Math.atan2(o*n,Ye(r,n*a)),e=Xe(Math.tan(e));var s,h,c=Qe(this.gtu,2*i,2*e);return i+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*i+this.Zb)+this.y0):(s=1/0,h=1/0),t.x=s,t.y=h,t}function ii(t){var e,i,r=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);if(n=(n-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=Qe(this.utg,2*n,2*r);n+=o[0],r+=o[1],r=Math.atan(We(r));var a=Math.sin(n),s=Math.cos(n),h=Math.sin(r),c=Math.cos(r);n=Math.atan2(a*c,Ye(h,c*s)),r=Math.atan2(h,c*s),e=at(r+this.long0),i=Ze(this.cgb,n)}else e=1/0,i=1/0;return t.x=e,t.y=i,t}var ri=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],ni={init:ti,forward:ei,inverse:ii,names:ri},oi=function(t,e){if(void 0===t){if(t=Math.floor(30*(at(e)+Math.PI)/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t},ai="etmerc";function si(){var t=oi(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*p,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ni.init.apply(this),this.forward=ni.forward,this.inverse=ni.inverse}var hi=["Universal Transverse Mercator System","utm"],ci={init:si,names:hi,dependsOn:ai},ui=function(t,e){return Math.pow((1-t)/(1+t),e)},li=20;function fi(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+v)/(Math.pow(Math.tan(.5*this.lat0+v),this.C)*ui(this.e*t,this.ratexp))}function di(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+v),this.C)*ui(this.e*Math.sin(i),this.ratexp))-c,t.x=this.C*e,t}function pi(t){for(var e=1e-14,i=t.x/this.C,r=t.y,n=Math.pow(Math.tan(.5*r+v)/this.K,1/this.C),o=li;o>0;--o){if(r=2*Math.atan(n*ui(this.e*Math.sin(t.y),-.5*this.e))-c,Math.abs(r-t.y)<e)break;t.y=r}return o?(t.x=i,t.y=r,t):null}var gi=["gauss"],vi={init:fi,forward:di,inverse:pi,names:gi};function yi(){vi.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function mi(t){var e,i,r,n;return t.x=at(t.x-this.long0),vi.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),r=Math.cos(t.x),n=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*r),t.x=n*i*Math.sin(t.x),t.y=n*(this.cosc0*e-this.sinc0*i*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function _i(t){var e,i,r,n,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),i=Math.cos(a),n=Math.asin(i*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*i-t.y*this.sinc0*e)}else n=this.phic0,r=0;return t.x=r,t.y=n,vi.inverse.apply(this,[t]),t.x=at(t.x+this.long0),t}var bi=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],wi={init:yi,forward:mi,inverse:_i,names:bi};function xi(t,e,i){return e*=i,Math.tan(.5*(c+t))*Math.pow((1-e)/(1+e),.5*i)}function Si(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=d&&(this.k0=.5*(1+ot(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=d&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=d&&(this.k0=.5*this.cons*nt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/st(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=nt(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-c,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Ei(t){var e,i,r,n,o,a,s=t.x,h=t.y,u=Math.sin(h),l=Math.cos(h),f=at(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=d&&Math.abs(h+this.lat0)<=d?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*l*Math.cos(f)),t.x=this.a*e*l*Math.sin(f)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*l*Math.cos(f))+this.y0,t):(i=2*Math.atan(this.ssfn_(h,u,this.e))-c,n=Math.cos(i),r=Math.sin(i),Math.abs(this.coslat0)<=d?(o=st(this.e,h*this.con,this.con*u),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<d?(e=2*this.a*this.k0/(1+n*Math.cos(f)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*n*Math.cos(f))),t.y=e*(this.cosX0*r-this.sinX0*n*Math.cos(f))+this.y0),t.x=e*n*Math.sin(f)+this.x0,t))}function Oi(t){var e,i,r,n,o;t.x-=this.x0,t.y-=this.y0;var a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,i=this.lat0,a<=d?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=Math.abs(this.coslat0)<d?this.lat0>0?at(this.long0+Math.atan2(t.x,-1*t.y)):at(this.long0+Math.atan2(t.x,t.y)):at(this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=d){if(a<=d)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),i=this.con*ht(this.e,r),e=this.con*at(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else n=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=d?o=this.X0:(o=Math.asin(Math.cos(n)*this.sinX0+t.y*Math.sin(n)*this.cosX0/a),e=at(this.long0+Math.atan2(t.x*Math.sin(n),a*this.cosX0*Math.cos(n)-t.y*this.sinX0*Math.sin(n)))),i=-1*ht(this.e,Math.tan(.5*(c+o)));return t.x=e,t.y=i,t}var Ti=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],Ci={init:Si,forward:Ei,inverse:Oi,names:Ti,ssfn_:xi};function Ai(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,r=this.rf,n=1/r,o=2*n-Math.pow(n,2),a=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+a*e)/(1-a*e));this.K=s-this.alpha*h+this.alpha*a/2*c}function Li(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+i)+this.K,n=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t}function Ri(t){var e=t.x-this.x0,i=t.y-this.y0,r=e/this.R,n=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(n))),s=this.lambda0+a/this.alpha,h=0,c=o,u=-1e3,l=0;while(Math.abs(c-u)>1e-7){if(++l>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),u=c,c=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=s,t.y=c,t}var Mi=["somerc"],Ii={init:Ai,forward:Li,inverse:Ri,names:Mi};function Pi(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var r,n,o=st(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(a*a<1&&(a=1),isNaN(this.longc)){var s=st(this.e,this.lat1,Math.sin(this.lat1)),h=st(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var c=Math.pow(s,this.bl),u=Math.pow(h,this.bl);r=this.el/c,n=.5*(r-1/r);var l=(this.el*this.el-u*c)/(this.el*this.el+u*c),f=(u-c)/(u+c),d=at(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(l*Math.tan(.5*this.bl*d)/f)/this.bl,this.long0=at(this.long0);var p=at(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/n),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(o,this.bl),n=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(n*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))}function Ni(t){var e,i,r,n=t.x,o=t.y,a=at(n-this.long0);if(Math.abs(Math.abs(o)-c)<=d)r=o>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(v+r*this.gamma0*.5)),e=-1*r*c*this.al/this.bl;else{var s=st(this.e,o,Math.sin(o)),h=this.el/Math.pow(s,this.bl),u=.5*(h-1/h),l=.5*(h+1/h),f=Math.sin(this.bl*a),p=(u*Math.sin(this.gamma0)-f*Math.cos(this.gamma0))/l;i=Math.abs(Math.abs(p)-1)<=d?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-p)/(1+p))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=d?this.al*this.bl*a:this.al*Math.atan2(u*Math.cos(this.gamma0)+f*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t}function Fi(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*i/this.al),n=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+n*Math.sin(this.gamma0))/o,h=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<d?(t.x=this.long0,t.y=c):Math.abs(s+1)<d?(t.x=this.long0,t.y=-1*c):(t.y=ht(this.e,h),t.x=at(this.long0-Math.atan2(n*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}var ki=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],ji={init:Pi,forward:Ni,inverse:Fi,names:ki};function Di(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<d)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),r=nt(this.e,e,i),n=st(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=nt(this.e,o,a),h=st(this.e,this.lat2,o),c=st(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>d?this.ns=Math.log(r/s)/Math.log(n/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Gi(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=d&&(i=ot(i)*(c-2*d));var r,n,o=Math.abs(Math.abs(i)-c);if(o>d)r=st(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(r,this.ns);else{if(o=i*this.ns,o<=0)return null;n=0}var a=this.ns*at(e-this.long0);return t.x=this.k0*(n*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-n*Math.cos(a))+this.y0,t}function Bi(t){var e,i,r,n,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),i=1):(e=-Math.sqrt(a*a+s*s),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*a,i*s)),0!==e||this.ns>0){if(i=1/this.ns,r=Math.pow(e/(this.a*this.f0),i),n=ht(this.e,r),-9999===n)return null}else n=-c;return o=at(h/this.ns+this.long0),t.x=o,t.y=n,t}var Ui=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],zi={init:Di,forward:Gi,inverse:Bi,names:Ui};function qi(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Vi(t){var e,i,r,n,o,a,s,h=t.x,c=t.y,u=at(h-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-u*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),o=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(n)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Hi(t){var e,i,r,n,o,a,s,h,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),n=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),i=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,h=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(h=1),s=t.y,u+=1}while(0===h&&u<15);return u>=15?null:t}var Wi=["Krovak","krovak"],Yi={init:qi,forward:Vi,inverse:Hi,names:Wi},Ki=function(t,e,i,r,n){return t*n-e*Math.sin(2*n)+i*Math.sin(4*n)-r*Math.sin(6*n)},Xi=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Zi=function(t){return.375*t*(1+.25*t*(1+.46875*t))},$i=function(t){return.05859375*t*t*(1+.75*t)},Ji=function(t){return t*t*t*(35/3072)},Qi=function(t,e,i){var r=e*i;return t/Math.sqrt(1-r*r)},tr=function(t){return Math.abs(t)<c?t:t-ot(t)*Math.PI},er=function(t,e,i,r,n){var o,a;o=t/e;for(var s=0;s<15;s++)if(a=(t-(e*o-i*Math.sin(2*o)+r*Math.sin(4*o)-n*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*r*Math.cos(4*o)-6*n*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN};function ir(){this.sphere||(this.e0=Xi(this.es),this.e1=Zi(this.es),this.e2=$i(this.es),this.e3=Ji(this.es),this.ml0=this.a*Ki(this.e0,this.e1,this.e2,this.e3,this.lat0))}function rr(t){var e,i,r=t.x,n=t.y;if(r=at(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(n)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(n),Math.cos(r))-this.lat0);else{var o=Math.sin(n),a=Math.cos(n),s=Qi(this.a,this.e,o),h=Math.tan(n)*Math.tan(n),c=r*Math.cos(n),u=c*c,l=this.es*a*a/(1-this.es),f=this.a*Ki(this.e0,this.e1,this.e2,this.e3,n);e=s*c*(1-u*h*(1/6-(8-h+8*l)*u/120)),i=f-this.ml0+s*o/a*u*(.5+(5-h+6*l)*u/24)}return t.x=e+this.x0,t.y=i+this.y0,t}function nr(t){t.x-=this.x0,t.y-=this.y0;var e,i,r=t.x/this.a,n=t.y/this.a;if(this.sphere){var o=n+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),i=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+n,s=er(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-c)<=d)return t.x=this.long0,t.y=c,n<0&&(t.y*=-1),t;var h=Qi(this.a,this.e,Math.sin(s)),u=h*h*h/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(s),2),f=r*this.a/h,p=f*f;e=s-h*Math.tan(s)/u*f*f*(.5-(1+3*l)*f*f/24),i=f*(1-p*(l/3+(1+3*l)*l*p/15))/Math.cos(s)}return t.x=at(i+this.long0),t.y=tr(e),t}var or=["Cassini","Cassini_Soldner","cass"],ar={init:ir,forward:rr,inverse:nr,names:or},sr=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e},hr=1,cr=2,ur=3,lr=4;function fr(){var t,e=Math.abs(this.lat0);if(Math.abs(e-c)<d?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<d?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=sr(this.e,1),this.mmf=.5/(1-this.es),this.apa=wr(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=sr(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function dr(t){var e,i,r,n,o,a,s,h,u,l,f=t.x,p=t.y;if(f=at(f-this.long0),this.sphere){if(o=Math.sin(p),l=Math.cos(p),r=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+l*r:1+this.sinph0*o+this.cosph0*l*r,i<=d)return null;i=Math.sqrt(2/i),e=i*l*Math.sin(f),i*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*l*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.phi0)<d)return null;i=v-.5*p,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(f),i*=r}}else{switch(s=0,h=0,u=0,r=Math.cos(f),n=Math.sin(f),o=Math.sin(p),a=sr(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,h=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*h*r;break;case this.EQUIT:u=1+h*r;break;case this.N_POLE:u=c+p,a=this.qp-a;break;case this.S_POLE:u=p-c,a=this.qp+a;break}if(Math.abs(u)<d)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),i=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*h*r):(u=Math.sqrt(2/(1+h*r)))*s*this.ymf,e=this.xmf*u*h*n;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*n,i=r*(this.mode===this.S_POLE?u:-u)):e=i=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t}function pr(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,n,o,a,s,h=t.x/this.a,u=t.y/this.a;if(this.sphere){var l,f=0,p=0;if(l=Math.sqrt(h*h+u*u),i=.5*l,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(l)<=d?0:Math.asin(u*p/l),h*=p,u=f*l;break;case this.OBLIQ:i=Math.abs(l)<=d?this.phi0:Math.asin(f*this.sinph0+u*p*this.cosph0/l),h*=p*this.cosph0,u=(f-Math.sin(i)*this.sinph0)*l;break;case this.N_POLE:u=-u,i=c-i;break;case this.S_POLE:i-=c;break}e=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,u*=this.dd,a=Math.sqrt(h*h+u*u),a<d)return t.x=0,t.y=this.phi0,t;n=2*Math.asin(.5*a/this.rq),r=Math.cos(n),h*=n=Math.sin(n),this.mode===this.OBLIQ?(s=r*this.sinb1+u*n*this.cosb1/a,o=this.qp*s,u=a*this.cosb1*r-u*this.sinb1*n):(s=u*n/a,o=this.qp*s,u=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),o=h*h+u*u,!o)return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(h,u),i=xr(Math.asin(s),this.apa)}return t.x=at(this.long0+e),t.y=i,t}var gr=.3333333333333333,vr=.17222222222222222,yr=.10257936507936508,mr=.06388888888888888,_r=.0664021164021164,br=.016415012942191543;function wr(t){var e,i=[];return i[0]=t*gr,e=t*t,i[0]+=e*vr,i[1]=e*mr,e*=t,i[0]+=e*yr,i[1]+=e*_r,i[2]=e*br,i}function xr(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}var Sr=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Er={init:fr,forward:dr,inverse:pr,names:Sr,S_POLE:hr,N_POLE:cr,EQUIT:ur,OBLIQ:lr},Or=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};function Tr(){Math.abs(this.lat1+this.lat2)<d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=nt(this.e3,this.sin_po,this.cos_po),this.qs1=sr(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=nt(this.e3,this.sin_po,this.cos_po),this.qs2=sr(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=sr(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>d?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Cr(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var r=sr(this.e3,this.sin_phi,this.cos_phi),n=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*at(e-this.long0),a=n*Math.sin(o)+this.x0,s=this.rh-n*Math.cos(o)+this.y0;return t.x=a,t.y=s,t}function Ar(t){var e,i,r,n,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),n=0,0!==e&&(n=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,i)),o=at(n/this.ns0+this.long0),t.x=o,t.y=a,t}function Lr(t,e){var i,r,n,o,a,s=Or(.5*e);if(t<d)return s;for(var h=t*t,c=1;c<=25;c++)if(i=Math.sin(s),r=Math.cos(s),n=t*i,o=1-n*n,a=.5*o*o/r*(e/(1-h)-i/o+.5/t*Math.log((1-n)/(1+n))),s+=a,Math.abs(a)<=1e-7)return s;return null}var Rr=["Albers_Conic_Equal_Area","Albers","aea"],Mr={init:Tr,forward:Cr,inverse:Ar,names:Rr,phi1z:Lr};function Ir(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Pr(t){var e,i,r,n,o,a,s,h,c=t.x,u=t.y;return r=at(c-this.long0),e=Math.sin(u),i=Math.cos(u),n=Math.cos(r),a=this.sin_p14*e+this.cos_p14*i*n,o=1,a>0||Math.abs(a)<=d?(s=this.x0+this.a*o*i*Math.sin(r)/a,h=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*i*n)/a):(s=this.x0+this.infinity_dist*i*Math.sin(r),h=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*n)),t.x=s,t.y=h,t}function Nr(t){var e,i,r,n,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(n=Math.atan2(e,this.rc),i=Math.sin(n),r=Math.cos(n),a=Or(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i),o=at(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t}var Fr=["gnom"],kr={init:Ir,forward:Pr,inverse:Nr,names:Fr},jr=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*c:c;for(var r,n,o,a,s=Math.asin(.5*e),h=0;h<30;h++)if(n=Math.sin(s),o=Math.cos(s),a=t*n,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-n/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),s+=r,Math.abs(r)<=1e-10)return s;return NaN};function Dr(){this.sphere||(this.k0=nt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Gr(t){var e,i,r=t.x,n=t.y,o=at(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var a=sr(this.e,Math.sin(n));e=this.x0+this.a*this.k0*o,i=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=i,t}function Br(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=at(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=jr(this.e,2*t.y*this.k0/this.a),e=at(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t}var Ur=["cea"],zr={init:Dr,forward:Gr,inverse:Br,names:Ur};function qr(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Vr(t){var e=t.x,i=t.y,r=at(e-this.long0),n=tr(i-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*n,t}function Hr(t){var e=t.x,i=t.y;return t.x=at(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=tr(this.lat0+(i-this.y0)/this.a),t}var Wr=["Equirectangular","Equidistant_Cylindrical","eqc"],Yr={init:qr,forward:Vr,inverse:Hr,names:Wr},Kr=20;function Xr(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Xi(this.es),this.e1=Zi(this.es),this.e2=$i(this.es),this.e3=Ji(this.es),this.ml0=this.a*Ki(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Zr(t){var e,i,r,n=t.x,o=t.y,a=at(n-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=d?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),i=this.a*(tr(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=d)e=this.a*a,i=-1*this.ml0;else{var s=Qi(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(r),i=this.a*Ki(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(r))}return t.x=e+this.x0,t.y=i+this.y0,t}function $r(t){var e,i,r,n,o,a,s,h,c;if(r=t.x-this.x0,n=t.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=d)e=at(r/this.a+this.long0),i=0;else{var u;for(a=this.lat0+n/this.a,s=r*r/this.a/this.a+a*a,h=a,o=Kr;o;--o)if(u=Math.tan(h),c=-1*(a*(h*u+1)-h-.5*(h*h+s)*u)/((h-a)/u-1),h+=c,Math.abs(c)<=d){i=h;break}e=at(this.long0+Math.asin(r*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(n+this.ml0)<=d)i=0,e=at(this.long0+r/this.a);else{var l,f,p,g,v;for(a=(this.ml0+n)/this.a,s=r*r/this.a/this.a+a*a,h=a,o=Kr;o;--o)if(v=this.e*Math.sin(h),l=Math.sqrt(1-v*v)*Math.tan(h),f=this.a*Ki(this.e0,this.e1,this.e2,this.e3,h),p=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),g=f/this.a,c=(a*(l*g+1)-g-.5*l*(g*g+s))/(this.es*Math.sin(2*h)*(g*g+s-2*a*g)/(4*l)+(a-g)*(l*p-2/Math.sin(2*h))-p),h-=c,Math.abs(c)<=d){i=h;break}l=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=at(this.long0+Math.asin(r*l/this.a)/Math.sin(i))}return t.x=e,t.y=i,t}var Jr=["Polyconic","poly"],Qr={init:Xr,forward:Zr,inverse:$r,names:Jr};function tn(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function en(t){var e,i=t.x,r=t.y,n=r-this.lat0,o=i-this.long0,a=n/h*1e-5,s=o,c=1,u=0;for(e=1;e<=10;e++)c*=a,u+=this.A[e]*c;var l,f,d=u,p=s,g=1,v=0,y=0,m=0;for(e=1;e<=6;e++)l=g*d-v*p,f=v*d+g*p,g=l,v=f,y=y+this.B_re[e]*g-this.B_im[e]*v,m=m+this.B_im[e]*g+this.B_re[e]*v;return t.x=m*this.a+this.x0,t.y=y*this.a+this.y0,t}function rn(t){var e,i,r,n=t.x,o=t.y,a=n-this.x0,s=o-this.y0,c=s/this.a,u=a/this.a,l=1,f=0,d=0,p=0;for(e=1;e<=6;e++)i=l*c-f*u,r=f*c+l*u,l=i,f=r,d=d+this.C_re[e]*l-this.C_im[e]*f,p=p+this.C_im[e]*l+this.C_re[e]*f;for(var g=0;g<this.iterations;g++){var v,y,m=d,_=p,b=c,w=u;for(e=2;e<=6;e++)v=m*d-_*p,y=_*d+m*p,m=v,_=y,b+=(e-1)*(this.B_re[e]*m-this.B_im[e]*_),w+=(e-1)*(this.B_im[e]*m+this.B_re[e]*_);m=1,_=0;var x=this.B_re[1],S=this.B_im[1];for(e=2;e<=6;e++)v=m*d-_*p,y=_*d+m*p,m=v,_=y,x+=e*(this.B_re[e]*m-this.B_im[e]*_),S+=e*(this.B_im[e]*m+this.B_re[e]*_);var E=x*x+S*S;d=(b*x+w*S)/E,p=(w*x-b*S)/E}var O=d,T=p,C=1,A=0;for(e=1;e<=9;e++)C*=O,A+=this.D[e]*C;var L=this.lat0+A*h*1e5,R=this.long0+T;return t.x=R,t.y=L,t}var nn=["New_Zealand_Map_Grid","nzmg"],on={init:tn,forward:en,inverse:rn,names:nn};function an(){}function sn(t){var e=t.x,i=t.y,r=at(e-this.long0),n=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=n,t.y=o,t}function hn(t){t.x-=this.x0,t.y-=this.y0;var e=at(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t}var cn=["Miller_Cylindrical","mill"],un={init:an,forward:sn,inverse:hn,names:cn},ln=20;function fn(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=je(this.es)}function dn(t){var e,i,r=t.x,n=t.y;if(r=at(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(n),a=ln;a;--a){var s=(this.m*n+Math.sin(n)-o)/(this.m+Math.cos(n));if(n-=s,Math.abs(s)<d)break}else n=1!==this.n?Math.asin(this.n*Math.sin(n)):n;e=this.a*this.C_x*r*(this.m+Math.cos(n)),i=this.a*this.C_y*n}else{var h=Math.sin(n),c=Math.cos(n);i=this.a*De(n,h,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t}function pn(t){var e,i,r,n;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=Or((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Or(Math.sin(e)/this.n)),r=at(r+this.long0),e=tr(e)):(e=Be(t.y/this.a,this.es,this.en),n=Math.abs(e),n<c?(n=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(e)),r=at(i)):n-d<c&&(r=this.long0)),t.x=r,t.y=e,t}var gn=["Sinusoidal","sinu"],vn={init:fn,forward:dn,inverse:pn,names:gn};function yn(){}function mn(t){var e=t.x,i=t.y,r=at(e-this.long0),n=i,o=Math.PI*Math.sin(i);while(1){var a=-(n+Math.sin(n)-o)/(1+Math.cos(n));if(n+=a,Math.abs(a)<d)break}n/=2,Math.PI/2-Math.abs(i)<d&&(r=0);var s=.900316316158*this.a*r*Math.cos(n)+this.x0,h=1.4142135623731*this.a*Math.sin(n)+this.y0;return t.x=s,t.y=h,t}function _n(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var r=at(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var n=Math.asin(i);return t.x=r,t.y=n,t}var bn=["Mollweide","moll"],wn={init:yn,forward:mn,inverse:_n,names:bn};function xn(){Math.abs(this.lat1+this.lat2)<d||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Xi(this.es),this.e1=Zi(this.es),this.e2=$i(this.es),this.e3=Ji(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=nt(this.e,this.sinphi,this.cosphi),this.ml1=Ki(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<d?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=nt(this.e,this.sinphi,this.cosphi),this.ml2=Ki(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ki(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Sn(t){var e,i=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var n=Ki(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-n)}var o=this.ns*at(i-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t}function En(t){var e,i,r,n;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return n=at(this.long0+o/this.ns),r=tr(this.g-i/this.a),t.x=n,t.y=r,t;var a=this.g-i/this.a;return r=er(a,this.e0,this.e1,this.e2,this.e3),n=at(this.long0+o/this.ns),t.x=n,t.y=r,t}var On=["Equidistant_Conic","eqdc"],Tn={init:xn,forward:Sn,inverse:En,names:On};function Cn(){this.R=this.a}function An(t){var e,i,r=t.x,n=t.y,o=at(r-this.long0);Math.abs(n)<=d&&(e=this.x0+this.R*o,i=this.y0);var a=Or(2*Math.abs(n/Math.PI));(Math.abs(o)<=d||Math.abs(Math.abs(n)-c)<=d)&&(e=this.x0,i=n>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),h=s*s,u=Math.sin(a),l=Math.cos(a),f=l/(u+l-1),p=f*f,g=f*(2/u-1),v=g*g,y=Math.PI*this.R*(s*(f-v)+Math.sqrt(h*(f-v)*(f-v)-(v+h)*(p-v)))/(v+h);o<0&&(y=-y),e=this.x0+y;var m=h+f;return y=Math.PI*this.R*(g*m-s*Math.sqrt((v+h)*(h+1)-m*m))/(v+h),i=n>=0?this.y0+y:this.y0-y,t.x=e,t.y=i,t}function Ln(t){var e,i,r,n,o,a,s,h,c,u,l,f,p;return t.x-=this.x0,t.y-=this.y0,l=Math.PI*this.R,r=t.x/l,n=t.y/l,o=r*r+n*n,a=-Math.abs(n)*(1+o),s=a-2*n*n+r*r,h=-2*a+1+2*n*n+o*o,p=n*n/h+(2*s*s*s/h/h/h-9*a*s/h/h)/27,c=(a-s*s/3/h)/h,u=2*Math.sqrt(-c/3),l=3*p/c/u,Math.abs(l)>1&&(l=l>=0?1:-1),f=Math.acos(l)/3,i=t.y>=0?(-u*Math.cos(f+Math.PI/3)-s/3/h)*Math.PI:-(-u*Math.cos(f+Math.PI/3)-s/3/h)*Math.PI,e=Math.abs(r)<d?this.long0:at(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-n*n)+o*o))/2/r),t.x=e,t.y=i,t}var Rn=["Van_der_Grinten_I","VanDerGrinten","vandg"],Mn={init:Cn,forward:An,inverse:Ln,names:Rn};function In(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Pn(t){var e,i,r,n,o,a,s,h,u,l,f,p,g,v,y,m,_,b,w,x,S,E,O,T=t.x,C=t.y,A=Math.sin(t.y),L=Math.cos(t.y),R=at(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=d?(t.x=this.x0+this.a*(c-C)*Math.sin(R),t.y=this.y0-this.a*(c-C)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=d?(t.x=this.x0+this.a*(c+C)*Math.sin(R),t.y=this.y0+this.a*(c+C)*Math.cos(R),t):(b=this.sin_p12*A+this.cos_p12*L*Math.cos(R),m=Math.acos(b),_=m/Math.sin(m),t.x=this.x0+this.a*_*L*Math.sin(R),t.y=this.y0+this.a*_*(this.cos_p12*A-this.sin_p12*L*Math.cos(R)),t):(e=Xi(this.es),i=Zi(this.es),r=$i(this.es),n=Ji(this.es),Math.abs(this.sin_p12-1)<=d?(o=this.a*Ki(e,i,r,n,c),a=this.a*Ki(e,i,r,n,C),t.x=this.x0+(o-a)*Math.sin(R),t.y=this.y0-(o-a)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=d?(o=this.a*Ki(e,i,r,n,c),a=this.a*Ki(e,i,r,n,C),t.x=this.x0+(o+a)*Math.sin(R),t.y=this.y0+(o+a)*Math.cos(R),t):(s=A/L,h=Qi(this.a,this.e,this.sin_p12),u=Qi(this.a,this.e,A),l=Math.atan((1-this.es)*s+this.es*h*this.sin_p12/(u*L)),f=Math.atan2(Math.sin(R),this.cos_p12*Math.tan(l)-this.sin_p12*Math.cos(R)),w=0===f?Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.abs(Math.abs(f)-Math.PI)<=d?-Math.asin(this.cos_p12*Math.sin(l)-this.sin_p12*Math.cos(l)):Math.asin(Math.sin(R)*Math.cos(l)/Math.sin(f)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),g=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es),v=p*g,y=g*g,x=w*w,S=x*w,E=S*w,O=E*w,m=h*w*(1-x*y*(1-y)/6+S/8*v*(1-2*y)+E/120*(y*(4-7*y)-3*p*p*(1-7*y))-O/48*v),t.x=this.x0+m*Math.sin(f),t.y=this.y0+m*Math.cos(f),t))}function Nn(t){var e,i,r,n,o,a,s,h,u,l,f,p,g,v,y,m,_,b,w,x,S,E,O;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*c*this.a)return;return i=e/this.a,r=Math.sin(i),n=Math.cos(i),o=this.long0,Math.abs(e)<=d?a=this.lat0:(a=Or(n*this.sin_p12+t.y*r*this.cos_p12/e),s=Math.abs(this.lat0)-c,o=Math.abs(s)<=d?this.lat0>=0?at(this.long0+Math.atan2(t.x,-t.y)):at(this.long0-Math.atan2(-t.x,t.y)):at(this.long0+Math.atan2(t.x*r,e*this.cos_p12*n-t.y*this.sin_p12*r))),t.x=o,t.y=a,t}return h=Xi(this.es),u=Zi(this.es),l=$i(this.es),f=Ji(this.es),Math.abs(this.sin_p12-1)<=d?(p=this.a*Ki(h,u,l,f,c),e=Math.sqrt(t.x*t.x+t.y*t.y),g=p-e,a=er(g/this.a,h,u,l,f),o=at(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=d?(p=this.a*Ki(h,u,l,f,c),e=Math.sqrt(t.x*t.x+t.y*t.y),g=e-p,a=er(g/this.a,h,u,l,f),o=at(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),v=Qi(this.a,this.e,this.sin_p12),_=Math.cos(m),b=this.e*this.cos_p12*_,w=-b*b/(1-this.es),x=3*this.es*(1-w)*this.sin_p12*this.cos_p12*_/(1-this.es),S=e/v,E=S-w*(1+w)*Math.pow(S,3)/6-x*(1+3*w)*Math.pow(S,4)/24,O=1-w*E*E/2-S*E*E*E/6,y=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*_),o=at(this.long0+Math.asin(Math.sin(m)*Math.sin(E)/Math.cos(y))),a=Math.atan((1-this.es*O*this.sin_p12/Math.sin(y))*Math.tan(y)/(1-this.es)),t.x=o,t.y=a,t)}var Fn=["Azimuthal_Equidistant","aeqd"],kn={init:In,forward:Pn,inverse:Nn,names:Fn};function jn(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Dn(t){var e,i,r,n,o,a,s,h,c=t.x,u=t.y;return r=at(c-this.long0),e=Math.sin(u),i=Math.cos(u),n=Math.cos(r),a=this.sin_p14*e+this.cos_p14*i*n,o=1,(a>0||Math.abs(a)<=d)&&(s=this.a*o*i*Math.sin(r),h=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*i*n)),t.x=s,t.y=h,t}function Gn(t){var e,i,r,n,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=Or(e/this.a),r=Math.sin(i),n=Math.cos(i),a=this.long0,Math.abs(e)<=d?(s=this.lat0,t.x=a,t.y=s,t):(s=Or(n*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-c,Math.abs(o)<=d?(a=this.lat0>=0?at(this.long0+Math.atan2(t.x,-t.y)):at(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=at(this.long0+Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r)),t.x=a,t.y=s,t))}var Bn=["ortho"],Un={init:jn,forward:Dn,inverse:Gn,names:Bn},zn={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},qn={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Vn(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=c-v/2?this.face=zn.TOP:this.lat0<=-(c-v/2)?this.face=zn.BOTTOM:Math.abs(this.long0)<=v?this.face=zn.FRONT:Math.abs(this.long0)<=c+v?this.face=this.long0>0?zn.RIGHT:zn.LEFT:this.face=zn.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Hn(t){var e,i,r,n,o,a,s={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===zn.TOP)n=c-e,i>=v&&i<=c+v?(h.value=qn.AREA_0,r=i-c):i>c+v||i<=-(c+v)?(h.value=qn.AREA_1,r=i>0?i-m:i+m):i>-(c+v)&&i<=-v?(h.value=qn.AREA_2,r=i+c):(h.value=qn.AREA_3,r=i);else if(this.face===zn.BOTTOM)n=c+e,i>=v&&i<=c+v?(h.value=qn.AREA_0,r=-i+c):i<v&&i>=-v?(h.value=qn.AREA_1,r=-i):i<-v&&i>=-(c+v)?(h.value=qn.AREA_2,r=-i-c):(h.value=qn.AREA_3,r=i>0?-i+m:-i-m);else{var u,l,f,d,p,g,y;this.face===zn.RIGHT?i=Kn(i,+c):this.face===zn.BACK?i=Kn(i,+m):this.face===zn.LEFT&&(i=Kn(i,-c)),d=Math.sin(e),p=Math.cos(e),g=Math.sin(i),y=Math.cos(i),u=p*y,l=p*g,f=d,this.face===zn.FRONT?(n=Math.acos(u),r=Yn(n,f,l,h)):this.face===zn.RIGHT?(n=Math.acos(l),r=Yn(n,f,-u,h)):this.face===zn.BACK?(n=Math.acos(-u),r=Yn(n,f,-l,h)):this.face===zn.LEFT?(n=Math.acos(-l),r=Yn(n,f,u,h)):(n=r=0,h.value=qn.AREA_0)}return a=Math.atan(12/m*(r+Math.acos(Math.sin(r)*Math.cos(v))-c)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),h.value===qn.AREA_1?a+=c:h.value===qn.AREA_2?a+=m:h.value===qn.AREA_3&&(a+=1.5*m),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t}function Wn(t){var e,i,r,n,o,a,s,h,u,l,f,d,p={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=qn.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=qn.AREA_1,e-=c):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=qn.AREA_2,e=e<0?e+m:e-m):(g.value=qn.AREA_3,e+=c),u=m/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(e),n=Math.tan(i),s=1-r*r*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),s<-1?s=-1:s>1&&(s=1),this.face===zn.TOP)h=Math.acos(s),p.phi=c-h,g.value===qn.AREA_0?p.lam=a+c:g.value===qn.AREA_1?p.lam=a<0?a+m:a-m:g.value===qn.AREA_2?p.lam=a-c:p.lam=a;else if(this.face===zn.BOTTOM)h=Math.acos(s),p.phi=h-c,g.value===qn.AREA_0?p.lam=-a+c:g.value===qn.AREA_1?p.lam=-a:g.value===qn.AREA_2?p.lam=-a-c:p.lam=a<0?-a-m:-a+m;else{var v,y,_;v=s,u=v*v,_=u>=1?0:Math.sqrt(1-u)*Math.sin(a),u+=_*_,y=u>=1?0:Math.sqrt(1-u),g.value===qn.AREA_1?(u=y,y=-_,_=u):g.value===qn.AREA_2?(y=-y,_=-_):g.value===qn.AREA_3&&(u=y,y=_,_=-u),this.face===zn.RIGHT?(u=v,v=-y,y=u):this.face===zn.BACK?(v=-v,y=-y):this.face===zn.LEFT&&(u=v,v=y,y=-u),p.phi=Math.acos(-_)-c,p.lam=Math.atan2(y,v),this.face===zn.RIGHT?p.lam=Kn(p.lam,-c):this.face===zn.BACK?p.lam=Kn(p.lam,-m):this.face===zn.LEFT&&(p.lam=Kn(p.lam,+c))}0!==this.es&&(l=p.phi<0?1:0,f=Math.tan(p.phi),d=this.b/Math.sqrt(f*f+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),l&&(p.phi=-p.phi));return p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t}function Yn(t,e,i,r){var n;return t<d?(r.value=qn.AREA_0,n=0):(n=Math.atan2(e,i),Math.abs(n)<=v?r.value=qn.AREA_0:n>v&&n<=c+v?(r.value=qn.AREA_1,n-=c):n>c+v||n<=-(c+v)?(r.value=qn.AREA_2,n=n>=0?n-m:n+m):(r.value=qn.AREA_3,n+=c)),n}function Kn(t,e){var i=t+e;return i<-m?i+=y:i>+m&&(i-=y),i}var Xn=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],Zn={init:Vn,forward:Hn,inverse:Wn,names:Xn},$n=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Jn=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Qn=.8487,to=1.3523,eo=g/5,io=1/eo,ro=18,no=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},oo=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};function ao(t,e,i,r){for(var n=e;r;--r){var o=t(n);if(n-=o,Math.abs(o)<i)break}return n}function so(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function ho(t){var e=at(t.x-this.long0),i=Math.abs(t.y),r=Math.floor(i*eo);r<0?r=0:r>=ro&&(r=ro-1),i=g*(i-io*r);var n={x:no($n[r],i)*e,y:no(Jn[r],i)};return t.y<0&&(n.y=-n.y),n.x=n.x*this.a*Qn+this.x0,n.y=n.y*this.a*to+this.y0,n}function co(t){var e={x:(t.x-this.x0)/(this.a*Qn),y:Math.abs(t.y-this.y0)/(this.a*to)};if(e.y>=1)e.x/=$n[ro][0],e.y=t.y<0?-c:c;else{var i=Math.floor(e.y*ro);for(i<0?i=0:i>=ro&&(i=ro-1);;)if(Jn[i][0]>e.y)--i;else{if(!(Jn[i+1][0]<=e.y))break;++i}var r=Jn[i],n=5*(e.y-r[0])/(Jn[i+1][0]-r[0]);n=ao((function(t){return(no(r,t)-e.y)/oo(r,t)}),n,d,100),e.x/=no($n[i],n),e.y=(5*i+n)*p,t.y<0&&(e.y=-e.y)}return e.x=at(e.x+this.long0),e}var uo=["Robinson","robin"],lo={init:so,forward:ho,inverse:co,names:uo};function fo(){this.name="geocent"}function po(t){var e=Ft(t,this.es,this.a);return e}function go(t){var e=kt(t,this.es,this.a,this.b);return e}var vo=["Geocentric","geocentric","geocent","Geocent"],yo={init:fo,forward:po,inverse:go,names:vo},mo=function(t){t.Proj.projections.add(He),t.Proj.projections.add(ni),t.Proj.projections.add(ci),t.Proj.projections.add(wi),t.Proj.projections.add(Ci),t.Proj.projections.add(Ii),t.Proj.projections.add(ji),t.Proj.projections.add(zi),t.Proj.projections.add(Yi),t.Proj.projections.add(ar),t.Proj.projections.add(Er),t.Proj.projections.add(Mr),t.Proj.projections.add(kr),t.Proj.projections.add(zr),t.Proj.projections.add(Yr),t.Proj.projections.add(Qr),t.Proj.projections.add(on),t.Proj.projections.add(un),t.Proj.projections.add(vn),t.Proj.projections.add(wn),t.Proj.projections.add(Tn),t.Proj.projections.add(Mn),t.Proj.projections.add(kn),t.Proj.projections.add(Un),t.Proj.projections.add(Zn),t.Proj.projections.add(lo),t.Proj.projections.add(yo)};$t.defaultDatum="WGS84",$t.Proj=Pt,$t.WGS84=new $t.Proj("WGS84"),$t.Point=Ee,$t.toPoint=zt,$t.defs=W,$t.transform=Wt,$t.mgrs=ae,$t.version="__VERSION__",mo($t);e["default"]=$t},fa76:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("b9e3"),s=i("bd30"),h=i("b5c4"),c=i("d09a"),u=i("bd30"),l=i("14ede"),f="Stage",d="string",p="px",g="mouseout",v="mouseleave",y="mouseover",m="mouseenter",_="mousemove",b="mousedown",w="mouseup",x="pointermove",S="pointerdown",E="pointerup",O="pointercancel",T="lostpointercapture",C="contextmenu",A="click",L="dblclick",R="touchstart",M="touchend",I="tap",P="dbltap",N="touchmove",F="wheel",k="contentMouseout",j="contentMouseover",D="contentMousemove",G="contentMousedown",B="contentMouseup",U="contentContextmenu",z="contentClick",q="contentDblclick",V="contentTouchstart",H="contentTouchend",W="contentDbltap",Y="contentTap",K="contentTouchmove",X="contentWheel",Z="relative",$="konvajs-content",J="_",Q="container",tt=5,et="",it=[m,b,_,w,g,R,N,M,y,F,C,S,x,E,O,T],rt=it.length;function nt(t,e){t.content.addEventListener(e,(function(i){t[J+e](i)}),!1)}var ot="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";function at(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&n.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var st=function(t){function i(i){var r=t.call(this,at(i))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){at(r.attrs)})),r._checkVisibility(),r}return r(i,t),i.prototype._validateAdd=function(t){var e="Layer"===t.getType(),i="FastLayer"===t.getType(),r=e||i;r||n.Util.throw("You may only add layers to the stage.")},i.prototype._checkVisibility=function(){if(this.content){var t=this.visible()?"":"none";this.content.style.display=t}},i.prototype.setContainer=function(t){if(typeof t===d){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;i="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(i)}if(!t)throw"Can not find container in document with id "+i}return this._setAttr(Q,t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},i.prototype.shouldDrawHit=function(){return!0},i.prototype.clear=function(){var t,e=this.children,i=e.length;for(t=0;t<i;t++)e[t].clear();return this},i.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),a.Container.prototype.clone.call(this,t)},i.prototype.destroy=function(){t.prototype.destroy.call(this);var i=this.content;i&&n.Util._isInDocument(i)&&this.container().removeChild(i);var r=e.stages.indexOf(this);return r>-1&&e.stages.splice(r,1),this},i.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(n.Util.warn(ot),null)},i.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},i.prototype.getPointersPositions=function(){return this._pointerPositions},i.prototype.getStage=function(){return this},i.prototype.getContent=function(){return this.content},i.prototype._toKonvaCanvas=function(t){t=t||{},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new h.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),i=e.getContext()._context,r=this.children;return(t.x||t.y)&&i.translate(-1*t.x,-1*t.y),r.each((function(e){if(e.isVisible()){var r=e._toKonvaCanvas(t);i.drawImage(r._canvas,t.x,t.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),e},i.prototype.getIntersection=function(t,e){if(!t)return null;var i,r,n=this.children,o=n.length,a=o-1;for(i=a;i>=0;i--)if(r=n[i].getIntersection(t,e),r)return r;return null},i.prototype._resizeDOM=function(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+p,this.content.style.height=e+p),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.each((function(i){i.setSize({width:t,height:e}),i.draw()}))},i.prototype.add=function(e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>tt&&n.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),s.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},i.prototype.getParent=function(){return null},i.prototype.getLayer=function(){return null},i.prototype.hasPointerCapture=function(t){return l.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){l.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){l.releaseCapture(t,this)},i.prototype.getLayers=function(){return this.getChildren()},i.prototype._bindContentEvents=function(){if(s.Konva.isBrowser)for(var t=0;t<rt;t++)nt(this,it[t])},i.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(m,{evt:t,target:this,currentTarget:this})},i.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire(j,{evt:t}),this._fire(y,{evt:t,target:this,currentTarget:this})},i.prototype._mouseout=function(t){var e;this.setPointersPositions(t);var i=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,r=!c.DD.isDragging||s.Konva.hitOnDragEnabled;i&&r?(i._fireAndBubble(g,{evt:t}),i._fireAndBubble(v,{evt:t}),this._fire(v,{evt:t,target:this,currentTarget:this}),this.targetShape=null):r&&(this._fire(v,{evt:t,target:this,currentTarget:this}),this._fire(g,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire(k,{evt:t})},i.prototype._mousemove=function(t){var e;if(s.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var i,r=n.Util._getFirstPointerId(t),o=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,a=!c.DD.isDragging||s.Konva.hitOnDragEnabled;if(a){if(i=this.getIntersection(this.getPointerPosition()),i&&i.isListening()){var h=o!==i;a&&h?(o&&(o._fireAndBubble(g,{evt:t,pointerId:r},i),o._fireAndBubble(v,{evt:t,pointerId:r},i)),i._fireAndBubble(y,{evt:t,pointerId:r},o),i._fireAndBubble(m,{evt:t,pointerId:r},o),i._fireAndBubble(_,{evt:t,pointerId:r}),this.targetShape=i):i._fireAndBubble(_,{evt:t,pointerId:r})}else o&&a&&(o._fireAndBubble(g,{evt:t,pointerId:r}),o._fireAndBubble(v,{evt:t,pointerId:r}),this._fire(y,{evt:t,target:this,currentTarget:this,pointerId:r}),this.targetShape=null),this._fire(_,{evt:t,target:this,currentTarget:this,pointerId:r});this._fire(D,{evt:t})}t.cancelable&&t.preventDefault()},i.prototype._mousedown=function(t){if(s.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=n.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition());c.DD.justDragged=!1,s.Konva.listenClickTap=!0,i&&i.isListening()?(this.clickStartShape=i,i._fireAndBubble(b,{evt:t,pointerId:e})):this._fire(b,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire(G,{evt:t})},i.prototype._mouseup=function(t){if(s.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=n.Util._getFirstPointerId(t),i=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,o=this.clickEndShape,a=!1;s.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):c.DD.justDragged||(s.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){s.Konva.inDblClickWindow=!1}),s.Konva.dblClickWindow),i&&i.isListening()?(this.clickEndShape=i,i._fireAndBubble(w,{evt:t,pointerId:e}),s.Konva.listenClickTap&&r&&r._id===i._id&&(i._fireAndBubble(A,{evt:t,pointerId:e}),a&&o&&o===i&&i._fireAndBubble(L,{evt:t,pointerId:e}))):(this.clickEndShape=null,this._fire(w,{evt:t,target:this,currentTarget:this,pointerId:e}),s.Konva.listenClickTap&&this._fire(A,{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire(L,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire(B,{evt:t}),s.Konva.listenClickTap&&(this._fire(z,{evt:t}),a&&this._fire(q,{evt:t})),s.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},i.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(C,{evt:t}):this._fire(C,{evt:t,target:this,currentTarget:this}),this._fire(U,{evt:t})},i.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach((function(r){var n=e.getIntersection(r);s.Konva.listenClickTap=!0,c.DD.justDragged=!1;var o=n&&n.isListening();o&&(s.Konva.captureTouchEventsEnabled&&n.setPointerCapture(r.id),e.tapStartShape=n,n._fireAndBubble(R,{evt:t,pointerId:r.id},e),i=!0,n.isListening()&&n.preventDefault()&&t.cancelable&&t.preventDefault())})),i||this._fire(R,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire(V,{evt:t})},i.prototype._touchmove=function(t){var e=this;this.setPointersPositions(t);var i=!c.DD.isDragging||s.Konva.hitOnDragEnabled;if(i){var r=!1,n={};this._changedPointerPositions.forEach((function(i){var o=l.getCapturedShape(i.id)||e.getIntersection(i),a=o&&o.isListening();a&&(n[o._id]||(n[o._id]=!0,o._fireAndBubble(N,{evt:t,pointerId:i.id}),r=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),r||this._fire(N,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire(K,{evt:t})}c.DD.isDragging&&c.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},i.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var i=this.tapEndShape,r=!1;s.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):c.DD.justDragged||(s.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){s.Konva.inDblClickWindow=!1}),s.Konva.dblClickWindow);var n=!1,o={},a=!1,h=!1;this._changedPointerPositions.forEach((function(c){var u=l.getCapturedShape(c.id)||e.getIntersection(c);u&&u.releaseCapture(c.id);var f=u&&u.isListening();f&&(o[u._id]||(o[u._id]=!0,e.tapEndShape=u,u._fireAndBubble(M,{evt:t,pointerId:c.id}),n=!0,s.Konva.listenClickTap&&u===e.tapStartShape&&(a=!0,u._fireAndBubble(I,{evt:t,pointerId:c.id}),r&&i&&i===u&&(h=!0,u._fireAndBubble(P,{evt:t,pointerId:c.id}))),u.isListening()&&u.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire(M,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva.listenClickTap&&!a&&(this.tapEndShape=null,this._fire(I,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})),r&&!h&&this._fire(P,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire(H,{evt:t}),s.Konva.listenClickTap&&(this._fire(Y,{evt:t}),r&&this._fire(W,{evt:t})),this.preventDefault()&&t.cancelable&&t.preventDefault(),s.Konva.listenClickTap=!1},i.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(F,{evt:t}):this._fire(F,{evt:t,target:this,currentTarget:this}),this._fire(X,{evt:t})},i.prototype._pointerdown=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=l.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(S,l.createEvent(t))}},i.prototype._pointermove=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=l.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(x,l.createEvent(t))}},i.prototype._pointerup=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=l.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(E,l.createEvent(t)),l.releaseCapture(t.pointerId)}},i.prototype._pointercancel=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=l.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(E,l.createEvent(t)),l.releaseCapture(t.pointerId)}},i.prototype._lostpointercapture=function(t){l.releaseCapture(t.pointerId)},i.prototype.setPointersPositions=function(t){var e=this,i=this._getContentPosition(),r=null,o=null;t=t||window.event,void 0!==t.touches?(this._pointerPositions=[],this._changedPointerPositions=[],n.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-i.left)/i.scaleX,y:(t.clientY-i.top)/i.scaleY})})),n.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-i.left)/i.scaleX,y:(t.clientY-i.top)/i.scaleY})}))):(r=(t.clientX-i.left)/i.scaleX,o=(t.clientY-i.top)/i.scaleY,this.pointerPos={x:r,y:o},this._pointerPositions=[{x:r,y:o,id:n.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:o,id:n.Util._getFirstPointerId(t)}])},i.prototype._setPointerPosition=function(t){n.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},i.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},i.prototype._buildDOM=function(){if(this.bufferCanvas=new h.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new h.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),s.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML=et,this.content=document.createElement("div"),this.content.style.position=Z,this.content.style.userSelect="none",this.content.className=$,this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},i.prototype.cache=function(){return n.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},i.prototype.clearCache=function(){return this},i.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},i}(a.Container);e.Stage=st,st.prototype.nodeType=f,u._registerNode(st),o.Factory.addGetterSetter(st,"container")},faad:function(t,e,i){"use strict";function r(t,e,i,r,n,o){for(var a=o||[],s=0,h=e;h<i;h+=r){var c=t[h],u=t[h+1];a[s++]=n[0]*c+n[2]*u+n[4],a[s++]=n[1]*c+n[3]*u+n[5]}return o&&a.length!=s&&(a.length=s),a}function n(t,e,i,r,n,o,a){for(var s=a||[],h=Math.cos(n),c=Math.sin(n),u=o[0],l=o[1],f=0,d=e;d<i;d+=r){var p=t[d]-u,g=t[d+1]-l;s[f++]=u+p*h-g*c,s[f++]=l+p*c+g*h;for(var v=d+2;v<d+r;++v)s[f++]=t[v]}return a&&s.length!=f&&(s.length=f),s}function o(t,e,i,r,n,o,a,s){for(var h=s||[],c=a[0],u=a[1],l=0,f=e;f<i;f+=r){var d=t[f]-c,p=t[f+1]-u;h[l++]=c+n*d,h[l++]=u+o*p;for(var g=f+2;g<f+r;++g)h[l++]=t[g]}return s&&h.length!=l&&(h.length=l),h}function a(t,e,i,r,n,o,a){for(var s=a||[],h=0,c=e;c<i;c+=r){s[h++]=t[c]+n,s[h++]=t[c+1]+o;for(var u=c+2;u<c+r;++u)s[h++]=t[u]}return a&&s.length!=h&&(s.length=h),s}i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"d",(function(){return a}))},fb79:function(t,e,i){"use strict";var r=i("a87f"),n=i("4035"),o=i("5db0"),a=i("435e"),s=i("70ea"),h=i("94c2"),c=i("ff89"),u=function(){};t.exports=function(t,e){var i,l={};e.forEach((function(t){t.facadeTransport&&(l[t.facadeTransport.transportName]=t.facadeTransport)})),l[s.transportName]=s,t.bootstrap_iframe=function(){var e;h.currentWindowId=c.hash.slice(1);var s=function(n){if(n.source===parent&&("undefined"===typeof i&&(i=n.origin),n.origin===i)){var s;try{s=o.parse(n.data)}catch(y){return void u("bad json",n.data)}if(s.windowId===h.currentWindowId)switch(s.type){case"s":var f;try{f=o.parse(s.data)}catch(y){u("bad json",s.data);break}var d=f[0],p=f[1],g=f[2],v=f[3];if(u(d,p,g,v),d!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+d+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(g,c.href)||!r.isOriginEqual(v,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+g+", "+v+")");e=new a(new l[p](g,v));break;case"m":e._send(s.data);break;case"c":e&&e._close(),e=null;break}}};n.attachEvent("message",s),h.postMessage("s")}}},fbf5:function(t,e,i){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,i){return this.type=t,this.bubbles=e,this.cancelable=i,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},fc4b:function(t,e,i){"use strict";var r=this&&this.__extends||function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i("c33e"),o=i("157d"),a=i("8a49"),s=i("be44"),h=i("6760"),c=i("a0a2"),u=i("bd30"),l="",f="normal";function d(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}var g=function(t){function e(e){var i=t.call(this,e)||this;return i.dummyCanvas=n.Util.createCanvasElement(),i.dataArray=[],i.dataArray=s.Path.parsePathData(i.attrs.data),i.on("dataChange.konva",(function(){this.dataArray=s.Path.parsePathData(this.attrs.data),this._setTextData()})),i.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",i._setTextData),e&&e["getKerning"]&&(n.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),i.kerningFunc(e["getKerning"])),i._setTextData(),i}return r(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),r=this.fontSize(),n=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<n.length;o++){t.save();var a=n[o].p0;t.translate(a.x,a.y),t.rotate(n[o].rotation),this.partialText=n[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=i,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var r=0;r<e.length;r++){var n=e[r].p1;t.lineTo(n.x,n.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return h.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return h.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas,i=e.getContext("2d");i.save(),i.font=this._getContextFont();var r=i.measureText(t);return i.restore(),{width:r.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),i=this.letterSpacing(),r=this.align(),n=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);this.glyphInfo=[];for(var a=0,c=0;c<t.dataArray.length;c++)t.dataArray[c].pathLength>0&&(a+=t.dataArray[c].pathLength);var u=0;"center"===r&&(u=Math.max(0,a/2-o/2)),"right"===r&&(u=Math.max(0,a-o));for(var l,f,d,p=h.stringToArray(this.text()),g=this.text().split(" ").length-1,v=-1,y=0,m=function(){y=0;for(var e=t.dataArray,i=v+1;i<e.length;i++){if(e[i].pathLength>0)return v=i,e[i];"M"===e[i].command&&(l={x:e[i].points[0],y:e[i].points[1]})}return{}},_=function(e){var n=t._getTextSize(e).width+i;" "===e&&"justify"===r&&(n+=(a-o)/g);var h=0,c=0;f=void 0;while(Math.abs(n-h)/n>.01&&c<20){c++;var u=h;while(void 0===d)d=m(),d&&u+d.pathLength<n&&(u+=d.pathLength,d=void 0);if(d==={}||void 0===l)return;var p=!1;switch(d.command){case"L":s.Path.getLineLength(l.x,l.y,d.points[0],d.points[1])>n?f=s.Path.getPointOnLine(n,l.x,l.y,d.points[0],d.points[1],l.x,l.y):d=void 0;break;case"A":var v=d.points[4],_=d.points[5],b=d.points[4]+_;0===y?y=v+1e-8:n>h?y+=Math.PI/180*_/Math.abs(_):y-=Math.PI/360*_/Math.abs(_),(_<0&&y<b||_>=0&&y>b)&&(y=b,p=!0),f=s.Path.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],y,d.points[6]);break;case"C":0===y?y=n>d.pathLength?1e-8:n/d.pathLength:n>h?y+=(n-h)/d.pathLength/2:y=Math.max(y-(h-n)/d.pathLength/2,0),y>1&&(y=1,p=!0),f=s.Path.getPointOnCubicBezier(y,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===y?y=n/d.pathLength:n>h?y+=(n-h)/d.pathLength:y-=(h-n)/d.pathLength,y>1&&(y=1,p=!0),f=s.Path.getPointOnQuadraticBezier(y,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3]);break}void 0!==f&&(h=s.Path.getLineLength(l.x,l.y,f.x,f.y)),p&&(p=!1,d=void 0)}},b="C",w=t._getTextSize(b).width+i,x=u/w-1,S=0;S<x;S++){if(_(b),void 0===l||void 0===f)break;l=f}for(var E=0;E<p.length;E++){if(_(p[E]),void 0===l||void 0===f)break;var O=s.Path.getLineLength(l.x,l.y,f.x,f.y),T=0;if(n)try{T=n(p[E-1],p[E])*this.fontSize()}catch(L){T=0}l.x+=T,f.x+=T,this.textWidth+=T;var C=s.Path.getPointOnLine(T+O/2,l.x,l.y,f.x,f.y),A=Math.atan2(f.y-l.y,f.x-l.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:p[E],rotation:A,p0:l,p1:f}),l=f}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,i,r=t[0]||0,n=t[0]||0,o=t[1]||0,a=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],i=t[2*s+1],r=Math.min(r,e),n=Math.max(n,e),o=Math.min(o,i),a=Math.max(a,i);var h=this.fontSize();return{x:r-h/2,y:o-h/2,width:n-r+h,height:a-o+h}},e}(a.Shape);e.TextPath=g,g.prototype._fillFunc=d,g.prototype._strokeFunc=p,g.prototype._fillFuncHit=d,g.prototype._strokeFuncHit=p,g.prototype.className="TextPath",g.prototype._attrsAffectingSize=["text","fontSize","data"],u._registerNode(g),o.Factory.addGetterSetter(g,"data"),o.Factory.addGetterSetter(g,"fontFamily","Arial"),o.Factory.addGetterSetter(g,"fontSize",12,c.getNumberValidator()),o.Factory.addGetterSetter(g,"fontStyle",f),o.Factory.addGetterSetter(g,"align","left"),o.Factory.addGetterSetter(g,"letterSpacing",0,c.getNumberValidator()),o.Factory.addGetterSetter(g,"textBaseline","middle"),o.Factory.addGetterSetter(g,"fontVariant",f),o.Factory.addGetterSetter(g,"text",l),o.Factory.addGetterSetter(g,"textDecoration",null),o.Factory.addGetterSetter(g,"kerningFunc",null),n.Collection.mapMethods(g)},fc9e:function(t,e,i){var r=i("0d63"),n=i("255a").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&n(t)}})},fcef:function(t,e,i){var r=i("0d63");r(r.S,"Array",{isArray:i("bc48")})},fd21:function(t,e,i){"use strict";function r(){return function(){throw new Error("Unimplemented abstract method.")}()}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return s}));var o=0;function a(t){return t.ol_uid||(t.ol_uid=String(++o))}var s="5.3.3"},fd40:function(t,e,i){"use strict";var r=i("1499"),n=i("fbf5");function o(){n.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,n),t.exports=o},fda5:function(t,e,i){"use strict";i("6d75"),i("be58"),t.exports=i("a06f").Promise["finally"]},ff02:function(t,e,i){var r=i("b8bd"),n=i("69ce"),o=i("6317"),a=Object.defineProperty;e.f=i("a32c")?Object.defineProperty:function(t,e,i){if(r(t),e=o(e,!0),r(i),n)try{return a(t,e,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},ff35:function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},ff89:function(t,e,i){"use strict";(function(e){t.exports=e.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,i("c8ba"))},fffd:function(t,e,i){"use strict";i.r(e),e["default"]={FRACTION:"fraction",PIXELS:"pixels"}}}]);
